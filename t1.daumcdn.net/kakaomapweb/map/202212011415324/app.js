var main=function(B){function lc(a,b,c,d,e,f,h,g,k,l,j,r,p,o,s,t,u,q,w,y,M,A,J,i,C,G,O,F,S,m,V,Ba,X,v,x,sd,$,ka,ua,T,z,Y,D,H,Jb,E,Ea,Ia,Ja){if(!(this instanceof arguments.callee))return new arguments.callee;Application=this;this.fixTitleBug();this.layerProfileController=v;this.layerProfileEditController=ua;this.authController=f;this.windowController=k;this.airMapTileController=Ba;this.cctvController=Y;this.w3wController=D;this.frameDecorator=b;this.mapMenuController=H;this.historyController=X;this.profileController=
x;x.loadInfo();k.onClickAdBanner.add(function(){});this.issueMapController=J;this.relatedAddressController=m;this.whatsHereController=V;this.shareController=$;this.logHistory=O;this.coachmarkController=T;this.mapControlView=z;this.utilLib=Jb;this.coachmarkController.regist();if(B.t_address)jQuery(".reportError .tit_addr, #info\\.location\\.approxAddr, .MapControlView .accessLocation").on("click",function(a){a.preventDefault();n.click("control","move_access_position");this.map.setCenter(new daum.maps.Coords(String.base92(B.t_mapx),
String.base92(B.t_mapy)));E.hide()}.bind(this));jQuery("#dimmedLayer").on("mousedown",function(a){a.stopPropagation()});var Fa=B.t_regionid||"I10230700";require("server").weatherDetail({lcode:Fa},function(a){var b=a.object("result.delegateRegionWeather");if(b){var a=jQuery("#info\\.location\\.weather"),c=a.find('[data-id="dust_state"]'),d=a.find('[data-id="micro_dust_state"]'),e=b.text("region.regionName2")+" "+b.text("region.regionName3"),f=b.text("shortTermForecast.weatherDescription"),g=b.text("shortTermForecast.temperature"),
h=b.number("shortTermForecast.temperatureComparedToYesterday").toFixed(0),j=b.number("airPollution.fineDust.now.code"),b=b.number("airPollution.ultraFineParticle.now.code"),k=" \uc88b\uc74c \ubcf4\ud1b5  \ub098\uc068 \ub9e4\uc6b0\ub098\uc068".split(" "),l=" density1 density2  density3 density4".split(" "),p="\uc5b4\uc81c\uc640 \uac19\uc544\uc694";0<h?p="\uc5b4\uc81c\ubcf4\ub2e4 "+h+"\u2103 \ub192\uc544\uc694":0>h&&(p="\uc5b4\uc81c\ubcf4\ub2e4 "+-1*h+"\u2103 \ub0ae\uc544\uc694");j=5<j?0:j;b=5<b?0:
b;a.find(".txt_air").text(f).end().find(".temper").text(Number(g).toFixed(0)+"\u02da").end().find(".txt_change").text(p);c.text(k[j]).addClass(l[j]);d.text(k[b]).addClass(l[b]);jQuery("#info\\.location\\.approxAddr").text(e);k[j]||c.parent().hide();k[b]||d.parent().hide();a.show()}});var gb=jQuery(".dimmed_snb");jQuery("#header .btn_menu").on("click",function(){n.click("snb","open");gb.addClass("snb-ACTIVE").find(".options").removeClass("option-OPEN");require("log/Tiara").log(Ea.TIARA.snb)});var Bb=
function(){n.click("snb","close");gb.removeClass("snb-ACTIVE")};gb.on("click",function(a){jQuery.contains(gb.get(0),a.target)||Bb()}).find(".btn_close").on("click",Bb);this.weatherWindowController=d;this.infoWindowManager=e;Fa=lc.fetchMapOption_(g);this.mainMapController=h;this.map=A;c.onMapResize.add(function(){A.relayout()});this.localInfoController=l;this.busLineController=j;this.flagSearchController=r;this.keywordSearchController=p;this.carRouteSearchController=y;this.transitRouteSearchController=
M;this.subwaySearchController=o;this.busSearchController=s;this.aoiManager=F;this.flagController=i;this.flagController.onChange.add(function(){this.flagSearchController.setActive(!0)},this);this.flagController.onAdd.add(function(){this.flagSearchController.setActive(!0)},this);this.flagController.setCollapseToggleEvent();this.localPlatformAdController_=G;this.roadviewController=t;p.onActive.add(function(){p.getActive()&&(r.setActive(!1),o.setActive(!1),w.setActive(!1),w.closeOtherPage(),s.setActive(!1),
j.setActive(!1),F.getController(F.KEY.FLAG).hide(),F.getController(F.KEY.SEARCH).show(),t.close(),t.removeLastMarker(),i.show(!1),sd.hide(),G.show())});r.onActive.add(function(a){r.getActive()&&(p.setActive(!1),o.setActive(!1),w.setActive(!1),w.closeOtherPage(),s.setActive(!1),j.setActive(!1),F.getController(F.KEY.SEARCH).hide(),F.getController(F.KEY.FLAG).show(),a||t.close(),e.close(),t.removeLastMarker(),i.show(!k.getCollapse()),G.hide())});s.onActive.add(function(){s.getActive()&&(p.setActive(!1),
r.setActive(!1),o.setActive(!1),w.setActive(!1),w.closeOtherPage(),j.setActive(!1),F.hideAll(),t.close(),t.removeLastMarker(),e.close(),i.show(!1),sd.hide(),G.hide(),setTimeout("document.body.className=document.body.className",0))});o.onActive.add(function(){o.getActive()&&(p.setActive(!1),r.setActive(!1),w.setActive(!1),w.closeOtherPage(),s.setActive(!1),j.setActive(!1),i.hide(),G.hide(),sd.hide())});w.onActive.add(function(){w.getActive()&&(p.setActive(!1),r.setActive(!1),s.setActive(!1),o.setActive(!1),
j.setActive(!1),F.hideAll(),t.close(),t.removeLastMarker(),e.close(),i.show(!1),G.hide(),sd.hide())});p.setActive(!0);this.homeInfoController=u;this.fiyFrameController=q;this.favoriteController=w;this.readRestParams_(g,Fa.center);this.prefixKeyword="";B.QUERY&&p.setKeyword(QUERY);setTimeout('document.body.className+=" FIXIE"',0);"ontouchstart"in document||jQuery("body").addClass("NOTOUCH")}function Eb(a,b){if(!a)return[];if("string"==typeof a)return a.split(RegExp());try{return Array.prototype.slice.call(a,
b||0)}catch(c){}for(var d=[],e=a.length,f=b||0;f<e;++f)d[f]=a[f];return d}function Fb(a){var b=Eb(arguments,1);return function(){return a.apply(this,b.concat(Eb(arguments)))}}function ga(a,b){var c=b.prototype;Object.keys(c).forEach(function(b){b in a||(a[b]=c[b])});b.apply(a,Eb(arguments,2))}function L(a){function b(b){return a.apply(this,b)}b.prototype=a.prototype;return function(){return new b(arguments)}}function dc(a){this.map_=a;this.onTimestamp=new m}function $c(a,b,c,d,e,f,h,g){function k(a){c.set("air",
!1);h.getState()&&h.turnOff();if(a){var b=a;"wea"==b&&(b="temp");require("log/Tiara").log(g.TIARA["weather_"+b]);r=a;"wea"==a?(h.setRegionCode(e.getCode()),h.click(),d.getLegend("air")&&d.setLegend("air",!1)):(a=$c.AIRTYPE.indexOf(a)+1||1,(j=$c.AIRTILES[a-1]+"/T"+l)&&c.set("air",!0),d.setAirCate(a),d.setairdate(),d.setLegend("air",!0))}else d.getLegend("air")&&d.setLegend("air",!1)}var l=1<B.devicePixelRatio&&"https:"!=B.location.protocol?",H":"";h.setLocalInfoCont(e);h.onCode.add(f.request,f);h.off.add(f.closeWindow,
f);var j="";daum.maps.MapTypeId.AIR||daum.maps.Tileset.add("AIR",new daum.maps.Tileset(256,256,function(a,b,c){var d=Date.now()/6E5|0;return require("url").TILE_AIR_INFO+"/mapserver/file/"+j+"/L"+c+"/"+b+"/"+a+".png?v="+d},[],!0));c.setId("air",daum.maps.MapTypeId.AIR);new daum.maps.Coords(685487,813958);var r="wea";this.setActive=function(a){a&&r?k(r):k("")};this.setAirType=function(a){k(a)};this.getAirType=function(){return r};this.setNoJump=function(){};this.getAirTileName=function(){return j}}
function Z(a,b,c,d,e){this.map_=a;this.roadviewController_=b;this.Aoi_=c;this.aoiManager_=d;this.miniTooltipManager_=e;this.isBounds_=!1;this.delayAfterLoad=hb(500,function(){this.doAfterLoad_&&(this.doAfterLoad_(),this.doAfterLoad_=null)}.bind(this));this.selectedItem_=null;this.initModel_();this.HIGHLIGHT_LINE_OPTION={strokeWeight:10,strokeColor:"#F267B2",strokeOpacity:1,highlight:!0};this.DIMMED_LINE_OPTION={strokeColor:"#F267B2",strokeWeight:10,strokeOpacity:0.5,highlight:!1};this.mousedownSearchResult=
null;this.onIdle=function(){this.redrawLines();this.setAllMarker()}.bind(this);this.onAoiMousedown=new m;this.onClear=new m;this.onFind=new m}function ee(a){function b(a){a=a.coords;k[k.length-1]=a;d();j.setPosition(a)}function c(b){g.$("info").addClass("HIDDEN");g.$("hider").on("click",function(){g.remove()});j=new daum.maps.Billboard({position:b,xAnchor:0,yAnchor:0,zIndex:4,content:g.get(0),map:a});l.push(j)}function d(){r.setPath(k);var a=r.getArea(),b=1E6<=a;b&&(a*=1.0E-6);g.$("area").text(e(a));
g.$("unit").html((b?"k":"")+"m<sup>2</sup>")}function e(a){var b,a=a.toFixed(2);b=Math.round(100*(a%1))/100;b=1E4>a&&b?b.toString().substr(1):"";return String.formatNumber(parseInt(a))+b}function f(b){var c=jQuery("<a class=AreaToolCloser href=# />");c.on("mousedown click",function(a){"click"==a.type&&o();a.stopPropagation()});l.push(new daum.maps.Billboard({position:b,xAnchor:0,zIndex:4,content:c.get(0),map:a}))}var h=this.onClose=new m,g=H("AreaToolDetail"),k=[],l=[],j=null,r=null,p=function(){k.pop();
if(2<k.length){d();var c=k[k.length-1];f(c);j.setPosition(c);jQuery(j.getContent()).on("mousedown",function(a){a.stopPropagation()}).addClass("freeze");g.$("help").addClass("HIDDEN")}else o();daum.maps.event.removeListener(a,"mousemove",b);a.setCursor(null)},o=function(){l.forEach(function(a){a.setMap(null)});l.length=0;a.setCursor(null);h.notify()};this.handleClick=function(e){0==k.length?(c(e),k.push(e,e),r=new daum.maps.Polygon({strokeWeight:3,strokeColor:"#1833e5",strokeOpacity:0.6,fillColor:"#1833e5",
fillOpacity:0.2,path:k,map:a}),l.push(r),daum.maps.event.addListener(a,"mousemove",b)):(2===k.length&&g.$("info").removeClass("HIDDEN"),k.push(e),d());var f=jQuery("<span class=AreaToolDot />");l.push(new daum.maps.Billboard({position:e,zIndex:1,content:f.get(0),map:a}));return!0};this.activate=function(){a.setCursor("url(//t1.daumcdn.net/kakaomapweb/resource/area.cur.ico), crosshair")};this.deactivate=function(){a.setCursor(null)};this.undo=function(){if(2<k.length){var a=k.pop();l.pop().setMap(null);
k[k.length-1]=a;d();j.setPosition(a)}};this.freeze=function(a){p(a)};this.close=function(){o()};this.isAlive=function(){return 0<l.length}}function Vb(a,b){this.id_=a;this.view_=b;b.onClick.add(this.click_,this);this.busLine_=null;this.overlays_=new va(Application.map)}function ib(a){ga(this,ec);this.view_=a;a.closeBtnClick.add(this.closeLayer,this);a.onViewport.add(function(){this.totalPath();this.onViewPort.notify()},this);a.refreshBtnClick.add(this.update_,this);a.onBusLineItemClick.add(this.busLineItemViewClick_,
this);this.onActive.add(this.changeActive_,this);this.onViewPort=new m}function da(a,b,c,d,e,f){ga(this,ec);this.onFlagClick=new m;var h=e.hcodeList;this.regionList.forEach(function(a){var b=h.filter(function(b){return b.id!=a.id&&b.id.substring(0,2)==a.id});0<b.length&&(a.subregion=b)});this._viewLayout=b;this.map_=a;this.buttonFactory_=c;this.onActive.add(this.changeActive_,this);this.regionName_=this.result_=null;this.regionInfo_={};this.typeInfo_={};this.qaTypeForBusStop_=this.qaTypeForBusNumber_=
null;this.guideSelected_=!1;this.dssBusObj=null;this.dssSearchInType="";this.itemTotalLength=0;this.createMap_();this.createElements_();this.panel_=i.$("info.bus.search");this.introView_=i.$("info.busIntro");jQuery("#info\\.route\\.searchBox\\.number\\.name").on("keyup",function(a){jQuery("#info\\.bus\\.searchBox\\.number\\.submit").toggleClass("active",!!a.currentTarget.value)}.bind(this));jQuery("#info\\.route\\.searchBox\\.stop\\.name").on("keyup",function(a){jQuery("#info\\.bus\\.searchBox\\.stop\\.submit").toggleClass("active",
!!a.currentTarget.value)}.bind(this));this.landmarkMarkers_=new va(a);a=this.busMessageView_=new Hd;a.onBusClick.add(function(a){var b=this.regionInfo_.id,c=this.typeInfo_.id;this.dssBusObj={pg:1,regionid:b,typeid:c,qatype:a.qaType,mkey:this.createMKey()};x.log("search_q_type",this.busNumber_,{typeid:"message",tab:"number"==this.mode_?"busname_realbus":"busstop_realbus",qatype:a.qaType});this.dssSearchInType="";"number"==this.mode_?(this.qaTypeForBusNumber_=a.qaType,ba.findAll(this.busNumber_,1,{regionId:b,
typeId:c,qaType:a.qaType},this.loadNumberData,this)):"stop"==this.mode_&&(this.qaTypeForBusStop_=a.qaType,R.findAllByName(this.busNumber_,1,{regionId:b,typeId:c,qaType:a.qaType},this.loadStopData_,this));this.paginationView_.setPage(1)},this);a.onBusSelect.add(function(a){x.log("search_q_type",this.busNumber_,{typeid:"region",tab:"number"==this.mode_?"busname_realbus":"busstop_realbus",qatype:a.qaType,sq:a.keyword});this.dssSearchInType="";this.guideSelected_=!0;"number"==this.mode_?(this.qaTypeForBusNumber_=
a.qaType,i.$("info.route.searchBox.number.name").setValue(a.keyword)):"stop"==this.mode_&&(this.qaTypeForBusStop_=a.qaType,i.$("info.route.searchBox.stop.name").setValue(a.keyword));this.submit_()},this);i.$("info.bus.guide").addChild(a.getPane());i.$("info.bus.searchBoxNumber").onSubmit.add(this.submit_,this);i.$("info.bus.searchBoxStop").onSubmit.add(this.submit_,this);i.$("info.bus.region.local").onClick.add(this.showBusLocalBox_,this);i.$("info.bus.region.subLocal").onClick.add(this.showBusSubLocalBox_,
this);fa.$("search.busLocal").onHide.add(function(){i.$("info.bus.region.local.button").removeClass("buslocal-ACTIVE")},this);fa.$("search.busLocal").onShow.add(function(){var a=jQuery("#search\\.busLocal").scrollTop();i.$("search.busLocal").scrollTo(a-1);i.$("search.busLocal").scrollTo(0)});"kyonggi kangwon chungbook chungnam jeonbuk jeonnam kyungbook kyungnam".split(" ").forEach(function(a){var b="search."+a+"Local";document.getElementById(b)&&(fa.$(b).onHide.add(function(){i.$("info.bus.region.subLocal.button").removeClass("busSublocal-ACTIVE")},
this),fa.$(b).onShow.add(function(){var c=jQuery("#search\\."+a+"Local").scrollTop();i.$(b).scrollTo(c-1);i.$(b).scrollTo(0)},this))},this);a=this.noBusView_=Lc.createBus();b=this.noBusNameView_=Lc.createBusName();i.$("info.noBus").addChild(a);i.$("info.noBus").addChild(b);i.$("info.bus.removeAll").onClick.add(function(){n.click("businfo","delete");Application.mainMapController.tool.clear()},this);a=this.busTab_=new Gb;a.add(i.$("search.busMethodtype.number"),i.$("info.bus.searchBox.number"));a.add(i.$("search.busMethodtype.stop"),
i.$("info.bus.searchBox.stop"));a.add(i.$("search.busMethodtype.region"),i.$("info.bus.region"));a.onChange.add(this.changeTab_,this);i.$("info.route.searchBox.number.name").setPlaceholder("\ubc84\uc2a4\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694");i.$("info.route.searchBox.number.name").onFocus.add(function(){i.$("info.route.searchBox.number.name").addClass("BUSSEARCH-ACTIVE")},this);jQuery("#info\\.bus\\.searchBoxNumber").blurout(function(){i.$("info.route.searchBox.number.name").removeClass("BUSSEARCH-ACTIVE");
this.preNumber_&&i.$("info.route.searchBox.number.name").setValue(this.preNumber_)}.bind(this));i.$("info.route.searchBox.stop.name").setPlaceholder("\ubc84\uc2a4\uc815\ub958\uc7a5\uc744 \uc785\ub825\ud558\uc138\uc694");i.$("info.route.searchBox.stop.name").onFocus.add(function(){i.$("info.route.searchBox.stop.name").addClass("BUSSEARCH-ACTIVE")},this);jQuery("#info\\.bus\\.searchBoxStop").blurout(function(){i.$("info.route.searchBox.stop.name").removeClass("BUSSEARCH-ACTIVE");this.preStop_&&i.$("info.route.searchBox.stop.name").setValue(this.preStop_)}.bind(this));
var g=this.busLocal=new Ob;g.onChange.add(this.busLocalChanged_,this);this.regionList.forEach(function(a){var b=i.$("search.busLocal."+a.code);b.addClass("INACTIVE");g.add(b,a.id,a.label)});this.selectBox={};for(var k in this.regionMap)if(this.regionMap[k].subregion){var l=this.selectBox[k]=new Ob;l.onChange.add(this.subLocalChanged_,this);this.regionMap[k].subregion.forEach(function(a){var b=i.$("search.busLocal."+a.id);b.addClass("INACTIVE");l.add(b,a.id,a.name)},this)}this.busSubLocal=new Ob;this.hcode=
"11";this.scode="0";a=this.paginationView_=new vb("info.bus.page");a.onPage.add(this.setPage,this);var j="11",r=B.t_address?decodeURIComponent(B.t_address):"";this.regionList.some(function(a){if(r&&0<=r.indexOf(a.name))return j=a.id,!0});k=require("url");b="BUSN-"+j;a="ITSA-"+j;b=new d({id:"info.route.searchBox.number.name",category:b,url:k.SUGGEST_PUBTRAN+(/\?/.test(k.SUGGEST_PUBTRAN)?"&":"?")+"cate="+b,onSubmit:this.submit_.bind(this),onSubmitHistory:function(a){a.trigger("click")},itemParser:da.onSuggestParseItem,
logKey:"bussuggest"});new Mc(f,f.TYPE_LIST.BUS_LINE,b);d=new d({id:"info.route.searchBox.stop.name",category:a,url:k.SUGGEST_PUBTRAN+(/\?/.test(k.SUGGEST_PUBTRAN)?"&":"?")+"cate="+a,onSubmit:this.submit_.bind(this),onSubmitHistory:function(a){a.trigger("click")},itemParser:da.onSuggestParseItem,logKey:"busstopsuggest"});new Mc(f,f.TYPE_LIST.BUS_STOP,d)}function ea(a,b,c,d,e,f,h,g,k,l,j,r){mvp.registerImageAsset("sprite_icons1","https://t1.daumcdn.net/mapjsapi/images/panorama/marker_type11_v12x.png");
mvp.registerImageAsset("sprite_icons2","https://t1.daumcdn.net/mapjsapi/images/panorama/marker_type11_v22x.png");this.runRoadview=!1;this.initTask=[];this.map_=a;this.escapeZoomLevel=3;this.profileView=r;this._windowController=f;this.fiyFrameController_=h;this.authController_=g;this.shareController=k;this.mapTileManager=l;this.miniZoomControl=j;this._viewLayout=b;this._frameDecorator=c;this._lastMarker=d;this._lastMarker.onClick.add(this.restore_,this);this.onCheckpoint=new m;this.onCloseRoadview=
new m;this.onWaypoint=new m;this.panel_=i.$("view.roadview");this.tooltipBoard=this.selectedBuildingBoard=this.selectedBuildingMarker=this.selectedBuildingInfo=this.roadviewMarkerPool=null;this.panoChangeTasks=[];this.lastViewType=null;this.lastRoadviewTileFlag=!1;this.mapView=jQuery("#view\\.map");this.runRender=!1;this.rafId=null;this.SW_RENDER_ALERT_KEY="SW_RENDER_ALERT";this.isShowSWRenderAlert=jQuery.cookie(this.SW_RENDER_ALERT_KEY);this.panoramaInitSuccess=!1;this.onESCClose=this.onESCClose.bind(this);
this.frame_=this.frame_.bind(this);this.client_={getNearestPanoId:this.getNearestPanoId.bind(this)};this.walker_=new fe(a);this.showStartLog_=!1;this.nodeClickLog=!0;this.walker_.onCoords.add(function(a){this.showStartLog_=!0;this.showNearby(a,ea.RADIUS[this.map_.getLevel()]||ea.RADIUS[0]);this.getActive()?n.click("roadview",["mini_map","viewer_line"]):n.click("roadview","viewer_line")},this);this.walker_.onPan.add(this.changePan_,this);this.successView_=this.isStoreView_=!1;this.onShow=new m;this.lastMarkerVisibleState_=
0;this.searchBarEl=jQuery("#header").closest(".IE6MIN");this.searchBarArea={w:393,h:52};this.isCollapse=!1;this._viewLayout.onRoadviewResize.add(function(a){if(this.getActive()){var b=!!this.routing_;this.searchBarEl.toggleClass("HIDDEN",jQuery("body").hasClass("collapse")&&b);a||this.viewer_().relayout()}},this);this._viewLayout.onMapResize.add(function(){if(this.getActive()){var a=this.xyToCoords(this.viewer_().getPosition());this.map_.setCenter(a);this.walker_.setPosition(a)}},this);this._viewLayout.onModeChange.add(function(a){this.viewer_().isEngineInit()&&
(a=a.mode,a===la.INACTIVE?this.mapTileManager.set("roadview",!1):a===la.ACTIVE&&this.mapTileManager.set("roadview",!0),a===la.VERTICAL_FULL?this.roadviewHeaderView.pane.addClass("map_expand"):a!==la.HIDE_IN_ROADVIEW&&(this.roadviewHeaderView.pane.removeClass("map_expand"),this.roadviewHeaderView.initWidth()))}.bind(this));this.dbClickActive_=!1;this.normalRoadview_=this.createRoadview_()}function Id(a){function b(){n.click("subway",["fail","crash"]);alert("\uc77c\uc2dc\uc801\uc73c\ub85c \uc9c0\ud558\ucca0 \ub178\uc120\ub3c4\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\ube0c\ub77c\uc6b0\uc800 \uc0c8\ub85c\uace0\uce68 \ud6c4 \uc7ac\uc2dc\uc791\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")}
function c(a){switch(a.id){case "print":n.click("route","go_subway_print");j();break;case "showFiy":n.click("route","go_subway_fiy");p();break;case "favorite":if(n.click("favorite",["subway_route","route_results"]),a=a.fav)Application.favoriteController.add(a,"subway_route_results");else if(a=o())a=v.createSubway(a.startStation,a.endStation,M,F),Application.favoriteController.add(a,"subway_route_results")}}function d(b){if(!S){S=new ad;S.onClick.add(c,this);zb.addChild(S);var d=setInterval(function(){B.Application&&
Application.favoriteController&&(Application.favoriteController.onChangeItem.add(function(){S.updateFav()}.bind(this)),clearInterval(d))}.bind(this),500)}if(b){b=o();if(!b)return;b=v.createSubway(b.startStation,b.endStation,M,F);S.updateFav(b);S.setVisible(!0)}else S.setVisible(!1);a.updateHeight()}function e(){return y?B.kakaosubway:null}function f(){try{if(e()&&e().zoomIn)return e().zoomIn()}catch(a){}}function h(){try{if(e()&&e().zoomOut)return e().zoomOut()}catch(a){}}function g(){try{e()&&e().clearSubwayLine&&
e().clearSubwayLine()}catch(a){}}function k(){try{w&&w.initSubwayCanvas&&w.initSubwayCanvas()}catch(a){}}function l(){try{if(e()&&e().isRouted)return e().isRouted(A,J)}catch(a){}return!1}function j(){jb("",670,610,{name:"print"});var a=document.subway_print_form;a.routeMapImageData.value=r({imageType:"image/jpeg",sizePercent:60,jpegQuality:0.75});a.enctype="multipart/form-data";a.method="post";a.action="./subway/subwayLinemapPrint";a.target="print";a.submit()}function r(a){try{if(e()&&e().createPrintImage)return e().createPrintImage(a)}catch(b){}}
function p(){Application.fiyFrameController.openCustomerRequest({type:"general",category:"D",channel:"ROUTE_LIST_SUBWAYSTATION"});n.click("subway","go_fiy")}function o(){return{startStation:{name:i,id:A,coords:G},endStation:{name:C,id:J,coords:O}}}var s=this.onLoad=new m,t=this.onSubwayName=new m;this.onRouteFirstLoad=new m;this.onClearSubway=new m;var u=this.onClearSubwayLine=new m,q=this.onResetQuickLineEvent=new m,w=B.kakaosubway,y=!1,M="",A=null,J=null,i="",C="",G=null,O=null,F=2,S=null,ja=jQuery("#view\\.subway\\.route");
ja.bind("DOMMouseScroll",function(a){0>a.originalEvent.detail?f():0<a.originalEvent.detail&&h()});var V=0;ja.bind("mousewheel",function(a){V+=a.originalEvent.wheelDelta;-150>V?(V=0,h()):150<V&&(V=0,f())});var Ba=jQuery("#subwayLegend\\.zoom");Ba.find(".zoomin").on("click",function(){f()});Ba.find(".zoomout").on("click",function(){h()});w.isInitReady&&w.isInitReady().status&&(w.onSubwayCanvasLoad(function(){y=!0;setTimeout(function(){g();k();s.notify()},10)}),w.onError(function(a){b();console.log(a)}),
w.onResetSubwayRouteEvent(function(){Application.subwaySearchController.reset()}),w.onClearSubwayLineEvent(function(){u.notify()}),w.onChangeSubwayFlag(function(a,b,c){t.notify({type:"start"==a?"origin":"dest",name:b,stationId:c,regionId:M})}),w.onSetZoom(function(a){0>a||2<a||Ba.removeClass().addClass("subwayLegendZoom zoom_"+a)}),w.onResetQuickLineEvent(function(){q.notify()}),w.showSubwayStationInfo(function(a,b){var c=require("url").DAUM_PLACE+a;"quickLine"===b?open(c+"#timeTableSection"):open(c);
n.click("subway","station_tooltip")}));this.alertToRefresh=function(){b()};this.onSubwayRouteEvent=function(a,b,c,d,e,f,g,h){onSubwayRouteEvent(a,b,c,d,e,f,g,h)};this.setToolbarVisible=function(a){d(a)};this.setStartCoords=function(a){G=a};this.getStartCoords=function(){return G};this.setEndCoords=function(a){O=a};this.getEndCoords=function(){return O};this.setStartStationName=function(a){i=a};this.getStartStationName=function(){return i};this.setEndStationName=function(a){C=a};this.getEndStationName=
function(){return C};this.setStartStationId=function(a){A=a};this.getStartStationId=function(){return A};this.setEndStationId=function(a){J=a};this.getEndStationId=function(){return J};this.getObject=function(){return e()};this.setObject=function(){};this.clearObject=function(){y&&(y=false);Ba.removeClass().addClass("subwayLegendZoom")};this.zoomIn=function(){f()};this.zoomOut=function(){h()};this.displaySubwayLine=function(a){try{e()&&e().displaySubwayLine&&e().displaySubwayLine(a)}catch(b){}};this.clearSubwayLine=
function(){g()};this.routeSubway=function(a,b,c){try{e()&&e().routeSubway&&e().routeSubway(a,b,c)}catch(d){}};this.loadArea=function(a){try{w&&w.loadArea&&w.loadArea(a||"seoul")}catch(b){}};this.initSubwayRoute=function(){k()};this.initSubway=function(){C=i=J=A="";O=G=null};this.isRouted=function(){return l};this.printPopup=function(){j()};this.createPrintImage=function(a){r(a)};this.printSubwayLineMap=function(){try{e()&&e().printSubwayLineMap&&e().printSubwayLineMap()}catch(a){}};this.showFiyInfo=
function(){p()};this.setRegionId=function(a){M=a};this.getRegionId=function(){return M};this.getCateByRegionId=function(a){return Id.cateId[a]||"11"};this.printInfo=function(){j()};this.drawRoute=function(a,b,c){try{e()&&e().drawRoute&&e().drawRoute(a,b,c)}catch(d){}};this.showQuickLine=function(a){try{a?e()&&e().showQuickLine&&e().showQuickLine():e()&&e().hideQuickLine&&e().hideQuickLine()}catch(b){}};this.isLoaded=function(){return y}}function ia(a,b,c,d,e,f,h,g,k,l){ga(this,ec);this.map_=a;this.infoWindowManager_=
d;this.miniTooltipManager_=e;this.windowController_=k;this.routePoiControlView=l;this.onSearchBtnClick=new m;this.onResult=new m;this.onActive.add(this.changeActive_,this);this.panels_=new Gb;this.themePoiControlView_=c;this.controlView_=this.themePoiControlView_.getRouteView();this.controlView_.onChange.add(this.handleControlView_,this);this.previewLines=[];this.previewLinesBounds=null;this.previewHoverLines=[];this.previewStartLines=[];this.previewEndLines=[];this.checkpoints_=new va(a);this.overlays_=
new va(a);this.trafficLines_=new va(a);this.wholeLine_=null;this.noticeLine_=new va(a);this.accidentMarkers_=new va(a);this.cctvMarkers_=new va(a);this.gasStationMarkers_=new va(a);this.restAreaMarkers_=new va(a);this.panel_=h;this.panel_.onItemHover.add(function(a){this.setPreviewHoverLine(a.index,a.hover)},this);this.panel_.onItemDetail.add(function(a){a.detail?(this.setPreviewLines(!1),this.setDetailRoute(a.index)):(this.clearDetailRoute(),this.setPreviewLines(!0),this.setPreviewHoverLine(a.index,
!0))},this);this.panel_.onAccClick.add(this.accidentInfoClickHandler_,this);this.panel_.onChange.add(this.handleMethod_,this);this.panel_.onCheckpoint.add(function(a){this.map_.setLevel(3);this.setRoadviewData(a,this.openFlagInfoWindowAndZoom_.bind(this))},this);this.panel_.onRoadview.add(function(a){this.setRoadviewData(a,function(a){this.roadviewController_.showWithRoute(this.route_.checkpoints[a].roadview,!1);n.click("roadview","by_route_car")}.bind(this))},this);this.panel_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},
this);this.panel_.onRoadviewVideo.add(function(){var a=fc(),b=Application.flagSearchController.getWaypoints();Ka.showRoadviewVideo(b,{routeMode:this.mode_,routeOption:this.option_,distance:this.roadviewRoute_.distance||0},function(b){var c=b.text("status");"C"==c?(c=b.text("id"),this.popup_&&this.popup_.close(),b="ActiveXObject"in B?"width=596,height=681":"width=600,height=685",b+=",left="+((B.screenLeft||100)+100)+"px,top="+(B.screen&&700<B.screen.height?(B.screenTop||0)+50:0)+"px",(c=B.open("http://rvdrive.map.daum.net/view/"+
c,"roadviewVideo",b))?this.popup_=c:alert("\ud31d\uc5c5\uc774 \ucc28\ub2e8\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.")):(b="\ub85c\ub4dc\ubdf0 \uae38\ucc3e\uae30 \uc0dd\uc131 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.\n( \uc624\ub958\uac00 \uacc4\uc18d \ubc1c\uc0dd \ud560 \uacbd\uc6b0, \ucd9c\ub3c4\ucc29\uc9c0\ub97c \ub2e4\uc2dc \uc124\uc815\ud574 \uc8fc\uc138\uc694. )","RRE"==c&&(b="\ub85c\ub4dc\ubdf0 \uae38\ucc3e\uae30 \uacb0\uacfc\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),
alert(b));a.dispose();setTimeout(function(){this.panel_.clickableRoadviewVideo()}.bind(this),500)},this);n.click("route","go_car_roadview_video");x.log("roadview_video_create",b.map(function(a){return a.name+"_"+a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0)}),{cnt:1,routeMode:this.mode_,routeOption:this.option_,distance:this.roadviewRoute_.distance||0})},this);i.$("info.flagsearch").addChild(this.panel_);this.panels_.add(null,this.panel_);this.panel_.hide();this.mapTypeControl_=g;this.routeset_=
this.route_=this.roadviewRoute_=void 0;this.mode_=W.REALTIME;this.option_=W.OPTION_NONE;this.layerLegend_=b;this.roadviewController_=f;this.roadviewController_.onCheckpoint.add(function(a){this.getActive()&&this.handleRoadviewCheckpoint_(a)},this);this.onAddStop=new m;this.beforeLevel=0;daum.maps.event.addListener(a,"zoom_changed",function(){if(this.getActive()){var a=this.map_.getLevel();7>=this.beforeLevel&&7>=a||$b.showMarkerByZoom({level:a,shapeChangeLevel:11,list:this.checkpoints_.markers_,map:this.map_,
pickCountFunc:function(a,b){return 7>=a?b:8<=a&&9>=a?Math.max(Math.min(Math.floor(80*b/100),80),2):10<=a&&11>=a?Math.max(Math.min(Math.floor(40*b/100),40),2):12<=a&&13>=a?Math.max(Math.min(Math.floor(15*b/100),15),2):0}});this.beforeLevel=a}}.bind(this));this.windowController_.onHeightChange.add(function(){if(this.getActive()&&this.panel_.goToTopBtn){var a=i.$("info.body").getElement();a.scrollHeight>a.clientHeight?this.panel_.goToTopBtn.show():this.panel_.goToTopBtn.hide()}},this)}function Na(a,
b){this.map_=a;this.miniTooltipManager_=b;this.cctvs_=null;this.infomarkers_=[];this.id=void 0}function ge(a){function b(a){j[j.length-1]=a.coords;a=j[j.length-1];s.setPath([j[j.length-2],a]);o.setPosition(a);f(s.getLength())}function c(b){var c=jQuery('<p class="DistanceToolBoard"></p>');c.text(b);b=new daum.maps.Billboard({position:j[j.length-1],xAnchor:0,yAnchor:0,zIndex:2,content:c.get(0),map:a});p.push(b)}function d(){var a=t.reduce(function(a,b){return a+b});c(String.formatDistance(a|0))}function e(b){l.$("hider").on("click",
function(){l.remove();p.forEach(function(a){a.setMap(null)})});o=new daum.maps.Billboard({position:b,xAnchor:0,yAnchor:0,zIndex:4,content:l.get(0),map:a});r.push(o)}function f(a){var b=0<t.length?t.reduce(function(a,b){return a+b}):0,b=b+a;1E3<a?(l.$("relativeDistance").text(h(a/1E3)),l.$("relativeDistanceUnit").text("km")):(l.$("relativeDistance").text(a|0),l.$("relativeDistanceUnit").text("m"));1E3<b?(l.$("totalDistance").text(h(b/1E3)),l.$("totalDistanceUnit").text("km")):(l.$("totalDistance").text(b|
0),l.$("totalDistanceUnit").text("m"));a=b/67|0;60<=a?(l.$("walkHour").html("<strong>"+(a/60|0)+"</strong>\uc2dc\uac04"),l.$("walkHour").removeClass("HIDDEN")):l.$("walkHour").addClass("HIDDEN");l.$("walkMin").text(a%60);a=b/266|0;60<=a?(l.$("bicycleHour").html("<strong>"+(a/60|0)+"</strong>\uc2dc\uac04"),l.$("bicycleHour").removeClass("HIDDEN")):l.$("bicycleHour").addClass("HIDDEN");l.$("bicycleMin").text(a%60)}function h(a){var b,a=a.toFixed(2);b=Math.round(100*(a%1))/100;b=1E4>a&&b?b.toString().substr(1):
"";return String.formatNumber(parseInt(a))+b}function g(b){var c=jQuery('<a href="#" class="DistanceToolCloser"/>');c.on("mousedown click",function(a){"click"==a.type&&q();a.stopPropagation()});b=new daum.maps.Billboard({position:b,xAnchor:0,zIndex:4,content:c.get(0),map:a});r.push(b)}var k=this.onClose=new m,l=H("DistanceToolDetail"),j=[],r=[],p=[],o=null,s=null,t=[],u=function(){j.pop();if(1<j.length){0<p.length&&p.pop().setMap(null);f(0);var c=j[j.length-1];g(c);o.setPosition(c);jQuery(o.getContent()).on("mousedown",
function(a){a.stopPropagation()}).addClass("freeze");s.setMap(null);s=null;l.$("relativeWrap").addClass("HIDDEN");l.$("help").addClass("HIDDEN")}else q();daum.maps.event.removeListener(a,"mousemove",b);a.setCursor(null)},q=function(){s&&s.setMap(null);r.forEach(function(a){a.setMap(null)});p.forEach(function(a){a.setMap(null)});r.length=0;a.setCursor(null);k.notify()};this.handleClick=function(c){if(0==j.length)e(c),j.push(c,c),s=new daum.maps.Polyline({strokeWeight:3,strokeColor:"#f10000",strokeOpacity:0.3,
map:a}),s.setPath([j[j.length-2],j[j.length-1]]),daum.maps.event.addListener(a,"mousemove",b);else{j.push(c);var f;3>j.length?f=void 0:(f=new daum.maps.Polyline({strokeWeight:3,strokeColor:"#f10000",strokeOpacity:0.6,map:a}),f.setPath([j[j.length-3],j[j.length-2]]),r.push(f));t.push(f.getLength());d(t)}f=jQuery('<span class="DistanceToolDot"></span>');c=new daum.maps.Billboard({position:c,zIndex:1,content:f.get(0),map:a});r.push(c);return!0};this.activate=function(){a.setCursor("url(//t1.daumcdn.net/kakaomapweb/resource/distance.cur.ico), crosshair")};
this.deactivate=function(){a.setCursor(null)};this.undo=function(){if(2<j.length){t.pop();p.pop().setMap(null);r.pop().setMap(null);r.pop().setMap(null);var a=j.pop(),b=j[j.length-2];j[j.length-1]=a;s.setPath([b,a]);o.setPosition(a);f(s.getLength())}};this.freeze=function(a){u(a)};this.close=function(){q()};this.isAlive=function(){return 0<r.length}}function he(a){function b(a){(new af(h,a)).onClick.add(function(a){d.notify(a)})}function c(){a.isLogin()?g.hide():(l.length=0,h.empty(),g.show())}if(!(this instanceof
he))return new arguments.callee;var d=this.onClick=new m,e=jQuery("#info\\.main\\.favorite"),f=H("FavoriteRegisterView").appendTo(e),h=f.$("list"),g=f.$("notify"),e=f.$("check"),k=f.$("more");e.on("click",function(a){a.preventDefault();Application.favoriteController.openLoginPopup()});k.on("click",function(b){b.preventDefault();n.click("left","favorite");a.isLogin()?(Application.favoriteController.setActive(!0),Application.favoriteController.setMyTab("favorites")):a.request()});var l=[];c();this.setData=
function(a){a=l=a.splice(0,5);h.empty();0<a.length?(f.show(),a.forEach(b)):b({})};this.remove=function(a){l.some(function(b,c){if(b.seq==a)return l.splice(c,1),jQuery(h).find("div").eq(c).detach(),!0});l.length||(h.empty(),b({}))};this.callbackLogin=function(){c()}}function Ya(a){this.originFlag_=new Aa;this.originFlag_.setType("origin");this.originFlag_.onChange.add(this.changeFlag_,this);this.destFlag_=new Aa;this.destFlag_.onChange.add(this.changeFlag_,this);this.destFlag_.setType("dest");this.viaFlag_=
new Aa;this.viaFlag_.onChange.add(this.addViaFlag_,this);this.viaFlag_.setType("via");this.onReset=new m;this.onAdd=new m;this.onChange=new m;this.onRemove=new m;this.ANIMATE_SPEED_=50;this.mapFlagList_=[];this.viaCnt_=0;this.viaVisible_=!0;this.originFlagPoint=new daum.maps.Point(30,48);this.destFlagPoint=new daum.maps.Point(30,this.viaVisible_?120:84);this.viaFlagPoint=new daum.maps.Point(30,84);var b=this.wrapPanel_=new i("div","FlagWrap"),c=this.panel_=new i("div","Flag Fold");this.addExpandEvent_();
this.panel_.toPane().mousedown(function(){this.expanded_&&(this.floating_=!0)}.bind(this));this.panel_.toPane().mouseup(function(){this.expanded_&&(this.floating_=!1)}.bind(this));b.addChild(c);jQuery("#view\\.map").append(b.getElement());this.expanded_=this.isFindWay_=!1;var b=new i("div","originWrap"),d=new Jd(b,"origin",this.originFlag_,a);d.onStart.add(function(){this.floating_=!0;this.panel_.removeClass("Fold");this.onReset.notify();this.originFlag_.setPoint(this.originFlagPoint);n.click("route",
"start_flag")}.bind(this));d.dragCancel.add(function(){this.floating_=!1},this);d.onEnd.add(function(){this.floating_=!1},this);c.addChild(b);b=new i("div","destWrap");d=new Jd(b,"dest",this.destFlag_,a);d.onStart.add(function(){this.floating_=!0;this.onReset.notify();this.destFlag_.setPoint(this.destFlagPoint);n.click("route","end_flag")}.bind(this));d.dragCancel.add(function(){this.floating_=!1},this);d.onEnd.add(function(){this.floating_=!1},this);c.addChild(b);this.viaCount_=1;b=new i("div","viaWrap");
d=new Jd(b,"via",this.viaFlag_,a);d.onStart.add(function(){this.onReset.notify();this.viaFlag_.setPoint(this.viaFlagPoint);n.click("route","via_flag")}.bind(this));d.dragCancel.add(function(){this.floating_=!1},this);d.onEnd.add(function(){this.floating_=!1},this);this.viaScout_=d;c.addChild(b);this.map_=a}function N(a,b,c,d,e,f,h,g,k,l,j,r,p,o){ga(this,ec);this.map_=a;this.aoiController_=r.getController(r.KEY.FLAG);this._viewLayout=b;this.infoWindowManager_=g;a=this.flagSearch_=rb.create();this.lastMethod_=
"car";this.onActive.add(this.changeActive_,this);this.flagController_=k;this.flagController_.setFlagSearch(a);this.flagController_.onChange.add(this.changeFlag_,this);this.flagController_.onAdd.add(this.addViaFlag_,this);this.flagController_.onRemove.add(this.removeFlag_,this);this.waypointSearchBoxController_=new p;this.waypointSearchBoxController_.setFlagSearch(a);this.waypointSearchBoxController_.onAdd.add(this.addWaypointViaBox_,this);this.waypointSearchBoxController_.onRemove.add(this.removeWaypointBox_,
this);this.waypointSearchBoxController_.onChange.add(this.changeWaypointBox_,this);this.waypointSearchBoxController_.onSearch.add(this.searchWaypointBox_,this);this.waypointSearchBoxController_.onClear.add(this.reset,this);this.waypointSearchBoxController_.onMethodFocus.add(function(){i.$(this.lastMethod_+"tab").focusAndSelect()},this);this.flagSearchResultController=d;this.flagSearchResultController.onCoords.add(this.setCoords_,this);this.flagSearchResultController.onLoad.add(this.loadFlagResult_,
this);this.flagSearchResultController.onNoResult.add(function(){var a=this.flagSearch_.activeIndex;0==a||a==this.flagSearch_.getLastIndex()?this.flagSearch_.setWaypoint(a,null):this.flagSearch_.removeWaypoint(a);this.flagController_.setFlagSearch(this.flagSearch_)},this);this.carRouteSearchController=c;this.carRouteSearchController.onSearchBtnClick.add(function(a){"transit"==a&&(this.transitRouteSearchController.panel_.below_="below");this.clickMethod_(a)},this);this.carRouteSearchController.onResult.add(this.loadRoute_,
this);this.carRouteSearchController.onAddStop.add(this.addDragViaStop_,this);this.transitRouteSearchController=e;this.transitRouteSearchController.onResult.add(this.loadRoute_,this);this.transitRouteSearchController.onActive.add(function(){this.flagController_.setViaVisible(!this.transitRouteSearchController.getActive());this.waypointSearchBoxController_.setViaVisible(!this.transitRouteSearchController.getActive())},this);this.transitRouteSearchController.onSearchBtnClick.add(this.clickMethod_,this);
this.walkRouteSearchController=f;this.walkRouteSearchController.onSearchBtnClick.add(function(a){"transit"==a&&(this.transitRouteSearchController.panel_.below_="below");this.clickMethod_(a)},this);this.walkRouteSearchController.onAddStop.add(this.addDragViaStop_,this);this.walkRouteSearchController.onResult.add(this.loadRoute_,this);this.bikeRouteSearchController=h;this.bikeRouteSearchController.onSearchBtnClick.add(function(a){"transit"==a&&(this.transitRouteSearchController.panel_.below_="below");
this.clickMethod_(a)},this);this.bikeRouteSearchController.onAddStop.add(this.addDragViaStop_,this);this.bikeRouteSearchController.onResult.add(this.loadRoute_,this);this.hashMap={car:this.carRouteSearchController,transit:this.transitRouteSearchController,walk:this.walkRouteSearchController,bike:this.bikeRouteSearchController};(this.methodView_=new bf(i.$("info.flagsearch.method"))).onChange.add(function(a){a?(this.transitRouteSearchController.panel_.below_="main",this.handleRoute_()):this.showValidCondition_()},
this);this.keywordSearchController=l;this.keywordSearchController.onFlagClick.add(this.flagClickHandler.bind(this));this.busSearchController=o;this.busSearchController.onFlagClick.add(this.flagClickHandler.bind(this));this.roadviewController=j;j.onWaypoint.add(function(a){!0!=this.active_&&(this.withRoadview_=this.active_=!0,this.onActive.notify(!0));switch(a.type){case "origin":this.setOrigin(a.coords,a.name);break;case "via":this.setVia(a.coords,a.name);break;case "dest":this.setDestination(a.coords,
a.name)}},this);this.home_=i.$("info.route.home");this.onChangeFlag=new m;this.onLoadedRoute=new m}function na(a,b,c,d,e,f){this.model_=new z;this.model_.setSearchBusStop(!0);this.model_.noExactSearch();this.model_.onChange.add(this.load_,this);this.addressListView_=new wb("info.flagsearch.address",wc);this.addressListView_.onAction.add(this.clickAddress_,this);this.addressListView_.onMore.add(function(){this.findAddresses();x.logPathSearchIn("address_more")},this);this.placeListView_=new wb("info.flagsearch.place",
ta);this.placeListView_.onAction.add(this.clickPlace_,this);this.placeListView_.onMore.add(function(){this.findPlaces();x.logPathSearchIn("place_more")},this);this.busStopListView_=new wb("info.flagsearch.busstop",mc);this.busStopListView_.onAction.add(this.clickBusStop_,this);this.busStopListView_.onMore.add(function(){this.findBusStops();x.logPathSearchIn("busstop_more")},this);this.paginationView_=new vb("info.flagsearch.page");this.paginationView_.onPage.add(function(a){this.setPage(a);x.logPathSearchIn(this.model_.isPlaceMode()?
"place_paging":this.model_.isAddressMode()?"address_paging":this.model_.isBusStopMode()?"busstop_paging":"")},this);this.aoiController_=e.getController(e.KEY.FLAG);this.aoiController_.onIdle=function(){this.redrawLines()}.bind(this.aoiController_);this.aoiController_.disablePolylineEvent();this.spellcheckView_=new bd("info.flagsearch.spellcheck");this.spellcheckView_.onClick.add(function(a){this.setTransMapTypeLog(this.model_.trans_map_type);this.setKeyword(a)},this);e=this.group_=new Mb;e.onChange.add(this.setOption_,
this);e.add(i.$("info.flagsearch.filter.all"));e.add(i.$("info.flagsearch.filter.place"));e.add(i.$("info.flagsearch.filter.address"));e.add(i.$("info.flagsearch.filter.busstop"));this.placeMarkers_=new va(a);this.placeMarkerIndex_=[];this.gasInfoWindows_=new va(a);e=this.messageView=new ie;e.onClick.add(function(a){x.log("search_q_type",this.model_.getKeyword(),{typeid:"message",tab:this.model_.isPlaceMode()?"place_path":"all_path",cidx:this.model_.targetCidx_});a.snSelected?this.findSnSelected(a.keyword):
this.findLiterally()},this);e.onSelect.add(function(a){x.log("search_q_type",this.model_.getKeyword(),{typeid:"region",tab:this.model_.isPlaceMode()?"place_path":"all_path",sq:a.keyword});this.clickAddrSuggest_(a.keyword)},this);e=this.busMessageView=new Hd;e.onBusClick.add(function(a){var b=this.model_;x.log("search_q_type",b.getKeyword(),{typeid:"message",tab:"busstop_path",qatype:a.qaType});b.setRepeatFlag(!0);b.setQaType(a.qaType);this.setPage(1)},this);e.onBusSelect.add(function(a){var b=this.model_;
x.log("search_q_type",b.getKeyword(),{typeid:"region",tab:"busstop_path",qatype:a.qaType,sq:a.keyword});b.setRepeatFlag(!0);b.setQaType(a.qaType);b.setKeyword(a.keyword,!1,z.BUSSTOP)},this);this.map_=a;this.miniTooltipManager_=b;this.infoWindowManager_=c;this.roadviewController_=d;this.activeItem_=null;this.onCoords=new m;this.onLoad=new m;this.onNoResult=new m;this.dupMarker_=null;jQuery("#info\\.flagsearch\\.correction\\.goorig").on("click",function(){this.setTransMapTypeLog(this.model_.trans_map_type);
this.model_&&this.model_.setCorrection(!1)}.bind(this));this.singleViewMode_=!1;this.singleViewType_=null;this.infoRoute=jQuery("#info\\.route\\.home");this.howTo=jQuery("#info\\.route\\.intro");this.histroyRouteView=new je(f,this.infoRoute,!1,function(a){this.infoRoute.toggleClass("routedesc",!a);var b=i.$("info.flagsearch").getVisible();a||b?this.howTo.hide():this.howTo.show()}.bind(this))}function Sa(a,b){this.flashSupportView=b;this.dbClickActive_=!1;this.onCheckpoint=new m;this.onCloseRoadview=
new m;this.onWaypoint=new m;this.onShow=new m;this.walker_=new fe(a);this.walker_.onCoords.add(function(a){this.showNearby(a,0)},this)}function ke(){this.onLoad=new m;this.onSubwayName=new m;this.onRouteFirstLoad=new m;this.onClearSubway=new m;this.onClearSubwayLine=new m;this.onResetQuickLineEvent=new m;this.alertToRefresh=function(){};this.setToolbarVisible=function(){};this.setStartCoords=function(){};this.setEndCoords=function(){};this.setStartStationName=function(){};this.getStartStationName=
function(){return""};this.setEndStationName=function(){};this.getEndStationName=function(){return""};this.setStartStationId=function(){};this.getStartStationId=function(){return""};this.setEndStationId=function(){};this.getEndStationId=function(){return""};this.getObject=function(){return null};this.setObject=function(){};this.clearObject=function(){};this.displaySubwayLine=function(){};this.clearSubwayLine=function(){};this.routeSubway=function(){};this.loadArea=function(){};this.initSubwayRoute=
function(){};this.initSubway=function(){};this.isRouted=function(){return!1};this.printPopup=function(){};this.createPrintImage=function(){};this.printSubwayLineMap=function(){};this.showFiyInfo=function(){};this.setRegionId=function(){};this.getRegionId=function(){return""};this.getCateByRegionId=function(){return"11"};this.printInfo=function(){};this.drawRoute=function(){};this.showQuickLine=function(){};this.isLoaded=function(){return!0}}function td(a,b,c,d){this.map_=a;this.options=b;this.layerProfileController=
d;jQuery("#daum_").click(function(){n.click("navi","logo")});jQuery("#local").click(function(){n.click("navi","title")});this.noticeRolling_();this.loadStory_();jQuery("#info\\.location\\.reportError").click(function(a){a.preventDefault();jb(a.target.href,500,225,{noscroll:!0});n.click("left","ipdetect")});var e=function(a){var b=a.pos||"snb";(a=a.log)&&n.click(b,a.split("|"))},a=function(a){a.preventDefault();a=jQuery(a.currentTarget).data();a.log="newplace";Application&&a.channel&&(Application.fiyFrameController.open({type:"newPlace",
channel:a.channel,rawInfo:{query:""}}),e(a))};jQuery("body").on("click",".Footer .xa",function(){n.click("footer","cs")}).on("click",".Footer .xc, .home .xc",a);jQuery(".snb_map").on("click",".list_option a",function(a){a.stopPropagation()}).on("click","a:not(.xb, .xc)",function(a){e(jQuery(a.currentTarget).data())}).on("click",".xc",a).on("click",".xd",function(a){a.preventDefault();confirm("\uce74\uce74\uc624\ub9f5\uc744 \ud0c8\ud1f4\ud558\uba74 \ubaa8\ub4e0 \uc815\ubcf4\uac00 \uc0ad\uc81c\ub429\ub2c8\ub2e4. \ud0c8\ud1f4 \ud6c4 \uc0ad\uc81c\ub41c \uc815\ubcf4\ub294 \ub2e4\uc2dc \ubcf5\uad6c\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ud0c8\ud1f4\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&
require("server").leave({},function(a){"SUCCESS"===a.text("status.code")?(alert("\uce74\uce74\uc624\ub9f5\uc5d0\uc11c \ud0c8\ud1f4\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uadf8\ub3d9\uc548 \uce74\uce74\uc624\ub9f5\uc744 \uc774\uc6a9\ud574\uc8fc\uc154\uc11c \uac10\uc0ac\ud569\ub2c8\ub2e4."),B.location.href=require("url").MAP_DAUM_NET):alert("\uc2e4\ud328: "+a.text("status.code"))})}).on("click",".options",function(a){n.click("snb","setting");jQuery(a.currentTarget).toggleClass("option-OPEN")});this.updateLoginProfile(b);
c.onChange.add(function(a){var b=jQuery("#btnProfile img");"A"===a.text("profileStatus")||"T"===a.text("profileStatus")?(b.attr("src","//t1.daumcdn.net/localimg/localimages/07/2018/pc/title/report_profile.png"),b.show()):a.has("thumbnailImage")?(b.attr({src:require("url").TENTH_THUMB+"C54x54/?fname="+a.text("thumbnailImage"),onerror:'this.style.display="none"'}),b.show()):b.hide();jQuery("#migrationMenus").toggle(!a.bool("migrationFlag"))},this)}function nc(a,b,c){ga(this,ec);this.map_=a;this.model_=
new z;this.model_.onIssue.add(this.loadIssuedMap_,this);this.infowindowManager_=c;this.onActive.add(this.changeActive_,this);(this.issuePlaceListView_=new wb("info.issue.place",Nc)).onAction.add(this.clickPlace_,this);this.placeMarkers_=[];this.onActive.add(this.changeActive_,this)}function I(a,b,c,d,e,f,h,g,k,l,j,r,p,o,s,t,u,q,w,y,M,A,J,Q,C,G,O,F,S){ga(this,ec);this.themeMapSearchController_=w;this.map_=b;this._viewLayout=c;this.windowController_=e;this.infoWindowManager_=f;this.mainMapController=
h;this.roadviewController_=k;this.w3wController_=O;this.historyController_=C;this.aoiController_=s.getController(s.KEY.SEARCH);this.aoiController_.onAoiMousedown.add(this.onAoiMousedown_,this);this.busLineController_=l;this.miniTooltipManager_=g;this.relatedKeywordController_=t;this.relatedKeywordController_.onSubClick.add(this.findSubKeyword_,this);this.nativeAdController=S;this.localInfoController_=p;this.bannerController_=r;this.relatedAddressController_=u;this.relatedAddressController_.onItemClick.add(this.onSubAddressItemClick_.bind(this));
this.areaSearchController_=y;this.whatsHereController_=M;this.dataForShare=this.highlightMode_=this.highlightId_=this.selectedTab=null;this.themeMapController_=q;c=h.getThemePoiControlView();q.setThememapPlaces(a.thememapPlaces);c.onPoiActive.add(this.hideBusLine_,this);this.frontViews_=jQuery("#info\\.location, #info\\.notice, #info\\.ads");this.searchBtn=i.$("search.keyword.submit");a=new xc;a.onOption.add(this.setOption_,this);a.onClear.add(function(){Application.mainMapController.tool.clear()},
this);this.infoHeaderView_=a;this.onActive.add(this.changeActive_,this);this.oneTimeCoords=null;this.model_=new z;this.model_.onChange.add(function(){i.$("info.searchHeader").hide();this.load_();this.dataForShare={};this.dataForShare.address=this.model_.addresses||[];this.dataForShare.bus=this.model_.buses||[];this.dataForShare.busStop=this.model_.busStops||[];this.dataForShare.place=this.model_.places||[];var a=i.$("info.search")._pane,b=a.find("> .section:not(.HIDDEN)");0<b.length&&(a.find("> .section").removeClass("lst"),
b.filter(":last").addClass("lst"));i.$("info.searchHeader").setClass("emptyList",0===b.length);this.toggleSearchInputBg(!1)},this);this.activeItem_=null;this.addressMarker_=D.createAddress(new daum.maps.Coords(0,0));this.relatedAddressMarker_=D.createAddress(new daum.maps.Coords(0,0));daum.maps.event.addListener(this.addressMarker_,"click",function(){var a=this.areaSearchController_.getAreaSearch(this.addressMarker_.id);this.deselectMarkers_();this.clickAddressMarker_&&this.clickAddressMarker_(!1);
this.relatedAddressMarker_.setMap(null);this.aoiController_.clickMarker(this.addressMarker_.id||-1);a&&(this.aoiController_.clear(),this.aoiController_.removeMapEvent(),this.areaSearchController_.focus(this.addressMarker_.id,!0));this.clickAddressMarker_&&this.addressMarker_.item&&this.addressMarker_.item.sendDssLog("marker_address")}.bind(this));daum.maps.event.addListener(this.addressMarker_,"mouseover",function(){this.areaSearchController_.focus(this.addressMarker_.id,!0);this.aoiController_.highlight(this.addressMarker_.id||
-1)}.bind(this));daum.maps.event.addListener(this.addressMarker_,"mouseout",function(){this.aoiController_.redrawLines()}.bind(this));daum.maps.event.addListener(this.relatedAddressMarker_,"click",function(){this.onSubAddressMarkerClick_()}.bind(this));daum.maps.event.addListener(this.relatedAddressMarker_,"mouseover",function(){this.aoiController_.dimAll()}.bind(this));daum.maps.event.addListener(this.relatedAddressMarker_,"mouseout",function(){this.aoiController_.redrawLines()}.bind(this));this.placeMarkers_=
new va(b);this.placeMarkerIndex_=[];this.busStopMarkers_=new va(b);this.landmarkMarkers_=new va(b);a=this.messageView=new ie;a.onClick.add(function(a){x.log("search_q_type",this.model_.getKeyword(),{typeid:"message",tab:this.model_.isPlaceMode()?"place":"all",cidx:this.model_.targetCidx_});a.snSelected?this.findSnSelected(a.keyword):this.findLiterally()},this);a.onSelect.add(function(a){x.log("search_q_type",this.model_.getKeyword(),{typeid:"region",tab:this.model_.isPlaceMode()?"place":"all",sq:a.keyword});
this.clickAddrSuggest_(a.keyword)},this);a=this.busMessageView=new Hd;a.onBusClick.add(function(a){var b=this.model_;x.log("search_q_type",b.getKeyword(),{typeid:"message",tab:b.isBusesMODE()?"busname":"busstop",qatype:a.qaType});b.setRepeatFlag(!0);b.setQaType(a.qaType);this.setPage(1)},this);a.onBusSelect.add(function(a){var b=this.model_;x.log("search_q_type",b.getKeyword(),{typeid:"region",tab:b.isBusesMODE()?"busname":"busstop",qatype:a.qaType,sq:a.keyword});b.setRepeatFlag(!0);b.setQaType(a.qaType);
this.setKeyword(a.keyword,b.getMode())},this);jQuery("#info\\.search\\.address\\.list").on("mouseleave",this.redrawAoiIfActive_.bind(this));jQuery("#info\\.search\\.place\\.list").on("mouseleave",this.redrawAoiIfActive_.bind(this));jQuery("#info\\.search\\.busstops\\.list").on("mouseleave",this.redrawAoiIfActive_.bind(this));jQuery("#info\\.search\\.review\\.list").on("mouseleave",this.redrawAoiIfActive_.bind(this));a=this.busesListView_=new wb("info.search.buses",le,j);a.onMore.add(function(){this.findBuses();
x.logSearchIn("bus_more")},this);a=this.busstopsListView_=new wb("info.search.busstops",me,j);a.onAction.add(this.clickBusStops_,this);a.onMore.add(function(){this.findBusStops();x.logSearchIn("busstop_more")},this);a=this.addressListView_=new wb("info.search.address",ne,j);a.onAction.add(this.clickAddress_,this);a.onMore.add(function(){this.findAddresses();x.logSearchIn("address_more")},this);a=this.placeListView_=new wb("info.search.place",Kd,j);a.onAction.add(this.clickPlace_,this);a.onMore.add(function(){this.findPlaces();
x.logSearchIn("place_more")},this);this.spellcheckView_=new bd("info.searchHeader.spellcheck");this.spellcheckView_.onClick.add(function(a){this.setTransMapTypeLog(this.model_.trans_map_type);this.setKeyword(a)},this);i.$("info.noPlace.register.btn").onClick.add(function(){J.openNewPlaceByQuery("SEARCH_NORESULT",this.model_.getKeyword());n.click("mapsearch","noresult_newplace")},this);i.$("info.noPlaceInBounds.register").onClick.add(function(){J.openNewPlaceByQuery("SEARCH_NORESULT",this.model_.getKeyword());
n.click("mapsearch","noresult_newplace")},this);i.$("info.noFlagPlace.register.btn").onClick.add(function(){J.openNewPlaceByQuery("ROUTE_NORESULT",this.model_.getKeyword());n.click("mapsearch","noresult_newplace")},this);i.$("info.addNewPlace.btn").onClick.add(function(){J.openNewPlaceByQuery("SEARCH_LIST_BOT",this.model_.getKeyword());n.click("mapsearch","newplace")},this);i.$("info.flagsearch.addNewPlace.btn").onClick.add(function(){J.openNewPlaceByQuery("ROUTE_LIST_BOT",this.model_.getKeyword());
n.click("mapsearch","newplace")},this);a=this.paginationView_=new vb("info.search.page");this.PAGE_SIZE=15;this.isPageLoad=!1;a.onPage.add(function(a){this.isPageLoad||(this.isPageLoad=!0,n.click("mapsearch","page",{param1:this.model_.getKeyword()}),this.model_.setRepeatFlag(!0),this.setPage(a),x.logSearchIn(this.model_.isPlaceMode()?"place_paging":this.model_.isAddressMode()?"address_paging":this.model_.isBusesMODE()?"bus_paging":this.model_.isBusstopsMODE()?"busstop_paging":""))},this);this.searchBtn.onClick.add(this.submit_,
this);this.queryPanel_=jQuery("#search\\.keyword\\.query");this.queryBtn_=jQuery("#search\\.keyword\\.submit");this.toggleSearchInputBg=function(a){var b=jQuery("#search\\.keyword .box_searchbar"),c=this.searchInput=b.find(">input");b.toggleClass("search_on",!a);c.toggleClass("bg_on",a&&!c.val())};this.queryPanel_.on("focus",function(){fa.closeAll();this.toggleSearchInputBg(!1)}.bind(this)).on("blur",function(){this.toggleSearchInputBg(!0)}.bind(this)).on("keyup",function(a){this.searchBtn.setClass("active",
a.currentTarget.value)}.bind(this)).focus();this.suggestInstance_=new Q({id:"search.keyword.query",url:o.SUGGEST,onSubmit:this.submit_.bind(this),onSubmitHistory:function(a){a.trigger("click")},onSubmitFavorite:function(a){console.log("submitFavorite : ",a)},itemParser:function(a){var a=F.getSuggestItem(a),b=a.value;"busstop"==a.type?(b=b+"("+a.region+")",html=String.format('%s <span style="color:#ddd">|</span> <span style="color:#aaa">%s</span>',b,a.name)):html=String.format("%h",b);return[html,
b]},logKey:"searchsuggest"});(new Mc(C,C.SEARCH_TYPE,this.suggestInstance_)).onItemClick.add(function(){n.click("left_info",[jQuery("body").hasClass("collapse")?"close":"open","history_item"])});this.boundsButton_=i.$("search.keyword.bounds");var ja=jQuery("#search\\.keyword\\.currentmap"),j=this.boundscheck=jQuery("#boundscheck");j.attr("checked",!1);j.on("focusin",function(){ja.addClass("ico_focused")});j.on("blur",function(){ja.removeClass("ico_focused")});j.on("change",function(){this.toggleBounds_()}.bind(this));
jQuery(document).on("keydown",function(a){if(!a.altKey&&(!a.ctrlKey&&!(a.metaKey||"INPUT"==a.target.tagName))&&!k.getActive()){var b=a.keyCode||a.which;if(47<b&&58>b||64<b&&91>b||95<b&&106>b)this.queryPanel_.val(""),this.queryPanel_.focus();J.isToolActivate()&&(27==b?(a.preventDefault(),J.handleRightclick(a)):8==b&&(a.preventDefault(),J.handleUndoKeydown()))}}.bind(this));a=this.placeSortOptions_=new cd("info.search.place.sort");a.onOption.add(this.changePlaceSortOption_,this);daum.maps.event.addListener(b,
"idle",hb(500,this.refresh_.bind(this)).trigger);this.issueMapController=d;this.onFlagClick=new m;this.onSearchLoad=new m;a=this.infoHeaderView_;a.showOptions(["\uc804\uccb4","\uc7a5\uc18c","\uc8fc\uc18c","\ubc84\uc2a4","\uc815\ub958\uc7a5"]);a.hide();jQuery("#info\\.search\\.correction\\.goorig").on("click",function(){this.setTransMapTypeLog(this.model_.trans_map_type);this.model_&&this.model_.setCorrection(!1)}.bind(this));this.reviewTabMode_=!1;this.themeMapSearchController_.onClick.add(function(){this.hide()},
this);this.itemIdMarker=null;this.singleViewMode_=!1;this.singleViewType_=null;this.postCodeMessage=i.$("info.searchHeader.postCodeMessage");this.postCodeMessageKeyword="";this.postCodeMessage.toPane().find(".link_search").on("click",function(){var a=require("url").POSTCODE_MAP_DAUM_NET+"/?origin=http%3A%2F%2Fmap.daum.net&indaum=on&intsh=on";this.postCodeMessageKeyword&&(a+="&region_name="+encodeURIComponent(this.postCodeMessageKeyword));jb(a,550,600,{name:"postcode",resizable:!0})}.bind(this));this.drawPolygon=
!(G.q&&(G.itemId||G.busStopId))}function dd(a){this.layerProfileView_=a;this.onClose=this.layerProfileView_.onClose}function ud(a){this.layerProfileEditView_=a}function Pb(a){this.CHILD_HEIGHT=34;this.container_=a;this.listArr_=[];this.onChange=new m;this.mousemoveHandler_=this.mousemoveHandler.bind(this);a.toPane().mousedown(this.mousedownHandler.bind(this))}function aa(a,b,c,d,e,f,h,g,k,l,j,r,p,o,s,t,u,q,w,y){this.frameDecorator_=l;this.args=w;this.map_=a;b=this.panel=jQuery("#view\\.map");this.roadviewLine_=
c;this.infoWindowManager_=u;this.aoiController_=t.getController(t.KEY.SEARCH);c=this.tool=d;c.onComplete.add(function(){this.mapControlView_.deactivateAll()},this);c.onClickTool.add(function(){g.setRoadview(!1)},this);this.indoorMapController_=j;this.themePoiControlView=r;this.themePoiMarkerController=p;this.poiTileController=o;this.keywordTileParams=null;b.append(y.getElement());b.append(r.getElement());r.onPoiActive.add(function(a){u.close();this.themePoiMarkerController.setTheme(a);this.poiTileController.setThemeTile({themeId:a.id,
dimg:a.dimg});this.setTileExtenstion("theme")},this);r.onPoiClear.add(function(){u.close();this.themePoiMarkerController.clearTheme();this.setActiveKeywordTile()},this);p.onShow.add(function(){});this.poiController=f;this.clickHandlers_=[c,o,this.roadviewLine_,f,this.indoorMapController_,this.aoiController_];this.rightclickHandlers_=[c,h];this.mapTypeControl_=g;g.onRoadmap.add(function(a){this.closeHistoryLegend_();this.mapControlView_.setZoomControlFor(a)},this);g.onSkyview.add(function(a){this.handleHistory_(this.skyviewHistoryIndex_);
this.mapControlView_.setZoomControlFor(a)},this);g.onRoadview.add(function(){var a=g.isRoadviewActive();a&&(d.newPlaceDeactive(),d.handleRightclick());this.roadviewLine_.setActive(a);this.mapControlView_.setRoadviewActive(a)},this);g.onTraffic.add(function(){Application.carRouteSearchController.setTraffic(!1)},this);g.onHistory.add(this.handleHistory_,this);this.mapControlView_=k;k.onRoadview.add(function(a){g.setRoadview(a)},this);k.onTraffic.add(function(a){g.setTraffic(a)},this);k.onAccident.add(function(a){g.setAccident(a)},
this);k.onCctv.add(function(a){g.setCctv(a)},this);k.onZoomTo.add(function(a){this.map_.setLevel(a,{animate:!0})},this);k.onTool.add(this.toolHandler_,this);k.onExtension.add(function(a){o.setVisible(a)},this);b.append(k.getPane());daum.maps.event.addListener(a,"click",this.clickMap_.bind(this));daum.maps.event.addListener(a,"dblclick",this.dblclickMap_.bind(this));daum.maps.event.addListener(a,"rightclick",this.rightclickMap_.bind(this));[[2,"2"],[20,""]].forEach(function(b){var c=new yc(1E3*b[0],
function(){a.isRoadmap()?n.click("select"+b[1],"2d"):a.getMapTypeId()==daum.maps.MapTypeId.HYBRID&&n.click("select"+b[1],"skyview");c.stop()},!1);c.start()});f=a.getCenter();a.relayout();a.setCenter(f);this.skyviewHistoryIndex_=void 0}function Oa(a,b,c,d,e){this.map_=a;this.windowController_=b;this.whatsHereController_=c;this.w3wController_=d;this.roadviewController_=e;a=H("ViewContext");this.panel_=new fa(a.get(0));this.panelParent_=this.pointMarker_=new daum.maps.Billboard({zIndex:10,position:new daum.maps.Coords(0,
0),content:a.get(0),clickable:!0});this.pointMarker_=new daum.maps.Marker({position:null,image:new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/exsearch-ico-red8_hover.png",new daum.maps.Size(8,8),{offset:new daum.maps.Point(4,4)})});this.panel_.onHide.add(function(){this.hide()},this);this.menu_favorite_=a.$("favorite").click(this.favorite_.bind(this));this.menu_origin_=a.$("origin").click(this.startDirection_.bind(this));this.menu_destination_=a.$("destination").click(this.endDirection_.bind(this));
this.menu_here_=a.$("here").click(this.whatsHere_.bind(this));this.menu_zoomin_=a.$("zoomin").click(this.zoomIn_.bind(this));this.menu_zoomout_=a.$("zoomout").click(this.zoomOut_.bind(this));this.menu_via_=a.$("via").click(this.viaDirection_.bind(this));this.menu_strange_=a.$("strange").click(this.strange_.bind(this));this.menu_newplace=a.$("newplace").click(this.newPlace_.bind(this));this.menu_w3w=a.$("w3w").click(this.w3w_.bind(this))}function ra(a,b,c,d,e,f){this.onReset=new m;this.onComplete=
new m;this.onClickTool=new m;this.map_=a;this.busSearchController=b;this.fiyFrameController=c;this.localPlatformAdController_=d;this.forefront=e;this.shareController=f;this.copylist_=fa.$("toolList");this.copylist_.noCloseUIPanel(i.$("tool.map.btn"));i.$("tool.map.btn").onClick.add(this.copylistToggle,this);this.copylist_.onHide.add(this.onHidelist_,this);i.$("tool.map.copyurl").onClick.add(this.copyUrl,this);i.$("tool.map.copymap").onClick.add(this.copyMap_,this);i.$("tool.map.save").onClick.add(this.save_,
this);i.$("tool.map.email").onClick.add(this.email_,this);i.$("tool.map.print").onClick.add(this.print_,this)}function ec(){this.onActive=new m;this.active_=!1}function ed(a){this.profileController=a;this.alreadySetKakaoAccountId=!1}function oe(a,b,c){function d(){a.setCursor(null);h&&h.setMap(null);g&&(g=null);daum.maps.event.removeListener(a,"mousemove",e)}function e(a){h.setPosition(a.coords)}var f=null,h=null,g=null;this.activate=function(){a.setCursor("none");g=jQuery('<div class="NewPlaceToolBoard"></div>');
h=new daum.maps.Billboard({xAnchor:0,yAnchor:1,zIndex:2,content:g[0]});h.setMap(a);daum.maps.event.addListener(a,"mousemove",e)};this.deactivate=function(){d()};this.handleClick=function(a){f();Application.fiyFrameController.open({type:"newPlace",channel:b?b:"ICON_NEWPLACE",rawInfo:{x:a.getX(),y:a.getY(),query:c||""}});d()};this.freeze=function(){d()};this.close=function(){d()};this.closeCallback=function(a){f=a}}function Mb(){this.buttons_=[];this.onChange=new m}function pe(a){function b(a){y=a.coords;
w.setPath([M,y]);u.setPosition(y);q.setRadius(w.getLength());h()}function c(){if(M){var b=new daum.maps.Polyline({strokeWeight:3,strokeColor:"#fa05e0",strokeOpacity:0.7,map:a});b.setPath([M,y]);t.push(b);return b}}function d(){var b=new daum.maps.Circle({center:M,radius:w.getLength(),strokeWeight:2,strokeColor:"#ff4dec",strokeOpacity:0.4,fillColor:"#fa05e0",fillOpacity:0.17,map:a});t.push(b)}function e(b){var c=jQuery('<span class="RadiusToolDot"></span>'),b=new daum.maps.Billboard({position:b,zIndex:1,
content:c.get(0),map:a});t.push(b)}function f(b){p=H("RadiusToolDetail");p.$("hider").on("click",function(a){return function(){a.addClass("HIDDEN")}}(p));u=new daum.maps.Billboard({position:b,xAnchor:0,yAnchor:0,zIndex:4,content:p.get(0),map:a});t.push(u)}function h(){var a=w.getLength(),b;1E3<a?(p.$("radius").text(g(a/1E3)),p.$("radiusUnit").text("km")):(p.$("radius").text(a|0),p.$("radiusUnit").text("m"));b=a/67|0;60<=b?(p.$("walkHour").html("<strong>"+(b/60|0)+"</strong>\uc2dc\uac04"),p.$("walkHour").removeClass("HIDDEN")):
p.$("walkHour").addClass("HIDDEN");p.$("walkMin").text(b%60);b=a/266|0;60<=b?(p.$("bicycleHour").html("<strong>"+(b/60|0)+"</strong>\uc2dc\uac04"),p.$("bicycleHour").removeClass("HIDDEN")):p.$("bicycleHour").addClass("HIDDEN");p.$("bicycleMin").text(b%60)}function g(a){var b,a=a.toFixed(2);b=Math.round(100*(a%1))/100;b=1E4>a&&b?b.toString().substr(1):"";return String.formatNumber(parseInt(a))+b}function k(a){if(c()&&0<t.length){var b=s.length;d();j(b);e(a);s.push(t.slice(0));u.setPosition(y);jQuery(u.getContent()).on("mousedown",
function(a){a.stopPropagation()}).addClass("freeze");p.$("help").addClass("HIDDEN");t.length=0;f(a);h()}}function l(){w&&w.setMap(null);q&&q.setMap(null);for(var a=0,b;b=t[a];a++)b.setMap(null);t.length=0}function j(b){var c=jQuery('<a href="#" class="RadiusToolCloser"/>');c.on("mousedown click",function(a){return function(b){"click"==b.type&&A(a);b.stopPropagation()}}(b));b=new daum.maps.Billboard({position:y,xAnchor:0,zIndex:4,content:c.get(0),map:a});t.push(b)}var r=this.onClose=new m,p,o=!1,s=
[],t=[],u=null,q=null,w=null,y=null,M=null,A=function(b){for(var c=b!==parseInt(b),d=!1,e=0,f;f=s[e];e++)if(c||b===e){for(var g=0,h;h=f[g];g++)h.setMap(null);s[b]=[]}else d=!0;d||(s=[]);if(o){var j=!1;s.forEach(function(a){0<a.length&&(j=!0)});j||(s.length=0);l();a.setCursor(null);r.notify()}};this.handleClick=function(c){M?k(c):(M=y=c,w=new daum.maps.Polyline({strokeWeight:3,strokeColor:"#fa05e0",strokeOpacity:0.7,map:a}),w.setPath([M,y]),q=new daum.maps.Circle({center:M,radius:w.getLength(),strokeWeight:2,
strokeColor:"#ff4dec",strokeOpacity:0.4,fillColor:"#fa05e0",fillOpacity:0.11,map:a}),f(c),e(c),daum.maps.event.addListener(a,"mousemove",b));return!0};this.activate=function(){a.setCursor("url(//t1.daumcdn.net/localimg/localimages/07/2013/img/point_radius.cur.ico), crosshair")};this.deactivate=function(){a.setCursor(null)};this.freeze=function(){l();o=!0;daum.maps.event.removeListener(a,"mousemove",b);a.setCursor(null)};this.close=function(){o=!0;A()};this.isAlive=function(){return 0<s.length}}function vd(a){this.mapTileManager_=
a}function Oc(){var a=new Gb;a.add(i.$("search.tab1"),i.$("info.main"));a.add(i.$("search.tab2"),i.$("info.route"));a.add(i.$("search.tab3"),i.$("info.bus"));a.add(i.$("search.tab4"),i.$("info.subway"));a.add(i.$("search.tab5"),i.$("info.my"));i.$("search.tab1").onClick.add(this.showMap_,this);i.$("search.tab2").onClick.add(this.showCarRoute_,this);i.$("search.tab3").onClick.add(this.showBus_,this);i.$("search.tab4").onClick.add(this.showSubway_,this);i.$("search.tab5").onClick.add(this.showFavorite_,
this);this.onChange=new m}function Ob(){this.buttons_=[];this.values_=[];this.texts_=[];this.onChange=new m}function qa(a,b){this.onShow=new m;this.onHide=new m;this.onFail=new m;this.profileController=a;this.$=b;this.param=null;this.dimmedLayer=this.$("#dimmedLayer");this.viewElem=document.getElementById("shareUrl");this.options={key:"f1ab6f35a17e777d7e3e72c59fb40b03",url:this.$('meta[property="og:url"]').attr("content"),shortUrl:"",title:this.$('meta[property="og:title"]').attr("content"),desc:this.$('meta[property="og:description"]').attr("content"),
image:this.$('meta[property="og:image"]').attr("content"),serviceName:"\uce74\uce74\uc624\ub9f5"};this.options.image=0>this.options.image.indexOf("http")?"https:"+this.options.image:this.options.image;this.mWebUrl=require("url").MMAP;this.context=this.createContext();this.shareMain=new socialshareRenewal.Main(document.getElementsByTagName("title")[0],this.context);this.appSchemeInfo=null;this.hide=this.hide.bind(this);var c=this.$(this.viewElem),d=this;c.on("click",".txt_copy, .txt_url",function(){d.shareLog("url")});
c.on("click",".list_sns",function(a){a=a.target.closest(".link_sns").getAttribute("data-handler");d.shareLog(cf[a])})}function wd(a){ga(this,Ld);this.onShowMap=new m;this.onPrint=new m;this.data_=a}function qe(a,b,c){ga(this,Ld);this.onClick=new m;this.name_=b;this.tiaraCode_=c;this.panel_=a;this.panel_.onClick.add(this.click_,this)}function Gb(){this.index_=0;this.button_=[];this.panel_=[];this.onChange=new m}function ab(a,b,c,d,e){ga(this,ec);this.panels_=new Gb;this.panel_=d;this.panel_.onItem.add(this.setRoute_,
this);this.panel_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},this);i.$("info.flagsearch").addChild(this.panel_);this.panels_.add(null,this.panel_);this.panel_.hide();this.routeController_=b;this.routeController_.setView(this.panel_);this.onSearchBtnClick=new m;this.onResult=new m;this.onActive.add(this.changeActive_,this);this.interStatus_=this.interRoutes_=this.routeStatus_=this.route_=this.routes_=this.mkey_=null;this.infoWindowManager_=c;this.windowController_=e;this.otherRoute_=
null;this.panel_.onWrapOver.add(function(a){var b=null,b="inner"==a.type?this.routes_[a.index]:this.interRoutes_[a.index-this.routes_.length];b.buildPaths();b!=this.route_&&this.showOtherRoute_(b)},this);this.panel_.onWrapOut.add(function(){this.hideOtherRoute_()},this);this.panel_.onItemDetail.add(function(){this.hideOtherRoute_()},this);this.activeIdx_=0;this.windowController_.onHeightChange.add(function(){if(this.getActive()&&this.panel_.goToTopBtn){var a=i.$("info.body").getElement();a.scrollHeight>
a.clientHeight?this.panel_.goToTopBtn.show():this.panel_.goToTopBtn.hide()}},this)}function Ld(){}function oc(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);this._viewLayout=a;this.onCollapseToggle=new m;this.onClickAdBanner=new m;this.onHeightChange=new m;var b=new Gb;b.add(null,i.$("info.main.home"));b.add(null,i.$("info.search"));b.add(null,i.$("info.noSuchPlace"));b.add(null,i.$("info.noPlaceInBounds"));b.add(null,i.$("info.noThemePlace"));b.add(null,i.$("info.noPlaceInBounds"));
b=new Gb;b.add(null,i.$("info.route.home"));b.add(null,i.$("info.flagsearch"));b=new Gb;b.add(null,i.$("info.busIntro"));b.add(null,i.$("info.bus.search"));b=new Gb;b.add(null,i.$("info.subway.intro"));b.add(null,i.$("info.subwayInfo"));this.buildAdButtons_();i.$("shadow.toggle").onClick.add(this.toggleInfo,this);jQuery(B).on("resize",this.updateHeight.bind(this));this.updateHeight();this.collapse_=!1}function hb(a,b){if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var c=0;
this.trigger=function(){clearTimeout(c);c=setTimeout(function(){b()},a)};this.stop=function(){clearTimeout(c);c=0}}function zc(a){console.assert(0<a);this.timeout_=a;this.onAction=new m;this.action_=this.onAction.notify.bind(this.onAction)}function m(a){this.observer_=[];a&&a.onLoad&&(this.loadHandler_=a.onLoad)}function H(a,b){return jQuery(re.render({AccidentInfoWindow:'<div class="InfoWindow AccidentInfoWindow">\r\n    <div class="top"></div>\r\n    <div class="body">\r\n        <strong data-id="title"><em>(\uc0ac\uace0)</em> \uc0ac\ud3c9\ub85c</strong>\r\n        <blockquote data-id="desc"></blockquote>\r\n        <p data-id="period" class="DOTUM"></p>\r\n        <div data-id="provider" class="provider HIDDEN"></div>\r\n        <button type="button" data-id="close" class="closebox">\ub2eb\uae30</button>\r\n    </div>\r\n    <div class="bottom"></div>\r\n</div>\r\n',
AdView_NA:'<li class="AdItem HIDDEN"></li>\n',AddressFlagItemView:'<li class="AddressFlagItemView">\r\n\t<span class="flag"></span>\r\n\t<span class="name" title="{{name}}">{{{nameHtml}}}</span>\r\n</li>',AddressInfoWindow:'<div class="AddressInfoWindow InfoWindow{{#is2depth}} AddressInfoWindow-2depth{{/is2depth}}">\r\n    <div class="top"></div>\r\n    <div class="body">\r\n        <button type="button" data-id="close" class="img_tooltip ico_close">\ub2eb\uae30</button>\r\n        <div class="head_tooltip">\r\n            <strong data-id="name" class="placename">{{refinedName}}</strong>\r\n        </div>\r\n        <div class="content">\r\n            {{#isDead}}\r\n            <p data-id="deadAddr" class="deadAddr"><span class="ico"></span>\uc8fc\uc18c\uc640 \uc704\uce58\uac00 \uc815\ud655\ud558\uc9c0 \uc54a\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>\r\n            {{/isDead}}\r\n            {{#d3HName}}\r\n            <p data-id="hAddr" class="related">(\ud589\uc815\ub3d9)<span class="txt">{{d3HName}}</span></p>\r\n            {{/d3HName}}\r\n            {{#subAddr}}\r\n            <p data-id="related" class="related {{type}}">({{typeName}})<span class="txt">{{prefix}} {{address}}</span></p>\r\n            {{/subAddr}}\r\n            <p data-id="wrapZip" class="wrapZip HIDDEN">\r\n                {{#zonecode}}\r\n                <span class="zip">(\uc6b0) {{zonecode}}</span>\r\n                {{#buildingName}}\r\n                <span class="bar"></span>\r\n                {{/buildingName}}\r\n                {{/zonecode}}\r\n                {{#buildingName}}\r\n                <span class="building">{{buildingName}}</span>\r\n                {{/buildingName}}\r\n            </p>\r\n            <p class="contact">\r\n                {{^hideModify}}\r\n                <a href="#none" data-id="report" class="report">\uc815\ubcf4 \uc218\uc815 \uc81c\uc548</a>\r\n                {{/hideModify}}\r\n            </p>\r\n        </div>\r\n        <div data-id="toolbar" class="toolbar"></div>\r\n    </div>\r\n    <div class="bottom"></div>\r\n</div>\r\n',
AddressItemView:'<li class="AddressItem clickArea">\n    <strong data-id="screenOutName" class="screen_out"></strong>\n    <div data-id="btnsWrap" class="utile_addr">\n        <a href="#none" data-id="fav" class="link_fav">\n            <span class="ico_fav">\uc990\uaca8\ucc3e\uae30</span><span class="num"></span>\n        </a>\n        <div data-id="routeBtn" class="DirectionItemInfoBtn DirectionItemInfoBtn-small">\n            <button type="button">\uae38\ucc3e\uae30</button>\n        </div>\n    </div>\n    <div class="txt_addr clickArea">\n        <a href="#none" data-id="name" class="link_addr"></a>\n        <div data-id="subList" class="wrapFolding"></div>\n        <span data-id="wrapZip" class="wrapZip"></span>\n    </div>\n</li>\n',
AddressItemViewSubList:'<div>\n    <strong class="screen_out">\uc720\uc0ac\uc8fc\uc18c \uc120\ud0dd\uc0c1\uc790</strong>\n    <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n    <span class="txt_older">({{infowindowSubAddress.typeName}})</span>\n    <div class="select_folder">\n        <a href="#none" data-id="btnFolder" class="folder">{{infowindowSubAddress.address}}<span data-id="moreIcon" class="ico_folder_addr"></span></a>\n        <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n        <ul class="subList">\n            {{#subList}}\n            <li>\n                <a href="#" class="txt" data-x="{{x}}" data-y="{{y}}" data-address="{{address}}">{{address}}</a>\n            </li>\n            {{/subList}}\n        </ul>\n    </div>\n</div>',
AreaToolDetail:'<div class="AreaToolDetail">\r\n\t<ul data-id="info">\r\n\t\t<li>\r\n\t\t\t<span class="detailToolLabel">\ucd1d\uba74\uc801</span>\r\n\t\t\t<strong data-id="area"></strong>\r\n\t\t\t<span data-id="unit"></span>\r\n\t\t</li>\r\n\t\t<li class="detailToolClose">\r\n\t\t\t<a href="#" data-id="hider">\ub2eb\uae30</a>\r\n\t\t</li>\r\n\t</ul>\r\n    <p data-id="help" class="help"><em>\ubd80\ubd84\ucde8\uc18c</em> : \ubc31\uc2a4\ud398\uc774\uc2a4<br/><em>\uc9c0\uc815\uc644\ub8cc</em> : \ub9c8\uc6b0\uc2a4 \uc624\ub978\ucabd, ESC</p>\r\n</div>\r\n',
BikeFunctionToolBarView:'<div class="BikeFunctionToolBarView">\n\t<a href="#none" data-id=\'print\' class="print">\uacbd\ub85c\uc778\uc1c4</a>\n\t<a href="#none" data-id=\'alook\' class="alook">\uacbd\ub85c \ud55c\ub208\uc5d0</a>\n    <a href="#none" data-id=\'favorite\' class="favorite">\n        <span class="ico_fav">\n            <span class="num">0</span>\n        </span>\n        \uc990\uaca8\ucc3e\uae30\n    </a>\n</div>',BikeGroupPointItemView:'<li class="BikeGroupPointItemView">\r\n\t\r\n\t<div class="BikeGroupPointItemViewWrap">\r\n\t\t<div class="detailIcoWrap" data-id="detailIcoWrap">\r\n\t\t\t<div data-id="bikeSeqIcon" class="bikeSeqIcon"></div>\r\n\t\t\t<div data-id="pre_bikeline" class="pointBikeLine"></div>\r\n\t\t</div>\r\n\t\t<div class="bikeDetail">\r\n\t\t\t<h5><a href="#" data-id="title"></a></h5>\r\n\t\t\t<div data-id="desc" class="desc"></div>\r\n\t\t</div>\r\n\t\t<div class="icoRight">\r\n\t\t\t<a href="#" data-id="roadview" class="roadviewWrap screen_visible"></a>\r\n\t\t\t<a href="#" data-id="action" class="action">\ubc29\ud5a5</a>\r\n\t\t</div>\r\n\t</div>\r\n</li>',
BikePointGroupView:'<div class="BikePointGroupView">\r\n\t<div class="headbg"></div>\r\n\t<div class="summary" data-id="summary">\r\n\t\t<a class="detailBtn off" data-id="detailBtn"></a>\r\n\t\t<div class="groupinfo">\r\n\t\t\t<span class="time" data-id="time"></span>\r\n\t\t\t<span class="bar">|</span>\r\n\t\t\t<span class="distance" data-id="distance"></span>\r\n\t\t</div>\r\n\t\t<div class="groupNumber" data-id="groupNumber">\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="briefdesc" data-id="briefdesc"></div>\r\n\t<ol data-id="detail" class="detail"></ol>\r\n\t<div class="bottombg"></div>\r\n</div>',
BikePointItemView:'<li class="BikePointItemView">\r\n\t<div class="seqWrap">\r\n\t\t<span data-id="seq" class="seq"></span>\r\n\t</div>\r\n\t<div class=\'bikeDetail\' >\r\n\t\t<div class=\'innerDetail\' >\r\n\t\t\t<a data-id="title" href="#" ></a>\r\n\t\t\t<p data-id="desc" class="desc"></p>\r\n\t\t\t<p data-id="gradient" class="gradient"></p>\r\n\t\t</div>\r\n\t</div>\r\n\t<span data-id="icons" class="icons">\r\n\t\t<span data-id="action" class="action"></span>\r\n\t\t<span data-id="state" class="state"></span>\r\n\t</span>\r\n\t<div data-id="roadview" class="roadviewWrap"></div>\r\n</li>',
BikeRouteItemView:'<li class="BikeRouteItem">\r\n\t<div data-id="summary" class="BikeRouteSummaryView">\r\n\t\t<div class="contents">\r\n\t\t\t<span data-id="mode" class="mode"></span>\r\n\t\t\t<p class="header">\r\n\t\t\t\t<span data-id="time" class="time"></span>\r\n\t\t\t\t<span data-id="distance" class="distance"></span>\r\n\t\t\t</p>\r\n\t\t\t<div data-id="info" class="info">\r\n\t\t\t\t <span data-id="altitude" class="altitude"></span><span data-id="calories" class="calories"></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-id="graph" class="graph"></div>\r\n\t\t<a href="#" class="selectBtn"></a>\r\n\t</div>\r\n\t<div data-id="detail" class="detail">\r\n\t\t<ul data-id="list" class="list"></ul>\r\n\t</div>\r\n</li>',
BikeRouteLegend:'<div class="BikeRouteLegend HIDDEN">\n\t<ul class="wrap">\n\t\t<li class="normalRoad">\uc77c\ubc18\ub3c4\ub85c</li>\n\t\t<li class="bikeRoad">\uc790\uc804\uac70\ub3c4\ub85c</li>\n\t</ul>\n</div>',BikeRouteResultView:'<div class="BikeRouteResultView">\r\n\t<ul data-id="list" class="list"></ul>\r\n\t<div class="notice">\r\n\t\t<span class="first" >\uc18c\uc694\uc2dc\uac04\uc740 \uc790\uc804\uac70 \ud3c9\uc18d 20km/h \ub0b4\uc678\ub85c \ud658\uc0b0\ud558\uc5ec \uc81c\uacf5\ub429\ub2c8\ub2e4.</span>\r\n\t\t<\!--\r\n\t\t<a href="#" class="second" data-id="openDetail">\uc815\ubcf4 \uc81c\uacf5\uc758 \ud55c\uacc4\uc640 \ucc45\uc784</a>\r\n\r\n\t\t<div class="notice_detail HIDDEN" data-id="detailBox">\r\n\t\t\t<h2>\uc815\ubcf4 \uc81c\uacf5\uc758 \ud55c\uacc4\uc640 \ucc45\uc784 \uc548\ub0b4</h2>\r\n\t\t\t<p>(\uc8fc)\uce74\uce74\uc624\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc790\uc804\uac70 \uae38\ucc3e\uae30\ub294 \uc790\uc804\uac70 \uc804\uc6a9 \ub3c4\ub85c\ub97c \uc6b0\uc120\uc73c\ub85c \uc548\ub0b4\ud558\uba70, \uc790\uc804\uac70 \uc804\uc6a9 \ub3c4\ub85c\uac00 \uc5c6\uc744 \uacbd\uc6b0\uc5d0\ub294 \uc790\ub3d9\ucc28 \uacbd\ub85c \uc815\ubcf4(\uc790\ub3d9\ucc28 \uc804\uc6a9 \ub3c4\ub85c\ub294 \uc81c\uc678)\ub85c \uc548\ub0b4\ud569\ub2c8\ub2e4.</p>\r\n\t\t\t<p>\ub3c4\ub85c \uc815\ubcf4\uac00 \uc218\uc9d1\ub418\uc9c0 \uc54a\uac70\ub098 \ucd5c\uc2e0 \uc815\ubcf4\ub85c \uac31\uc2e0\ub418\uc9c0 \uc54a\uc740 \uc77c\ubd80 \uc9c0\uc5ed\uc758 \uacbd\uc6b0 \uc798\ubabb\ub41c \uacbd\ub85c\ub85c \uc548\ub0b4\ub420 \uc218 \uc788\uc73c\ub2c8 <strong>\ubcf8 \uc11c\ube44\uc2a4 \uc815\ubcf4\ub294 \ubc18\ub4dc\uc2dc \ucc38\uace0 \uc790\ub8cc\ub85c\ub9cc \ud65c\uc6a9\ud558\uc2dc\uae38 \ubc14\ub78d\ub2c8\ub2e4. \ubcf8 \uc11c\ube44\uc2a4\uc5d0\uc11c \uc81c\uacf5\ud55c \uc815\ubcf4\ub97c \uc774\uc6a9\ud558\uc5ec \uc790\uc804\uac70 \uc8fc\ud589\uc2dc \ubc1c\uc0dd\ud558\ub294 \uc0ac\uace0 \ub4f1\uc5d0 \ub300\ud574\uc11c \ub2f9\uc0ac\ub294 \ubc95\uc801 \ucc45\uc784\uc744 \uc9c0\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.</strong></p>\r\n\t\t\t<p>\uc790\uc804\uac70 \uc8fc\ud589 \uc2dc \uad00\uacc4 \ubc95\ub839\uc744 \uc900\uc218\ud558\uace0 \ud604\uc7a5 \uc0c1\ud669\uc5d0 \ub9de\uac8c \uc548\uc804 \uc6b4\ud589 \ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.</p>\r\n\t\t\t<img class="close" data-id="closeDetail" src="//t1.daumcdn.net/localimg/localimages/07/2017/pc/ico_noti_x.png" width="16" height="16" alt="\ub2eb\uae30"/>\r\n\t\t</div>\r\n\t\t--\>\r\n\t</div>\r\n\t<div class="info_top">\r\n\t\t<a href="#none" class="link_top HIDDEN" data-id=\'goToTop\' >\uc704\ub85c \uac00\uae30</a>\r\n\t</div>\r\n    <div class="info_fixroute">\r\n        \uae38\ucc3e\uae30 \uc815\ubcf4\uac00 \uc798\ubabb\ub418\uc5c8\ub098\uc694?<br>\uc815\ubcf4 \uc218\uc815 \uc81c\uc548\uc740 \uc9c0\ub3c4 \ud488\uc9c8 \ud5a5\uc0c1\uc5d0 \ud070 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.\r\n        <a href="#none" class="link_fixroute" data-id=\'fixRoute\' >\r\n            \ud2c0\ub9b0\uc815\ubcf4 \uc2e0\uace0\r\n        </a>\r\n    </div>\r\n</div>',
BookmarkCoachmarkView:'<div class="coach_layer coach_layer_type3" style="top:670px;left:373px"><\!-- \ub808\uc774\uc5b4\uc5d0 \ub530\ub978 \ucf54\uce58\ub9c8\ud06c \uc704\uce58(top,left) \uc7a1\uc544\uc8fc\uc138\uc694 --\><\!-- coach_layer_type1 : \ucd9c\ubc1c\uacbd\uc720\ub3c4\ucc29 / coach_layer_type2 : \uc9c0\ub3c4\uc124\uc815 / coach_layer_type3 : \uc7a5\uc18c\uc800\uc7a5\ud558\uae30 --\>\n     <div class="inner_coach_layer">\n         <div class="layer_body">\n         \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/coachMark/bg_coach.png" width="250" height="250" alt="" class="img_bg">\n         \t<div class="view_coach">\n\t     \t\t<span class="ico_coach2"><\!-- \ubc84\ud2bc \ub450\uac1c\uc77c \uacbd\uc6b0\uc6a9 \ud074\ub798\uc2a4(.ico_coach2) \uc801\uc6a9 --\></span>\n\t     \t\t<strong class="tit_coach">\uc7a5\uc18c \uc800\uc7a5\ud558\uae30</strong>\n\t     \t\t<p class="desc_coach">\uc990\uaca8\ucc3e\ub294 \uc7a5\uc18c\ub97c \uc800\uc7a5\ud558\uace0<br>MY\ud398\uc774\uc9c0\uc5d0\uc11c \ud655\uc778\ud558\uc138\uc694.</p>\n     \t\t</div>\n         </div>\n     </div>\n</div>\n',
BusDetailInfo:'<div>\r\n    <div data-id="firstLast">\r\n        <strong class="title">\uc6b4\ud589\uc2dc\uac04</strong>\r\n        <table>\r\n            <caption class="ir_caption">\uae30\uc810, \ud68c\ucc28\ubcc4 \uc6b4\ud589\uc2dc\uac04</caption>\r\n            <tbody data-id="firstLastList"></tbody>\r\n        </table>\r\n    </div>\r\n    <div data-id="interval">\r\n        <strong class="title">\ubc30\ucc28\uac04\uaca9</strong>\r\n        <p data-id="intervalList" class="desc_interval"></p>\r\n    </div>\r\n    <div data-id="reservation">\r\n        <strong class="title">\uc800\uc0c1\ubc84\uc2a4 \uc608\uc57d\ubb38\uc758</strong>\r\n        <span data-id="telDisable" class="num_help"></span>\r\n    </div>\r\n</div>\r\n',
BusFilterSelectBoxView:'<div class="FilterSelectBoxView">\n    <strong class="screen_out">\uc804\uccb4\uc720\ud615 \uc120\ud0dd\uc0c1\uc790</strong>\n    <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n    <div data-id="label" class="label"></div>\n    <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n    <ul data-id="options" class="list_opt HIDDEN"></ul>\n</div>\n',BusItemView:'<li class="BusItem clickArea">\n    <span data-id="screenOutName" class="screen_out"></span>\n    <a href="#none" data-id="fav" class="link_fav">\n        <span class="ico_fav">\uc990\uaca8\ucc3e\uae30</span><span class="num"></span>\n    </a>\n    <div data-id="para" class="para">\n        <strong class="busline clickArea">\n            <span data-id="bustype" class="bustype"></span>\n            <a href="#none" data-id="name" class="name"></a>\n            <span data-id="region" class="addr"></span>\n        </strong>\n        <p class="startEnd clickArea">\n            <span data-id="start" class="start"></span>\n            <span class="busarrow">\uc5d0\uc11c</span>\n            <span data-id="end" class="end"></span>\n        </p>\n    </div>\n</li>\n',
BusMessageView:'<div class="BusMessageView">\n\t<div data-id="current" class="line">\n\t\t<p data-id="currenttext" class="desc_search"></p>\n\t\t<div data-id="currentupperparagraph" class="paragraph ">\n            <div data-id="currentupperwrap" class="wrap">\n                <strong class="screen_out">\ub3d9\uba85\uc9c0\uc5ed \uc120\ud0dd\uc0c1\uc790</strong>\n                <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n                <a data-id="currentupperlabel" class="label"></a>\n                <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n            </div>\n\t\t\t<p data-id="currentuppertext" class="desc_search text"></p>\n\t\t</div>\n\t\t<div data-id="currentlowerparagraph" class="paragraph ">\n\t\t\t<div data-id="currentlowerwrap">\n\t\t\t\t<a data-id="currentlowerlabel" class="label"></a>\n\t\t\t</div>\n\t\t\t<p data-id="currentlowertext" class="desc_search text"></p>\n\t\t</div>\n\t</div>\n\t<div data-id="next" class="line">\n\t\t<a href="#none" data-id="nexttext" class="link_search"></a>\n\t\t<div data-id="nextupperparagraph" class="paragraph ">\n            <div data-id="nextupperwrap">\n                <strong class="screen_out">\ub3d9\uba85\uc9c0\uc5ed \uc120\ud0dd\uc0c1\uc790</strong>\n                <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n                <a data-id="nextupperlabel" class="label"></a>\n                <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n            </div>\n\t\t\t<p data-id="nextuppertext" class="desc_search text"></p>\n\t\t</div>\n\t\t<div data-id="nextlowerparagraph" class="paragraph ">\n\t\t\t<div data-id="nextlowerwrap">\n\t\t\t\t<a data-id="nextlowerlabel" class="label"></a>\n\t\t\t</div>\n\t\t\t<p data-id="nextlowertext" class="desc_search text"></p>\n\t\t</div>\n\t</div>\n</div>\n',
BusNumberLineItemView:'<li class="BusNumberLineItemView">\r\n    <div class="busNumberWrap">\r\n        <span data-id="line" class="line">\r\n            <span class="pointBar"></span>\r\n            <span class="point"></span>\r\n            <span data-id="speedBar" class="speedBar HIDDEN"></span>\r\n        </span>\r\n        <strong data-id="stopname" class="busstop">{{stopname}}</strong>\r\n        <p data-id="busid" class="busid">{{busid}}</p>\r\n        <span class="turningpoint HIDDEN" data-id="turningpoint">\ud68c\ucc28</span>\r\n        <span data-id="nonstop" class="HIDDEN">\ubbf8\uc815\ucc28</span>\r\n    </div>\r\n    <a href="#none" data-id="fav" class="ICON-fav">\uc990\uaca8\ucc3e\uae30</a>\r\n</li>',
BusStopGroupInfoWindow:'<div class="BusStopGroupInfoWindow InfoWindow">\n\t<div class="top"></div>\n\t<div class="body" data-id="body">\n\t\t<button type="button" class="ICON-closebox closebox" data-id="close" title="\ub2eb\uae30"></button>\n\t\t<h6>\uc774 \uc8fc\ubcc0\uc758 \ubc84\uc2a4\uc815\ub958\uc7a5</h6>\n\t</div>\n\t<div class="bottom"></div>\n\t<div class="tail tail1"></div>\n\t<div class="tail tail2"></div>\n\t<div class="tail tail3"></div>\n\t<div class="tail tail4"></div>\n\t<div class="tail tail5"></div>\n\t<div class="tail tail6"></div>\n\t<div class="tail tail7"></div>\n\t<div class="tail tail8"></div>\n</div>\n',
BusStopGroupInfoWindowItem:'<table class="item">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td class="title">\n\t\t\t\t<a href="#" class="name" data-id="name"></a>\n\t\t\t\t<div data-id="codenames"></div>\n\t\t\t</td>\n\t\t\t<td class="desc"><div class="types" data-id="types"></div></td>\n\t\t</tr>\n\t</tbody>\n</table>',BusStopInfoWindow:'<div class="InfoWindow BusStopInfoWindow">\r\n    <div class="top"></div>\r\n    <div class="body">\r\n        <button type="button" data-id="close" class="img_tooltip ico_close">\ub2eb\uae30</button>\r\n        <div class="head_tooltip">\r\n            <strong class="placename" data-id="name"></strong>\r\n        </div>\r\n        <span class="idlist">\r\n            <span class="busCode">\r\n                <span data-id="codename" class="codename HIDDEN"></span>\r\n                <span class="codeinfo">\r\n                    <a href="#none" data-id="report" class="report">\uc815\ubcf4 \uc218\uc815 \uc81c\uc548</a>\r\n                </span>\r\n            </span>\r\n        </span>\r\n        <div data-id="toolbar" class="toolbar"></div>\r\n        <div data-id="progressbar" class="progressbar">\r\n            <p class="progressbartitle">\uc2e4\uc2dc\uac04 \ubc84\uc2a4\uc815\ubcf4</p>\r\n        </div>\r\n        <div class="list list_busstop">\r\n            <ul data-id="list"></ul>\r\n        </div>\r\n    </div>\r\n    <div class="bottom"></div>\r\n</div>',
BusStopItemView:'<li class="BusStopItem clickArea">\n    <span data-id="screenOutName" class="screen_out"></span>\n    <div data-id="btnsWrap" class="utile_item">\n        <a href="#none" data-id="fav" class="fav">\n            <span class="ico_fav">\uc990\uaca8\ucc3e\uae30</span><span class="num"></span>\n        </a>\n        <a href="#none" data-id="roadview" class="roadview HIDDEN">\ub85c\ub4dc\ubdf0</a>\n        <button data-id="routeBtn" type="button" class="DirectionItemInfoBtn">\uae38\ucc3e\uae30</button>\n    </div>\n    <div class="para">\n        <strong class="tit_name clickArea">\n            <a href="#none" data-id="icon" class="num clickArea"></a>\n            <a href="#none" data-id="name" class="name"></a>\n            <span data-id="direction" class="txt_cate HIDDEN"></span>\n        </strong>\n        <div data-id="infoWrap" class="infowrap">\n            <span data-id="busCodes" class="busCode HIDDEN"></span>\n            <p data-id="region" class="region"></p>\n            <div data-id="bustype" class="bustypes clickArea"></div>\n        </div>\n    </div>\n</li>\n',
BusStopLineItemView:'<li class="BusStopLineItemView">\r\n    <strong class="screen_out" data-id="title"></strong>\r\n    <button type="button" data-id="fav" class="fav">\uc990\uaca8\ucc3e\uae30</button>\r\n    <span data-id="status" class="status">\ub3c4\ucc29\uc608\uc815\uc815\ubcf4 \uc5c6\uc74c</span>\r\n    <a href="#none" data-id="name" class="stopname"></a>\r\n</li>',BusStopRouteInfoWindowContent:'<div class="BusStopRouteInfoWindowContent">\r\n\t<div data-id="busInfo" class="busInfo">\r\n\t\t{{#moreRoute}}<span class="desc" data-id="desc">{{moreRoute}}</span>{{/moreRoute}}{{#time}}, <span class="time" data-id="time">{{time}}</span> \uc18c\uc694{{/time}}\r\n\t</div>\r\n\t<div class="valuable">\r\n\t\t<span class="busTotal">\ucd1d <span data-id="busCnt"></span>\ub300 \ubc84\uc2a4 \ud0d1\uc2b9 \uac00\ub2a5</span>\r\n\t\t<a href="#" data-id="refresh" class="refresh">refresh</a>\r\n\t</div>\r\n\t<ul data-id="list"></ul>\r\n</div>',
CanvasRoadviewDiffViewHeaderView:'<div class="info_roadview info_viewpast HIDDEN">\n    <span class="txt_add" data-id="address" ></span>\n    <div class="wrap_date">\n        <div class="info_date" data-id="leftView" >\n            <div class="wrap_opt" data-id="dateListContainer" ><\!-- opt_open \ud074\ub798\uc2a4\ub85c \ud65c\uc131\ud654 --\><\!-- \uacfc\uac70\ub0a0\uc9dc \uc5c6\uc744\uacbd\uc6b0 HIDDEN\ud074\ub798\uc2a4 \uc801\uc6a9\ud574\uc8fc\uc138\uc694 --\>\n                <strong class="screen_out">\ub85c\ub4dc\ubdf0 \ucd2c\uc601\uc77c \ubaa9\ub85d</strong>\n                <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n                <a href="#none" class="label" data-id="selectedDateBtn" >2018\ub144 10\uc6d4</a>\n                <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n                <ul class="list_opt" data-id="dateList" >\n                    <li><a href="#none" class="link_opt">2018\ub144 10\uc6d4</a></li>\n                    <li><a href="#none" class="link_opt">2018\ub144 9\uc6d4</a></li>\n                    <li><a href="#none" class="link_opt">2018\ub144 8\uc6d4</a></li>\n                    <li><a href="#none" class="link_opt">2018\ub144 7\uc6d4</a></li>\n                    <li><a href="#none" class="link_opt">2018\ub144 6\uc6d4</a></li>\n                </ul>\n            </div>\n        </div>\n        <div class="info_date" data-id="rightView" >\n            <div class="wrap_opt opt_latest" data-id="currentDateContainer" ><\!-- opt_open \ud074\ub798\uc2a4\ub85c \ud65c\uc131\ud654 / \ucd5c\uc2e0\uc6a9 \ud074\ub798\uc2a4 : opt_latest --\>\n                <strong class="screen_out">\ub85c\ub4dc\ubdf0 \ucd2c\uc601\uc77c \ubaa9\ub85d</strong>\n                <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n                <a href="#none" class="label" data-id="currentDate" >2018\ub144 07\uc6d4(\ucd5c\uadfc)</a>\n                <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n                <ul class="list_opt">\n                    <li><a href="#none">2018\ub144 10\uc6d4</a></li>\n                    <li><a href="#none">2018\ub144 9\uc6d4</a></li>\n                    <li><a href="#none">2018\ub144 8\uc6d4</a></li>\n                    <li><a href="#none">2018\ub144 7\uc6d4</a></li>\n                    <li><a href="#none">2018\ub144 6\uc6d4</a></li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="set_mode">\n        <button type="button" class="btn_mode on" data-id="overlapBtn" ><\!-- on\ud074\ub798\uc2a4\ub85c \ud65c\uc131\ud654 --\>\n            <span class="ico_roadview2 ico_overlay"></span>\n            <span class="txt_btn">\uacb9\uce68</span>\n        </button>\n        <button type="button" class="btn_mode" data-id="splitBtn" >\n            <span class="ico_roadview2 ico_divide"></span>\n            <span class="txt_btn">\ubd84\ud560</span>\n        </button>\n    </div>\n    <div class="slider_past">\n        <button type="button" data-id="slider" class="btn_slider" style="left:50%"></button><\!-- left:%\ub85c \uc2ac\ub77c\uc774\ub354 \uc774\ub3d9\ud574\uc8fc\uc138\uc694 --\>\n    </div>\n    <button type="button" class="btn_util btn_close" data-id="backToRoadviewBtn">\n        <span class="ico_roadview2 ico_close"></span>\n        <span class="tooltip_btn">\uacfc\uac70\uc0ac\uc9c4\ube44\uad50 \uc885\ub8cc</span>\n    </button>\n</div>\n',
CanvasRoadviewHeaderView:'<div class="info_roadview HIDDEN">\n    <span class="txt_add" data-id=\'address\' ></span>\n    <div class="wrap_date">\n        <div class="info_date" data-id="pastInfo" ><\!-- \uacfc\uac70\uc0ac\uc9c4 \uc5c6\uc744\ub54c \ud074\ub798\uc2a4 : date_none --\>\n            <span class="ico_roadview2 ico_time"></span>\n            <div class="wrap_opt" data-id="dateListContainer" ><\!-- opt_open \ud074\ub798\uc2a4\ub85c \ud65c\uc131\ud654 --\>\n                <strong class="screen_out">\ub85c\ub4dc\ubdf0 \ucd2c\uc601\uc77c \ubaa9\ub85d</strong>\n                <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n                <a href="#none" class="label" data-id="nowDateBtn" ></a>\n                <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n                <ul class="list_opt HIDDEN">\n                    <\!--\n                    <li><a href="#none" class="link_opt">2018\ub144 10\uc6d4</a></li>\n                    <li><a href="#none" class="link_opt">2018\ub144 9\uc6d4</a></li>\n                    <li><a href="#none" class="link_opt">2018\ub144 8\uc6d4</a></li>\n                    <li><a href="#none" class="link_opt">2018\ub144 7\uc6d4</a></li>\n                    <li><a href="#none" class="link_opt">2018\ub144 6\uc6d4</a></li>\n                    --\>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <button type="button" class="btn_close" data-id="close" >\n        <span class="ico_roadview2"></span>\n        <span class="tooltip_btn">\ub85c\ub4dc\ubdf0 \uc885\ub8cc</span>\n    </button>\n</div>\n',
CanvasRoadviewPastThumbnailView:'<div class="view_past HIDDEN">\n    <div class="thumb_past" data-id="pastThumbViewContainer" style="width:360px;height:234px;display:block;">\n        <video src="https://t1.daumcdn.net/localimg/localimages/07/common/pastview.mp4" width="100%" height="100%" data-id="guideVideo" class="video_guide" />\n        <strong class="screen_out">\uc18c\uac1c \ub3d9\uc601\uc0c1 \uc7ac\uc0dd \ubc14</strong>\n        <div class="view_progress" data-id="videoProgress" >\n            <span class="bar_now" style="width:0%" data-id="videoCurrent" ><\!-- width %\ub85c \uc9c4\ud589\ubc14 \ud578\ub4e4\ub9c1 \ud574\uc8fc\uc138\uc694 --\>\n                <span>11</span><\!-- \uc7ac\uc0dd \ud37c\uc13c\ud2b8 \uc22b\uc790 \ubcc0\uacbd\ud574\uc8fc\uc138\uc694 --\>\n                % \uc7ac\uc0dd\ub428\n            </span>\n        </div>\n        <div class="wrap_coach HIDDEN" data-id="coachmark">\n            <div class="check_coach">\n                <input type="checkbox" id="chkCoach" class="inp_coach" data-id="coachmarkUnderstandBtn" >\n                <label for="chkCoach" class="lab_coach">\n                    <span class="ico_coach"></span>\n                    <span class="txt_lab">\uacfc\uac70\uc0ac\uc9c4 \ube44\uad50 \uae30\ub2a5\uc744 \uc774\ud574\ud588\uc2b5\ub2c8\ub2e4.</span>\n                </label>\n            </div>\n            <button type="button" class="btn_close" data-id="coachmarkCloseBtn" ><span class="ico_coach ico_close" >\ub2eb\uae30</span></button>\n        </div>\n    </div>\n    <div class="box_tool">\n        <strong class="screen_out">\uacfc\uac70\uc0ac\uc9c4 \uc120\ud0dd \ubaa9\ub85d</strong>\n        <div class="group_past" data-id="timelineContainer" ><\!-- 2019-06-14 : \ub4dc\ub798\uae45 \uc9c4\ud589\uc911\uc77c \uacbd\uc6b0 drag_on\ud074\ub798\uc2a4 \ucd94\uac00\ub85c 1)\uae30\uc874 \uc140\ub809\ud2f0\ub4dc\ubc84\ud2bc \uc0ac\uc774\uc988 \uae30\ubcf8\uc73c\ub85c, 2)\ub4dc\ub798\uae45\uc6a9\ubc84\ud2bc \ub178\ucd9c --\>\n            <ul class="list_past" data-id="pastIconContainer" >\n            </ul>\n            <button type="button" class="btn_util btn_drag" data-id="indicator" ><\!-- left\uac12\uc73c\ub85c \uc704\uce58 \uc870\uc808 \ud574\uc8fc\uc138\uc694 --\>\n                <span class="ico_drag"></span>\n                <span class="tooltip_btn" data-id="indicatorDate">\n                    2011.03\n                </span>\n            </button>\n        </div>\n        <div class="wrap_btn">\n            <button type="button" class="btn_util btn_compare" data-id="diffBtn" >\n                <span class="ico_roadview2"></span>\n                <span class="tooltip_btn">\n                    \uacfc\uac70\uc0ac\uc9c4 \ube44\uad50\n                </span>\n            </button>\n            <button type="button" class="btn_util btn_close" data-id="closeBtn">\n                <span class="ico_roadview2">\ub2eb\uae30</span>\n            </button>\n        </div>\n    </div>\n</div>\n',
CanvasRoadviewUtilMenuView:'<div class="group_util">\n    <div class="box_util" data-id="utilContainer" ><\!-- \ud65c\uc131\ud654\uc2dc util_on \ud074\ub798\uc2a4 \ucd94\uac00 --\>\n        <button type="button" class="btn_util btn_set" data-id="openUtilBtn" >\n            <span class="ico_roadview2">\uc124\uc815 \uc5f4\uae30</span>\n        </button>\n        <ul class="list_set" data-id="btnList" >\n            <li>\n                <button type="button" class="btn_util btn_capture" data-id="screenshot" >\n                    <span class="ico_roadview2"></span>\n                    <span class="tooltip_btn"><span class="ico_tooltip ico_left"></span>\ud654\uba74\ucea1\uccd0<span class="ico_tooltip ico_right"></span></span>\n                </button>\n            </li>\n            <li data-id="fullScreenContainer" > <\!-- \uc120\ud0dd\uc2dc on \ud074\ub798\uc2a4\ucd94\uac00 --\>\n                <button type="button" class="btn_util btn_full" data-id="fullScreen">\n                    <span class="ico_roadview2"></span>\n                    <span class="tooltip_btn">\uc804\uccb4\ud654\uba74</span>\n                </button>\n            </li>\n            <\!--\n            <li class="on"> \n                <button type="button" class="btn_util btn_full">\n                    <span class="ico_roadview2"></span>\n                    <span class="tooltip_btn">\uc804\uccb4\ud654\uba74</span>\n                </button>\n            </li>\n            --\>\n            <li data-id="exitFullScreenContainer" class="HIDDEN" >\n                <button type="button" class="btn_util btn_reduce" data-id="exitFullScreen" >\n                    <span class="ico_roadview2"></span>\n                    <span class="tooltip_btn">\uc804\uccb4\ud654\uba74 \uc885\ub8cc</span>\n                </button>\n            </li>\n            <li data-id="shareContainer" >\n                <button type="button" class="btn_util btn_share" data-id="share" >\n                    <span class="ico_roadview2"></span>\n                    <span class="tooltip_btn">\uacf5\uc720\ud558\uae30</span>\n                </button>\n                <ul class="list_share">\n                    <li>\n                        <button type="button" class="btn_share">\n                            URL \ubcf5\uc0ac\ud558\uae30\n                        </button>\n                    </li>\n                    <li>\n                        <button type="button" class="btn_share">\n                            \ub85c\ub4dc\ubdf0 \uc0bd\uc785\ud558\uae30\n                        </button>\n                    </li>\n                </ul>\n            </li>\n            <\!--\n            <li class="on"> \n                <button type="button" class="btn_util btn_share">\n                    <span class="ico_roadview2"></span>\n                    <span class="tooltip_btn">\uacf5\uc720\ud558\uae30</span>\n                </button>\n                <ul class="list_share">\n                    <li>\n                        <button type="button" class="btn_share">\n                            URL \ubcf5\uc0ac\ud558\uae30\n                        </button>\n                    </li>\n                    <li>\n                        <button type="button" class="btn_share">\n                            \ub85c\ub4dc\ubdf0 \uc0bd\uc785\ud558\uae30\n                        </button>\n                    </li>\n                </ul>\n            </li>\n            --\>\n            <li data-id="favContainer" >\n                <button type="button" class="btn_util btn_favorite" data-id="fav" >\n                    <span class="ico_roadview2"></span>\n                    <span class="tooltip_btn">\uc990\uaca8\ucc3e\uae30</span>\n                </button>\n            </li>\n            <\!--\n            <li class="on"> \n                <button type="button" class="btn_util btn_favorite">\n                    <span class="ico_roadview2"></span>\n                    <span class="tooltip_btn">\uc990\uaca8\ucc3e\uae30</span>\n                </button>\n                <ul class="list_share">\n                    <li>\n                        <button type="button" class="btn_share">\n                            URL \ubcf5\uc0ac\ud558\uae30\n                        </button>\n                    </li>\n                    <li>\n                        <button type="button" class="btn_share">\n                            \ub85c\ub4dc\ubdf0 \uc0bd\uc785\ud558\uae30\n                        </button>\n                    </li>\n                </ul>\n            </li>\n            --\>\n            <li data-id="reportContainer" >\n                <button type="button" class="btn_util btn_report" data-id="report" >\n                    <span class="ico_roadview2"></span>\n                    <span class="tooltip_btn">\uc218\uc815\uc694\uccad</span>\n                </button>\n            </li>\n        </ul>\n    </div>\n    <div class="box_util">\n        <div class="bundle_zoom">\n            <button type="button" class="btn_util btn_zoomin" data-id=\'zoomIn\' >\n                <span class="ico_roadview2">\uc90c\uc778</span>\n            </button>\n            <button type="button" class="btn_util btn_zoomout" data-id=\'zoomOut\' >\n                <span class="ico_roadview2">\uc90c\uc544\uc6c3</span>\n            </button>\n        </div>\n        <button type="button" class="btn_util btn_compass" data-id=\'compass\' style="transform:rotate(0deg)" >\n            <span class="ico_roadview2">\ub098\uce68\ubc18</span>\n        </button>\n    </div>\n    <\!-- \ube44\ud65c\uc131 \ud0c0\uc785 --\>\n    <\!--\n    <div class="box_util">\n        <div class="bundle_zoom">\n            <button type="button" class="btn_util btn_zoomin btn_disabled" disabled="disabled">\n                <span class="ico_roadview2">\uc90c\uc778</span>\n            </button>\n            <button type="button" class="btn_util btn_zoomout btn_disabled" disabled="disabled">\n                <span class="ico_roadview2">\uc90c\uc544\uc6c3</span>\n            </button>\n        </div>\n        <button type="button" class="btn_util btn_compass" style="transform:rotate(-45deg)">\n            <span class="ico_roadview2">\ub098\uce68\ubc18</span>\n        </button>\n    </div>\n    --\>\n    <\!--// \ube44\ud65c\uc131 \ud0c0\uc785 --\>\n</div>\n',
CanvasStoreviewHeaderView:'<div class="info_roadview HIDDEN">\n    <span class="txt_add" data-id="placeName" ></span>\n    <button type="button" class="btn_util btn_surround" data-id="nearRoadviewBtn" >\n        <span class="ico_roadview2"></span>\n        <span class="txt_btn">\uc8fc\ubcc0 \ub85c\ub4dc\ubdf0 \ubcf4\uae30</span>\n    </button>\n    <span class="txt_date"><span class="screen_out">\uc2a4\ud1a0\uc5b4\ubdf0 \ucd2c\uc601 \uc6d4</span><span data-id="date" ></span></span>\n    <button type="button" class="btn_close" data-id="close">\n        <span class="ico_roadview2"></span>\n        <span class="tooltip_btn">\uc2a4\ud1a0\uc5b4\ubdf0 \uc885\ub8cc</span>\n    </button>\n</div>\n',
CanvasStoreviewPlaceMenuView:'<div class="navi_storeview HIDDEN">\n    <div class="head_navi">\n        <button type="button" class="btn_minimap" data-id="minimapBtn" >\n            <span class="ico_roadview2">\ubbf8\ub2c8\ub9f5 \ucf1c\uae30</span>\n        </button>\n        <div class="box_opt">\n            <strong class="screen_out">\uc2a4\ud1a0\uc5b4\ubdf0 \uc774\ub3d9\ud560 \uc7a5\uc18c \uc120\ud0dd \ubaa9\ub85d</strong>\n            <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9</em>\n            <a href="#none" class="link_navi" data-id="depthMenuBtn"><\!-- \ud074\ub9ad\ub418\uba74 navi_on \ud074\ub798\uc2a4 \ucd94\uac00\ub85c \uba54\ub274 \uc5f4\ub9bc --\>\n                <span class="txt_depth1">\uc5ec\uac1d\ud130\ubbf8\ub110</span><\!-- opt_depth1 \uc120\ud0dd\ub41c \uba54\ub274\uba85 \ub123\uc5b4\uc8fc\uc138\uc694 --\>\n                <span class="txt_bar">&gt;</span>\n                <span class="txt_depth1">2\uce35</span><\!-- opt_depth2 \uc120\ud0dd\ub41c \uba54\ub274\uba85 \ub123\uc5b4\uc8fc\uc138\uc694 --\>\n                <span class="txt_bar">&gt;</span>\n                <span class="txt_depth1">3\ub381\uc2a4\uba54\ub274\uc785\ub2c8\ub2f93\ub381\uc2a4</span><\!-- opt_depth3 \uc120\ud0dd\ub41c \uba54\ub274\uba85 \ub123\uc5b4\uc8fc\uc138\uc694 --\>\n                <span class="txt_bar">&gt;</span>\n                <span class="txt_depth1">4\ub381\uc2a4</span><\!-- opt_depth4 \uc120\ud0dd\ub41c \uba54\ub274\uba85 \ub123\uc5b4\uc8fc\uc138\uc694 --\>\n            </a>\n            <div class="wrap_list" data-id="depthMenu" >\n                <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n                <ul class="list_opt opt_depth1">\n                    <li><a href="#none" class="link_opt">\uad50\ud1b5\uc13c\ud130</a></li>\n                    <li class="on"><a href="#none" class="link_opt">\uad50\ud1b5\uc13c\ud130</a></li>\n                    <li><a href="#none" class="link_opt">\uc77c\uc774\uc0bc\uc0ac\uc624\ub959\uce60\ud314\uad6c\uc2ed\uc77c\uc774\uc0bc\uc0ac\uc624\ub959</a></li>\n                    <li><a href="#none" class="link_opt">\uc77c\uc774\uc0bc\uc0ac\uc624\ub959\uce60\ud314\uad6c\uc2ed\uc77c\uc774\uc0bc\uc0ac\uc624\ub959</a></li>\n                    <li><a href="#none" class="link_opt">\uc77c\uc774\uc0bc\uc0ac\uc624\ub959\uce60\ud314\uad6c\uc2ed\uc77c\uc774\uc0bc\uc0ac\uc624\ub959</a></li>\n                </ul>\n                <ul class="list_opt opt_depth2">\n                    <li><a href="#none" class="link_opt">\uc9c0\ud558 1\uce35</a></li>\n                    <li><a href="#none" class="link_opt">1\uce35</a></li>\n                    <li class="on"><a href="#none" class="link_opt">2\uce35</a></li>\n                    <li><a href="#none" class="link_opt">3\uce35</a></li>\n                    <li><a href="#none" class="link_opt">4\uce35</a></li>\n                    <li><a href="#none" class="link_opt">5\uce35</a></li>\n                    <li><a href="#none" class="link_opt">6\uce35</a></li>\n                    <li><a href="#none" class="link_opt">7\uce35</a></li>\n                    <li><a href="#none" class="link_opt">8\uce35</a></li>\n                    <li><a href="#none" class="link_opt">9\uce35</a></li>\n                    <li><a href="#none" class="link_opt">10\uce35</a></li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <div class="view_minimap HIDDEN" data-id="minimap" ><\!-- HIDDEN\uc73c\ub85c \ubbf8\ub2c8\ub9f5 \ub178\ucd9c/\uc228\uae40 \uc870\uc808 --\>\n        <strong class="screen_out">\ubbf8\ub2c8\ub9f5</strong>\n        <div id="miniZoomControl" class="MiniZoomControl MiniZoomControl_type2"><\!-- 2019-05-23 : MiniZoomControl_type2 \ud074\ub798\uc2a4 \ucd94\uac00 --\>\n            <div class="wrap_zoom">\n                <a href="#none" id="miniZoomControl.zoomin" data-type="zoomIn" class="zoomin"><span class="ico_roadview2 ico_zoom">\ud655\ub300</span></a>\n                <a href="#none" id="miniZoomControl.zoomout" data-type="zoomOut" class="zoomout"><span class="ico_roadview2 ico_zoom">\ucd95\uc18c</span></a>\n            </div>\n            <a href="#none" id="miniZoomControl.reset" data-type="reset" class="reset"><span class="ico_roadview2 ico_zoom">\ucd08\uae30\ud654</span></a>\n        </div>\n        <div data-id="minimapContainer" class="outer">\n            <div data-id="minimapPanel" style="left:0; top:0" class="panel">\n                <div data-id="minimapWrapper" class="wrapper">\n                    <div data-id="markerContainer" class="cont">\n                    </div>\n                    <img src="" data-id="minimapImg" class="img_map" >\n                </div>\n            </div>\n        </div>\n        <div class="info_minimap">\n            <div class="scale_map">\n                <strong class="screen_out">\ucd95\uc801</strong>\n                <span class="ico_scale"></span>\n                <span class="txt_scale" data-id=\'mapScale\' ></span>\n            </div>\n            <div class="compass_map" style="transform:rotate(-180deg)" data-id="minimapCompass" >\n                <strong class="screen_out">\ub098\uce68\ubc18</strong>\n                <span class="ico_roadview2 ico_compass"></span>\n            </div>\n        </div>\n    </div>\n</div>\n',
CarRouteItemView:'<li class="CarRouteItem">\r\n\t<div data-id="summary" class="summary"></div>\r\n\t<div data-id="detail" class="detail"></div>\r\n</li>',CarRoutePaySettingView:'<div class="CarRoutePaySettingView route_layer" style="top:187px"><\!-- 2018-12-18_v2 : route_layer \ud074\ub798\uc2a4 \ucd94\uac00 --\><\!-- 2018-12-18_v2 : \uc778\ub77c\uc778 top\uac12 \uc7a1\uc544\uc8fc\uc138\uc694 --\>\r\n\t<div class="inner_route_layer"><\!-- 2018-12-18_v2 \ucd94\uac00 : form \uac10\uc2f8\ub294 \uc694\uc18c(div.inner_route_layer) \ucd94\uac00 --\>\r\n\t\t<form data-id="paySettingForm" onsubmit="return false;">\r\n\t\t\t<fieldset>\r\n\t\t\t\t<\!-- <legend class="screen_out">\uc694\uae08\uc124\uc815 \ud3fc</legend> 2018-12-18_v2 \uc0ad\uc81c --\>\r\n\t\t\t\t<\!-- 2018-12-18_v2 \ucd94\uac00 : \ub808\uc774\uc5b4 \ud0c0\uc774\ud2c0 \uc601\uc5ed \ucd94\uac00 --\>\r\n\t\t\t\t<div class="layer_head">\r\n                    <strong class="tit_routeset">\uc694\uae08\uc124\uc815<span class="screen_out">\ub808\uc774\uc5b4</span></strong>\r\n                </div>\r\n                <\!--// 2018-12-18_v2 \ucd94\uac00 : \ub808\uc774\uc5b4 \ud0c0\uc774\ud2c0 \uc601\uc5ed \ucd94\uac00 --\>\r\n                <div class="layer_body">\r\n\t\t\t\t\t<div class="pay_setting">\r\n\t\t\t\t\t\t<strong class="ico_pathfind tit_setting">\ud1b5\ud589\ub8cc- \ucc28\uc885 \uc124\uc815</strong>\r\n\t\t\t\t\t\t<ul class="list_setting">\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<input type="radio" id="radioCarType1" class="inp_car" data-id="radioCarType1" name="choiceCar"><\!-- 2018-12-18_v2 : name \uc18d\uc131 \ucd94\uac00(\uc120\ud0dd\ubc94\uc704\uc758 name\uac12 \ub3d9\uc77c\ud558\uac8c \uc124\uc815) --\>\r\n\t\t\t\t\t\t\t\t<label for="radioCarType1" class="lab_car">\r\n\t\t\t\t\t\t\t\t\t<\!-- <span data-id="radioCarSpan1" class="ico_pathfind ico_choiced"></span> 2018-12-18_v2 \uc0ad\uc81c --\><span class="tit_sort">1\uc885</span><\!-- 2018-12-18_v2 \ucd94\uac00 : span.tit_sort \ucd94\uac00 --\><\!-- : --\> \uc2b9\uc6a9\ucc28, \uc18c\ud615 \uc2b9\ud569\ucc28\r\n\t\t\t\t\t\t\t\t</label><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8\uc218\uc815(:\uc0ad\uc81c) --\>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<input type="radio" id="radioCarType2" class="inp_car" data-id="radioCarType2" name="choiceCar"><\!-- 2018-12-18_v2 : name \uc18d\uc131 \ucd94\uac00(\uc120\ud0dd\ubc94\uc704\uc758 name\uac12 \ub3d9\uc77c\ud558\uac8c \uc124\uc815) --\>\r\n\t\t\t\t\t\t\t\t<label for="radioCarType2" class="lab_car">\r\n\t\t\t\t\t\t\t\t\t<\!-- <span data-id="radioCarSpan2" class="ico_pathfind"></span> 2018-12-18_v2 \uc0ad\uc81c --\><span class="tit_sort">2\uc885</span><\!-- 2018-12-18_v2 \ucd94\uac00 : span.tit_sort \ucd94\uac00 --\><\!-- : --\> \uc911\ud615 \uc2b9\ud569\ucc28, \uc911\ud615 \ud654\ubb3c\ucc28\r\n\t\t\t\t\t\t\t\t</label><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8\uc218\uc815(:\uc0ad\uc81c) --\>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<input type="radio" id="radioCarType3" class="inp_car" data-id="radioCarType3" name="choiceCar"><\!-- 2018-12-18_v2 : name \uc18d\uc131 \ucd94\uac00(\uc120\ud0dd\ubc94\uc704\uc758 name\uac12 \ub3d9\uc77c\ud558\uac8c \uc124\uc815) --\>\r\n\t\t\t\t\t\t\t\t<label for="radioCarType3" class="lab_car">\r\n\t\t\t\t\t\t\t\t\t<\!-- <span data-id="radioCarSpan3" class="ico_pathfind"></span> 2018-12-18_v2 \uc0ad\uc81c --\><span class="tit_sort">3\uc885</span><\!-- 2018-12-18_v2 \ucd94\uac00 : span.tit_sort \ucd94\uac00 --\><\!-- : --\> \ub300\ud615 \uc2b9\ud569\ucc28, 2\ucd95 \ub300\ud615 \ud654\ubb3c\ucc28\r\n\t\t\t\t\t\t\t\t</label><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8\uc218\uc815(:\uc0ad\uc81c) --\>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<input type="radio" id="radioCarType4" class="inp_car" data-id="radioCarType4" name="choiceCar"><\!-- 2018-12-18_v2 : name \uc18d\uc131 \ucd94\uac00(\uc120\ud0dd\ubc94\uc704\uc758 name\uac12 \ub3d9\uc77c\ud558\uac8c \uc124\uc815) --\>\r\n\t\t\t\t\t\t\t\t<label for="radioCarType4" class="lab_car">\r\n\t\t\t\t\t\t\t\t\t<\!-- <span data-id="radioCarSpan4" class="ico_pathfind"></span> 2018-12-18_v2 \uc0ad\uc81c --\><span class="tit_sort">4\uc885</span><\!-- 2018-12-18_v2 \ucd94\uac00 : span.tit_sort \ucd94\uac00 --\><\!-- : --\> 3\ucd95 \ub300\ud615 \ud654\ubb3c\ucc28\r\n\t\t\t\t\t\t\t\t</label><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8\uc218\uc815(:\uc0ad\uc81c) --\>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<input type="radio" id="radioCarType5" class="inp_car" data-id="radioCarType5" name="choiceCar"><\!-- 2018-12-18_v2 : name \uc18d\uc131 \ucd94\uac00(\uc120\ud0dd\ubc94\uc704\uc758 name\uac12 \ub3d9\uc77c\ud558\uac8c \uc124\uc815) --\>\r\n\t\t\t\t\t\t\t\t<label for="radioCarType5" class="lab_car">\r\n\t\t\t\t\t\t\t\t\t<\!-- <span data-id="radioCarSpan5" class="ico_pathfind"></span> 2018-12-18_v2 \uc0ad\uc81c --\><span class="tit_sort">5\uc885</span><\!-- 2018-12-18_v2 \ucd94\uac00 : span.tit_sort \ucd94\uac00 --\><\!-- : --\> 4\ucd95 \uc774\uc0c1 \ud2b9\uc218\ud654\ubb3c\ucc28\r\n\t\t\t\t\t\t\t\t</label><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8\uc218\uc815(:\uc0ad\uc81c) --\>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li class="lst">\r\n\t\t\t\t\t\t\t\t<input type="radio" id="radioCarType6" class="inp_car" data-id="radioCarType6" name="choiceCar"><\!-- 2018-12-18_v2 : name \uc18d\uc131 \ucd94\uac00(\uc120\ud0dd\ubc94\uc704\uc758 name\uac12 \ub3d9\uc77c\ud558\uac8c \uc124\uc815) --\>\r\n\t\t\t\t\t\t\t\t<label for="radioCarType6" class="lab_car">\r\n\t\t\t\t\t\t\t\t\t<\!-- <span data-id="radioCarSpan6" class="ico_pathfind"></span> 2018-12-18_v2 \uc0ad\uc81c --\><span class="tit_sort">6\uc885</span><\!-- 2018-12-18_v2 \ucd94\uac00 : span.tit_sort \ucd94\uac00 --\><\!-- : --\> \uacbd\ucc28\r\n\t\t\t\t\t\t\t\t</label><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8\uc218\uc815(:\uc0ad\uc81c) --\>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<a href="http://www.ex.co.kr/site/com/pageProcess.do?oneDpMnNo=&amp;selDpPgNm=menuno%3D100401011&amp;selDpMnNo=&amp;paramStr=&amp;detailTp=&amp;dirNm=portal&amp;kwd=" target="_blank" class="link_office">\ud55c\uad6d\ub3c4\ub85c\uacf5\uc0ac</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="pay_setting refuel_setting">\r\n\t\t\t\t\t\t<strong class="ico_pathfind tit_setting">\uc8fc\uc720\ube44 \uc124\uc815</strong>\r\n\t\t\t\t\t\t<dl class="list_type">\r\n\t\t\t\t\t\t\t<dt class="tit_refuel">\r\n\t\t\t\t\t\t\t\t<label for="setRefuel" class="screen_out">\uc720\uc885</label><\!-- 2018-12-18_v2 \uc218\uc815 : class\uc18d\uc131 \ucd94\uac00 --\>\r\n\t\t\t\t\t\t\t</dt>\r\n\t\t\t\t\t\t\t<dd class="detail_refuel">\r\n\t\t\t\t\t\t\t\t<div data-id="setRefuel" class="opt_pathfind opt_open"><\!-- 2018-12-18_v2 : opt_open \ud074\ub798\uc2a4\ub85c \uc635\uc158\ubc15\uc2a4 \ud65c\uc131\ud654 --\>\r\n\t\t\t\t\t\t\t\t\t<div class="screen_out">\uc8fc\uc720 \uc885\ub958 \uc120\ud0dd\uc0c1\uc790</div>\r\n\t\t\t\t\t\t\t\t\t<span class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 : </span>\r\n\t\t\t\t\t\t\t\t\t<a href="#" class="img_pathfind link_selected" data-id="setRefuelText">\ud718\ubc1c\uc720</a>\r\n\t\t\t\t\t\t\t\t\t<div class="screen_out">\uc120\ud0dd\uc635\uc158</div>\r\n\t\t\t\t\t\t\t\t\t<ul class="list_opt">\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="link_option" data-id="gasoline">\ud718\ubc1c\uc720</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="link_option" data-id="light">\uacbd\uc720</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="link_option" data-id="lpg">LPG</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<\!-- <span data-id="refuelDate">2018.09.11</span> \uae30\uc900 \uc720\uac00<em class="txt_value emph_value" data-id="refuelPrice">1,630\uc6d0/L</em> 2018-12-18_v2 \uc0ad\uc81c : \uae30\uc900\uc720\uac00\uc815\ubcf4 \uc704\uce58\uc774\ub3d9\uc73c\ub85c \uc778\ud55c \uc0ad\uc81c --\>\r\n\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t\t<dt class="tit_refuel tit_mileage">\r\n\t\t\t\t\t\t\t\t<label for="setMileage" class="screen_out">\uc5f0\ube44</label><\!-- 2018-12-18_v2 \uc218\uc815 : class\uc18d\uc131 \ucd94\uac00 --\>\r\n\t\t\t\t\t\t\t</dt>\r\n\t\t\t\t\t\t\t<dd class="detail_refuel detail_mileage">\r\n\t\t\t\t\t\t\t\t<\!-- \uc5f0\ub8cc1L\ub2f9 \uc8fc\ud589\uac70\ub9ac --\><input type="text" id="setMileage" maxlength="6" class="inp_mileage" data-id="setMileage" placeholder="\uc8fc\ud589\uac70\ub9ac">km / 1L\r\n\t\t\t\t\t\t\t</dd><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8 \uc0ad\uc81c(\uc5f0\ub8cc1L\ub2f9 \uc8fc\ud589\uac70\ub9ac),\uae30\uc900 \ud14d\uc2a4\ud2b8 \ucd94\uac00( / 1L) --\>\r\n\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t\t<span class="txt_base">\r\n\t\t\t\t\t\t\t<span data-id="refuelDate">2018.09.11</span> \uae30\uc900 \uc720\uac00 <em class="txt_value emph_value" data-id="refuelPrice">1,630\uc6d0/L</em><\!-- 2018-12-18_v2 \ucd94\uac00 : \uae30\uc900\uc720\uac00\uc815\ubcf4 \uc704\uce58\uc774\ub3d9\uc73c\ub85c \uc778\ud55c \ucd94\uac00 --\>\r\n\t\t\t\t\t\t</span><\!-- 2018-12-18_v2 \ucd94\uac00 : \uae30\uc900\uc720\uac00\uc815\ubcf4 \uac10\uc2f8\ub294 span.txt_base \ucd94\uac00 --\>\r\n\t\t\t\t\t\t<a href="http://www.opinet.co.kr/index.do?cmd=main" target="_blank" class="link_office">\ud55c\uad6d\uc11d\uc720\uacf5\uc0ac<\!--  opinet --\></a><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8 \uc218\uc815 --\>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button type="submit" class="btn_setting">\ud655\uc778</button><\!-- 2018-12-18_v2 \ucd94\uac00 --\>\r\n\t\t\t\t\t<ul class="list_setcaution">\r\n\t\t\t\t\t\t<li>\uc8fc\uc720\ube44, \ud1b5\ud589\ub8cc \uc815\ubcf4\ub294 \uc8fc\uc720\uc18c \uac00\uaca9 \ubc0f  \ud1b5\ud589\uc2dc\uac04\uc5d0 \ub530\ub77c \ub2ec\ub77c\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li><\!-- 2018-12-18_v2 \uc218\uc815 : \ud074\ub798\uc2a4(.ico_pathfind) \uc0ad\uc81c --\>\r\n\t\t\t\t\t\t<li>\ud574\ub2f9 \uc11c\ube44\uc2a4 \uacb0\uacfc\ub294 \uc608\uc0c1 \ube44\uc6a9\uc73c\ub85c, \ucc38\uace0\uc6a9\uc73c\ub85c\ub9cc \uc774\uc6a9\ud574 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.</li><\!-- 2018-12-18_v2 \uc218\uc815 : \ud074\ub798\uc2a4(.ico_pathfind) \uc0ad\uc81c --\>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<\!-- <button type="submit" class="img_pathfind btn_setting">\uc124\uc815\uc644\ub8cc</button> 2018-12-18_v2 \uc0ad\uc81c --\>\r\n\t\t\t\t</div><\!-- 2018-12-18_v2 \ucd94\uac00 : [div.pay_setting + ul.list_setcaution + button.btn_settin] \uac10\uc2f8\ub294 div.layer_body \ucd94\uac00 --\>\r\n\t\t\t\t<\!-- 2018-12-18_v2 : \ub2eb\uae30 \ubc84\ud2bc \ucd94\uac00 --\>\r\n\t\t\t\t<div class="layer_foot">\r\n\t\t            <a href="#" class="btn_close" data-id=\'closeBtn\'>\uc694\uae08\uc124\uc815 \ub808\uc774\uc5b4 \ub2eb\uae30</a>\r\n\t\t        </div>\r\n\t\t\t\t<\!--// 2018-12-18_v2 : \ub2eb\uae30 \ubc84\ud2bc \ucd94\uac00 --\>\r\n\t\t\t</fieldset>\r\n\t\t</form>\r\n\t</div>\r\n</div>',
CarRouteResultView:'<div class="info_pathfind"> <\!-- \uc694\uae08\uc124\uc815 \uc120\ud0dd\uc2dc paysetting_on \ud074\ub798\uc2a4 \ucd94\uac00  --\>\r\n\t<div class="menu_pathfind" data-id=\'menu\' >\r\n\t\t<div data-id="option" class="opt_pathfind"> <\!-- \uc635\uc158 \uc120\ud0dd\uc2dc opt_open \ud074\ub798\uc2a4 \ucd94\uac00 --\>\r\n\t\t\t<div class="screen_out">\uae38\ucc3e\uae30 \uc885\ub958 \uc120\ud0dd\uc0c1\uc790</div>\r\n\t\t\t<span class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 : </span>\r\n\t\t\t<a href="#" data-id="optionText" class="img_pathfind link_selected">\ucd5c\uc801\uacbd\ub85c</a>\r\n\t\t\t<div class="screen_out">\uc120\ud0dd\uc635\uc158</div>\r\n\t\t\t<ul class="list_opt">\r\n\t\t\t\t<li><a href="#" data-id="recomm" class="link_option">\ucd5c\uc801\uacbd\ub85c</a></li>\r\n\t\t\t\t<li><a href="#" data-id="freeway" class="link_option">\ubb34\ub8cc\uacbd\ub85c</a></li>\r\n\t\t\t\t<li><a href="#" data-id="shortest" class="link_option">\ucd5c\ub2e8\uac70\ub9ac</a></li>\r\n\t\t\t\t<li><a href="#" data-id="bike" class="link_option">\uc790\ub3d9\ucc28\uc804\uc6a9\uc81c\uc678</a></li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div class="inner_pathfind">\r\n\t\t\t<div data-id="realtime" class="check_live">\r\n\t\t\t\t<input type="checkbox" data-id="realCheckBox" id="checkLive" class="inp_live">\r\n\t\t\t\t<label for="checkLive" class="lab_live">\uc2e4\uc2dc\uac04</label>\r\n\t\t\t</div>\r\n\t\t\t<span class="txt_bar" data-id="realtimeBar" >|</span>\r\n\t\t\t<a href="#none" data-id="payset" class="link_payset link_payon">\uc694\uae08\uc124\uc815</a>\r\n\t\t</div>\r\n\t</div>\r\n</div>',
CarRouteSummaryView:'<div class="CarRouteSummaryView">\r\n\t<div class="contents">\r\n\t\t<p class="header">\r\n\t\t\t<span data-id="time" class="time"></span>\r\n\t\t\t<span data-id="distance" class="distance"></span>\r\n\t\t</p>\r\n\t\t<div class="info">\r\n\t\t\t<span data-id="toll" class="toll HIDDEN"></span>\r\n\t\t\t<span data-id="split-taxi" class="split HIDDEN">|</span>\r\n\t\t\t<span data-id="taxi" class="taxi HIDDEN"></span>\r\n\t\t\t<span data-id="split-oil" class="split HIDDEN">|</span>\r\n\t\t\t<span data-id="oil" class="oil HIDDEN"></span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="ferryNodeInfo">\r\n\t\t<span class="icoNotice"></span>\r\n\t\t<div class="ferryNotice">\r\n\t\t\t<strong>\uc774 \uacbd\ub85c\ub294 \ud398\ub9ac\ud56d\ub85c\uac00 \ud3ec\ud568\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</strong>\r\n\t\t\t<p>\ud398\ub9ac\ud56d\ub85c\uc758 \uc18c\uc694\uc2dc\uac04\uc740 35km/h\ub85c \ud658\uc0b0\ud558\uc5ec \uc81c\uacf5\ub429\ub2c8\ub2e4.<br>\uc2e4\uc81c \uc18c\uc694\uc2dc\uac04\uacfc \ub2e4\ub97c \uc218 \uc788\uc73c\ub2c8 \ucc38\uace0 \ubd80\ud0c1\ub4dc\ub9bd\ub2c8\ub2e4.</p>\r\n\t\t</div>\r\n\t</div>\r\n</div>',
CctvInfoWindow:'<div class="InfoWindow CctvInfoWindow">\r\n    <div class="top"></div>\r\n    <div class="body">\r\n        <strong></strong>\r\n        <div data-id="dimmed" class="cctvDimmed HIDDEN">\r\n            <\!-- 2018-09-12 dimmedView \ucd94\uac00 --\>\r\n            <div class="dimmedView">\r\n                <span data-id="dimmedText" class="dimmedText"></span>\r\n                <a href="#" data-id="play" class="play">\ubcf4\uae30</a>\r\n            </div>\r\n            <div class="dimmedLayer"></div>\r\n        </div>\r\n        <div class="cctv_video_target">\r\n            <video data-id="video" width="310" autoplay muted></video>\r\n            <div class="b_t"></div>\r\n            <div class="b_b"></div>\r\n            <div class="b_l"></div>\r\n            <div class="b_r"></div>\r\n        </div>\r\n        <blockquote>\r\n            <p class="notice_top">&nbsp;</p>\r\n            <p class="notice_bottom">&nbsp;</p>\r\n        </blockquote>\r\n        <button type="button" data-id="close" class="closebox ICON-closebox">\ub2eb\uae30</button>\r\n    </div>\r\n    <div class="bottom"></div>\r\n</div>\r\n',
CheckpointItemGroupView:'<li class="CheckpointItemGroupView">\n\t<\!--\n\t<div class="headbg"></div>\n\t<div data-id="summary" class="summary">\n\t\t<a data-id="detailBtn" class="detailBtn" href="#"></a>\n\t\t<div class="expressInfo">\n\t\t\t<span data-id="time" class="time"></span>\n\t\t\t<span class="bar">|</span>\n\t\t\t<span data-id="distance" class="distance"></span>\n\t\t</div>\n\t\t<img data-id="icon" class="expressIcon" />\n\t\t<strong data-id="name" class="expressName"></strong>\n\t</div>\n\t<div data-id="overview" class="overview"></div>\n\t<ol data-id="checkpoints"></ol>\n\t<div class="bottombg"></div>\n\t--\>\n\n\t<\!-- 2018-08-01 \uc218\uc815 \uc2dc\uc791 --\>\n\t<div data-id="summary" class="summary">\n\t\t<span data-id="icon" class="expressIcon">1</span>\n\t\t<strong data-id="name" class="expressName">\uacbd\ubd80\uace0\uc18d\ub3c4\ub85c</strong>\n\t\t<div class="expressInfo">\n\t\t\t<span data-id="time" class="time">0\ubd84</span>,\n\t\t\t<span data-id="distance" class="distance">5.2km</span>\n\t\t</div>\n\t\t<a href="#none" data-id="detailBtn" class="detailBtn">\uc0c1\uc138 \uc5f4\uae30/\ub2eb\uae30</a>\n\t</div>\n\t<div data-id="overview" class="overview">\n\t\t<\!--\n\t\t<span class="sectionImg seqIcon first" style="background-position: -30px -30px;"></span><span>\ud310\uad50IC ~</span><span class="sectionImg seqIcon" style="background-position: -60px -30px;"></span><span>\ud310\uad50TG </span>\n\t\t--\>\n\t</div>\n\t<ol data-id="checkpoints">\n\t</ol>\n\t<\!-- // 2018-08-01 \uc218\uc815 \ub05d --\>\n</li>',
CheckpointItemView:'<li class="CheckpointItem">\n\t<div class="seqWrap">\n\t\t<span data-id="seq" class="seq">1</span>\n\t</div>\n\t<div class="info_name">\n\t\t<div class="inner_name">\n\t\t\t<a data-id="name" class="name HIDDEN" href="#none"></a>\n\t\t\t<a data-id="desc" class="info noname" href="#none"></a>\n\t\t</div>\n\t</div>\n\t<div data-id="traffic" class="traffic">\n\t\t<div data-id="arrow" class="arrow rotate_a traffic_moderate"></div>\n\t\t<div data-id="state" class="state"></div>\n\t</div>\n\t<a href="#none" data-id="roadview" class="roadview">\ub85c\ub4dc\ubdf0</a>\n\t<ul data-id="accident" class="accContainer"></ul>\n</li>\n',
DistanceToolDetail:'<div class="DistanceToolDetail">\n\t<ul>\n\t\t<li data-id="relativeWrap">\n\t\t\t<span class="detailToolLabel">\uc0c1\ub300\uac70\ub9ac</span>\n\t\t\t<strong data-id="relativeDistance">0</strong>\n\t\t\t<span data-id="relativeDistanceUnit">m</span>\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\ucd1d\uac70\ub9ac</span>\n\t\t\t<strong data-id="totalDistance">0</strong>\n\t\t\t<span data-id="totalDistanceUnit">m</span>\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\ub3c4\ubcf4</span>\n\t\t\t<span class="HIDDEN" data-id="walkHour"><strong>0</strong>\uc2dc\uac04 </span>\n\t\t\t<strong data-id="walkMin">0</strong>\ubd84\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\uc790\uc804\uac70</span>\n\t\t\t<span class="HIDDEN" data-id="bicycleHour"><strong>0</strong>\uc2dc\uac04 </span>\n\t\t\t<strong data-id="bicycleMin">0</strong>\ubd84\n\t\t</li>\n\t\t<li class="detailToolClose">\n\t\t\t<a href="#" data-id="hider">\ub2eb\uae30</a>\n\t\t</li>\n\t</ul>\n    <p data-id="help" class="help"><em>\ubd80\ubd84\ucde8\uc18c</em> : \ubc31\uc2a4\ud398\uc774\uc2a4<br/><em>\uc9c0\uc815\uc644\ub8cc</em> : \ub9c8\uc6b0\uc2a4 \uc624\ub978\ucabd, ESC</p>\n</div>',
DupItemView:'<li class="DupItemView" >\r\n\t<span data-id="flag" class="dupFlag"></span>\r\n\t<button type="button" data-id="name" class="name"></button>\r\n</li>\r\n',DupListView:'<div class="DupListView">\r\n    <div class="dupTitleWrap">\r\n        <strong class="screen_out">\uad00\ub828\uc7a5\uc18c \uc120\ud0dd\uc0c1\uc790</strong>\r\n        <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\r\n        <a href="#none" class="dupTitle" data-id="dupToggle">\uad00\ub828\uc7a5\uc18c <em data-id="dup_cnt"></em></a>\r\n    </div>\r\n    <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\r\n    <ul class="duplist HIDDEN" data-id="duplist"></ul>\r\n</div>\r\n',
FavoriteBusStopLineView:'<li data-stopid="{{fav.key}}" data-stopid={{stopid}} data-seq={{seq}} data-lineid={{line.id}} data-available="{{isRightBusLine}}" data-idx="{{line.idx}}">\n    {{#isRightBusLine}}{{{arrivalHtml}}}{{/isRightBusLine}}\n    {{^isRightBusLine}}\n    <span class="txt_noti" data-id="noti"><span class="ico_noti">\uc8fc\uc758</span>\ub178\uc120\ubcc0\uacbd</span>\n    {{/isRightBusLine}}\n    <input data-id="checkbox" type="checkbox" id="FavoriteDirectoryItem{{uniqueKey}}" class="inp_directory" value="{{uniqueKey}}" data-type="line">\n    <label for="FavoriteDirectoryItem{{uniqueKey}}" class="ico_mypage lab_directory">\uc120\ud0dd\uc548\ub428</label>\n    <span class="txt_infobus">\n        <strong class="tit_bus">\n            <span class="{{busTypeClass}}">{{busTypeName}}</span>\n            <span class="num">{{busName}}</span>{{busSubName}}\n        </strong>\n        {{#direction}}\n        <span class="txt_dir">{{direction}}</span>\n        {{/direction}}\n    </span>\n    <a href="#none" class="link_bus" title="\uc2e4\uc2dc\uac04 \ub178\uc120 \uc815\ubcf4 \ubc14\ub85c\uac00\uae30"></a>\n</li>\n',
FavoriteFolderInfoView:'<table class="tbl_interlock">\n    <caption class="ir_caption">\uadf8\ub8f9 \uc815\ubcf4</caption>\n    <colgroup>\n        <col style="width:57px">\n        <col>\n    </colgroup>\n    <tbody>\n    <tr>\n        <th scope="row">\uadf8\ub8f9\uba85</th>\n        <td>\n            {{title}}\n            {{#isMyFolder}}\n                {{#isPrivate}}<span class="txt_lock"><span class="ico_lock"></span>\ube44\uacf5\uac1c</span>{{/isPrivate}}\n                {{^isPrivate}}<span class="txt_lock unlock"><span class="ico_lock"></span>\uacf5\uac1c</span>{{/isPrivate}}\n            {{/isMyFolder}}\n        </td>\n    </tr>\n    {{^isDefaultFolder}}{{#isMemo}}\n    <tr>\n        <th scope="row">\uc124\uba85</th>\n        <td>{{memo}}</td>\n    </tr>\n    {{/isMemo}}{{/isDefaultFolder}}\n    <tr>\n        <th scope="row">\uc791\uc131\uc790</th>\n        <td class="td_user">\n            <a data-id="profileLink" href="#none">\n                <span class="wrap_thumb">\n                    {{#isProfileImage}}\n                        <img src="{{profileThumbnail}}" width="17" height="17" class="img_user" alt="" onerror="this.style.display=\'none\'"/>\n                    {{/isProfileImage}}\n                </span>{{nickName}}\n            </a>\n        </td>\n    </tr>\n    <tr>\n        <th scope="row">\uac1c\uc218</th>\n        <td>{{favoriteCount}}</td>\n    </tr>\n    {{^isDefaultFolder}}\n    <tr>\n        <th scope="row">\uad6c\ub3c5</th>\n        <td>{{subscribeCount}}</td>\n    </tr>\n    <tr>\n        <th scope="row">\uc870\ud68c</th>\n        <td>{{viewCount}}</td>\n    </tr>\n    <tr>\n        <th scope="row">\uc0dd\uc131\uc77c</th>\n        <td>{{createdAt}}</td>\n    </tr>\n    {{/isDefaultFolder}}\n    </tbody>\n</table>\n',
FavoriteFolderItemView:'<li class="FavoriteDirectoryItem{{#isDisabled}} FavoriteDirectoryItem-DISABLED{{/isDisabled}}{{#isReadonly}} READONLY{{/isReadonly}}">\n    {{^isReadonly}}\n    <input data-id="checkbox" type="checkbox" id="fav_{{folderId}}" class="inp_directory" value="{{folderId}}"/>\n    <label for="fav_{{folderId}}" class="ico_mypage lab_directory">\uc120\ud0dd\uc548\ub428</label>\n    {{/isReadonly}}\n    <div class="FavoriteInformationBundle">\n        <span class="ico_directory {{iconClass}}"></span><\!-- \uc544\uc774\ucf58 \ubaa8\uc591 \ubcc0\uacbd\uc2dc \ud074\ub798\uc2a4 \ucd94\uac00 \uc694\uccad --\>\n        {{#isDisabledSummaryUi}}\n        <div class="FavoriteReportDesc">\n            {{#isTempByOther}}\n            <p class="desc_report">\uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n                <a href="http://www.kakao.com/policy/right" class="link_report" target="_blank">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>\n            </p>\n            {{/isTempByOther}}\n            {{#isAdminDelete}}\n            <p class="desc_report">\uc6b4\uc601\uc815\ucc45 \uc704\ubc18\uc73c\ub85c \uad00\ub9ac\uc790\uc5d0 \uc758\ud574 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4. </p>\n            {{/isAdminDelete}}\n        </div>\n        {{/isDisabledSummaryUi}}\n        {{^isDisabledSummaryUi}}\n        <div class="info_directory">\n            <div class="tit_directory">\n                {{#isDisabled}}\n                {{#isDelete}}\n                <span class="txt_report">\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uadf8\ub8f9\uc785\ub2c8\ub2e4.</span>\n                {{/isDelete}}\n                {{#isPrivate}}\n                <span class="txt_report">\ube44\uacf5\uac1c \ucc98\ub9ac\ub41c \uad6c\ub3c5 \uadf8\ub8f9\uc785\ub2c8\ub2e4.</span>\n                {{/isPrivate}}\n                {{#isTempByOwner}}\n                <span class="util_directory">\n                    {{#isTheme}}<span class="ico_mypage ico_theme">\ud14c\ub9c8</span>{{/isTheme}}\n                    {{#isFixed}}<span class="ico_mypage ico_fix">\uace0\uc815</span>{{/isFixed}}\n                </span>\n                <strong data-id="link" class="txt_directory"><a href="#none" class="link_txt">{{title}}</a></strong>\n                {{/isTempByOwner}}\n                {{/isDisabled}}\n                {{^isDisabled}}\n                <span class="util_directory">\n                    {{#isTheme}}<span class="ico_mypage ico_theme">\ud14c\ub9c8</span>{{/isTheme}}\n                    {{#isFixed}}<span class="ico_mypage ico_fix">\uace0\uc815</span>{{/isFixed}}\n\n                </span>\n                <strong data-id="link" class="txt_directory"><a href="#none" class="link_txt">{{title}}</a></strong>\n                {{/isDisabled}}\n            </div>\n            {{#isCountWrap}}\n            <div class="desc_directory">\n                <span class="info_refer">\n                    {{^isPageOwner}}\n                    <span class="txt_bar"></span>\n                    {{/isPageOwner}}\n                    <span class="txt_refer">\uac1c\uc218 <span class="num">{{favoriteCountText}}</span></span>\n                    {{#subscribeCount}}\n                    <span class="txt_bar"></span>\n                    <span class="txt_refer">\uad6c\ub3c5 <span class="num">{{subscribeCount}}</span></span>\n                    {{/subscribeCount}}\n                    {{#showsPrivacy}}\n                        {{^isOtherPage}}<span class="txt_bar"></span>{{/isOtherPage}}\n                        {{#isPrivate}}<span class="txt_lock"><span class="ico_mypage ico_lock"></span>\ube44\uacf5\uac1c</span>{{/isPrivate}}\n                        {{#isPublic}}<span class="txt_lock unlock"><span class="ico_mypage ico_lock"></span>\uacf5\uac1c</span>{{/isPublic}}\n                    {{/showsPrivacy}}\n                </span>\n                {{^isPageOwner}}\n                <a href="#none" data-id="nickname" class="link_user">\n                    <span class="wrap_thumb">\n                        {{#isProfileImage}}\n                            <img src="{{profileThumbnail}}" width="14" height="14" class="img_user" alt="" onerror="this.style.display=\'none\'"/>\n                        {{/isProfileImage}}\n                    </span>{{nickName}}</a>\n                {{/isPageOwner}}\n            </div>\n            {{/isCountWrap}}\n        </div>\n        {{/isDisabledSummaryUi}}\n        <button type="button" data-id="more" class="btn_more"><span class="ico_mypage ico_more">\ub354\ubcf4\uae30</span></button>\n    </div>\n    {{#isTempByOwner}}\n    <div class="FavoriteReportDesc">\n        <p class="desc_report">\n            \uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.<br>\n            <a href="http://www.kakao.com/policy/right" class="link_report" target="_blank">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>\n        </p>\n    </div>\n    {{/isTempByOwner}}\n    <div data-id="setting" class="FavoriteSettingLayer HIDDEN">\n        <ul class="list_opt">\n            {{#settings}}\n            <li data-id="{{action}}" data-value="{{value}}"><a href="#none" class="{{#isDimmed}}link_dimmed{{/isDimmed}}">{{name}}</a></li>\n            {{/settings}}\n        </ul>\n    </div>\n</li>\n',
FavoriteFooterView:'<div>\n    <div data-id="options" class="utile_edit HIDDEN">\n        <button data-id="select" type="button" class="btn_selectall">\uc804\uccb4 \uc120\ud0dd</button>\n        {{^isFolder}}\n        <span data-id="copySpan" class="btn_utile">\ubcf5\uc0ac</span>\n        <button data-id="copy" type="button" class="btn_utile HIDDEN">\ubcf5\uc0ac</button>\n        {{/isFolder}}\n        <span data-id="removeSpan" class="btn_utile">\uc0ad\uc81c</span>\n        <button data-id="remove" type="button" class="btn_utile HIDDEN">\uc0ad\uc81c</button>\n    </div>\n{{#isFolder}}\n    <button data-id="add" type="button" class="btn_addfolder"><span class="ico_function ico_addfolder"></span>\uc0c8 \uadf8\ub8f9 \ucd94\uac00</button>\n    <button data-id="edit" type="button" class="btn_edit">\ud3b8\uc9d1\ud558\uae30</button>\n{{/isFolder}}\n{{^isFolder}}\n    {{#isShareable}}\n    <button data-id="share" type="button" class="btn_share"><span class="ico_function ico_share"></span>\uacf5\uc720\ud558\uae30</button>\n    {{/isShareable}}\n    {{^isShareable}}\n    <span data-id="share" class="btn_share"><span class="ico_function ico_share"></span>\uacf5\uc720\ud558\uae30</span>\n    {{/isShareable}}\n    <button data-id="info" type="button" class="btn_info">\uadf8\ub8f9 \uc815\ubcf4</button>\n    {{#isEmpty}}\n    <span data-id="disabledEdit" class="btn_edit">\ud3b8\uc9d1\ud558\uae30</span>\n    {{/isEmpty}}\n    {{^isEmpty}}\n    <button data-id="edit" type="button" class="btn_edit">\ud3b8\uc9d1\ud558\uae30</button>\n    {{/isEmpty}}\n{{/isFolder}}\n</div>\n',
FavoriteHeaderView:'<div>\n{{#isFolder}}\n    {{#isOtherPage}}\n    <h2 class="screen_out">\ub2e4\ub978\uc0ac\ub78c \ud398\uc774\uc9c0</h2>\n    <button type="button" data-id="historyBack" class="ico_mypage btn_back">\ub4a4\ub85c\uac00\uae30</button>\n    <button type="button" data-id="more" class="btn_more"><span class="ico_mypage ico_more">\ub354\ubcf4\uae30</span></button>\n    <div data-id="setting" class="FavoriteSettingLayer HIDDEN">\n        <ul class="list_opt">\n            <li><a href="#none" data-id="report">\ud504\ub85c\ud544 \uc2e0\uace0</a></li>\n        </ul>\n    </div>\n    <button type="button" data-id="close" class="ico_mypage btn_close">\ub2eb\uae30</button>\n    <div class="FavoriteOtherProfile">\n        {{#selectInfo.isProfileImage}}\n        <div class="wrap_thumb">\n            <img src="{{selectInfo.profileThumbnail}}" width="44" height="44" class="img_user" alt="" onerror="this.style.display=\'none\'"/>\n        </div>\n        {{/selectInfo.isProfileImage}}\n        {{^selectInfo.isReportProfile}}\n        <strong class="tit_user">\n            {{selectInfo.nickName}}{{#selectInfo.cp}}<span class="ico_mypage ico_official"></span>{{/selectInfo.cp}}&nbsp;\n        </strong>\n        {{/selectInfo.isReportProfile}}\n        {{#selectInfo.isReportProfile}}\n        {{#selectInfo.isTempProfile}}\n        <p class="tit_user">\uc2e0\uace0\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4. <a href="http://www.kakao.com/policy/right" target="_blank" class="link_report">\uc548\ub0b4</a></p>\n        {{/selectInfo.isTempProfile}}\n        {{^selectInfo.isTempProfile}}\n        <p class="tit_user">\uc2e0\uace0\uc5d0 \uc758\ud574 \uc0ad\uc81c\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.</p>\n        {{/selectInfo.isTempProfile}}\n        {{/selectInfo.isReportProfile}}\n    </div>\n    {{^selectInfo.cp}}\n    <div data-id="tab" class="FavoriteOtherMethodType">\n        <ul>\n            <li data-type="favorite" class="ACTIVE"><a href="#none">\uc990\uaca8\ucc3e\uae30</a></li>\n            <li data-type="review"><a href="#none">\ud6c4\uae30</a></li>\n        </ul>\n    </div>\n    {{/selectInfo.cp}}\n    <div data-id="reviewFilters" class="info_result HIDDEN"></div>\n    <div data-id="folderFilters" class="info_result"></div>\n    {{/isOtherPage}}\n    {{^isOtherPage}}\n    <div data-id="folderFilters" class="info_result"></div>\n    {{/isOtherPage}}\n{{/isFolder}}\n\n{{^isFolder}}\n    <div class="FavoriteDetailSummary">\n        <h4 class="tit_summary">{{folderInfo.title}}</h4>\n        <div class="desc_summary">\n            {{#isSubscribeCount}}\n            <span class="txt_refer">\uad6c\ub3c5 <span class="num">{{folderInfo.subscribeCount}}</span></span><span class="bar"></span>\n            {{/isSubscribeCount}}\n            {{#isViewCount}}\n            <span class="txt_refer">\uc870\ud68c <span class="num">{{folderInfo.viewCount}}</span></span><span class="bar"></span>\n            {{/isViewCount}}\n\n            {{#isOtherPage}}\n            <a href="#none" data-id="profileLink" class="link_user">\n                <span class="wrap_thumb">\n                    {{#selectInfo.isProfileImage}}\n                        <img src="{{selectInfo.profileThumbnail}}" width="14" height="14" class="img_user" alt="" onerror="this.style.display=\'none\'"/>\n                    {{/selectInfo.isProfileImage}}\n                </span>\n                {{^selectInfo.isReportProfile}}{{selectInfo.nickName}}{{/selectInfo.isReportProfile}}\n                {{#selectInfo.isReportProfile}}\n                {{#selectInfo.isTempProfile}}\n                \uc784\uc2dc\uc870\uce58\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.\n                {{/selectInfo.isTempProfile}}\n                {{^selectInfo.isTempProfile}}\n                \uc0ad\uc81c\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.\n                {{/selectInfo.isTempProfile}}\n                {{/selectInfo.isReportProfile}}\n            </a>\n            {{/isOtherPage}}\n            {{^isOtherPage}}\n                {{#isPrivate}}\n                    <span class="txt_refer">\n                        <span class="ico_mypage ico_lock"></span>\ube44\uacf5\uac1c\n                    </span>\n                {{/isPrivate}}\n                {{^isPrivate}}\n                    <span class="txt_refer unlock">\n                        <span class="ico_mypage ico_lock"></span>\uacf5\uac1c\n                    </span>\n                {{/isPrivate}}\n            {{/isOtherPage}}\n        </div>\n        <div class="util_summary">\n            <button type="button" class="btn_util" data-id="share"><span class="ico_function ico_share"></span>\uacf5\uc720</button>\n\n            {{^isOtherPage}}\n                <button type="button" class="btn_util" data-id="edit"><span class="ico_mypage ico_edit"></span>\uc218\uc815</button>\n            {{/isOtherPage}}\n\n            {{#isOtherPage}}\n                <button type="button" class="btn_util" data-id="subscribe">\n                    {{#folderInfo.isSubscribe}}\n                        <span class="ico_function ico_cancel"></span>\uad6c\ub3c5\ucde8\uc18c\n                    {{/folderInfo.isSubscribe}}\n                    {{^folderInfo.isSubscribe}}\n                        <span class="ico_function ico_follow"></span>\uad6c\ub3c5\n                    {{/folderInfo.isSubscribe}}\n                </button>\n            {{/isOtherPage}}\n        </div>\n\n        <a href="#none" data-id="detailBackBtn" class="ico_mypage btn_back">\ub4a4\ub85c\uac00\uae30</a>\n        {{#isOtherPage}}\n        <button type="button" data-id="detailCloseBtn" class="ico_mypage btn_close">\ub2eb\uae30</button>\n        {{/isOtherPage}}\n        <div data-id="favoriteFilters" class="info_summary"></div>\n    </div>\n\n    <div data-id="listNone" class="FavoriteEmptyPage HIDDEN">\n        <p class="desc_empty">\uc800\uc7a5\ud55c \uc990\uaca8\ucc3e\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.</p>\n    </div>\n{{/isFolder}}\n</div>\n',
FavoriteItemView:'<li class="FavoriteDetailItem{{#isDisabled}} FavoriteDirectoryItem-DISABLED{{/isDisabled}}{{#isRouteInfo}} FavoriteDetailItem-ROUTE{{/isRouteInfo}} {{^isDisabled}}{{#isBuslines}}favorite_busstops{{/isBuslines}}{{/isDisabled}}">\n    {{#isDisabledBusline}}\n    <input data-id="checkbox" type="checkbox" id="fav_{{seq}}" class="inp_directory" value="{{seq}}" data-type="item"/>\n    <label for="fav_{{seq}}" class="ico_mypage lab_directory">\uc120\ud0dd\uc548\ub428</label>\n    {{/isDisabledBusline}}\n\n    <div class="FavoriteInformationBundle">\n        {{#isDisabledSummaryUi}}\n        <span class="ico_path"></span>\n        <div class="directory_info">\n            <div class="info_directory">\n                {{#isTempByOther}}\n                <p class="desc_report">\uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n                    <a href="http://www.kakao.com/policy/right" class="link_report" target="_blank">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>\n                </p>\n                {{/isTempByOther}}\n                {{#isAdminDelete}}\n                <p class="desc_report">\uc6b4\uc601\uc815\ucc45 \uc704\ubc18\uc73c\ub85c \uad00\ub9ac\uc790\uc5d0 \uc758\ud574 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4. </p>\n                {{/isAdminDelete}}\n            </div>\n        </div>\n        {{/isDisabledSummaryUi}}\n        {{^isDisabledSummaryUi}}\n        {{#isDisabledBusline}}\n        {{#isColorIcon}}\n        <span class="ico_favorite ico_{{typeClass}} type{{color}}"><span class="ico_favorite {{iconClass}}">{{typeName}}</span></span>\n        {{/isColorIcon}}\n        {{^isColorIcon}}\n        <span class="ico_path {{typeClass}}">{{typeName}}</span>\n        {{/isColorIcon}}\n        {{/isDisabledBusline}}\n        <div class="info_directory">\n            <div class="directory_info">\n                {{^isDisabledBusline}}\n                {{#isBuslines}}\n                <input data-id="checkbox" type="checkbox" id="fav_{{seq}}" class="inp_directory" value="{{seq}}" data-type="item"/>\n                <label for="fav_{{seq}}" class="ico_mypage lab_directory">\uc120\ud0dd\uc548\ub428</label>\n                {{#isColorIcon}}\n                <span class="ico_favorite ico_{{typeClass}} type{{color}}"><span class="ico_favorite {{iconClass}}">{{typeName}}</span></span>\n                {{/isColorIcon}}\n                {{^isColorIcon}}\n                <span class="ico_path {{typeClass}}">{{typeName}}</span>\n                {{/isColorIcon}}\n                {{/isBuslines}}\n                {{/isDisabledBusline}}\n                {{#isRealtimetransport}}\n                <a data-id="refresh" href="#none" class="btn_refresh">\n                    <img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/my_btn_refresh_2X.png" width="28" alt="\uc0c8\ub85c\uace0\uce68">\n                </a>\n                {{/isRealtimetransport}}\n                {{#isRouteInfo}}\n                <a data-id="link" href="#none" class="registerated_route">\n                {{#route_form}}\n                    <span class="wrap_route">\n                        <span class="ico_interlock2 ico_{{iconClass}}">{{iconName}}</span>\n                        <span class="txt_route txt_{{iconClass}}">{{name}}</span>\n                    </span>\n                {{/route_form}}\n                </a>\n                {{#memo}}\n                <div class="desc_directory">\n                    {{#memo}}<p data-id="memo" class="desc_detail">{{memo}}</p>{{/memo}}\n                </div>\n                {{/memo}}\n                {{/isRouteInfo}}\n                {{^isRouteInfo}}\n                <div class="tit_directory">\n                    <strong data-id="link" class="txt_directory">\n                        <a href="#none" class="link_txt">{{display1}}</a>\n                    </strong>\n                </div>\n                {{#isDesc}}\n                <div class="desc_directory">\n                    {{#isBusInfo}}\n                    <span class="bustype {{busIconClass}}">{{busIconName}}</span>\n                    {{#display2}}<span class="txt_address">{{display2}}</span>{{/display2}}\n                    {{/isBusInfo}}\n                    {{^isBusInfo}}\n                        {{#its_id}}<span class="num_codename num">{{its_id}}</span>{{#display2}}<span class="txt_bar"></span>{{/display2}}{{/its_id}}\n                        {{#display2}}<span class="desc_region">{{display2}}</span>{{/display2}}\n                    {{/isBusInfo}}\n                    {{#memo}}<p data-id="memo" class="desc_detail">{{memo}}</p>{{/memo}}\n                </div>\n                {{/isDesc}}\n                {{/isRouteInfo}}\n            </div>\n            {{#isBuslines}}\n            <div class="bus_directory" data-id="busDirectory" data-key="{{key}}">\n                <strong class="screen_out">\ubc84\uc2a4</strong>\n                <ul data-id="busstopline" data-key="{{key}}"></ul>\n                <button type="button" class="btn_more" data-id="more"><span class="ico_ ico_more">\ubc84\uc2a4 \ub178\uc120 \ub354\ubcf4\uae30</span></button>\n            </div>\n            {{/isBuslines}}\n            {{#isSubwayStation}}\n            <div class="arr_directory" data-id="subwaystation" data-key="{{key}}"></div>\n            {{/isSubwayStation}}\n        </div>\n        {{/isDisabledSummaryUi}}\n        <button type="button" data-id="more" class="btn_more"><span class="ico_mypage ico_more">\ub354\ubcf4\uae30</span></button>\n    </div>\n    {{#isTempByOwner}}\n    <div class="FavoriteReportDesc">\n        <p class="desc_report">\n            \uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.<br/>\n            <a href="http://www.kakao.com/policy/right" class="link_report" target="_blank">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>\n        </p>\n    </div>\n    {{/isTempByOwner}}\n\n    <div data-id="setting" class="FavoriteSettingLayer HIDDEN">\n        <ul class="list_opt">\n            {{#settings}}\n            <li data-id="{{action}}" data-value="{{value}}"><a href="#none">{{name}}</a></li>\n            {{/settings}}\n        </ul>\n    </div>\n</li>\n',
FavoriteManageView:'<div class="FavoriteManageView favorite_layer HIDDEN">\n    <div data-id="folderInfoLayer" class="inner_favorite_layer inner_favorite_layer2">\n        <fieldset>\n            <div class="layer_head">\n                <strong class="tit_interlock">\uadf8\ub8f9 \uc815\ubcf4</strong>\n            </div>\n            <div class="layer_body"></div>\n            <div class="layer_foot">\n                <a href="#none" class="btn_close">\uadf8\ub8f9 \uc815\ubcf4 \ub808\uc774\uc5b4 \ub2eb\uae30</a>\n            </div>\n        </fieldset>\n    </div>\n    <div data-id="folderSelectLayer" class="inner_favorite_layer inner_favorite_layer6">\n        <div class="layer_head">\n            <strong class="tit_interlock">\uadf8\ub8f9 \uc120\ud0dd</strong>\n        </div>\n        <div class="layer_body">\n            <ul class="list_folder">\n                <li class="ADD">\n                    <a href="#none" class="link_folder">\n                        <span class="ico_folder add"></span>\n                        <span class="tit_folder">\n                            <span class="utile_folder"></span>\n                            <strong class="txt_folder">\uc0c8 \uadf8\ub8f9 \ucd94\uac00</strong>\n                        </span>\n                    </a>\n                </li>\n            </ul>\n        </div>\n        <div class="layer_foot">\n            <a href="#none" class="btn_close">\ub808\uc774\uc5b4 \ub2eb\uae30</a>\n        </div>\n    </div>\n    <div data-id="addFavoriteLayer" class="inner_favorite_layer inner_favorite_layer10">\n        <form autocomplete="off">\n            <fieldset>\n                <legend class="screen_out">\uc990\uaca8\ucc3e\uae30 \uc800\uc7a5 \ud3fc</legend>\n                <div class="layer_head">\n                    <strong class="tit_interlock">\uc990\uaca8\ucc3e\uae30 \uc800\uc7a5</strong>\n                </div>\n                <div class="layer_body">\n                    <div class="box_tf">\n                        <label for="display1" class="screen_out">\uc990\uaca8\ucc3e\uae30 \uc774\ub984</label>\n                        <input type="text" id="display1" class="tf_save" maxlength="200" readonly/>\n                    </div>\n                    <div class="box_tf">\n                        <label for="favMemo" class="screen_out">\uc124\uba85 \uc785\ub825</label>\n                        <input type="text" id="favMemo" class="tf_save" placeholder="\uc124\uba85\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694." maxlength="50" readonly/>\n                    </div>\n                    <strong class="screen_out">\uce74\ud14c\uace0\ub9ac \uc0c9 \uad6c\ubd84</strong>\n                    <ul class="list_inp">\n                        <\!-- .checked \ud074\ub798\uc2a4 \ubd80\uc5ec --\>\n                        <li data-color="01">\n                            <input type="radio" id="favoriteColor1" name="favoriteColor"/>\n                            <label for="favoriteColor1" class="type1">\ud0c0\uc7851</label>\n                        </li>\n                        <li data-color="02">\n                            <input type="radio" id="favoriteColor2" name="favoriteColor"/>\n                            <label for="favoriteColor2" class="type2">\ud0c0\uc7852</label>\n                        </li>\n                        <li data-color="03">\n                            <input type="radio" id="favoriteColor3" name="favoriteColor"/>\n                            <label for="favoriteColor3" class="type3">\ud0c0\uc7853</label>\n                        </li>\n                        <li data-color="04">\n                            <input type="radio" id="favoriteColor4" name="favoriteColor"/>\n                            <label for="favoriteColor4" class="type4">\ud0c0\uc7854</label>\n                        </li>\n                        <li data-color="05">\n                            <input type="radio" id="favoriteColor5" name="favoriteColor"/>\n                            <label for="favoriteColor5" class="type5">\ud0c0\uc7855</label>\n                        </li>\n                        <li data-color="06">\n                            <input type="radio" id="favoriteColor6" name="favoriteColor"/>\n                            <label for="favoriteColor6" class="type6">\ud0c0\uc7856</label>\n                        </li>\n                        <li data-color="07">\n                            <input type="radio" id="favoriteColor7" name="favoriteColor"/>\n                            <label for="favoriteColor7" class="type7">\ud0c0\uc7857</label>\n                        </li>\n                    </ul>\n                </div>\n                <div class="layer_foot">\n                    <button data-id="addOK" class="btn_submit">\uc644\ub8cc</button>\n                    <a href="#none" class="btn_close">\ub808\uc774\uc5b4 \ub2eb\uae30</a>\n                </div>\n            </fieldset>\n        </form>\n    </div>\n    <div data-id="addFolderLayer" class="inner_favorite_layer inner_favorite_layer11">\n        <form autocomplete="off">\n            <fieldset>\n                <input type="hidden" id="editFolderId"/>\n                <legend class="screen_out">\uc0c8 \uadf8\ub8f9 \ucd94\uac00 \ud3fc</legend>\n                <div class="layer_head">\n                    <strong class="tit_interlock">\uc0c8 \uadf8\ub8f9 \ucd94\uac00</strong>\n                </div>\n                <div class="layer_body">\n                    <div class="opt_interlock">\n                        <strong class="screen_out"></strong>\n                        <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n                        <span class="ico_seleced star">star</span>\n                        <button type="button" class="link_option btn_option">\uc120\ud0dd\uc635\uc158</button>\n                        <ul class="list_option HIDDEN">\n                            <li data-icon="01" class="on"><a href="#none" class="link_option star">star</a></li>\n                            <li data-icon="02"><a href="#none" class="link_option heart">heart</a></li>\n                            <li data-icon="03"><a href="#none" class="link_option thunder">thunder</a></li>\n                            <li data-icon="04"><a href="#none" class="link_option check">check</a></li>\n                            <li data-icon="05"><a href="#none" class="link_option eye">eye</a></li>\n                            <li data-icon="06"><a href="#none" class="link_option smile">smile</a></li>\n                            <li data-icon="07"><a href="#none" class="link_option shine">shine</a></li>\n                            <li data-icon="08"><a href="#none" class="link_option clover">clover</a></li>\n                            <li data-icon="09"><a href="#none" class="link_option rect">rect</a></li>\n                            <li data-icon="10"><a href="#none" class="link_option like">like</a></li>\n                        </ul>\n                    </div>\n                    <dl class="group_form">\n                        <dt>\uacf5\uac1c \ud5c8\uc6a9</dt>\n                        <dd>\n                            <div class="choice_comm choice_radio">\n                                <input type="radio" id="open" name="privacy" class="inp_choice" value="O" />\n                                <label for="open" class="lab_choice">\n                                    <span class="ico_choice ico_radio"></span>\uacf5\uac1c\n                                </label>\n                            </div>\n                            <div class="choice_comm choice_radio">\n                                <input type="radio" id="private" name="privacy" class="inp_choice" value="P" checked="checked" />\n                                <label for="private" class="lab_choice">\n                                    <span class="ico_choice ico_radio"></span>\ube44\uacf5\uac1c\n                                </label>\n                            </div>\n                        </dd>\n                    </dl>\n                    <p class="desc_private">\n                        <span class="ico_noti"></span>\n                        \uadf8\ub8f9 \uacf5\uac1c \uc2dc \ub2e4\ub978 \uc0ac\uc6a9\uc790\uac00 \ubcfc \uc218 \uc788\uace0 \uad6c\ub3c5\ud560 \uc218 \uc788\uc73c\ub2c8 \ubbfc\uac10 \uc815\ubcf4\uac00 \ub178\ucd9c\ub418\uc9c0 \uc54a\ub3c4\ub85d \uc8fc\uc758\ud574\uc8fc\uc138\uc694.\n                    </p>\n                    <dl class="group_form">\n                        <dt><label for="folderName" class="lab_tf">\uadf8\ub8f9\uba85</label></dt>\n                        <dd>\n                            <div class="box_tf">\n                                <input type="text" id="folderName" class="tf_save" placeholder="\uadf8\ub8f9\uba85\uc744 \uc785\ub825\ud558\uc138\uc694." maxlength="30">\n                            </div>\n                        </dd>\n                    </dl>\n                    <dl class="group_form">\n                        <dt><label for="memo" class="lab_tf">\uc124\uba85</label></dt>\n                        <dd>\n                            <div class="box_tf">\n                                <input type="text" id="memo" class="tf_save" placeholder="\uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694. (\uc120\ud0dd)" maxlength="50">\n                            </div>\n                        </dd>\n                    </dl>\n                    <div class="chkbox_interlock">\n                        <input type="checkbox" id="showMap"/>\n                        <label for="showMap">\uc9c0\ub3c4\uc5d0 \ud45c\uc2dc\ud558\uae30</label>\n                    </div>\n                    <p class="desc_interlock">\ud574\ub2f9 \uadf8\ub8f9\uc758 \uc990\uaca8\ucc3e\uae30\uac00 \uc9c0\ub3c4 \uc704\uc5d0 \ud45c\uc2dc\ub429\ub2c8\ub2e4. \ud45c\uc2dc\ud560 \uadf8\ub8f9\uc740 \ucd5c\ub300 10\uac1c\uae4c\uc9c0 \uc120\ud0dd \uac00\ub2a5\ud569\ub2c8\ub2e4.</p>\n                </div>\n                <div class="layer_foot">\n                    <button data-id="addFolderOK" class="btn_submit">\uc644\ub8cc</button>\n                    <a href="#none" class="btn_close">\ub808\uc774\uc5b4 \ub2eb\uae30</a>\n                </div>\n            </fieldset>\n        </form>\n    </div>\n\n    <div data-id="addHomeLayer" class="inner_favorite_layer inner_favorite_layer4">\n        <div class="layer_head">\n            <strong class="tit_interlock tit_interlock2">\ud648 \ubaa9\ub85d \ucd94\uac00<span class="screen_out">\ub808\uc774\uc5b4</span></strong>\n        </div>\n        <div class="layer_body result_location">\n            <p class="txt_interlock txt_interlock2">\ud648 \ubaa9\ub85d \ucd94\uac00\ub294 \ucd5c\ub300 3\uac1c\uae4c\uc9c0 \uac00\ub2a5\ud569\ub2c8\ub2e4.(\uc9d1/\ud68c\uc0ac \uc81c\uc678)<br/>\uc544\ub798 \uae30\uc874 \ubaa9\ub85d \uc911 \ud558\ub098\ub97c \uc120\ud0dd\ud558\uba74, \uc0ad\uc81c \ud6c4 \uc0c8\ub85c\uc6b4 \ud56d\ubaa9\uc774 \ucd94\uac00\ub429\ub2c8\ub2e4.</p>\n            <form action="#" autocomplete="off">\n                <fieldset>\n                    <em class="screen_out">\uac80\uc0c9 \ub9ac\uc2a4\ud2b8</em>\n                    <ul data-id="registerList" class="list_region list_region_type2"></ul>\n                </fieldset>\n            </form>\n        </div>\n        <div class="layer_foot">\n            <button type="reset" data-id="addHomeCancle" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <button type="submit" data-id="addHomeOK" class="btn_interlock btn_confirm">\uc120\ud0dd \uc0ad\uc81c</button>\n            <a href="#" class="btn_close">\uc9d1 \ub4f1\ub85d \ub808\uc774\uc5b4 \ub2eb\uae30</a>\n        </div>\n    </div>\n\n    <div data-id="removeHomeLayer" class="inner_favorite_layer inner_favorite_layer3"><\!-- inner_xxx_layer:\uacf5\ud1b5 / inner_xxx_layer1:\ud0c0\uc785\ubcc4 --\>\n        <div class="layer_head">\n            <strong class="screen_out">\uce74\uce74\uc624\ub9f5 \ud648 \ubaa9\ub85d \uc0ad\uc81c \uc5ec\ubd80 \ub808\uc774\uc5b4</strong>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock">\ud648 \ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?</em>\n            <p class="txt_interlock">\ud574\ub2f9 \ud56d\ubaa9\uc774 \ud648 \ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c\ub429\ub2c8\ub2e4. </p>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="removeHomeOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <button type="button" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uce74\uce74\uc624\ub9f5 \ud648 \ubaa9\ub85d \uc0ad\uc81c \uc5ec\ubd80 \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="resultLayer" class="inner_favorite_layer inner_favorite_layer9">\n        <div class="layer_body">\n            <span class="ico_toast type1"><span class="ico_toast star"></span></span>\n            <p class="desc_toast"></p>\n        </div>\n        <div class="layer_foot">\n            <a href="#none" class="btn_close">\ub808\uc774\uc5b4 \ub2eb\uae30</a>\n        </div>\n    </div>\n</div>\n',
FavoriteOriginalItemView:'{{#isRouteType}}\n<ol class="list_myroute">\n    {{#routeList}}\n        <li>\n            <span class="ico_interlock ico_{{iconClass}}">{{iconName}}</span>\n            {{name}}\n        </li>\n    {{/routeList}}\n</ol>\n<div class="original_name HIDDEN">{{originalName}}</div>\n{{/isRouteType}}\n{{^isRouteType}}\n    <div class="original_name">{{originalName}}</div>\n{{/isRouteType}}',FavoriteRegisterItemBusArrivalView:'<a href="#" id="{{busStopLineId}}" class="link_busline{{^arrivalHtml}} arrive_none{{/arrivalHtml}}">\n    {{#arrivalHtml}}\n    <span class="txt_arrival">\n\t\t<em>{{{arrivalHtml}}}</em>\n\t</span>\n    {{/arrivalHtml}}\n    {{#isBusIcon}}\n\t<span class="txt_infobus {{countryBusClass}}"><\!-- \uc2dc\uace8 \ubc84\uc2a4 \uc77c \uacbd\uc6b0 \ud074\ub798\uc2a4 txt_countrybus \ucd94\uac00 \ubd80\ud0c1 \ub4dc\ub9bd\ub2c8\ub2e4. --\>\n\t\t<span class="ico_busline ico_{{busIconClass}}">{{busIconName}}</span>{{busName}}\n\t</span>\n\t{{/isBusIcon}}\n</a>\n',
FavoriteRegisterItemView:'<li class="{{#isDisabled}}favorite-DISABLED{{/isDisabled}}">\n{{^isBuslines}}\n    <div class="favorite_{{#isSubwayStation}}subway{{/isSubwayStation}}{{^isSubwayStation}}registerated{{/isSubwayStation}}">\n        <a href="#" data-id="link" class="link_registerated {{activeClass}}">\n        {{#isMyplace}}\n            <span class="ico_pin ico_{{typeClass}}"></span>\n            <span class="txt_personal">{{display1}}</span>\n        {{/isMyplace}}\n        {{^isMyplace}}\n        {{#isColorIcon}}\n            <span class="ico_favorite ico_circle type{{color}}">\n                <span class="ico_favorite {{iconClass}}">{{typeName}}</span>\n            </span>\n        {{/isColorIcon}}\n        {{^isColorIcon}}\n            <span class="ico_favorite ico_circle">\n                <span class="ico_path {{typeClass}}">{{typeName}}</span>\n            </span>\n        {{/isColorIcon}}\n        {{#isBusInfo}}\n            <span class="txt_infobus">\n                {{#isBusIcon}}<span class="ico_busline ico_bus{{busIconClass}}">{{busIconName}}</span>{{/isBusIcon}}{{display1}}{{#isSubInfo}}<span\n                    class="txt_subinfo">{{subInfo}}</span>{{/isSubInfo}}\n            </span>\n        {{/isBusInfo}}\n        {{^isBusInfo}}\n            <span class="txt_registerated">{{display1}}</span>\n        {{/isBusInfo}}\n        {{/isMyplace}}\n        </a>\n        {{#isSubwayStation}}\n        <a data-id="refresh" href="#none" class="btn_refresh">\n            <img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/search_btn_refresh_2X.png" width="22" alt="\uc0c8\ub85c\uace0\uce68">\n        </a>\n        {{/isSubwayStation}}\n    </div>\n{{/isBuslines}}\n{{#isBuslines}}\n    <div class="favorite_busstation">\n        {{#isColorIcon}}\n        <span class="ico_favorite ico_circle type{{color}}">\n            <span class="ico_favorite {{iconClass}}">{{typeName}}</span>\n        </span>\n        {{/isColorIcon}}\n        {{^isColorIcon}}\n        <span class="ico_favorite ico_circle">\n            <span class="ico_path {{typeClass}}">{{typeName}}</span>\n        </span>\n        {{/isColorIcon}}\n        <div class="favorite_busroute">\n            <a href="#" data-id="link" class="link_busstation">\n                <em class="emph_busstation">{{display1}}<span class="screen_out">\uc815\ub958\uc7a5</span></em>\n            </a>\n            {{#buslines}}\n            <span class="favorite_criteria">\n                <a data-id="refresh" href="#none" class="btn_refresh">\n                    <img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/search_btn_refresh_2X.png" width="22" alt="\uc0c8\ub85c\uace0\uce68">\n                </a>\n            </span>\n            <div data-id="arrival" data-stopid="{{key}}" data-lineids="{{buslines}}"\n                 data-bustype="{{busline_type}}"></div>\n            {{/buslines}}\n        </div>\n    </div>\n{{/isBuslines}}\n</li>\n',
FavoriteRegisterView:'<div class="favorite_exposed">\n    <h3 class="tit_favorite tit_myfavorite">\n        <a data-id="more" href="#none" class="link_myfavorite">\uc990\uaca8\ucc3e\uae30</a><\!-- 2018-12-17_v2 \ucd94\uac00 : \uc990\uaca8\ucc3e\uae30 \ub9c1\ud06c(a.link_favorite)\ucd94\uac00 --\>\n    </h3>\n    <ul data-id="list" class="list_registerated"></ul>\n</div>',FavoriteStaticItemView:'<li class="FavoriteDirectoryItem">\n    <div class="FavoriteInformationBundle">\n        <span class="ico_homecorp {{#modeIsHome}}home{{/modeIsHome}}{{^modeIsHome}}company{{/modeIsHome}}"></span><\!-- \uc544\uc774\ucf58 \ubaa8\uc591 \ubcc0\uacbd\uc2dc \ud074\ub798\uc2a4 \ucd94\uac00 \uc694\uccad --\>\n        <div class="info_directory">\n            <div class="tit_directory">\n                <strong data-id="link" class="txt_directory"><a href="#none" class="link_txt">{{#modeIsHome}}\uc9d1{{/modeIsHome}}{{^modeIsHome}}\ud68c\uc0ac{{/modeIsHome}}</a></strong>\n            </div>\n            <div class="desc_directory">\n                <p data-id="name">\uc8fc\uc18c\ub97c \ub4f1\ub85d\ud558\uba74 \uae38\ucc3e\uae30\uac00 \uc26c\uc6cc\uc9d1\ub2c8\ub2e4.</p>\n            </div>\n        </div>\n        <button type="button" data-id="more" class="btn_more"><span class="ico_mypage ico_more">\ub354\ubcf4\uae30</span></button>\n        <\!--\n        <div class="box_btnmore" data-id="options">\n            <a href="#" data-id="regist" class="link_favoradd">\ub4f1\ub85d</a>\n            <a href="#" data-id="remove" class="link_favoradd HIDDEN">\uc0ad\uc81c</a>\n        </div>\n        --\>\n    </div>\n    <div data-id="setting" class="FavoriteSettingLayer HIDDEN">\n        <ul class="list_opt">\n            <li data-id="regist"><a href="#none">\ub4f1\ub85d</a></li>\n            <li data-id="remove" class="HIDDEN"><a href="#none">\uc0ad\uc81c</a></li>\n        </ul>\n    </div>\n</li>',
FavoriteStaticLayerView:'<ul class="list_find">\n    {{#home}}\n    <li data-id="home" class="ms_item">\n        <a href="#" class="link_myroute">\n            <em class="emph_personal">\uc9d1</em>\n            <span class="txt_myaddress">{{home.name}}</span>\n        </a>\n    </li>\n    {{/home}}\n    {{#company}}\n    <li data-id="company" class="ms_item">\n        <a href="#" class="link_myroute">\n            <em class="emph_personal">\ud68c\uc0ac</em>\n            <span class="txt_myaddress">{{company.name}}</span>\n        </a>\n    </li>\n    {{/company}}\n</ul>',
FavoriteStaticManageView:'<div class="FavoriteStaticManageView favorite_layer HIDDEN">\n    <div data-id="searchLayer" class="inner_favorite_layer inner_favorite_layer5">\n        <form action="#" data-id="searchBody">\n            <fieldset>\n                <div class="layer_head">\n                    <strong class="tit_interlock"><span class="type_name">\ud68c\uc0ac</span> \ub4f1\ub85d <span class="screen_out">\ub808\uc774\uc5b4</span></strong>\n                </div>\n                <div class="layer_body">\n                    <p class="txt_interlock"><span class="type_name2">\ud68c\uc0ac</span>\ub85c \ub4f1\ub85d\ud560 \uc8fc\uc18c \ub610\ub294 \uc7a5\uc18c\ub97c \uac80\uc0c9\ud558\uc138\uc694.</p>\n                    <div class="wrap_search">\n                        <div class="interlock_search">\n                            <label for="favoriteEnroll" class="lab_region HIDDEN">\uc8fc\uc18c \ub610\ub294 \uc7a5\uc18c</label>\n                            <input type="text" data-id="favoriteSearchQuery" id="favoriteEnroll" class="tf_interlock" value="\uce74\uce74\uc624">\n                        </div>\n                        <button type="button" data-id="findBtn" class="btn_search">\uac80\uc0c9</button>\n                    </div>\n                    <div class="interlock_result">\n                        <em class="screen_out">\uac80\uc0c9 \ub9ac\uc2a4\ud2b8</em>\n                        <ul class="list_region" data-id="resultList"></ul>\n                    </div>\n                </div>\n                <div class="layer_foot">\n                    <a href="#" class="btn_close"><span class="type_name">\ud68c\uc0ac</span> \ub4f1\ub85d \ub808\uc774\uc5b4 \ub2eb\uae30</a>\n                </div>\n            </fieldset>\n        </form>\n    </div>\n\n    <div data-id="resultLayer" class="inner_favorite_layer inner_favorite_layer1">\n        <div class="layer_head">\n            <strong class="screen_out">\uc990\uaca8\ucc3e\uae30 \ub4f1\ub85d \uc644\ub8cc \ud655\uc778 \ub808\uc774\uc5b4</strong>\n            <span class="ico_interlock ico_complete"></span>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock"><span class="type_name">\uc9d1</span> \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</em>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="resultOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uc990\uaca8\ucc3e\uae30 \ub4f1\ub85d \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n</div>\n',
FavoriteStaticSearchItemView:'<li>\n    <span class="choice_comm choice_address">\n        <input id="{{inputName}}{{idx}}" class="inp_address" type="radio" name="{{inputName}}" />\n        <label for="{{inputName}}{{idx}}" class="lab_result">\n            {{#isText}}<span class="txt_result">{{nameDisp}}</span>{{/isText}}\n            {{^isText}}<span class="txt_result">{{{nameDisp}}}</span>{{/isText}}\n            {{#secondDisp}}<span class="txt_detail">{{secondDisp}}</span>{{/secondDisp}}\n        </label>\n    </span>\n</li>\n',
FindWayCoachmarkView:'<div class="coach_layer coach_layer_type2"><\!-- coach_layer_type1 : \ucd9c\ubc1c\uacbd\uc720\ub3c4\ucc29 / coach_layer_type2 : \uc9c0\ub3c4\uc124\uc815 / coach_layer_type3 : \uc7a5\uc18c\uc800\uc7a5\ud558\uae30 --\>\n     <div class="inner_coach_layer">\n         <div class="layer_body">\n         \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/coachMark/bg_coach.png" width="266" height="266" alt="" class="img_bg">\n         \t<div class="view_coach">\n\t     \t\t<span class="ico_coach"></span>\n\t     \t\t<strong class="tit_coach">\ucd9c\ubc1c\u00b7\uacbd\uc720\u00b7\ub3c4\ucc29</strong>\n\t     \t\t<p class="desc_coach">\uc544\uc774\ucf58\uc744 \ub4dc\ub798\uadf8\ud558\uc5ec<br>\uc9c0\ub3c4 \uc704\uc5d0 \ub193\uc544 \ubcf4\uc138\uc694.</p>\n     \t\t</div>\n         </div>\n     </div>\n</div>\n',
FiyFrame:'<div class="FiyFrame">\n    <iframe data-id="frame" frameborder=\'0\' border=\'0\' class="frame" src="" style="width:0;height:0;"></iframe>\n</div>',FiyLoginView:'<div class="fiy_layer HIDDEN"><\!-- HIDDEN\ud074\ub798\uc2a4 \ucd94\uac00/\uc0ad\uc81c\ub85c \ub808\uc774\uc5b4 \ub178\ucd9c \uc81c\uc5b4 --\>\n    <div class="inner_fiy_layer">\n        <div class="layer_head"><strong class="tit_fiy">\uc815\ubcf4\uc218\uc815</strong></div>\n        <div class="layer_body">\n            <p class="desc_fiy">\ub85c\uadf8\uc778\uc744 \ud558\uc2dc\uba74<br>\uc694\uccad \uacb0\uacfc\ub97c \uc548\ub0b4\ud574\ub4dc\ub9bd\ub2c8\ub2e4</p>\n            <div class="wrap_btn">\n                <a href="#none" data-id="kakaoLogin" class="btn_fiy btn_kakao"><span class="inner_btn">\uce74\uce74\uc624\uacc4\uc815\uc73c\ub85c \ub85c\uadf8\uc778</span></a>\n            </div>\n            <button type="button" data-id="noLogin" class="btn_fiy2">\ub85c\uadf8\uc778 \ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4</button>\n        </div>\n    </div>\n</div>\n',
FlagItemInfoLayer:'<div class="FlagItemInfoLayer">\r\n\t<div data-id="origin" class="origin">\ucd9c\ubc1c</div>\r\n\t<div data-id="via" class="via">\uacbd\uc720</div>\r\n\t<div data-id="dest" class="dest">\ub3c4\ucc29</div>\r\n</div>',FlashSupportView:'<div class="support_layer"><\!-- \uc9c0\ub3c4 \uc548\uc5d0 \ub4e4\uc5b4\uac00\ub294 \ud0c0\uc785\uc740 type_view \ud074\ub798\uc2a4 \ucd94\uac00 --\>\n    <div class="inner_layer">\n        <div class="layer_head">\n            <strong class="tit_support">\uc11c\ube44\uc2a4 \uc774\uc6a9\uc744 \uc704\ud574\uc11c\ub294<br>\ube0c\ub77c\uc6b0\uc800 \ubcc0\uacbd\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.</strong>\n        </div>\n        <div class="layer_body">\n            <p class="txt_support">\n                \uc811\uc18d\ud558\uc2e0 \ube0c\ub77c\uc6b0\uc800\ub294 \ud50c\ub798\uc2dc \uc9c0\uc6d0 \uc885\ub8cc\uc5d0 \ub530\ub77c<br>\n                \uc11c\ube44\uc2a4 \uc774\uc6a9\uc774 \ubd88\uac00\ud569\ub2c8\ub2e4. \uc815\uc2dd \uc9c0\uc6d0 \ube0c\ub77c\uc6b0\uc800\ub85c \uc811\uc18d\ud574 \uc8fc\uc138\uc694.\n            </p>\n            <em class="screen_out">\uc815\uc2dd \uc9c0\uc6d0 \ube0c\ub77c\uc6b0\uc800 \ubaa9\ub85d</em>\n            <ul class="list_internet">\n                <li><img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flash/ico_chrome.png" width="34" height="34" alt="\ud06c\ub86c"><span class="txt_internet">\ud06c\ub86c</span></li>\n                <li><img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flash/ico_edge.png" width="34" height="34" alt="\uc5e3\uc9c0"><span class="txt_internet">\uc5e3\uc9c0</span></li>\n                <li><img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flash/ico_firefox.png" width="34" height="34" alt="\ud30c\uc774\uc5b4\ud3ed\uc2a4"><span class="txt_internet">\ud30c\uc774\uc5b4\ud3ed\uc2a4</span></li>\n                <li><img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flash/ico_safari.png" width="34" height="34" alt="\uc0ac\ud30c\ub9ac"><span class="txt_internet">\uc0ac\ud30c\ub9ac</span></li>\n            </ul>\n            <a href="{{moreViewUrl}}" target="_blank" class="btn_moreview">\uc790\uc138\ud788 \ubcf4\uae30</a>\n        </div>\n        <a href="#none" class="btn_close"><span class="ico_btn">\ub2eb\uae30</span></a><\!-- \ubc84\ud2bc \uc5c6\ub294 \ud0c0\uc785\uc740 \ud0dc\uadf8 \uc0ad\uc81c --\>\n    </div>\n</div>\n',
HistoryLayerItemView:'<li class="ms_item">\n    <a href="#" data-id="link" id="{{itemid}}" class="link_search">\n        <span class="ico_search_history ico_history_{{type}}"></span>{{name}}\n    </a>\n    <button  data-id="remove" class="btn_delete" aria-describedby="{{itemid}}" data-type="{{type}}" data-idx="{{idx}}">\n        <span class="ico_search_history ico_delete">\uc0ad\uc81c</span>\n    </button>\n</li>',HistoryLayerView:'<div class="search_recent">\n    <em class="tit_recent">\ud788\uc2a4\ud1a0\ub9ac</em>\n    <ul data-id="wrap" class="list_recent"></ul>\n    <div class="favorite_recent">\n        <button data-id="disabled" type="button" class="btn_recentoff">\ud788\uc2a4\ud1a0\ub9ac\ub044\uae30</button>\n        <button data-id="clear" type="button" class="btn_deleteall">\uc804\uccb4\uc0ad\uc81c</button>\n    </div>\n</div>',
HistoryRouteView:'<div class="cont_latest">\n    <h6 class="tit_favorite tit_recently">\ucd5c\uadfc \uae38\ucc3e\uae30 \uac80\uc0c9</h6>\n    <ul data-id="wrap" class="list_registerated">\n        {{#items}}\n        <li data-type="{{type}}" data-idx="{{idx}}">\n            <div class="favorite_registerated">\n                <a href="#" id="{{type}}{{idx}}" class="link_registerated">\n                    <strong class="ico_pin2 ico_{{typeIconClass}}">{{typeIconName}}</strong>\n                    <div class="registerated_route">\n                        {{#route_form}}\n                        <span class="wrap_route">\n                            <span class="ico_interlock2 ico_{{iconClass}}">{{#isArrival}}<span class="arrive_g">{{/isArrival}}{{iconName}}{{#isArrival}}</span>{{/isArrival}}</span>\n                            <span class="txt_route txt_{{iconClass}}">{{name}}</span>\n                        </span>\n                        {{/route_form}}\n                    </div>\n                </a>\n                <button class="btn_delete" aria-describedby="{{type}}{{idx}}" data-type="{{type}}" data-idx="{{idx}}">\n                    <span class="ico_interlock2 ico_delete">\uc0ad\uc81c</span>\n                </button>\n            </div>\n        </li>\n        {{/items}}\n    </ul>\n</div>',
InfoWindowToolbar:'<div>\r\n\t<div class="InfoWindowToolbar">\r\n        <a href="#none" data-id="fav" class="fav{{#isW3w}} disabled{{/isW3w}}"><span class="ico_toolbar">\uc990\uaca8\ucc3e\uae30</span><span data-id="favCount" class="num">100</span></a>\r\n        {{#isRoadview}}\r\n        <a href="#none" data-id="rv" class="rv"><span class="ico_toolbar">\ub85c\ub4dc\ubdf0</span></a>\r\n        {{/isRoadview}}\r\n        {{#isRough}}\r\n        <a href="#none" data-id="rough" class="rough{{#disableShare}} disabled{{/disableShare}}"><span class="ico_toolbar">\uc9c0\ub3c4\uacf5\uc720</span></a>\r\n        {{/isRough}}\r\n        {{#isSubway}}\r\n        <a href="#none" data-id="time" class="time"><span class="ico_toolbar">\uc2dc\uac04\ud45c</span></a>\r\n        {{/isSubway}}\r\n    </div>\r\n\r\n    <div class="InfoWindowDirection">\r\n        <button type="button" class="btn_direction">\uae38\ucc3e\uae30</button>\r\n        <div data-id="waypoint" class="group_direction">\r\n            <button type="button" data-id="origin" class="origin">\ucd9c\ubc1c</button>\r\n            <button type="button" data-id="via" class="via">\uacbd\uc720</button>\r\n            <button type="button" data-id="dest" class="dest">\ub3c4\ucc29</button>\r\n        </div>\r\n    </div>\r\n</div>',
IntercityInfoView:'\r\n<div class="IntercityInfoView">\r\n\t<div class="middle">\r\n\t\t<h6 class="tit">\ucd9c\ubc1c\uc9c0 \uadfc\ucc98 \ud130\ubbf8\ub110</h6>\r\n\t\t<ul class="intercityList" data-id="intercityList">\r\n\t\t</ul>\r\n\t</div>\r\n</div>\r\n',IntercityInfoWindowContent:'<div class="IntercityInfoWindowContent">\n    {{#description}}<div class="desciption data-id=""description">{{description}}</div>{{/description}}\n\t{{#time}}<span class="time" data-id="time">{{time}}</span> \uc18c\uc694{{/time}}{{#isShowReservation}}, <a href="#none" class="link_reservation" ></a>{{/isShowReservation}}\n</div>',
IssuedPlaceInfowindow:'<div class="IssuedPlaceInfowindow InfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<button type="button" data-id="close" class="closebox ICON-closebox" title="\ub2eb\uae30"></button>\r\n\t\t<div class="content">\r\n\t\t\t<img data-id="img" class="HIDDEN" src="" />\r\n\t\t\t<h4 data-id="tit"></h4>\r\n\t\t\t<p data-id="desc" class="desc"></p>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>',
LayerCoachmarkView:'<div class="coach_layer coach_layer_type1"><\!-- coach_layer_type1 : \ucd9c\ubc1c\uacbd\uc720\ub3c4\ucc29 / coach_layer_type2 : \uc9c0\ub3c4\uc124\uc815 / coach_layer_type3 : \uc7a5\uc18c\uc800\uc7a5\ud558\uae30 --\>\n     <div class="inner_coach_layer">\n         <div class="layer_body">\n         \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/coachMark/bg_coach.png" width="258" height="258" alt="" class="img_bg">\n         \t<div class="view_coach">\n\t     \t\t<span class="ico_coach"></span>\n\t     \t\t<strong class="tit_coach">\uc9c0\ub3c4 \uc124\uc815</strong>\n\t     \t\t<p class="desc_coach">\uad50\ud1b5\uc815\ubcf4, \uc9c0\ud615\ub3c4, \ub0a0\uc528 \ub4f1<br>\uc6d0\ud558\ub294 \uc815\ubcf4\ub97c \uc0ac\uc6a9\ud558\uc138\uc694.</p>\n     \t\t</div>\n         </div>\n     </div>\n</div>\n',
LayerLegend:'<div class="LayerLegend HIDDEN">\n\t<a href="#" class="legendBtn HIDDEN"></a>\n\t<div class="legendWrap HIDDEN">\n\t\t<div class="legendSelect">\n\t\t\t<a href="#" data-id="traffic" class="traffic SELECT">\uad50\ud1b5</a>\n\t\t\t<a href="#" data-id="bike" class="bike">\uc790\uc804\uac70</a>\n\t\t\t<a href="#" data-id="air" class="air">\ub0a0\uc528</a>\n\t\t\t<a href="#" data-id="usedistrict" class="usedistrict">\uc9c0\uc801\ud3b8\uc9d1\ub3c4</a>\n\t\t</div>\n\t\t<a data-id="close" class="close" href="#"></a>\n\t\t<div class="TrafficLegend">\n\t\t    <p class="date">\uae30\uc900 : <span data-id="date"></span></p>\n\t\t    <a data-id="refresh" class="refresh" href="#">\uc0c8\ub85c\uace0\uce68</a>\n\t\t    <ul class="bar">\n\t\t        <li data-id="density1" class="density1">\n\t\t\t\t\t<a href="#"><span class="item_bar"></span>\uc6d0\ud65c</a>\n\t\t\t\t\t<div data-id="tooltip1" class="tooltip tooltip1 HIDDEN">\n\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt>\uace0\uc18d\ub3c4\ub85c :</dt><dd><strong>80</strong>km/h<span class="upArrow"></span></dd>\n\t\t\t\t\t\t\t<dt>\uad6d\ub3c4 :</dt><dd><strong>60</strong>km/h<span class="upArrow"></span></dd>\n\t\t\t\t\t\t\t<dt>\uc2dc\ub0b4\ub3c4\ub85c :</dt><dd><strong>40</strong>km/h<span class="upArrow"></span></dd>\n\t\t\t\t\t\t</dl>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t        <li data-id="density2" class="density2">\n                    <a href="#"><span class="item_bar"></span>\uc11c\ud589</a>\n\t\t\t\t\t<div data-id="tooltip2" class="tooltip tooltip2 HIDDEN">\n\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt>\uace0\uc18d\ub3c4\ub85c :</dt><dd><strong>50~80</strong>km/h</dd>\n\t\t\t\t\t\t\t<dt>\uad6d\ub3c4 :</dt><dd><strong>40~60</strong>km/h</dd>\n\t\t\t\t\t\t\t<dt>\uc2dc\ub0b4\ub3c4\ub85c :</dt><dd><strong>20~40</strong>km/h</dd>\n\t\t\t\t\t\t</dl>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t        <li data-id="density3" class="density3">\n                    <a href="#"><span class="item_bar"></span>\uc9c0\uccb4</a>\n\t\t\t\t\t<div data-id="tooltip3" class="tooltip tooltip3 HIDDEN">\n\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt>\uace0\uc18d\ub3c4\ub85c :</dt><dd><strong>20~50</strong>km/h</dd>\n\t\t\t\t\t\t\t<dt>\uad6d\ub3c4 :</dt><dd><strong>20~40</strong>km/h</dd>\n\t\t\t\t\t\t\t<dt>\uc2dc\ub0b4\ub3c4\ub85c :</dt><dd><strong>10~20</strong>km/h</dd>\n\t\t\t\t\t\t</dl>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t        <li data-id="density4" class="density4">\n                    <a href="#"><span class="item_bar"></span>\uc815\uccb4</a>\n\t\t\t\t\t<div data-id="tooltip4" class="tooltip tooltip4 HIDDEN">\n\t\t\t\t\t\t<dl>\n\t\t\t\t\t\t\t<dt>\uace0\uc18d\ub3c4\ub85c :</dt><dd><strong>20</strong>km/h<span class="downArrow"></span></dd>\n\t\t\t\t\t\t\t<dt>\uad6d\ub3c4 :</dt><dd><strong>20</strong>km/h<span class="downArrow"></span></dd>\n\t\t\t\t\t\t\t<dt>\uc2dc\ub0b4\ub3c4\ub85c :</dt><dd><strong>10</strong>km/h<span class="downArrow"></span></dd>\n\t\t\t\t\t\t</dl>\n\t\t\t\t\t</div>\n\t\t\t\t</li>\n\t\t        <li data-id="density5" class="density5">\n                    <a href="#"><span class="item_bar"></span>\uc815\ubcf4\uc5c6\uc74c</a>\n\t\t\t\t</li>\n\t\t    </ul>\n\t\t    <ul class="desc">\n\t\t        <\!-- <li class="clickable">\uc18d\ub3c4 \uc815\ubcf4 \ub77c\uc778 \uc704\ub97c \ud074\ub9ad\ud558\uba74, \uc0c1\uc138 \uc815\ubcf4 \ud655\uc778 \uac00\ub2a5</li> --\>\n\t\t        <li>\uc2dc\ub0b4 \ub3c4\ub85c\ub294 \uc2e0\ud638 \uc815\ucc28 \ub4f1\uc758 \uc774\uc720\ub85c \uc2e4\uc81c\uc18d\ub3c4\uc640 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li>\n\t\t    </ul>\n\t\t</div>\n\t\t<div data-id="BikeLegend" class="BikeLegend bikecate1">\n\t\t\t<ul class="bikeCategory">\n\t\t\t\t<li class="cate1"><a href="#" data-id="bikecate1">\ub3c4\ub85c\uc548\ub0b4</a></li>\n\t\t        <li class="cate2"><a href="#" data-id="bikecate2">\uc9c4\uc785\ub85c</a></li>\n\t\t        <li class="cate3"><a href="#" data-id="bikecate3">\ud3b8\uc758\uc2dc\uc124</a></li>\n\t\t\t</ul>\n\t\t\t<div class="infocate"></div>\n\t\t</div>\n\t\t<div data-id="AirLegend" class="AirLegend aircate1">\n\t\t\t<div class="airCategory">\n\t\t\t\t<div class="inner_airCategory">\n\t\t\t\t\t<ul style="width:600px">\n\t\t\t\t\t\t<li class="cate1"><a href="#" data-id="aircate1">\ud1b5\ud569\ub300\uae30\uc9c0\uc218</a></li>\n\t\t\t\t\t\t<li class="cate2"><a href="#" data-id="aircate2">\ubbf8\uc138\uba3c\uc9c0</a></li>\n\t\t\t\t\t\t<li class="cate3"><a href="#" data-id="aircate3">\ucd08\ubbf8\uc138\uba3c\uc9c0</a></li>\n\t\t\t\t\t\t<li class="cate4"><a href="#" data-id="aircate4">\ud669\uc0ac</a></li>\n\t\t\t\t\t\t<li class="cate5"><a href="#" data-id="aircate5">\uc624\uc874</a></li>\n\t\t\t\t\t\t<li class="cate6"><a href="#" data-id="aircate6">\uc774\uc0b0\ud654\uc9c8\uc18c</a></li>\n\t\t\t\t\t\t<li class="cate7"><a href="#" data-id="aircate7">\uc77c\uc0b0\ud654\ud0c4\uc18c</a></li>\n\t\t\t\t\t\t<li class="cate8"><a href="#" data-id="aircate8">\uc544\ud669\uc0b0\uac00\uc2a4</a></li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<a href="#none" data-id="airmore" class="more">\ub354\ubcf4\uae30</a>\n\n\t\t    <div data-id="airtooltip1" class="tooltip tooltip1 HIDDEN">\n\t\t    \t<strong>0~50</strong>\n\t\t    </div>\n\t\t    <div data-id="airtooltip2" class="tooltip tooltip2 HIDDEN">\n\t\t        <strong>51~100</strong>\n\t\t    </div>\n\t\t    <div data-id="airtooltip3" class="tooltip tooltip3 HIDDEN">\n\t\t\t\t<strong>101~250</strong>\n\t\t    </div>\n\t\t    <div data-id="airtooltip4" class="tooltip tooltip4 HIDDEN">\n\t\t\t\t<strong>251~</strong>\n\t\t    </div>\n\t\t    <p class="date">\uae30\uc900 : <span data-id="airdate"></span></p>\n\t\t    <span class="supply"><a href="http://www.airkorea.or.kr/index" target="_blank" data-id="airsupply">\ud658\uacbd\ubd80 \ud55c\uad6d\ud658\uacbd\uacf5\ub2e8</a></span>\n            <ul class="bar">\n                <li data-id="airdensity1" class="density1"><p><span class="item_bar"></span>\uc88b\uc74c<span class="txt_unit">0~50</span></p></li>\n                <li data-id="airdensity2" class="density2"><p><span class="item_bar"></span>\ubcf4\ud1b5<span class="txt_unit">51~100</span></p></li>\n                <li data-id="airdensity3" class="density3"><p><span class="item_bar"></span>\ub098\uc068<span class="txt_unit">101~250</span></p></li>\n                <li data-id="airdensity4" class="density4"><p><span class="item_bar"></span>\ub9e4\uc6b0\ub098\uc068<span class="txt_unit">251~</span></p></li>\n                <li data-id="airdensity5" class="density5"><p><span class="item_bar"></span>\uc815\ubcf4\uc5c6\uc74c</p></li>\n            </ul>\n            <ul class="desc" data-id="airdesc">\n                <li>\uc2e4\uc2dc\uac04\uad00\uce21\uc790\ub8cc\uc774\uba70, \ud604\uc9c0 \uc0ac\uc815\uc5d0 \uc758\ud574 \uc624\ucc28\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. <span class="unit"></span></li>\n            </ul>\n\t\t</div>\n\t\t<div data-id="UsedistrictLegend" class="UsedistrictLegend usedistrictcate1">\n\t\t\t<ul class="usedistrictCategory">\n\t\t\t\t<li class="cate1"><a href="#" data-id="usedistrictcate1">\uc9c0\ubc88\u00b7\uacbd\uacc4</a></li>\n\t\t        <li class="cate2"><a href="#" data-id="usedistrictcate2">\ub3c4\ub85c\u00b7\ucca0\ub3c4</a></li>\n\t\t        <li class="cate3"><a href="#" data-id="usedistrictcate3">\uad6d\ud1a0\uacc4\ud68d\u00b7\uac1c\ubc1c\uc9c0\uad6c</a></li>\n\t\t        <li class="cate4"><a href="#" data-id="usedistrictcate4">\uc6a9\ub3c4\u00b7\uac1c\ubc1c</a></li>\n\t\t\t</ul>\n\t\t\t<a href="https://kakaomap.tistory.com/236" target="_blank" class="more">\ub354\ubcf4\uae30</a>\n\t\t\t<div class="infocate"></div>\n\t\t</div>\n\t</div>\n</div>\n\n',
LayerProfileEditView:'<div class="LayerProfileEdit-DIMMED HIDDEN" data-id=\'dim\' >\n\t<div class="LayerProfileEdit" data-id=\'content\' >\n\t\t<strong class="tit_edit">\ud504\ub85c\ud544 \uc218\uc815</strong>\n\t\t<form data-id=\'editForm\' >\n\t\t\t<fieldset>\n\t\t\t\t<legend class="screen_out">\uc774\ubbf8\uc9c0 \ubc0f \ub2c9\ub124\uc784 \uc218\uc815</legend>\n\t\t\t\t<div class="area_file">\n\t\t\t\t\t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/title/empty_edit.png" width="54" height="54" alt="" data-id=\'profilePreview\' >\n\t\t\t\t\t<label for="profileImgFile">\ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \uc218\uc815</label>\n\t\t\t\t\t<input type="file" id="profileImgFile" data-id=\'profileImgFile\' name=\'profileImage\' accept="image/png, image/jpeg">\n                    <span class="img_loading HIDDEN" data-id="loadingImg"  >\n                        <img src="//t1.daumcdn.net/localimg/localimages/07/2017/pc/img_loading2.gif" width="23" height="23" alt="\ub85c\ub529\uc911">\n                    </span>\n\t\t\t\t</div>\n\t\t\t\t<div class="area_tf">\n\t\t\t\t\t<div class="box_tf">\n\t\t\t\t\t\t<label for="userNickname" class="screen_out">\ud504\ub85c\ud544 \ub2c9\ub124\uc784 \uc218\uc815</label>\n\t\t\t\t\t \t<input type="text" name="nickName" data-id=\'userNickname\' id="userNickname" value="" maxlength="20" >\n\t\t\t\t\t</div>\n\t\t\t\t \t<button type="submit" class="btn_edit" data-id=\'update\' >\uc644\ub8cc</button>\n\t\t\t\t</div>\n\t\t\t</fieldset>\n\t\t</form>\n\t\t<button type="button" class="bt_close" data-id=\'close\' >\ud504\ub85c\ud544 \uc218\uc815 \ub2eb\uae30</button>\n\t</div>\n</div>\n',
LayerProfileView:'<div class="LayerProfile HIDDEN" >\n\t<div class="info_profile">\n\t\t<div class="thumb_profile">\n\t\t\t<img src="" width="44" height="44" class="img_profile HIDDEN" alt="" data-id=\'profileImg\'>\n            <img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/title/report_profile.png" width="44" height="44" class="img_profile HIDDEN" data-id="reportProfileImg"  alt="">\n\t\t</div>\n        <p class="desc_report" data-id="reportMentionTypeT" >\uc2e0\uace0\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58\ub41c<br>\ud504\ub85c\ud544\uc785\ub2c8\ub2e4. <a href="http://www.kakao.com/policy/right" target="_blank" class="link_profile" >\uc548\ub0b4</a><a href="#none" class="link_profile edit" >\uc218\uc815</a></p>\n        <p class="desc_report" data-id="reportMentionTypeA" >\uc2e0\uace0\uc5d0 \uc758\ud574 \uc0ad\uc81c\ub41c \ud504\ub85c<br>\ud544\uc785\ub2c8\ub2e4. <a href="#none" class="link_profile edit" >\ud504\ub85c\ud544 \uc785\ub825</a></p>\n\t\t<strong class="tit_name" data-id=\'nickName\' ></strong>\n\t\t<a href="#none" class="link_profile edit" data-id=\'edit\' >\ud504\ub85c\ud544 \uc218\uc815</a>\n\t\t<a href="#none" class="btn_logout" data-id=\'logout\' >\ub85c\uadf8\uc544\uc6c3</a>\n\t</div>\n\t<div class="my_page">\n\t\t<a href="#none" target="_top" data-id=\'fav\' >\uc990\uaca8\ucc3e\uae30</a>\n\t\t<a href="#none" target="_top" data-id=\'homeCompany\' >\uc9d1\u2219\ud68c\uc0ac</a>\n\t\t<a href="#none" target="_top" data-id=\'review\' >\ud6c4\uae30 <em class="num" data-id="reviewCount" >0</em></a>\n\t</div>\n</div>\n',
LoadingView:'<div class="box_sign LoadingView">\n    <span class="img_loading"></span>\n    <p class="desc_loading">\ud604\uc7ac \uc815\ubcf4\ub97c \ucc3e\uace0 \uc788\uc2b5\ub2c8\ub2e4.<br>\uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824 \uc8fc\uc138\uc694.</p>\n</div>\n',LocalAdBannerView:'<div class="LocalAdBanner">\r\n\t\t<div data-id="wrapper">\r\n\t\t\t<div data-id="global" class="global HIDDEN banner">\r\n\t\t\t\t<a target="_blank" class="bannerHref" data-id="href" href="#">\r\n\t\t\t\t\t<img src="" width="223" height="46"/>\r\n\t\t\t\t</a>\r\n\t\t\t\t<div class="globalTag">\r\n\t\t\t\t\t<span class="tagHead"></span>\r\n\t\t\t\t\t<span class="tagText"></span>\r\n\t\t\t\t\t<span class="tagTail"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a target="_blank" href="#" class="where"/>\r\n\t\t\t\t<a target="_blank" href="#" class="btnHref"/>\r\n\t\t\t\t<a data-id="globalClose" class="close" href="#">close</a>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div data-id="logical" class="logical HIDDEN banner">\r\n\t\t\t\t<a target="_blank" class="bannerHref" data-id="href" href="#">\r\n\t\t\t\t\t<img src=""  width="223" height="46" />\r\n\t\t\t\t</a>\r\n\t\t\t\t<div class="logicalTag">\r\n\t\t\t\t\t<span class="tagHead"></span>\r\n\t\t\t\t\t<span class="tagText"></span>\r\n\t\t\t\t\t<span class="tagTail"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a target="_blank" href="#" class="where"/>\r\n\t\t\t\t<a target="_blank" href="#" class="btnHref"/>\r\n\t\t\t\t<a data-id="logicalClose" class="close" href="#">close</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n</div>',
LocalAdThumbnailView:'<div class="LocalAdThumnailView">\r\n\t<img data-id="thumbnail" src="" width="85" height="70" />\r\n\t\r\n\t<span class="name" data-id="name"></span>\r\n</div>',MapControlView:'<div class="MapControlView">\n\t<a href="#none" class="accessLocation">\n\t\t<span class="screen_out">\ud604\uc704\uce58</span>\n\t\t<span class="coach_accessLocation"></span>\n\t</a>\n\t<div data-id="zoomcontrol" class="zoom_control">\n\t\t<a data-id="zoomin" class="zoomin zoomin-ACTIVE" href="#">\uc9c0\ub3c4\ud655\ub300<i></i></a>\n\t\t<div data-id="zoombar" class="zoombar">\n\t\t\t<i></i>\n\t\t\t<div data-id="zoomedbar" class="zoomedbar" style="height: 102px;"><i></i></div>\n\t\t\t<div data-id="zoomtext" class="zoomtext HIDDEN"><i></i></div>\n\t\t\t<div data-id="slider" class="slider" unselectable="on"\n\t\t\t\tstyle="-webkit-user-select: none; -webkit-user-drag: none; margin-top: 102px;"></div>\n\t\t</div>\n\t\t<a data-id="zoomout" class="zoomout zoomout-ACTIVE" href="#">\uc9c0\ub3c4\ucd95\uc18c<i></i></a>\n\t</div>\n\t<div data-id="tools" class="tools">\n\t\t<h3 class="screen_out">\uce21\uc815</h3>\n\t\t<a data-id="distance" class="distance" href="#"><span class="coach_distance">\uac70\ub9ac\uc7ac\uae30</span></a>\n\t\t<a data-id="area" class="area" href="#"><span class="coach_area">\uba74\uc801\uc7ac\uae30</span></a>\n\t\t<a data-id="radius" class="radius" href="#"><span class="coach_radius">\ubc18\uacbd\uc7ac\uae30</span></a>\n\t\t<a data-id="clear" class="clear" href="#"><span class="coach_clear">\uc9c0\uc6b0\uae30</span></a>\n\t</div>\n    <div data-id="tileTool" class="tileTool HIDDEN">\n\t\t<a data-id="extension" class="extension" href="#">\ud655\uc7a5\uac80\uc0c9</a>\n\t\t<span data-id="extensionText" class="extensionText HIDDEN"></span>\n\t</div>\n\t<div class="add_place add_on">\n\t\t<a data-id="newplace" href="#" class="link_new"><span class="coach_newplace">\uc2e0\uaddc \uc7a5\uc18c \ub4f1\ub85d</span></a>\n\t</div>\n</div>\n',
MapPlusItemView:'<li class="mapPlusItem">\n    <span class="adIcon">\uad11\uace0</span>\n    <a class="link" href="{{link_pc}}" data-type="img" target="_blank">\n        <span class="imgStroke"></span>\n        <img class="image" src="{{image_pc}}" width="73" height="66"/>\n    </a>\n    <div class="contents">\n        <a class="link" href="{{link_pc}}" data-type="text" target="_blank">\n            <h6>{{place_name}}</h6>\n        </a>\n        <a class="link" href="{{link_pc}}" data-type="text" target="_blank">\n            <span class="desc1">{{description_1}}</span>\n            <span class="desc2">{{description_2}}</span>\n        </a>\n    </div>\n    <div class="links">\n        {{#isSpecial}}\n        {{#link_title_pc_1}}<a class="link" href="{{link_url_pc_1}}" data-type="link1" target="_blank">{{link_title_pc_1}}</a>{{/link_title_pc_1}}{{#link_title_pc_2}}<span\n            class="txt_bar">|</span><a class="link" href="{{link_url_pc_2}}" data-type="link2" target="_blank">{{link_title_pc_2}}</a>{{/link_title_pc_2}}{{#link_title_pc_3}}<span\n            class="txt_bar">|</span><a class="link" href="{{link_url_pc_3}}" data-type="link3" target="_blank">{{link_title_pc_3}}</a>{{/link_title_pc_3}}\n        {{/isSpecial}}\n        {{^isSpecial}}\n        <a class="link" href="{{link_pc}}" data-type="link1" target="_blank">\uc0c1\uc138\ubcf4\uae30</a>\n        {{/isSpecial}}\n    </div>\n</li>',
MapShareToolBox:'<div class="MapShareToolBox">\r\n\t<ul class="list">\r\n\t\t<li><a href="#" class="copyUrl" data-id="copyUrl">URL \ubcf5\uc0ac</a></li>\r\n\t\t<li><a href="#" class="roughMap" data-id="roughMap">HTML \ud0dc\uadf8 \ubcf5\uc0ac</a></li>\r\n\t</ul>\r\n</div>',MapTypeControl:'<div class="MapTypeControl">\r\n\t<h3 class="screen_out">\uc9c0\ub3c4\ud0c0\uc785</h3>\r\n\t<a href="#" class="roadmap ACTIVE">\uc9c0\ub3c4</a>\r\n\t<a href="#" class="skyview">\uc2a4\uce74\uc774\ubdf0</a>\r\n</div>',
MapWalker:'<div class="MapWalker">\n\t<div data-id="body" class="body"></div>\n\t<div data-id="angle" class="angle">\n\t\t<div data-id="shadow" class="shadow"></div>\n\t</div>\n</div>',Mapapp:'<div class="Mapapp">\r\n\t<a href="#" class="qr">\uc9c0\ub3c4\uc571 QR\ucf54\ub4dc</a>\r\n\t<span class="intro"></span>\r\n\t<a href="http://itunes.apple.com/kr/app/id304608425" target="_blank" class="iphone"></a>\r\n\t<a href="https://play.google.com/store/apps/details?id=net.daum.android.map" target="_blank" class="android"></a>\r\n\t<button type="button" class="close"></button>\r\n</div>',
MediumTooltip:'<div class="MediumTooltip ">\r\n   <span class="left"></span><span class="content"><strong><a href="#" target="_blank" data-id="name"></a></strong><button type="button" data-id="roadview" class="roadviewMedium" title="\ub85c\ub4dc\ubdf0">\ub85c\ub4dc\ubdf0</button><button type="button" data-id="storeview" class="storeview" title="\uc2a4\ud1a0\uc5b4\ubdf0">\uc2a4\ud1a0\uc5b4\ubdf0</button><button type="button" data-id="destination" class="destination" title="\ub3c4\ucc29\uc9c0\ub85c \uc9c0\uc815">\ub3c4\ucc29\uc9c0</button><button type="button" data-id="expand" class="expand" title="\ud3bc\uce58\uae30">\ud3bc\uce68</button><button type="button" data-id="close" class="close" title="\ub2eb\uae30">\ub2eb\uae30</button></span><span class="right"></span>\r\n   <span class="arrow"></span>\r\n</div>\r\n\r\n',
MessageView:'<div class="MessageView">\n\t<div data-id="upper" class="line">\n\t\t<div data-id="upperwrap">\n            <strong class="screen_out HIDDEN"> \uc120\ud0dd\uc0c1\uc790</strong>\n            <em class="screen_out HIDDEN">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n            <a href="#none" data-id="upperlabel" class="label"></a>\n            <em class="screen_out HIDDEN">\uc120\ud0dd\uc635\uc158</em>\n\t\t</div>\n\t\t<p data-id="uppertext" class="desc_search"></p>\n\t</div>\n\t<div data-id="lower" class="line lower">\n\t\t<div data-id="lowerwrap">\n\t\t\t<a data-id="lowerlabel" class="label"></a>\n\t\t</div>\n\t\t<a href="#none" data-id="lowertext" class="link_search"></a>\n\t\t</div>\n\t<div class="clear"></div>\n</div>\n',
MiniTooltip:'<div class="MiniTooltip">\r\n   <span class="left"></span><span class="cont" data-id=\'cont\'></span><span class="right"></span>\r\n</div>',MyFilterSelectBoxView:'<div class="FilterSelectBoxView">\n    <strong class="screen_out">\uce74\ud14c\uace0\ub9ac \uc120\ud0dd\uc0c1\uc790</strong>\n    <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n    <a href="#none" data-id="label" class="label"><span >{{selected.name}}</span> <em class="num">{{selected.count}}</em></a>\n    <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n    <ul data-id="options" class="list_opt HIDDEN">\n        {{#opts}}\n        <li data-type="{{type}}"><a href="#none">{{name}} {{count}}</a></li>\n        {{/opts}}\n    </ul>\n</div>',
NoBusView:'<div class="NoBusView">\r\n    <h4 class="noKeyword">\r\n        <\!-- <img src="//t1.daumcdn.net/localimg/localimages/07/2013/img/new_nodata_icon.png" width="14" height="14"> 2018-12-11_v2 \uc0ad\uc81c --\>\r\n        <\!-- <span data-id="titleInfo"> \ud574\ub2f9 \ubc84\uc2a4\ubc88\ud638\uc758 \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. </span> --\> \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.\r\n    </h4><\!-- 2018-12-11_v2 \uc218\uc815 : 1. \ubd88\ud544\uc694\ud55c \uc694\uc18c(span.textColor, span[data-id=titleInfo]) \uc81c\uac70 2. \ud14d\uc2a4\ud2b8 \uc218\uc815 3. \ud074\ub798\uc2a4 \ucd94\uac00(.noKeyword)--\><\!-- 2018-12-18 \uc218\uc815 : \ud0dc\uadf8\ubcc0\uacbd(h5~>h4) --\>\r\n    <div class="noRouteDesc" data-id="noRouteDesc"></div>\r\n</div>',
NoRouteContentView:'<div class="NoRouteContentView">\r\n    <div class="wrap" data-id="content">\r\n        <h3 class="noKeyword" data-id="titleInfo" >\ucd9c\ubc1c\uc9c0\uc640 \ub3c4\ucc29\uc9c0\uac00 \uac19\uc544\uc694.</h3>\r\n        <div class="noRouteDesc" data-id="noRouteDesc"></div>\r\n        <a href="http://kakaomap.tistory.com/210" target="_blank" class="link_suggest HIDDEN" data-id=\'link\' >\ub3c4\ubcf4 \uae38\ucc3e\uae30 \uc81c\uacf5\uc9c0\uc5ed \uc548\ub0b4</a>\r\n        <div class="intercityBox HIDDEN" data-id="intercityBox"></div>\r\n    </div>\r\n    <div class="info_fixroute">\r\n        <div data-id="fiyContent">\r\n            \uae38\ucc3e\uae30 \uc815\ubcf4\uac00 \uc798\ubabb\ub418\uc5c8\ub098\uc694?<br>\uc815\ubcf4 \uc218\uc815 \uc81c\uc548\uc740 \uc9c0\ub3c4 \ud488\uc9c8 \ud5a5\uc0c1\uc5d0 \ud070 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.\r\n            <a href="#" class="ico_place link_fixroute" data-id="fiyBtn">\ud2c0\ub9b0\uc815\ubcf4 \uc2e0\uace0</a>\r\n        </div>\r\n    </div><\!-- 2018-12-11_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8 \ucd94\uac00 --\>\r\n</div>\r\n',
PlaceInfoWindow:'<div class="PlaceInfoWindow InfoWindow{{#pointExtension}} aoi{{/pointExtension}} ">\n\t<div class="top"></div>\n\t<div class="body" data-id="body">\n        <button type="button" data-id="min" class="img_tooltip ico_min">\ucd95\uc18c\ud558\uae30</button>\n        <button type="button" data-id="close" class="img_tooltip ico_close">\ub2eb\uae30</button>\n\t\t<div class="head_tooltip">\n\t\t\t<strong class="placename"><a href="#none" target="_blank" data-id="name" class="name"></a></strong>\n\t\t\t<a href="#none" target="_blank" data-id="detail" class="detail">{{detailText}}<span class="img_tooltip coach_detail"></span></a>\n\t\t</div>\n\t\t<div class="metadata">\n            {{#showsScoreBlind}}\n            <span class="txt_blind"><span class="ico_noti"></span>\ud6c4\uae30 \ubbf8\uc81c\uacf5</span>\n            {{/showsScoreBlind}}\n            {{#showsScore}}\n\t\t\t<strong class="screen_out">\ubcc4\uc810</strong>\n\t\t\t<em data-id="score">0.0</em>\n\t\t\t<span class="ICON-stars"><span data-id="stars" style="width:80%"></span></span>\n\t\t\t<a href="#none" target="_blank" data-id="vote">(<span class="num">0</span>\uac74)</a>\n            {{/showsScore}}\n            {{#showsSeparationBar}}\n\t\t\t<span class="sep"></span>\n            {{/showsSeparationBar}}\n            {{#showsReview}}\n\t\t\t<a href="#none" target="_blank" data-id="review">\ub9ac\ubdf0 <span class="num">0</span></a>\n            {{/showsReview}}\n\t\t</div>\n\t\t<div class="content">\n\t\t\t<a href="#none" data-id="placeimg" class="thumb_place">\n\t\t\t\t<span class="frame_g"></span>\n\t\t\t</a>\n\t\t\t<div class="content_place">\n\t\t\t\t<\!-- 2018-06-07 2\uc904 \ub9d0\uc904\uc784 --\>\n\t\t\t\t<p data-id="address" class="address"></p>\n\t\t\t\t{{#courseinfo.origin}}\n\t\t\t\t<p class="origin_dest">\n\t\t\t\t\t<span data-id="courseOrigin" class="origin">{{courseinfo.origin}}</span><span class="arrow"></span><span data-id="courseDest" class="dest">{{courseinfo.dest}}</span>\n\t\t\t\t</p>\n\t\t\t\t{{/courseinfo.origin}}\n\t\t\t\t<p data-id="addInfoAddr" class="addInfoAddr"><span class="zipcode"></span></p>\n\t\t\t\t<p data-id="contact" class="contact">\n\t\t\t\t\t<span data-id="phone" class="phone">000-0000-0000</span>\n\t\t\t\t</p>\n        <p class="service">\n\t\t\t\t\t<a href="#none" target="_blank" class="detail">{{detailText}}</a>\n\t\t\t\t\t<a href="#none" data-id="report" class="report">\uc815\ubcf4 \uc218\uc815 \uc81c\uc548</a>\n\t\t\t\t\t{{^pointExtension}}\n\t\t\t\t\t<a href="#none" target="_blank" data-id="website" class="website">\ud648\ud398\uc774\uc9c0</a>\n\t\t\t\t\t{{/pointExtension}}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</div>\n        <div data-id="addition" class="addition HIDDEN"></div>\n        <div class="toolbar" data-id="toolbar"></div>\n\n        <\!--\n        <a data-id="intercityBtn" href="#" class="intercityBtn HIDDEN">\uc2e4\uc2dc\uac04\uc608\ub9e4</a>\n        --\>\n\t</div>\n\t<div class="bottom"></div>\n</div>\n',
PlaceInfoWindowAddition:'<div data-id="addition" class="addition">\n    <strong>{{mainName}}\uc815\ubcf4</strong>\n    {{#source}}\n    <a class="source" href="{{sourceUrl}}" target="_blank" data-id="source">\ucd9c\ucc98 : {{source}}</a>\n    {{/source}}\n    <dl class="horizontal">\n        {{#distance}}\n        <dt>\ucd1d\uac70\ub9ac</dt>\n        <dd>{{distance}}</dd>\n        {{/distance}}\n        {{#time}}\n        <dt>\uc18c\uc694\uc2dc\uac04</dt>\n        <dd>{{time}}</dd>\n        {{/time}}\n        {{#difficulty}}\n        <dt>\ub09c\uc774\ub3c4</dt>\n        <dd>{{difficulty}}</dd>\n        {{/difficulty}}\n    </dl>\n</div>',
PlaceInfoWindowTipAddition:'<div data-id="addition" class="addition">\r\n\t<div class="themeTip">\r\n\t\t<span class="tipimg"></span>\r\n\t\t<span class="tiptitle"><strong data-id="owner">Name</strong>\ub2d8\uc758 \ud301</span>\r\n\t\t<span class="tipcount"><strong data-id="page">0</strong>/<span data-id="total">0</span>\uac74</span>\r\n\t</div>\r\n\t<div data-id="themeTipContent" class="themeTipContent">\r\n\t\t<a href="#" data-id="tipleft" class="tipleft">\uc67c\ucabd</a>\r\n\t\t<div class="tipcontent">\r\n\t\t\t<span data-id="tiptext" class="tiptext">text</span>\r\n\t\t\t<span data-id="tipdate" class="tipdate">date</span>\r\n\t\t</div>\r\n\t\t<a href="#" data-id="tipright" class="tipright">\uc624\ub978\ucabd</a>\r\n\t</div>\r\n</div>',
PlaceItemCourseInfo:'<div data-id="courseinfo" class="courseinfo">\n{{#origin}}\n    <span data-id="courseOrigin" class="origin">{{origin}}</span>\n    <span class="arrow">\uc5d0\uc11c</span>\n    <span data-id="courseDest" class="dest">{{dest}}</span>\n    <br/>\n{{/origin}}\n{{#length}}\n    \ucd1d\uac70\ub9ac <span data-id="courseLength" class="courseLength">{{length}}</span>\n{{/length}}\n{{#time}}\n    <span class="groove"></span>\n    \uc18c\uc694\uc2dc\uac04 <span data-id="courseTime" class="courseTime">{{time}}</span>\n{{/time}}\n</div>\n',
PlaceItemView:'<li class="PlaceItem clickArea">\n    <div data-id="btnsWrap" class="utile_item">\n        <span data-id="screenOutName" class="screen_out"></span>\n        <a href="#none" data-id="fav" class="fav">\n            <span class="ico_fav">\uc990\uaca8\ucc3e\uae30</span><span class="num"></span>\n        </a>\n        <a href="#none" data-id="roadview" class="roadview HIDDEN">\ub85c\ub4dc\ubdf0</a>\n        <button data-id="routeBtn" type="button" class="DirectionItemInfoBtn">\uae38\ucc3e\uae30</button>\n    </div>\n    <div class="thumb_item HIDDEN">\n        <img data-id="image" src="" width="70" height="70" class="thumb_g" alt=""/>\n    </div>\n    <div class="head_item clickArea">\n        <strong class="tit_name">\n            <a href="#none" data-id="icon" class="link_order clickArea"></a>\n            <a href="#none" data-id="name" class="link_name"></a>\n        </strong>\n        <span data-id="subcategory" class="subcategory"></span>\n    </div>\n    <div data-id="rating" class="rating clickArea">\n        <span data-id="score" class="score">\n            <span class="screen_out">\ubcc4\uc810</span>\n            <em data-id="scoreNum" class="num"></em>\n            <span class="backgroundStar">\n                <span data-id="star" class="star" style="width: 54px;"></span>\n            </span>\n            <a href="#none" data-id="numberofscore" class="numberofscore" target="_blank">(30)</a>\n        </span>\n        <span data-id="scoreBlind" class="txt_blind"><span class="ico_noti"></span>\ud6c4\uae30 \ubbf8\uc81c\uacf5</span>\n        <span data-id="scoreGroove" class="groove"></span>\n        <a href="#none" data-id="review" class="review" target="_blank">\ub9ac\ubdf0 <em data-id="numberofreview"></em></a>\n        <span  data-id="tvshowInfo" class="tvinfolabel HIDDEN">tv\uc18c\uac1c</span>\n    </div>\n    <div class="info_item">\n        <div data-id="wrapCourseInfo" class="wrapCourseInfo HIDDEN"></div>\n        <div data-id="wrapAddress" class="addr">\n            <p data-id="address"></p>\n            <p data-id="otherAddr" class="lot_number HIDDEN"></p>\n        </div>\n        <p data-id="gasinfo" class="gasinfo HIDDEN"></p>\n        <p data-id="realEstates" class="realEstates HIDDEN"></p>\n        <div data-id="openhour" class="openhour HIDDEN">\n            <p data-id="periodWarp" class="periodWarp HIDDEN">\n                <span data-id="periodStatus" class="openhourTitle"></span>\n                <a data-id="periodTxt" href="#" target="_blank"></a>\n            </p>\n        </div>\n        <div class="contact clickArea">\n            <span data-id="phone" class="phone HIDDEN"></span>\n            <a href="#none" data-id="moreview" class="moreview" target="_blank">\uc0c1\uc138\ubcf4\uae30</a>\n            <a href="#none" data-id="homepage" class="homepage HIDDEN" target="_blank">\ud648\ud398\uc774\uc9c0</a>\n            <a href="#none" data-id="storeview" class="storeview HIDDEN">\uc2a4\ud1a0\uc5b4\ubdf0</a>\n            <a href="#none" data-id="intercity" class="intercity HIDDEN">\uc2e4\uc2dc\uac04\uc608\ub9e4</a>\n        </div>\n    </div>\n</li>\n',
RadiusToolDetail:'<div class="RadiusToolDetail">\n\t<ul>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\ubc18\uacbd</span>\n\t\t\t<strong data-id="radius">0</strong>\n\t\t\t<span data-id="radiusUnit">m</span>\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\ub3c4\ubcf4</span>\n\t\t\t<span class="HIDDEN" data-id="walkHour"><strong>0</strong>\uc2dc\uac04 </span>\n\t\t\t<strong data-id="walkMin">0</strong>\ubd84\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\uc790\uc804\uac70</span>\n\t\t\t<span class="HIDDEN" data-id="bicycleHour"><strong>0</strong>\uc2dc\uac04 </span>\n\t\t\t<strong data-id="bicycleMin">0</strong>\ubd84\n\t\t</li>\n\t\t<li class="detailToolClose">\n\t\t\t<a href="#" data-id="hider">\ub2eb\uae30</a>\n\t\t</li>\n\t</ul>\n    <p data-id="help" class="help"><em>\uc9c0\uc815\uc644\ub8cc</em> : \ub9c8\uc6b0\uc2a4 \uc624\ub978\ucabd, ESC</p>\n</div>\n',
ReviewInfoWindow:'<div class="ReviewInfoWindow InfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<img data-id="thumb" src="http://placekitten.com/84/76" width="84" height="76" alt=""/>\r\n\t\t<button type="button" data-id="close" class="close ICON-close" title="\ub2eb\uae30"></button>\r\n\t\t<h6 class="title"><a href="#" target="_blank" data-id="title"></a></h6>\r\n\t\t<blockquote data-id="content"></blockquote>\r\n\t\t<p class="metadata DOTUM"><a href="#" target="_blank" data-id="author">-</a> | <span data-id="date">-</span></p>\r\n\t\t<div data-id="reference" class="reference HIDDEN">\r\n\t\t\t<button type="button" data-id="storeview" class="HIDDEN ICON-storeview"></button>\r\n\t\t\t<button type="button" data-id="roadview" class="HIDDEN ICON-roadview"></button>\r\n\t\t\t<strong><a href="#" target="_blank" data-id="name"></a></strong><br/>\r\n\t\t\t<span data-id="phone" class="phone"></span><span data-id="address"></span><br/>\r\n\t\t\t<span class="ICON-stars"><span data-id="stars"></span></span>\r\n\t\t\t<a href="#" target="_blank" data-id="vote">(-\uac74)</a> | \ub9ac\ubdf0 <em><a href="#" target="_blank" data-id="review">-</a></em>\r\n\t\t</div>\r\n\t\t<div class="toolbar" data-id="toolbar"></div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
ReviewItemView:'<li class="FavoriteEvaluationItem{{#isDisabled}} FavoriteDirectoryItem-DISABLED{{/isDisabled}}">\n    <strong class="tit_evaluation"><a href="#none" data-id="link" class="link_txt">{{name}}</a></strong>\n    <div class="rating">\n        <span class="score">\n            <span class="screen_out">\ubcc4\uc810</span>\n            <em class="screen_out">{{star}}</em>\n            <span class="backgroundStar">\n                <span class="star" style="width: {{starWidth}};"></span>\n            </span>\n        </span>\n        <span class="groove"></span>\n        {{#showsRevisitText}}\n        <span class="screen_out">\uc7ac\ubc29\ubb38\uc758\uc0ac</span>\n        <span class="txt_revisit">\uc7ac\ubc29\ubb38\ud560\ub798\uc694</span>\n        <span class="groove"></span>\n        {{/showsRevisitText}}\n        <span class="num_date">{{dateText}}</span>\n    </div>\n    {{#showsStrengthPoints}}\n    <div class="wrap_likepoint">\n        <span class="ico_mypage ico_like2">\ucd94\ucc9c\ud3ec\uc778\ud2b8</span>\n        <div class="group_likepoint">\n            {{#strengths}}\n            <span class="chip_likepoint">{{name}}</span>\n            {{/strengths}}\n        </div>\n    </div>\n    {{/showsStrengthPoints}}\n    {{#isDisabledSummaryUi}}\n    <div class="FavoriteReportDesc">\n        {{#isTempByOther}}\n        <p class="desc_report">\n            \uc774 \uac8c\uc2dc\uae00\uc740 \uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4. <a href="http://www.kakao.com/policy/right" class="link_report" target="_blank">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>\n        </p>\n        {{/isTempByOther}}\n        {{#isAdminDelete}}\n        <p class="desc_report">\uc774 \uac8c\uc2dc\uae00\uc740 \uc6b4\uc601\uc815\ucc45 \uc704\ubc18\uc73c\ub85c \uad00\ub9ac\uc790\uc5d0 \uc758\ud574 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</p>\n        {{/isAdminDelete}}\n    </div>\n    {{/isDisabledSummaryUi}}\n    {{^isDisabledSummaryUi}}\n    {{#isPhoto}}\n    <strong class="screen_out">\uc7a5\uc18c \uc774\ubbf8\uc9c0</strong>\n    <ul class="gallery_favorite">\n        {{#photos}}\n        <li>\n            <a href="{{link}}" target="_blank" class="link_gallery">\n                <img src="{{thumbUrl}}" width="70" height="70" alt="\uc7a5\uc18c \uc0c1\uc138"/>\n                {{#near}}\n                <span class="ico_mypage ico_near" title="\uadfc\ucc98\uc5d0\uc11c \ucc0d\uc740 \uc0ac\uc9c4">\uadfc\ucc98\uc5d0\uc11c \ucc0d\uc740 \uc0ac\uc9c4</span>\n                {{/near}}\n                <span class="frame_g"></span>\n                {{#photoTotalCnt}}\n                <span class="txt_num">{{photoTotalCnt}}<span class="screen_out">\uac1c \uc774\ubbf8\uc9c0 \ub354\ubcf4\uae30</span></span>\n                <span class="frame_photo"></span>\n                {{/photoTotalCnt}}\n            </a>\n        </li>\n        {{/photos}}\n    </ul>\n    {{/isPhoto}}\n    <p data-id="contents" class="desc_directory">{{clippedContents}}{{#isMoreText}}.{{#isDisabled}}<span class="btn_txtmore">\ub354\ubcf4\uae30</span>{{/isDisabled}}{{^isDisabled}}<button type="button" data-id="moreText" class="btn_txtmore">\ub354\ubcf4\uae30</button>{{/isDisabled}}{{/isMoreText}}</p>\n    {{#isMoreText}}\n    <p data-id="originContents" class="desc_directory HIDDEN">{{contents}}<button type="button" data-id="contractText" class="btn_txtmore">\uc811\uae30</button></p>\n    {{/isMoreText}}\n\n    {{#isDisabled}}\n    <span class="btn_like"><span class="ico_mypage ico_like"></span>\uc88b\uc544\uc694 <span class="num">{{likeCount}}</span></span>\n    {{#isOwnerReply}}\n    <button type="button" data-id="ownerReply" class="btn_reply"><span class="ico_mypage ico_cmt"></span>\uc0ac\uc7a5\ub2d8 \ub313\uae00</button>\n    {{/isOwnerReply}}\n    {{/isDisabled}}\n    {{^isDisabled}}\n    <button type="button" data-id="like" class="btn_like{{#like}} ACTIVE{{/like}}"><span class="ico_mypage ico_like"></span>\uc88b\uc544\uc694 <span class="num">{{likeCount}}</span></button>\n    {{#isOwnerReply}}\n    <button type="button" data-id="ownerReply" class="btn_reply"><span class="ico_mypage ico_cmt"></span>\uc0ac\uc7a5\ub2d8 \ub313\uae00</button>\n    {{/isOwnerReply}}\n    {{/isDisabled}}\n\n    {{/isDisabledSummaryUi}}\n    {{^isOtherAndDisabled}}\n    <button type="button" data-id="more" class="btn_more"><span class="ico_mypage ico_more">\ub354\ubcf4\uae30</span></button>\n    {{/isOtherAndDisabled}}\n    {{#isDisabled}}\n    {{#isTempByOwner}}\n    <div class="FavoriteReportDesc">\n        <p class="desc_report">\n            \uc774 \uac8c\uc2dc\uae00\uc740 \uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4. <a href="http://www.kakao.com/policy/right" class="link_report" target="_blank">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>\n        </p>\n    </div>\n    {{/isTempByOwner}}\n    {{/isDisabled}}\n    {{^isOtherAndDisabled}}\n    <div data-id="setting" class="FavoriteSettingLayer HIDDEN">\n        <ul class="list_opt">\n            {{#isOtherPage}}\n            <li><a data-id="report" href="#none">\uc2e0\uace0</a></li>\n            {{/isOtherPage}}\n            {{^isOtherPage}}\n            {{#isEdit}}\n            <li><a data-id="modify" href="{{link}}" target="_blank">\uc218\uc815</a></li>\n            {{/isEdit}}\n            <li><a data-id="remove" href="#none">\uc0ad\uc81c</a></li>\n            {{/isOtherPage}}\n        </ul>\n    </div>\n    {{/isOtherAndDisabled}}\n</li>\n',
RoadviewBuildingTooltip:'<div class="wrap_infowindow" >\n    <div class="AddressInfoWindow InfoWindow">\n        <div class="body">\n            <button type="button" class="img_tooltip ico_close ICON-close" data-id="closeBtn" >\ub2eb\uae30</button>\n            <div class="head_tooltip">\n                <strong class="placename" data-id="roadAddress" ></strong>\n            </div>\n            <div class="content">\n                <p data-id="related" class="related old">\n                    (\uc9c0\ubc88)<span class="txt" data-id="address" ></span>\n                </p>\n                <p class="contact">\n                    <a href="#none" data-id="report" class="report" >\uc815\ubcf4 \uc218\uc815 \uc81c\uc548</a>\n                </p>\n                <div class="InfoWindowDirection">\n                    <button type="button" data-id="findWayBtn" class="btn_direction">\uae38\ucc3e\uae30</button>\n                    <div class="group_direction" data-id="waypointBtn" >\n                        <button type="button" data-id="origin" class="origin">\ucd9c\ubc1c</button>\n                        <button type="button" data-id="via" class="via">\uacbd\uc720</button>\n                        <button type="button" data-id="dest" class="dest">\ub3c4\ucc29</button>\n                    </div>\n                </div>\n            </div>\n            <strong class="screen_out">\uc8fc\ubcc0 \uc7a5\uc18c \ubaa9\ub85d</strong>\n            <ul class="list_place" data-id="placeList" >\n                <\!--\n                <li>\n                    <a href="#none" class="link_place">\n                        <span class="num_phone">02-578-3372</span>\n                        <span class="ico_roadview2 ico_place"></span>\n                        <span class="txt_place">\ub85c\ub760\ubc88 \uc11c\uc6b8\ub9cc\ub0a8\uc758\uad11\uc7a5 \ud734\uac8c\uc18c\uc810</span>\n                    </a>\n                </li>\n                --\>\n            </ul>\n        </div>\n    </div>\n</div>',
RoadviewSmallPoiTooltip:'<div class="MediumTooltip type_roadview" ><\!-- 2019-05-09 : \uae30\uc874 \ud234\ud301\uc5d0\uc11c type_roadview \ud074\ub798\uc2a4 \ucd94\uac00 --\>\n    <span class="left"></span>\n    <span class="content">\n        <strong>\n            <a href="#" target="_blank" data-id="name" >\ub86f\ub370\ubc31\ud654\uc810\uac15\ub0a8\uc810MBC\ubb38\ud654\uc13c\ud130</a>\n        </strong>\n        <div class="wrap_btn">\n            <button type="button" class="roadviewMedium HIDDEN ICON-roadview"><span class="ico_roadview2">\ub85c\ub4dc\ubdf0</span><\!-- 2019-05-09 : \ud14d\uc2a4\ud2b8 \uac10\uc2f8\ub294 \ud074\ub798\uc2a4(ico_roadvew2) \ucd94\uac00 --\></button>\n            <button type="button" class="storeview ICON-storeview HIDDEN" data-id="storeview" ><span class="ico_roadview2">\uc2a4\ud1a0\uc5b4\ubdf0</span><\!-- 2019-05-09 : \ud14d\uc2a4\ud2b8 \uac10\uc2f8\ub294 \ud074\ub798\uc2a4(ico_roadvew2) \ucd94\uac00 --\></button>\n            <button type="button" class="destination" data-id="findWay" ><span class="ico_roadview2">\ub3c4\ucc29\uc9c0</span><\!-- 2019-05-09 : \ud14d\uc2a4\ud2b8 \uac10\uc2f8\ub294 \ud074\ub798\uc2a4(ico_roadvew2) \ucd94\uac00 --\></button>\n            <button type="button" class="close" data-id=\'close\' ><span class="ico_roadview2">\ub2eb\uae30</span><\!-- 2019-05-09 : \ud14d\uc2a4\ud2b8 \uac10\uc2f8\ub294 \ud074\ub798\uc2a4(ico_roadvew2) \ucd94\uac00 --\></button>\n        </div><\!-- 2019-05-09 \ucd94\uac00 : \ubc84\ud2bc \uac10\uc2f8\ub294 div.wrap_btn \ucd94\uac00 --\>\n    </span>\n    <span class="right"></span>\n</div>',
RoughMapFrame:'<div class="RoughMapFrame">\r\n\t<iframe data-id="frame" frameborder=\'0\' border=\'0\' class="frame" src=""></iframe>\r\n</div>',RouteIndexMarker:'<div class="RouteIndexMarker">\r\n   <span class="count" data-id=\'count\'>0</span>\r\n</div>',RouteInfoWindow:'<div class="RouteInfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<div data-id="icons" class="left_icon"><span data-id="icon" class="icon {{iconType}}"></span></div>\r\n\t\t<div class="right_content">\r\n\t\t\t<h6 class="name">\r\n\t\t\t\t<span href="#" data-id="title">{{title}}</span>\r\n\t\t\t</h6>\r\n\t\t\t\r\n\t\t\t<div class="altviews">\r\n\t\t\t\t<a data-id="rv" href="#" class="rv ICON-roadview HIDDEN" title="\ub85c\ub4dc\ubdf0"></a>\r\n\t\t\t\t<button type="button" data-id="close" class="closeInfo" title="\ub2eb\uae30"></button>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class="content" data-id="content"></div>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t<\!-- \r\n\t\t<img data-id="img" class="HIDDEN">\r\n\t\t<span data-id="title" href="#" class="title"></span>\r\n\t\t \r\n\t\t<p data-id="desc" class="HIDDEN"></p>--\>\r\n\t\t\r\n\t\t<div  class="arrow">\r\n\t\t\t<a class="next" href="#" data-id="next"></a>\r\n\t\t\t<a class="prev" href="#" data-id="prev"></a>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n</div>',
RouteMethodTabView:'<div class="RouteMethodTabView">\r\n\t<a id="cartab" data-id="car" class="car" href="#"></a>\r\n\t<a id="transittab" data-id="transit" class="transit" href="#"></a>\r\n\t<a id="walktab" data-id="walk" class="walk" href="#"></a>\r\n\t<a id="biketab" data-id="bike" class="bike" href="#"></a>\r\n</div>\r\n',ScrapMapFrame:'<div class="ScrapMapFrame">\r\n\t<iframe data-id="frame"  frameborder=\'0\' border=\'0\' name="scrapmap" class="frame" src=""></iframe>\r\n\t<a href="#" class="close"></a>\r\n</div>',
SkyviewOptions:'<div class="SkyviewOptions">\n    <a href="#" class="hybrid ACTIVE">\ud558\uc774\ube0c\ub9ac\ub4dc</a>\n    <div class="line"></div>\n    <a href="#" class="yearRadio yearNow ACTIVE">\ucd5c\uadfc\uc0ac\uc9c4</a>\n    <a href="#" class="yearRadio">2020</a>\n    <a href="#" class="yearRadio">2019</a>\n    <a href="#" class="yearRadio">2018</a>\n    <a href="#" class="yearRadio">2017</a>\n    <a href="#" class="yearRadio">2016</a>\n    <a href="#" class="yearRadio">2015</a>\n    <a href="#" class="yearRadio">2014</a>\n    <a href="#" class="yearRadio">2013</a>\n    <a href="#" class="yearRadio">2012</a>\n    <a href="#" class="yearRadio">2011</a>\n    <a href="#" class="yearRadio">2010</a>\n    <a href="#" class="yearRadio">2009</a>\n    <a href="#" class="yearRadio">2008</a>\n</div>\n',
StartEndPointInfoContent:'<div class="StartEndPointInfoContent HIDDEN">\r\n\t<p class="contact" data-id="contact">\r\n\t\t<span class="phone" data-id="phone">02-120</span>\r\n\t\t<span class="allphone HIDDEN" data-id="allphone"></span>\r\n\t\t<button class="morephone ICON-downbtn" type="button" data-id="morephone"></button>\r\n\t</p>\r\n\t<p class="address" data-id="address" title="\uc11c\uc6b8 \uc911\uad6c \ud0dc\ud3c9\ub85c1\uac00 31">\uc11c\uc6b8 \uc911\uad6c \ud0dc\ud3c9\ub85c1\uac00 31</p>\r\n\t<p class="newaddr DOTUM" data-id="newaddr">(\uc0c8\uc8fc\uc18c : \uc11c\uc6b8 \uc911\uad6c \uc138\uc885\ub300\ub85c 110)</p>\r\n</div>',
StartEndPointItemView:'<li class="StartEndPointItemView">\r\n\t<div class="itemLeft">\r\n\t\t<span data-id="icon" class="icon {{actionName}}"></span>\r\n\t\t<div class="transitStartEndname">\r\n\t\t\t<a href="#" data-id="name" class="name">\r\n\t\t\t\t{{name}}\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</div>\r\n\t{{#isShowDetail}}\r\n\t<a href=\'{{placeUrl}}\' class=\'btn_detail\' data-id=\'detail\' target=\'_blank\' >\uc0c1\uc138\ubcf4\uae30</a>\r\n\t{{/isShowDetail}}\r\n\t{{#roadview}}\r\n\t\t<a href="#" class="roadview screen_visible" data-id="roadview">\ub85c\ub4dc\ubdf0</a> \r\n\t{{/roadview}}\r\n</li>',
StoreviewMinimap:"<div style='position:absolute;top:20xp;left:40px;z-index:100;' >\n    <div data-id='minimapBtn'>\ubbf8\ub2c8\ub9f5</div>\n    <div data-id='minimapContainer' class='outer' style='overflow:hidden;position:relative;background-color:rgba(0, 0, 0, 0.4);' >\n        <div data-id='minimapPanel' style='position:absolute;display:flex;'>\n            <div data-id='minimapWrapper' style='margin:auto;position:relative;'>\n                <div data-id='markerContainer' style='position:absolute;' ></div>\n                <img src= '' data-id='minimapImg'  style='margin:auto;-webkit-user-drag:none;user-select:none;' />\n            </div>\n        </div>\n    </div>\n</div>",
SubPlaceInfoWindow:'<div class="SubPlaceInfoWindow InfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<div class="content">\r\n\t\t\t<button type="button" data-id="close" class="close ICON-close" title="\ub2eb\uae30"></button>\r\n\t\t\t<h6>\r\n\t\t\t\t<span data-id="name" class="name">\uc8fc\uc18c</span>\r\n\t\t\t</h6>\r\n\t\t</div>\r\n\t\t<div class="toolbar" data-id="toolbar"></div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
SubwayRouteInfoWindowContent:'<div data-id="SubwayRouteInfoWindowContent" class="SubwayRouteInfoWindowContent">\r\n\t<div class="direction">\r\n\t\t{{desc}}\r\n\t\t{{#tip}}<span class="time"> ({{tip}})</span>{{/tip}}\r\n\t</div>\r\n\t\r\n\t{{#nodes}}<span class="nodes">{{nodes}}</span>, {{/nodes}}\r\n\t{{#time}}<span class="time">{{time}}</span> \uc18c\uc694{{/time}}\r\n</div>',SubwayRouteResultItemView:'<li class="SubwayRouteResultItem">\r\n\t<div class="title clickArea">\r\n\t\t<p data-id="time" class="time"></p>\r\n\t\t<a href="#" class="detailBtn" title="\ud3bc\uce58\uae30">\ud3bc\uce58\uae30</a>\r\n\t\t<p data-id="fare" class="fare"></p>\r\n\t</div>\r\n\t<div data-id="outLineView" class="outLineView clickArea"></div>\r\n\t<div data-id="detailView" class="detailView"></div>\r\n</li>',
SubwayRouteSectionItemView:'<li class="SubwayRouteSectionItem">\r\n\t<div class="SubwayRouteSectionItemWrap">\r\n\t\t<span class="icon"></span>\r\n\t\t<span data-id="line" class="line"></span>\r\n\t\t<span data-id="endIcon" class="endIcon"></span>\r\n\t\t<div data-id="infoWrap" class="infoWrap">\r\n\t\t\t<span data-id="time" class="time"></span>\r\n\t\t\t<span data-id="name" class="name"></span>\r\n\t\t\t<p data-id="direction" class="direction"></p>\r\n\t\t\t<p data-id="fastTransfer" class="fastTransfer"></p>\r\n\t\t\t<a href="#" data-id="stationCount" class="stationCount"></a>\r\n\t\t\t<ul data-id="nodes" class="nodes">\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</li>',
SubwayStationInfoWindow:'<div class="SubwayStationInfoWindow InfoWindow">\r\n    <div class="top"></div>\r\n    <div class="body">\r\n        <button type="button" data-id="min" class="img_tooltip ico_min">\ucd95\uc18c\ud558\uae30</button>\r\n        <button type="button" data-id="close" class="img_tooltip ico_close">\ub2eb\uae30</button>\r\n\r\n        <div data-id="linebg" class="head_subway">\r\n            <strong data-id="name" class="tit_subway">\r\n                <span class="inner_subway">\r\n                    <span class="txt_subway"></span>\r\n                </span>\r\n            </strong>\r\n            <a href="#none" data-id="prev" class="prev"><span class="txt_g"></span></a>\r\n            <a href="#none" data-id="next" class="next"><span class="txt_g"></span></a>\r\n        </div>\r\n        <div class="content">\r\n            <div data-id="transfer" class="transfer HIDDEN">\r\n                <strong>\ud658\uc2b9\uc5ed</strong>\r\n            </div>\r\n            <div class="contact">\r\n                <strong>\ub300\ud45c\ubc88\ud638</strong>\r\n                <span data-id="telephone" class="phone"></span>\r\n                <span class="txt_bar"></span>\r\n                <strong>\uc720\uc2e4\ubb3c\uc13c\ud130</strong>\r\n                <span data-id="lostCenterTelephone" class="phone"></span>\r\n            </div>\r\n            <div class="service">\r\n                <a href="#none" data-id="subwayMap">\uc9c0\ud558\ucca0\ub178\uc120\ub3c4</a>\r\n                <span class="ICON-middot"></span>\r\n                <a href="#none" data-id="detail" class="detail">\uc0c1\uc138\ubcf4\uae30</a>\r\n                <span class="ICON-middot"></span>\r\n                <a href="#none" data-id="report" class="report">\uc815\ubcf4 \uc218\uc815 \uc81c\uc548</a>\r\n            </div>\r\n        </div>\r\n        <div data-id="toolbar" class="toolbar"></div>\r\n    </div>\r\n    <div class="bottom"></div>\r\n</div>',
SubwayStationTransitView:'<div>\n    <strong class="screen_out">\uc0c1\ud589 \uc5f4\ucc28 \uace7 \ub3c4\ucc29 \uc815\ubcf4</strong>\n    <dl class="list_arr" data-id="ascending"></dl>\n    <strong class="screen_out">\ud558\ud589 \uc5f4\ucc28 \uace7 \ub3c4\ucc29 \uc815\ubcf4</strong>\n    <dl class="list_arr" data-id="decending"></dl>\n</div>\n',ThemeMapItemView:'<li class="ThemeMapItem">\r\n\t<div data-id="imgWrap" class="imgWrap">\r\n\t\t<a class="img" href="#">\r\n\t\t\t<span class="imgStroke"></span>\r\n\t\t\t<img data-id="img" src="" width="73" height="66"/>\r\n\t\t</a>\r\n\t</div>\r\n\t<div data-id="para" class="para clickArea">\r\n\t\t<h6 class="clickArea">\r\n\t\t\t<a data-id="name" href="#">\r\n\t\t\t\uc5f0\uc778\ub4e4\uc774 \ud568\uaed8 \uac00\uba74 \ub354 \uc88b\uc740 \uce74\ud398\r\n\t\t\t</a>\r\n\t\t</h6>\r\n\t\t<div data-id="infowrap" class="infowrap">\r\n\t\t\t<span><span data-id="region" class="region">\uc804\uad6d</span> <strong data-id="count">32</strong>\uacf3</span>\r\n\t\t\t<span class="bar">|</span>\r\n\t\t\t<span data-id="like" class="like">3202</span>\r\n\t\t</div>\r\n\t\t<div class="urlShare clickArea">\r\n\t\t\t<a data-id="urlShare" class="urlBtn" href="#">url\uacf5\uc720</a>\r\n\t\t</div>\r\n\t</div>\r\n</li>',
ThemeMapPlaceItemView:'<li class="ThemeMapPlaceItem">\r\n\t<div class="iconWrap">\r\n\t\t<span data-id="icon" class="icon"></span>\r\n\t</div>\r\n\t<div data-id="para" class="para clickArea">\r\n\t\t<div data-id="imgWrap" class="imgWrap HIDDEN">\r\n\t\t\t<a class="img" href="#">\r\n\t\t\t\t<span class="imgStroke"></span>\r\n\t\t\t\t<img data-id="image" width="73" height="66" />\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t\t<h6 class="clickArea">\r\n\t\t\t<a data-id="name" href="#">\r\n\t\t\t\t\ubc00\ud0d1\r\n\t\t\t</a>\r\n\t\t</h6>\r\n\t\t<a href="#" data-id="why" class="why">\uacf1\uac8c \uac04 \uc5bc\uc74c\uc5d0 \uc5f0\uc720\uc640 \uacfc\uc77c\uc744 \ub2f4\uc544\ub0b4\ub294 \ubc00\ud06c\ube59\uc218\uac00 \uc77c\ud488\uc778 \ube59\uc218 \uc804\ubb38\uc810</a>\r\n\t\t<div data-id="info" class="infowrap clickArea">\r\n\t\t\t<span data-id="region" class="region">\uc11c\uc6b8</span>\r\n\t\t\t<span class="bar">|</span>\ud301\t<span data-id="tip" class="tip">25</span>\r\n\t\t</div>\r\n\t</div>\r\n\t<a href="#" data-id="like" class="like">\r\n\t\t<span data-id="good" class="good">0</span>\r\n\t</a>\r\n</li>',
ThemeMapPlaceMarker:'<div class="ThemeMapPlaceMarker">\r\n   <span class="count" data-id=\'count\'>0</span>\r\n</div>',TrafficInfoWindow:'<div class="InfoWindow TrafficInfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<button type="button" data-id="close" class="close ICON-close" title="\ub2eb\uae30"></button>\r\n\t\t<button type="button" data-id="fav" class="fav ICON-fav" title="\uc990\uaca8\ucc3e\uae30"></button>\r\n\t\t<h6 data-id="title"></h6>\r\n\t\t<p data-id="section">\ud55c\ub0a82\ucc28\uace0\uac00\ucc28\ubd81\ub2e8 ~ \ubd81\ud55c\ub0a8\uc0bc\uac70\ub9ac</p>\r\n\t\t<blockquote data-id="desc">359m \uad6c\uac04\uc6d0\ud560 (\uc18d\ub3c4 52km/h)</blockquote>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
TrafficLegend:'<div class="TrafficLegend">\n    <a data-id="close" class="close" href="#"></a>\n    <div data-id="tooltip1" class="tooltip HIDDEN">\n        <dl>\n            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>: <strong>80</strong> km/h\u2191</dd>\n            <dt>\uad6d\ub3c4    </dt><dd>: <strong>60</strong> km/h\u2191</dd>\n            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>: <strong>40</strong> km/h\u2191</dd>\n        </dl>\n        <span class="vertex"></span>\n    </div>\n    <div data-id="tooltip2" class="tooltip tooltip2 HIDDEN">\n        <dl>\n            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>: <strong>50~80</strong> km/h</dd>\n            <dt>\uad6d\ub3c4    </dt><dd>: <strong>40~60</strong> km/h</dd>\n            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>: <strong>20~40</strong> km/h</dd>\n        </dl>\n        <span class="vertex"></span>\n    </div>\n    <div data-id="tooltip3" class="tooltip tooltip3 HIDDEN">\n        <dl>\n            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>: <strong>20~50</strong> km/h</dd>\n            <dt>\uad6d\ub3c4    </dt><dd>: <strong>20~40</strong> km/h</dd>\n            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>: <strong>10~20</strong> km/h</dd>\n        </dl>\n        <span class="vertex"></span>\n    </div>\n    <div data-id="tooltip4" class="tooltip tooltip4 HIDDEN">\n        <dl>\n            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>: <strong>20</strong> km/h\u2193</dd>\n            <dt>\uad6d\ub3c4    </dt><dd>: <strong>20</strong> km/h\u2193</dd>\n            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>: <strong>10</strong> km/h\u2193</dd>\n        </dl>\n        <span class="vertex"></span>\n    </div>\n    <p class="date">\uae30\uc900 : <span data-id="date"></span></p>\n    <a data-id="refresh" class="refresh" href="#">\uc0c8\ub85c\uace0\uce68</a>\n    <ul class="bar">\n        <li data-id="density1" class="density1"><a href="#"></a>\uc6d0\ud65c</li>\n        <li data-id="density2" class="density2"><a href="#"></a>\uc11c\ud589</li>\n        <li data-id="density3" class="density3"><a href="#"></a>\uc9c0\uccb4</li>\n        <li data-id="density4" class="density4"><a href="#"></a>\uc815\uccb4</li>\n        <li data-id="density5" class="density5"><a href="#"></a>\uc815\ubcf4\uc5c6\uc74c</li>\n    </ul>\n    <ul class="desc">\n        <li class="clickable">\uc18d\ub3c4 \uc815\ubcf4 \ub77c\uc778 \uc704\ub97c \ud074\ub9ad\ud558\uba74, \uc0c1\uc138 \uc815\ubcf4 \ud655\uc778 \uac00\ub2a5</li>\n        <li>\uc2dc\ub0b4 \ub3c4\ub85c\ub294 \uc2e0\ud638 \uc815\ucc28 \ub4f1\uc73c\ub85c \uc2e4\uc81c \uc18d\ub3c4\uc640 \ub2e4\ub97c \uc218 \uc788\uc74c</li>\n    </ul>\n</div>\n',
TransitInterPointItemView:'<li class="TransitInterPointItem {{#isCustomType}}custom_info_item{{/isCustomType}}">\n    <div class="transInterTypeInfo" data-id="transInterTypeInfo" >\n        <div data-id="trans_type_header" class="trans_type_header"></div>\n        <div data-id="trans_inter_time" class="trans_inter_time"></div>\n        <a class="detailBtn" data-id="detailBtn"></a>\n        {{#longInterval}}<div class="long_interval_info">\ubc30\ucc28\uac04\uaca9\uc774 \uae34 \uc218\ub2e8\uc785\ub2c8\ub2e4. \uc2dc\uac04\ud45c\ub97c \ud655\uc778\ud558\uc138\uc694.</div>{{/longInterval}}\n    </div>\n\n    {{#isInterTraffic}}\n\t<ol class="public_detail" data-id="interList" >\n\t</ol>\n    {{/isInterTraffic}}\n    {{#isOneLineSummary}}\n\n\n\t<ol class="public_detail">\n\t\t<li class="TransitPointItem" data-id=\'oneItem\' >\n\t\t\t<div class="TransitPointItemWrap" data-id="pointItemWrap">\n\t\t\t\t<div class="detailIcoWrap" data-id="detailIcoWrap">\n\t\t\t\t\t<div data-id="startSummaryIcon" class="summaryIcon INTERCITY taxi"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="transitDetail">\n\t\t\t\t\t<strong><a href="#none" data-id="startName">\uc0c1\ubd09\uc5ed\uae4c\uc9c0 \ud0dd\uc2dc\ub85c \uc774\ub3d9</a></strong>\n\t\t\t\t\t<div class="vehicles HIDDEN" data-id="vehicles"></div>\n\t\t\t\t\t<div class="descWrap HIDDEN">\n\t\t\t\t\t\t<a href="#none" class="desc HIDDEN" data-id="desc"></a>\n\t\t\t\t\t\t<ul class="subwayTypeList HIDDEN" data-id="subwayTypes"></ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="moreRoute" data-id="moreRouteWrap">\n\t\t\t\t\t\t<span data-id="moreRoute">\n\t\t\t\t\t\t\t<span data-id="moreRouteTxt"></span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t</ol>\n\n\t<\!--\n    <div class="TransitRouteOutlineView innerTransitDetail">\n        <div class="SummaryDetail">\n            <div class="TransitRouteOutlineItemView">\n                <div class="iconwrap">\n                    <div data-id="startSummaryIcon" class="summaryIcon INTERCITY"></div>\n                </div>\n                <div class="summaryDesc intercity">\n                    <div class="summaryName">\n                        <span href="#" data-id="startName" class="name"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\t--\>\n    {{/isOneLineSummary}}\n    {{#isCustomType}}\n    <div class="TransitRouteOutlineView innerTransitDetail">\n        <div class="SummaryDetail">\n\t\t\t<\!--\n            <div class="TransitCustomOutlineItemView">\n                <div class="custom_title">{{destination}}\uae4c\uc9c0 \uc774\ub3d9</div>\n                <div class="custom_detail">\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.</div>\n                <div class="custom_detail">\ud574\ub2f9 \uc18c\uc694\uc2dc\uac04\uc740 \uc2e4\uc81c\uc640 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</div>\n            </div>\n\t\t\t--\>\n\t\t\t<div class="TransitCustomOutlineItemView">\n\t\t\t\t<\!-- 2018-10-30 \uc218\uc815 \uc2dc\uc791 --\>\n\t\t\t\t<span class="custom_ico"></span>\n\t\t\t\t<strong class="custom_title">{{destination}}\uae4c\uc9c0 \uc774\ub3d9 <span data-id="custom_inter_time" class="trans_inter_time"></span></strong>\n\t\t\t\t<p class="custom_detail">\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694. \ud574\ub2f9 \uc18c\uc694\uc2dc\uac04\uc740 \uc2e4\uc81c\uc640 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>\n\t\t\t\t<\!-- // 2018-10-30 \uc218\uc815 \ub05d --\>\n\t\t\t</div>\n        </div>\n    </div>\n\n\n    {{/isCustomType}}\n</li>',
TransitInterPointSubItemView:'<li class="TransitPointItem" >\r\n\t<div class="TransitPointItemWrap" data-id="pointItemWrap">\r\n\t\t<div class="detailIcoWrap" data-id="detailIcoWrap">\r\n\t\t\t<div data-id="summaryIcon" class="summaryIcon"></div>\r\n\t\t\t<div data-id="tp_line" class="tp_line"></div>\r\n\t\t</div>\r\n\t\t<div class="transitDetail">\r\n\t\t\t<strong data-id=\'nameWrap\' >\r\n\t\t\t\t<a href="#none" data-id="name"></a>\r\n\t\t\t</strong>\r\n\t\t\t<div class="vehicles HIDDEN" data-id="vehicles"></div>\r\n\t\t\t<div class="descWrap HIDDEN">\r\n\t\t\t\t<a href="#none" class="desc HIDDEN" data-id="desc"></a>\r\n\t\t\t\t<ul class="subwayTypeList HIDDEN" data-id="subwayTypes"></ul>\r\n\t\t\t</div>\r\n\t\t\t<div class="moreRoute HIDDEN" data-id="moreRouteWrap">\r\n\t\t\t\t<span data-id="moreRoute">\r\n\t\t\t\t\t<span data-id="moreRouteTxt"></span>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<a href="#none" data-id="reservationBtn" class="reservation_btn HIDDEN"></a>\r\n\t</div>\r\n</li>',
TransitMediumTooltip:'<div class="TransitMediumTooltip">\r\n\t<div class="content"> \r\n\t\t<a href="#" data-id="nameWrap" class="nameWrap">\r\n\t\t\t<span class="location" data-id="name"></span>\r\n\t\t\t<span data-id="actionName"></span>\r\n\t\t</a>\r\n\t\t<a href="#" data-id="expand" class="expand" >\ud3bc\uce68</a>\r\n\t\t<a href="#" data-id="close" class="close" >\ub2eb\uae30</a>\r\n\t</div>\r\n\t<span class="arrow"></span>\r\n</div>\r\n',TransitPointInfoWindow:'<div class="TransitPointInfoWindow">\r\n\t<div class="body" data-id="body">\r\n\t\t<span data-id="icon" class="icon"></span>\r\n\t\t<strong class="name addr" data-id="name">\r\n\t\t\t<a href="#" data-id="title">{{title}}</a> {{actionName}}\r\n\t\t</strong>\r\n\t\t\r\n\t\t<div class="content" data-id="transitPointContent"></div>\r\n\t\t<div class="altviews">\r\n\t\t\t{{#roadview}}<a data-id="rv" href="#" class="rv ICON-roadview" title="\ub85c\ub4dc\ubdf0"></a>{{/roadview}}\r\n\t\t\t<button type="button" data-id="min" class="collapse" title="\ucd95\uc18c\ud558\uae30"></button>\r\n\t\t\t<button type="button" data-id="close" class="closeInfo" title="\ub2eb\uae30"></button>\r\n\t\t</div>\r\n\t\t\r\n\r\n\t\t<div  class="arrow">\r\n\t\t\t<a class="next" href="#" data-id="next"></a>\r\n\t\t\t<a class="prev" href="#" data-id="prev"></a>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="tail"></div>\r\n</div>\r\n',
TransitPointItemView:'<li class="TransitPointItem">\r\n\t<div class="TransitPointItemWrap" data-id="pointItemWrap">\r\n\t\t<div class="detailIcoWrap" data-id="detailIcoWrap">\r\n\t\t\t<div data-id="summaryIcon" class="summaryIcon"></div>\r\n\t\t\t<\!-- <div data-id="pre_transitline" class="pre_transitline"></div> --\>\r\n\t\t\t<div data-id="tp_line" class="tp_line"></div>\r\n\t\t</div>\r\n\t\t<div class="transitDetail">\r\n\t\t\t<strong><a href="#" data-id="name"></a></strong>\r\n\t\t\t\r\n\t\t\t<div class="vehicles HIDDEN" data-id="vehicles"></div>\r\n\t\t\t\r\n\t\t\t<div class="descWrap HIDDEN"> \r\n\t\t\t\t<a href="#" class="desc HIDDEN" data-id="desc"></a>\r\n\t\t\t\t<ul class="subwayTypeList HIDDEN" data-id="subwayTypes">\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div class="moreRoute" data-id="moreRouteWrap">\r\n                {{#isPublicPoint}}\r\n\t\t\t\t<a href="#" data-id="moreRoute">\r\n\t\t\t\t\t<span data-id="moreRouteTxt"></span>{{#isNodes}}<span class="moreBtn"></span>{{/isNodes}}\r\n\t\t\t\t</a>\r\n                {{/isPublicPoint}}\r\n                {{#isInterPublic}}\r\n                <span data-id="moreRoute">\r\n                    <span data-id="moreRouteTxt"></span>\r\n                </span>\r\n                {{/isInterPublic}}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class="icoRight">\r\n\t\t\t\t<a href="#" data-id="subwayLineBtn" class="subwaylineBtn screen_visible">\uc9c0\ud558\ucca0\ub178\uc120\ub3c4</a>\r\n            {{#isPublicPoint}}\r\n\t\t\t\t<a href="#" class="roadview screen_visible" data-id="roadview">\ub85c\ub4dc\ubdf0</a>\r\n            {{/isPublicPoint}}\r\n\t\t</div>\r\n\r\n\t</div>\r\n\t{{#isNodes}}\r\n\t<ol class="detailRoute HIDDEN" data-id="detailRoute">{{#nodes}}\r\n\t\t<li class="nodeName">\r\n\t\t\t<span class="detailIco detail_{{nodeCode}}"></span>\r\n\t\t\t<div class="{{nodeCode}}_line d_line"></div>\r\n\t\t\t{{name}}\r\n\t\t</li>\r\n\t\t{{/nodes}}\r\n\t</ol>\r\n\t{{/isNodes}}\r\n    {{#isOther}}\r\n    <div class="TransitPointOtherWrap">\r\n        <div class="other_time" data-id="otherTime"></div>\r\n        <div class="other_info">\r\n            <div class="other_title" data-id="otherTitle"></div>\r\n            <div class="other_detail">\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.</div>\r\n            <div class="other_detail">\ud574\ub2f9 \uc18c\uc694\uc2dc\uac04\uc740 \uc2e4\uc81c\uc640 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</div>\r\n        </div>\r\n    </div>\r\n    {{/isOther}}\r\n</li>',
TransitRouteOutlineItemView:'<div class="TransitRouteOutlineItemView">\r\n\t<div class="iconwrap">\r\n\t\t<div data-id="summaryIcon" class="summaryIcon"></div>\r\n\t\t<div data-id="transitline" class="transitline"></div>\r\n\t</div>\r\n\t<div class="summaryDesc" data-id="summaryDesc">\r\n\t\t<div class="summaryName" data-id="summaryName">\r\n\t\t\t<span href="#" data-id="name" class="name"></span>\r\n\t\t\t<ul class="subwayTypeList HIDDEN" data-id="subwayTypes">\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div class="vehicles HIDDEN" data-id="busVehicles">\r\n\t\t<\!-- \ubc84\uc2a4 \uc815\ub958\uc7a5 \uadf8\ub8e8\ud551 --\>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n</div>\r\n',
TransitRouteResultView:'<div class="TransitRouteResultView">\n    <ul class="boundtabs">\n        <li class="list inboundtab">\uc2dc\ub0b4\uad50\ud1b5</li>\n        <li class="list outboundtab">\uc2dc\uc678\uad50\ud1b5</li>\n   </ul>\n    <ul class="transitnumberlist">\n        <li class="list recommandtab">\ucd94\ucc9c (0)</li>\n        <li class="list bustab">\ubc84\uc2a4 (0)</li>\n        <li class="list subwaytab">\uc9c0\ud558\ucca0 (0)</li>\n        <li class="list hybridtab">\ubc84\uc2a4 + \uc9c0\ud558\ucca0 (0)</li>\n    </ul>\n    <ul class="intertransitnumberlist">\n        <li class="list recommendtab">\ucd94\ucc9c (0)</li>\n        <li class="list interbustab">\uace0\uc18d.\uc2dc\uc678 (0)</li>\n        <li class="list traintab">\uae30\ucc28 (0)</li>\n        <li class="list airplanetab">\ud56d\uacf5 (0)</li>\n        <li class="list ferrytab">\uc5ec\uac1d\uc120 (0)</li>\n    </ul>\n    <p class="transitInfo"><a class="transitViaInfoCloser" href="#"></a></p>\n    <ul class="TransitTotalPanel"></ul>\n    <div class="notitime"></div>\n</div>\n',
TriangleNotice:'<div class="TriangleNotice">\r\n\t<\!-- <div class="bg" data-id="bg"></div> --\>\r\n\t<\!-- <label data-id="label"><input type="checkbox" data-id="keep" class="keep"/><span></span></label> --\>\r\n\t<a class="link1" href="{{link}}" target="_blank"></a>\r\n\t<a class="link2" href="{{link}}" target="_blank"></a>\r\n\t<a class="link3" href="{{link}}" target="_blank"></a>\r\n\t<button data-id="close" class="close" title="\ub2eb\uae30"></button>\r\n</div>',TriangleNotice2:'<div class="TriangleNotice2">\r\n\t<\!-- <div class="bg" data-id="bg"></div> --\>\r\n\t<\!-- <label data-id="label"><input type="checkbox" data-id="keep" class="keep"/><span></span></label> --\>\r\n\t<a class="link1" href="#" target="_blank"></a>\r\n\t<a class="link2" href="#" target="_blank"></a>\r\n\t<a class="link3" href="#" target="_blank"></a>\r\n\t<button data-id="close" class="close" title="\ub2eb\uae30"></button>\r\n</div>',
UsedistrictTypeOptions:'<div class="UsedistrictTypeOptions">\r\n\t<a href="#" class="usedistrict ACTIVE">\uc9c0\uc801\ud3b8\uc9d1\ub3c4</a>\r\n\t<a href="#" class="bboundary">\ubc95\uc815\ub3d9 \uacbd\uacc4</a>\r\n\t<a href="#" class="hboundary">\ud589\uc815\ub3d9 \uacbd\uacc4</a>\r\n</div>',ViewContext:'<div data-id="ViewContext" class="Context HIDDEN">\r\n    <div class="contextWrap">\r\n        <a data-id="here" href="#" class="context_here">\r\n            <span class="text">\uc5ec\uae30 \uc8fc\uc18c \ubcf4\uae30</span>\r\n        </a>\r\n        <a data-id="newplace" href="#" class="context_new">\r\n            <span class="text">\uc2e0\uaddc \uc7a5\uc18c \ub4f1\ub85d</span>\r\n        </a>\r\n        <a data-id="strange" href="#" class="strange">\r\n            <span class="text">\uc5ec\uae30 \uc815\ubcf4 \uc218\uc815</span>\r\n        </a>\r\n        <a data-id="favorite" class="fav" href="#">\r\n            <span class="text">\uc990\uaca8\ucc3e\uae30 \ucd94\uac00</span>\r\n        </a>\r\n        <a data-id="w3w" class="fav" href="#">\r\n            <span class="text">W3W</span>\r\n        </a>\r\n        <span class="separator"></span>\r\n        <a data-id="origin" href="#">\r\n            <span class="origin"></span><span class="text">\ucd9c\ubc1c\uc9c0 \uc9c0\uc815</span>\r\n        </a>\r\n        <a data-id="via" href="#">\r\n            <span class="via"></span><span class="text">\uacbd\uc720\uc9c0 \uc9c0\uc815</span>\r\n        </a>\r\n        <a data-id="destination" href="#">\r\n            <span class="destination"></span><span class="text">\ub3c4\ucc29\uc9c0 \uc9c0\uc815</span>\r\n        </a>\r\n    </div>\r\n</div>\r\n',
W3wInfoWindow:'<div class="InfoWindow AddressInfoWindow W3wInfoWindow">\r\n    <div class="top"></div>\r\n    <div class="body">\r\n        <button type="button" data-id="close" class="img_tooltip ico_close">\ub2eb\uae30</button>\r\n        <div class="head_tooltip">\r\n            <strong class="placename">///{{address}}</strong>\r\n        </div>\r\n        <div data-id="toolbar" class="toolbar">\r\n        </div>\r\n    </div>\r\n    <div class="bottom"></div>\r\n</div>\r\n',WalkFunctionToolBarView:'<div class="WalkFunctionToolBarView">\n\t<a href="#none" data-id=\'print\' class="print">\uacbd\ub85c\uc778\uc1c4</a>\n\t<a href="#none" data-id=\'alook\' class="alook">\uacbd\ub85c \ud55c\ub208\uc5d0</a>\n\t<a href="#none" data-id=\'favorite\' class="favorite">\n        <span class="ico_fav">\n            <span class="num">0</span>\n        </span>\n        \uc990\uaca8\ucc3e\uae30\n    </a>\n</div>',
WalkGroupPointItemView:'<li class="WalkGroupPointItemView">\r\n\t<div class="WalkGroupPointItemViewWrap">\r\n\t\t<div class="detailIcoWrap" data-id="detailIcoWrap">\r\n\t\t\t<div data-id="walkSeqIcon" class="walkSeqIcon">\r\n\t\t\t\t<span data-id="seq" class="seq">0</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="walkDetail">\r\n\t\t\t<div class="innerDetail">\r\n\t\t\t\t<strong><a href="#" data-id="title"></a></strong>\r\n\t\t\t\t<div data-id="desc" class="desc"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<a href="#" data-id="action" class="action">\ubc29\ud5a5</a>\r\n\t\t<div class="icoRight" data-id="icoRight" >\r\n\t\t\t<\!--\r\n\t\t\t<a href="#none" data-id="roadview" class="roadviewWrap roadview">\ub85c\ub4dc\ubdf0</a>\r\n\t\t\t--\>\r\n\t\t</div>\r\n\t</div>\r\n</li>',
WalkPointGroupView:'<div class="WalkPointGroupView">\r\n\t<div class="headbg"></div>\r\n\t<div class="summary" data-id="summary">\r\n\t\t<a class="detailBtn off" data-id="detailBtn"></a>\r\n\t\t<div class="groupinfo">\r\n\t\t\t<span class="time" data-id="time"></span>\r\n\t\t\t<span class="bar">|</span>\r\n\t\t\t<span class="distance" data-id="distance"></span>\r\n\t\t</div>\r\n\t\t<div class="groupNumber" data-id="groupNumber">\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="briefdesc" data-id="briefdesc"></div>\r\n\t<ol data-id="detail" class="detail"></ol>\r\n\t<div class="bottombg"></div>\r\n</div>',
WalkPointItemView:'<li class="WalkPointItemView">\r\n\t<div class="seqWrap">\r\n\t\t<span data-id="seq" class="seq"></span>\r\n\t</div>\r\n\t<div class=\'walkDetail\' >\r\n\t\t<div class=\'innerDetail\' >\r\n\t\t\t<a data-id="title" href="#" ></a>\r\n\t\t\t<div data-id="desc" class="desc"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<span data-id="action" class="action"></span>\r\n\t<div data-id="roadview" class="roadviewWrap"></div>\r\n</li>',WalkRouteItemView:'<li class="WalkRouteItem">\r\n\t<div data-id="summary" class="WalkRouteSummaryView">\r\n\t\t<div class="contents">\r\n\t\t\t<span data-id="mode" class="mode"></span>\r\n\t\t\t<p class="header">\r\n\t\t\t\t<span data-id="time" class="time"></span>\r\n\t\t\t\t<span data-id="distance" class="distance"></span>\r\n\t\t\t</p>\r\n\t\t\t<div data-id="info" class="info">\r\n\t\t\t\t <p data-id="facilities" class="facilities"></p>\r\n\t\t\t\t <p data-id="calories" class="calories"></p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<a href="#" class="selectBtn">\uc0c1\uc138\ubcf4\uae30</a>\r\n\t</div>\r\n\t<div data-id="detail" class="detail">\r\n\t\t<ul data-id="list" class="list"></ul>\r\n\t</div>\r\n</li>',
WalkRouteResultView:'<div class="WalkRouteResultView">\r\n\t<ul data-id="list" class="list"></ul>\r\n\t<div class="notice">\r\n\t\t<span class="first" > \uc18c\uc694\uc2dc\uac04\uc740 \uc131\uc778 \ub3c4\ubcf4\uae30\uc900 4km&#47;h\ub85c \ud658\uc0b0\ud558\uc5ec \uc81c\uacf5\ub429\ub2c8\ub2e4&#46;</span>\r\n\t\t<span class="second"> \ub3c4\ubcf4 \uae38\ucc3e\uae30\ub294 \uc2e4\uc81c \uad6c\uac04\uacfc \ub2e4\ub97c \uc218 \uc788\uc73c\ub2c8 \ucc38\uace0 \ubd80\ud0c1 \ub4dc\ub9bd\ub2c8\ub2e4&#46;</span>\r\n\t</div>\r\n\t<div class="info_top">\r\n\t\t<a href="#none" class="link_top HIDDEN" data-id=\'goToTop\' >\uc704\ub85c \uac00\uae30</a>\r\n\t</div>\r\n    <div class="info_fixroute">\r\n        \uae38\ucc3e\uae30 \uc815\ubcf4\uac00 \uc798\ubabb\ub418\uc5c8\ub098\uc694?<br>\uc815\ubcf4 \uc218\uc815 \uc81c\uc548\uc740 \uc9c0\ub3c4 \ud488\uc9c8 \ud5a5\uc0c1\uc5d0 \ud070 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.\r\n        <a href="#none" class="link_fixroute" data-id=\'fixRoute\' >\r\n            \ud2c0\ub9b0\uc815\ubcf4 \uc2e0\uace0\r\n        </a>\r\n    </div>\r\n</div>',
WalkTransitItemView:'<li class="WalkTransitItemView">\n\t<div class="WalkTransitItemViewWrap">\n\t\t<div class="detailIcoWrap">\n\t\t\t<div data-id="summaryIcon" class="summaryIcon walk"></div>\n\t\t\t\n\t\t\t<\!-- <div data-id="pre_transitline" class="pre_transitline"></div> --\>\n\t\t\t<div data-id="transitline" class="detailTransitline walkline"></div>\n\t\t</div>\n\t\t\n\t\t<div class="walkSummary" data-id="summary">\n\t\t\t<strong data-id="title" class="tit_summary">\uc0c1\ubd09\uc5ed.\ube14\ub8e8\uc2a4\ud018\uc5b4(03154)\uae4c\uc9c0 \uac77\uae30</strong>\n\t\t\t\n\t\t\t<div class="groupinfo">\n\t\t\t\t<span class="time" data-id="time"></span>, <span class="distance" data-id="distance"></span>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t\t\n\t\t<a class="detailBtn" data-id="detailBtn"></a>\n\t\t<\!-- \n\t\t<ul data-id="detail" class="detailList"></ul> --\>\n\t\t<\!-- <div class="bottom_line"></div> --\>\n\t</div>\n\t<ul class="WalkTransitDeatilList" data-id="detail">\n\t\n\t</ul>\n</li>\n',
WalkthroughView:'<div class="walkthrough_layer">\n     <div class="inner_walkthrough_layer">\n         <div class="layer_body">\n         \t<div class="wrap_slide">\n\t         \t<ul data-id="list_slide" class="list_slide" style="left:0px"><\!-- left\uac12 -562px \ub9cc\ud07c\uc529 \uc774\ub3d9 --\>\n\t\t         \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough1.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\uce74\uce74\uc624\ub9f5\uc5d0 \uc624\uc2e0 \uac83\uc744 \ud658\uc601\ud569\ub2c8\ub2e4</strong>\n\t\t\t        \t<p class="desc_slide">\uc0c8\ub86d\uac8c \ub2e8\uc7a5\ud55c \uce74\uce74\uc624\ub9f5\uc744 \ub9cc\ub098\ubcf4\uc138\uc694.</p>\n\t\t\t        \t<a href="#none" class="img_slide btn_go">\ub458\ub7ec\ubcf4\uae30</a>\n\t\t        \t</li>\n\t\t        \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough2.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\uc6f9\uacfc \uc571 \ubaa8\ub450\ub97c \uc704\ud55c \ud558\ub098\uc758 \uacc4\uc815</strong>\n\t\t\t        \t<p class="desc_slide">\uc9d1/\ud68c\uc0ac, \uc990\uaca8\ucc3e\ub294 \uc7a5\uc18c\ub97c \ub4f1\ub85d\ud558\uc138\uc694.<br>\ud558\ub098\uc758 \uce74\uce74\uc624\uacc4\uc815\uc73c\ub85c \ubaa8\ub450 \uad00\ub9ac\ud560 \uc218 \uc788\uc5b4\uc694.</p>\n\t\t\t        \t<a href="#none" class="img_slide btn_pass">\ub2e4\uc74c</a>\n\t\t        \t</li>\n\t\t        \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough3.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\uc0ac\uc6a9\uc790\ub97c \uc704\ud55c \ub514\uc790\uc778</strong>\n\t\t\t        \t<p class="desc_slide">\ubcf4\ub2e4 \uac04\uacb0\ud558\uace0 \ud3b8\ub9ac\ud55c \ud654\uba74\uc5d0\uc11c \uc9c0\ub3c4\ub97c \uc774\uc6a9\ud558\uc138\uc694.<br>\ube60\ub978 \ud0d0\uc0c9\uacfc \uc774\ub3d9\uc744 \ub3c4\uc640\ub4dc\ub9bd\ub2c8\ub2e4.</p>\n\t\t\t        \t<a href="#none" class="img_slide btn_pass">\ub2e4\uc74c</a>\n\t\t        \t</li>\n\t\t        \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough4.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\ub098\ub9cc\uc758 \uc990\uaca8\ucc3e\uae30 \uadf8\ub8f9 \ub9cc\ub4e4\uae30</strong>\n\t\t\t        \t<p class="desc_slide">\uc8fc\uc81c\ubcc4, \uc6a9\ub3c4\ubcc4 \uadf8\ub8f9\uc744 \ub9cc\ub4e4\uace0 \uad00\ub9ac\ud558\uc138\uc694.<br>\uce5c\uad6c\uc5d0\uac8c \uadf8\ub8f9\uc744 \uacf5\uc720\ud558\uace0 \uad6c\ub3c5\ud560 \uc218 \uc788\uc5b4\uc694.</p>\n\t\t\t        \t<a href="#none" class="img_slide btn_pass">\ub2e4\uc74c</a>\n\t\t        \t</li>\n\t\t        \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough5.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\uce74\uce74\uc624\ub9f5 \uc2dc\uc791\ud558\uae30</strong>\n\t\t\t        \t<p class="desc_slide">\ub85c\uadf8\uc778\ud558\uc5ec \ub354 \ub9ce\uc740 \uc815\ubcf4\ub97c \uc5bb\uc73c\uc138\uc694.<br>\uce74\uce74\uc624\uacc4\uc815\uc73c\ub85c \ube60\ub978 \ub85c\uadf8\uc778\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.</p>\n\t\t\t        \t<a href="#none" class="img_slide link_login" data-id="signInButton" >\ub85c\uadf8\uc778</a>\n\t\t        \t</li>\n\t\t        \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough5.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\uce74\uce74\uc624\ub9f5 \uc2dc\uc791\ud558\uae30</strong>\n\t\t\t        \t<p class="desc_slide">\ud68c\uc6d0\uac00\uc785\ud558\uace0 \ub354 \ub9ce\uc740 \uc815\ubcf4\ub97c \uc5bb\uc73c\uc138\uc694.<br>\uce74\uce74\uc624\uacc4\uc815\uc73c\ub85c \ube60\ub978 \uac00\uc785\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.</p>\n\t\t\t        \t<a href="#none" class="img_slide link_join" data-id="signUpButton" >\ud68c\uc6d0\uac00\uc785</a>\n\t\t        \t</li>\n\t\t        \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough5.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\uce74\uce74\uc624\ub9f5 \uc2dc\uc791\ud558\uae30</strong>\n\t\t\t        \t<p class="desc_slide">\ucd5c\uc801\ud654\ub41c \uc815\ubcf4\ub97c \uc5bb\uc73c\uc138\uc694.<br>\ub354 \ub098\uc544\uc9c4 \uc9c0\ub3c4 \ud658\uacbd\uc744 \uacbd\ud5d8\ud558\uc138\uc694.</p>\n\t\t\t        \t<a href="#none" class="img_slide btn_start" data-id="startButton" >\uc2dc\uc791\ud558\uae30</a>\n\t\t        \t</li>\n\t        \t</ul>\n        \t</div>\n        \t<div class="wrap_paging" data-id="paging" >\n        \t\t<a href="#none" class="img_slide link_paging">1</a><\!-- \ud604\uc7ac\ud398\uc774\uc9c0\ub294 a~>span\uc73c\ub85c \uc694\uc18c \ubcc0\uacbd --\>\n        \t\t<a href="#none" class="img_slide link_paging">2</a>\n        \t\t<a href="#none" class="img_slide link_paging">3</a>\n        \t\t<a href="#none" class="img_slide link_paging">4</a>\n        \t\t<a href="#none" class="img_slide link_paging">5</a>\n        \t</div>\n        \t<div class="wrap_btn">\n        \t\t<button type="button" data-id="prevButton" class="img_slide btn_prev">\uc774\uc804</button><\!-- HIDDEN \ud074\ub798\uc2a4\ub85c \uc228\uae40 \uc81c\uc5b4 --\>\n        \t\t<button type="button" data-id="nextButton" class="img_slide btn_next">\ub2e4\uc74c</button><\!-- HIDDEN \ud074\ub798\uc2a4\ub85c \uc228\uae40 \uc81c\uc5b4 --\>\n        \t</div>\n     \t</div>\n         <div class="layer_foot">\n             <a href="#none" class="img_slide btn_close" data-id="closeButton" >\ub2eb\uae30</a>\n         </div>\n     </div>\n</div>',
WeatherInfoWindow:'<div class="WeatherInfoWindow">\n    <div class="top"></div>\n    <div class="mid">\n        <span class="weatherThumb ico{{titleIconno}}"></span>\n        <div class="wrapTit">\n            <strong class="tit">{{titleLoc}}</strong>\n            <div class="temper">\n                <span class="num">{{titleTemper}}</span><span class="unit">\u00b0C</span><span class="txt_wea">{{titleWeaText}}</span>\n                <a href="#" data-id="more" class="img_wt_png more">\ub354\ubcf4\uae30</a>\n            </div>\n            <span class="date">\ud604\uc7ac {{announceTime}}</span>\n        </div>\n        <a href="#" data-id="closer" class="img_wt_png btnClose">\ub2eb\uae30</a>\n        <ul class="middle">\n            {{#weatherList}}\n            <li class="{{class}}">\n                <div class="date">{{date}}</div>\n                <div>\n                    <span class="weatherThumb ico{{iconno}}"></span>\n                    <span class="temper">{{temper}}\u00b0</span>\n                </div>\n            </li>\n            {{/weatherList}}\n        </ul>\n    </div>\n    <div class="bot"></div>\n</div>',
WeatherMini:'<div class="WeatherMini">\n    <div class="left">\n        <div data-id="weatherMiniThumb" class="thumb type1"></div>\n    </div>\n    <div class="right"></div>\n    <div class="center">\n        <div data-id="weatherMiniTemperature" class="temperature">\n            <span class="num">0</span>\u00b0C\n        </div>\n        <div class="loc">\n            <a href="#" data-id="locName" class="name"></a>\n        </div>\n    </div>\n</div>',WeatherTypeOptions:'<div class="WeatherTypeOptions">\r\n\t<ul class="weatherRadios">\r\n\t\t<li><a href="#" class="wea SELECT">\uae30\uc628</a></li>\r\n\t\t<li><a href="#" class="khai">\ud1b5\ud569\ub300\uae30\uc9c0\uc218</a></li>\r\n\t\t<li><a href="#" class="pm10">\ubbf8\uc138\uba3c\uc9c0</a></li>\r\n\t\t<li><a href="#" class="pm25">\ucd08\ubbf8\uc138\uba3c\uc9c0</a></li>\r\n\t\t<li><a href="#" class="ysand">\ud669\uc0ac</a></li>\r\n\t\t<li><a href="#" class="o3">\uc624\uc874</a></li>\r\n\t\t<li><a href="#" class="no2">\uc774\uc0b0\ud654\uc9c8\uc18c</a></li>\r\n\t\t<li><a href="#" class="co">\uc77c\uc0b0\ud654\ud0c4\uc18c</a></li>\r\n\t\t<li><a href="#" class="so2">\uc544\ud669\uc0b0\uac00\uc2a4</a></li>\r\n\t</ul>\r\n</div>',
noticePopup:'<div class="NoticePopup">\r\n\t<div class="bg" data-id="bg"></div>\r\n\t<\!-- <label data-id="label"><input type="checkbox" data-id="keep" class="keep"/><span></span></label> --\>\r\n\t<a class="link1" href="https://place.map.kakao.com/20740490" target="_blank"></a>\r\n\t<a class="link2" href="https://place.map.kakao.com/7816403" target="_blank"></a>\r\n\t<a class="link3" href="https://place.map.kakao.com/17807431" target="_blank"></a>\r\n\t<a class="link4" href="https://place.map.kakao.com/8053130" target="_blank"></a>\r\n\t<a class="link5" href="https://place.map.kakao.com/21755436" target="_blank"></a>\r\n\t<a class="link6" href="https://place.map.kakao.com/8131581" target="_blank"></a>\r\n\t<a class="link7" href="https://place.map.kakao.com/10330240" target="_blank"></a>\r\n\t<a class="link8" href="https://place.map.kakao.com/8396881" target="_blank"></a>\r\n\t\r\n\t<a href="#" data-id="close" class="close" title="\ub2eb\uae30"></a>\r\n</div>\r\n',
"":""}[a]||"",b))}function yc(a,b,c){console.assert("number"===typeof a);console.assert("function"===typeof b);console.assert("boolean"===typeof c||void 0===c);this.interval_=a;this.func_=b;this.repeat_=c}function jb(a,b,c,d){var d=d||{},e=[];b&&e.push("width="+b);if(c){var f=screen?screen.availHeight-100:-1;0<f&&f<c&&(c=0<f?f:100,e.push("scrollbars=yes"));e.push("height="+c)}b&&(c&&!d.noscroll)&&e.push("scrollbars=yes");d.resizable&&e.push("resizable=yes");(a=e.length?open(a,d.name||"_blank",e.join(",")):
open(a,d.name||"_blank"))&&a.focus();return!!a}function Ga(a){this.obj_="object"==typeof a&&!(a instanceof Array)?a:{value:a}}function Ac(a){this.data=jQuery(a)}function fa(a){ga.apply(null,[this,i].concat(Eb(arguments)));a&&(this.onShow.add(this.setup_,this),this.onHide.add(this.breakup_,this));this.onClose=new m;this.noPane_=[];this.noUIPanel_=[];this.blueHandler_=this.blur_.bind(this)}function i(a,b,c){if("string"===typeof a){var d=(""+a).toUpperCase();({SUBMIT:1})[d]?(a=document.createElement("input"),
a.type=d):(a=document.createElement(d),"A"==d&&(a.href="#"))}this._pane=jQuery(a);this.onShow=new m;this.onHide=new m;a.submit&&(this.onSubmit=new m({onLoad:this.createEventLinker_("submit",this.handleSubmit__)}));"form"in a&&(this.onChange=new m({onLoad:this.createEventLinker_("change",this.handleChange__)}),this.onFocus=new m({onLoad:this.createEventLinker_("focus",this.handleFocus__)}),this.onBlur=new m({onLoad:this.createEventLinker_("blur",this.handleBlur__)}));this.onEnter=new m({onLoad:this.createEventLinker_("mouseenter",
this.handleEnter__)});this.onLeave=new m({onLoad:this.createEventLinker_("mouseleave",this.handleLeave__)});this.onClick=new m({onLoad:this.createEventLinker_("click",this.handleClick__)});this.element_=a;b&&(this.className_=b,this.addClass(b));c&&[].concat(c).forEach(function(a){a.getElement?this.addChild(a):this.addText(a)},this)}function se(a){var b=this.onClose=new m,c=H("AccidentInfoWindow");c.$("close").click(function(){b.notify()});c.$("title").html("<em>("+a.titleTypeTxt+")</em> "+a.title);
c.$("desc").text(a.desc);c.$("period").text(a.startTime+" ~ "+a.endTime);a.sourceName&&c.$("provider").text(a.sourceName).show();this.getPane=function(){return c}}function Md(a,b,c,d,e){var f={refinedName:a.name,is2depth:a.oldname||"N"==a.isAlive||a.subList.length||!jQuery.isEmptyObject(a.infowindowSubAddress),isDead:"N"==a.isAlive,d3HName:a.d3HName};jQuery.extend(f,a);if(a.oldname){var h=a.oldname,h=h.slice(h.search(/ /)+1);f.subAddr={type:"old",typeName:"\uc9c0\ubc88\uc8fc\uc18c",address:h}}else f.subAddr=
a.infowindowSubAddress,a.infowindowSubBuilding&&(f.buildingName=a.infowindowSubBuilding);a.zonenum&&(f.zonecode=a.zonenum);var g=this.onClose=new m,k=H("AddressInfoWindow",f);(f.zipcode||f.buildingName)&&k.$("wrapZip").show();c.createClose(k.$("close"),function(){g.notify()});k.$("report").click(function(){var b={coords:a.coords,address:a.name,relatedAddress:a.infowindowSubAddress?a.infowindowSubAddress.address:null,relatedPrefixAddress:a.relatedPrefixAddress,zipcode:a.zipcode,hcode:a.hcode,bcode:a.bcode,
code:a.code,channel:"TOOLTIP_ADDR"};n.click("tooltip","address_fiy");Application.fiyFrameController.openCustomerRequest(b)});b=b.create(k.$("toolbar"),a,{rough:!0,type:e,infoType:"address"});b.pane.$("fav").click(function(){n.click("favorite",["address","tooltip"])});c.createFavorite(b.pane.$("fav"),v.createFromAddress(d||a));this.getPane=function(){return k}}function df(a){function b(a){c.$("icon").addClass(a.join(" "))}ga(this,Nd,a);var c=this.panel_,d=!1;c.addClass("BikePointInfoWindow");if(a.getSummary&&
a.getSummary()){var e=a.getPlaceId()?"#":"https://place.map.kakao.com/"+a.getPlaceId();c.$("title").text(a.getSummary()).attr("href",e)}c.$("icon").addClass("bikeaction");if(a.action||a.rotationCode){var e=a.action,f=a.rotationCode;if(e&&-1!=e.indexOf("EXIT")&&f)c.$("icon").addClass("bikeguide").addClass(f),b(["bikeguide",f]),d=!0;else{e&&(e=a.action.replace("EXIT","ENTER"));var h=lb.ACTION_LIST[e];void 0!=h?(10>h&&c.$("icon").removeClass("bikeaction").addClass("walkaction"),b(["bikeguide",e])):(b(["bikeguide",
f||"STRAIGHT"]),d=!0)}}if(a.gradientCode||a.action){var e=c.$("content"),f=jQuery('<div class="gradient"></div>'),h=jQuery('<div class="caution"></div>'),g=jQuery("<span></span>");lb.GRADIENT_TEXT[a.gradientCode]&&f.html(lb.GRADIENT_TEXT[a.gradientCode]).appendTo(e);lb.CAUTION_TEXT[a.action]&&h.html('<span class="cautionIcon"></span>'+lb.CAUTION_TEXT[a.action]).appendTo(e);d&&-1!=lb.STATE_LIST.indexOf(a.categoryCode)&&g.addClass(a.categoryCode).appendTo(c.$("icons"))}}function te(a,b,c,d,e,f,h,g){function k(e){var g=
new ue(j.$("list"),e,a,f);g.onClick.add(function(){n.click("businfo","busstop_tooltip_busnum");h.setData(e.id,!0);h.setBusStop(a.id,"",e.idx);Application.historyController.addBusLine(Application.historyController.TYPE_LIST.BUS_LINE,e)});g.onFavClick.add(function(){n.click("favorite",["busstopline","tooltip_busstop"])});if(!o&&b&&e.id==b&&d===e.idx&&(!c||e.order==c))o=g}function l(a){j.$("list").empty();var b=[],c=[];a.forEach(function(a){"NOSUPPORT"===a.realtimeState?c.push(a):b.push(a)});b.forEach(k);
c.forEach(k);j.$("progressbar").toggle(!!b[0]);p.setActive(b[0]);b[0]&&p.start();o&&o.scrollup()}var j=H("BusStopInfoWindow"),r=this.onClose=new m;j.$("close").click(r.notify.bind(r));r=a.codenames?a.codenames.join(", "):"";a.direction&&(r+=(r?'<span class="bar"></span>':"")+a.direction+" \ubc29\uba74");r&&j.$("codename").append('<span class="busCode"><span class="codename">'+r+"</span></span>").show();j.$("report").click(function(){var b={coords:a.coords,busStopId:a.id,rawData:a.rawData,channel:"TOOLTIP_BUSSTOP"};
n.click("businfo","busstop_tootip_fiy");Application.fiyFrameController.openCustomerRequest(b)});j.$("name").text(a.name).attr("title",a.name);1<a.codenames.length&&j.$("busTit").addClass("group");var p=new Za("BusStopInfoWindow");p.onComplete.add(function(){j.is(":visible")&&R.find(a.id,function(a){l(a.lines)})});p.toPane().appendTo(j.$("progressbar"));var o=null;l(a.lines);e=e.create(j.$("toolbar"),a,{busStopId:a.id,rawData:a.rawData,rough:!0,type:g?"search":"poi"});a.roadview?(f.createRoadview(e.pane.$("rv"),
a.roadview,a.coords),e.pane.$("rv").click(function(){var b="poi_busstation_tooltip_roadview";g&&(b="search_q_click_busstation_tooltip_roadview");x.logRoadview(b,a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog(),{id:a.id});n.click("businfo","busstop_tooltip_roadview")})):e.pane.$("rv").hide();e.pane.$("fav").click(function(){n.click("favorite",["busstop","tooltip"])});f.createFavorite(e.pane.$("fav"),v.createFromBusStop(a));this.getPane=function(){return j}}function ef(a){function b(b){if(f[b.id+
"_"+b.idx]){var c=h.$("list");(new ue(c,b,a.busStop)).onClick.add(function(c){n.click("route","go_public_busstop_bus");Application.busLineController.setData(b.id,!0);Application.busLineController.setBusStop(c||a.busStop.id,"",b.idx)})}}function c(a){a.realTime||h.$("refresh").hide();h.$("busCnt").text(a.lines.length);h.$("list").empty();var c=a.lines.filter(function(a){return a.arrival}),d=a.lines.filter(function(a){return!a.arrival});4>a.lines.length&&h.$("list").addClass("noscroll");c.forEach(b);
d.forEach(b);listPanel=h.$("list").find("li:last-child .rule2").removeClass()}ga(this,fd,a);var d=this.onBusStopClick=new m;this.onRealTimeBusBtnClick=new m;var e=this.panel,f={};a.vehicles.forEach(function(a){f[a.id+"_"+a.idx]=!0});e.$("icon").addClass("BUS");e.$("name").removeClass("addr");e.addClass("BusStopRouteInfoWindow");this.panel.$("title").click(function(){n.click("route","go_public_busstop_name");d.notify()});var h=H("BusStopRouteInfoWindowContent",{moreRoute:a.nodes.length+1+"\uac1c \uc815\ub958\uc7a5 \uc774\ub3d9",
desc:a.desc,time:a.time});a.action==U.GETOFF&&!a.lastGetOFf&&(e.$("min").hide(),e.$("close").addClass("aloneClose"));a.isInterPublic&&(e.$("min").hide(),e.$("close").addClass("aloneClose"));a.action==U.GETOFF?h.hide():(h.$("refresh").click(function(){n.click("route","go_public_busstop_update");R.findTransitBusStop(a.busStop.id,a.busLineId,c)}),h.appendTo(this.panel.$("transitPointContent")),R.findTransitBusStop(a.busStop.id,a.busLineId,c))}function ve(a){function b(){w&&w.stopLoad();o.pause();B.clearInterval(i);
e("LIVE \uc601\uc0c1\uc740 1\ubd84 \ub2e8\uc704\ub85c \uc81c\uacf5\ub429\ub2c8\ub2e4.<br/>\uc601\uc0c1\uc744 \uacc4\uc18d \ubcf4\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")}function c(){i&&B.clearInterval(i);i=null;B.clearInterval(y)}function d(){c();i=B.setInterval(function(){A--;0>=A&&b()},1E3)}function e(a){a?(t.html(a),s.show()):(t.text(""),s.hide())}function f(){e();A=M;require("server").cctvUrl({addParamData:"/"+a.id},function(b){var d=b.text("liveUrl").replace(/^http:/,"https:"),f=b.text("vodUrl").replace(/^http:/,
"https:");d||f?(a=new Pa(b.object("cctv")),a.vodUrl=f,a.liveUrl=d,a.canPlay=!1,a.isLive&&a.liveUrl&&q?require("util/KakaoAgent").isBrowserIE?jQuery.ajax({url:a.liveUrl+"!hls",success:function(b){a.liveUrl=b;h()}}):h():(a.isLive=!1,k())):(e("\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),c())})}function h(){g();w=new Hls;w.attachMedia(o);w.loadSource(a.liveUrl);w.on(Hls.Events.MANIFEST_PARSED,function(){r.addClass("live").find("blockquote").find(".notice_top").text("\uc2e4\uc81c \uc0c1\ud669\uacfc 30\ucd08~1\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.").end().find(".notice_bottom").html(l()+
"(LIVE) \uc81c\uacf5")}).on(Hls.Events.ERROR,function(){J.trigger()})}function g(){w&&(w.destroy(),w=null);i&&B.clearInterval(i)}function k(){p.attr("src",a.vodUrl);r.removeClass("live").find("blockquote").find(".notice_top").text("\uc2e4\uc81c \uc0c1\ud669\uacfc 5~10\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.").end().find(".notice_bottom").html(l()+" \uc81c\uacf5")}function l(){return a.source.match(/^KBS$/i)?'KBS(<a href="'+a.sourceUrl+'" target="_blank">'+a.sourceUrl+
"</a>)":a.sourceName}var j=this.onClose=new m,r=H("CctvInfoWindow"),p=r.$("video"),o=p.get(0),s=r.$("dimmed"),t=r.$("dimmedText"),u=r.$("play"),q=B.Hls&&Hls.isSupported(),w=null,y=null,M=60,A=0,J=hb(100,function(){a.canPlay=!1;a.isLive=!1;g();c();k()});r.$("close").click(function(){j.notify()});r.find("strong").html("<em>"+a.roadname+"</em> "+a.name);u.on("click",f);p.off().on("contextmenu",function(){return!1}).on("play",function(){0>=A?b():(a.isLive&&d(),a.canPlay||(clearTimeout(y),y=setTimeout(function(){a.canPlay||
p.trigger("error")},2E3)))}).on("canplay",function(){a.canPlay=!0}).on("ended",function(){e("\uc774 \uc9c0\uc810\uc758 \uc601\uc0c1\uc744 \ub2e4\uc2dc \ubcf4\uc2dc\uaca0\uc2b5\ub2c8\uae4c?");c()}).on("error",function(){a.isLive?J.trigger():(e("\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."),c())});var i;f();this.getPane=function(){return r};this.close=g}function we(a){ga(this,Nd,a);var b=this.panel_,c=b.$("icon").addClass("cararrow");b.$("title").text(a.name);b.$("content").text(a.info);
a.isWaypoint()||(c.addClass("rotate_"+a.rotation),c.addClass("traffic_"+(a.traffic||null)))}function xe(){}function ff(a,b,c,d,e,f){function h(b){var c="",d=e.docid||e.id,c=e instanceof R?"BUSSTOP":e instanceof bb||e.subway&&e.subway.id?"SUBWAYSTATION":e instanceof Ta?"ADDRESS":"PLACE";Application.infoWindowManager.close();a.setActive(!0);a.clearAoi();a.findAoi(e);var g=e.name;e.lineName&&(g=g.replace(/\((.*)\)/g,""),"\uc5ed"!==g.substr(-1,1)&&(g+="\uc5ed"),g+=" "+e.lineName);f.coordinate&&(g=g.replace("\uc704\ub3c4, \uacbd\ub3c4 : ",
""));switch(b){case "start":a.setOrigin(e.coords,g,d,c);break;case "via":a.setVia(e.coords,g,d,null,c);break;case "end":a.setDestination(e.coords,g,d,c)}}var f=f||{},g=d.closest(".InfoWindow"),b=g.hasClass("SubwayStationInfoWindow"),k=g.is(".PlaceInfoWindow, .AddressInfoWindow, .BusStopInfoWindow"),l=g.is(".PlaceInfoWindow, .BusStopInfoWindow")&&!!e.roadview,g=g.is(".W3wInfoWindow"),j=this.pane=H("InfoWindowToolbar",{isSubway:b,isRough:k,disableShare:f.coordinate,isRoadview:l,isW3w:g});2===1+b+k+
l&&d.addClass("NO-ROADVIEW");j.appendTo(d);j.find(".btn_direction").click(function(a){a.stopPropagation();n.click("tooltip","search_route");j.$("waypoint").addClass("ACTIVE");jQuery("body").off("click.infowindow.waypoint").one("click.infowindow.waypoint",function(){j.$("waypoint").removeClass("ACTIVE")})});j.$("origin").click(function(){h("start");n.click("tooltip",["search_route","start"])});j.$("via").click(function(){h("via");n.click("tooltip",["search_route","via"])});j.$("dest").click(function(){h("end");
n.click("tooltip",["search_route","end"])});f.rough&&(!1!==f.reportable?j.$("toolbarsplit").show():j.$("rough").addClass("noReport"),j.$("rough").show().on("click",function(){var a=e instanceof Ta,b=e instanceof R,d=e instanceof xb,g=a?"address":b?"busstop":"place",d={name:e instanceof xb?"///"+e.address:e.name||"",address:e.newAddress||e.address||"",phone:e.phone?e.phone[0]:"",x:e.coords.getX(),y:e.coords.getY(),roadview:e.roadview?!0:!1,isW3w:d};a?d.docid=e.docid||"":b?d.busstopid=e.id:d.confirmid=
/^\d+$/.test(e.id)?e.id:"";c.open(j,d);n.click("tooltip","map_share");b={name:d.name,wx:d.x,wy:d.y};a?b.docid=d.docid:b.confirmid=d.confirmid;"search"==f.type?x.logSearchOutWithArgs("tooltip_"+g+"_share",b):"route"==f.type?x.logPathSearchOutWithArgs("_tooltip_"+g+"_share",b):x.log("poi_click_tooltip_"+g+"_share",null,b)}))}function gf(a,b){ga(this,fd,a,!0);this.panel.addClass("IntercityInfoWindow");var c=null,d=null,e=null,f=a.vehicleType;if(f==E.TRANSFER_CAR)this.panel.$("icon").addClass("TAXI"),
this.panel.$("title").text("\ud0dd\uc2dc\ub85c"),this.panel.$("name").append("\uc774\ub3d9"),this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide(),c=a.end.text("name")+"\uae4c\uc9c0 \ud0dd\uc2dc\ub85c \uc774\ub3d9";else if(f==E.TRANSFER_WALK)this.panel.$("icon").addClass("WALKING"),this.panel.$("title").text("\ub3c4\ubcf4\ub85c"),this.panel.$("name").append("\uc774\ub3d9"),this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide(),c=a.end.text("name")+"\uae4c\uc9c0 \ub3c4\ubcf4\ub85c \uc774\ub3d9";
else if(f==E.TRANSFER_CUSTOM)this.panel.$("icon").addClass("CUSTOM"),this.panel.$("title").text(""),this.panel.$("name").append(a.end.text("name")+"\uae4c\uc9c0 \uc774\ub3d9"),this.panel.addClass("CUSTOM_TYPE"),d=a.time,c="\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.",this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide();else if(a.type==U.OTHER)this.panel.$("icon").addClass("CUSTOM"),this.panel.$("title").text(""),this.panel.$("name").append(a.endLocation.text("name")+
"\uae4c\uc9c0 \uc774\ub3d9"),this.panel.addClass("CUSTOM_TYPE"),d=a.time,c="\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.",this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide(),this.panel.$("rv").hide();else{if(b)this.panel.$("title").text(a.end.text("name")),this.panel.$("name").append("\ud558\ucc28"),a.isLastIntercity||(this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide());else if(this.panel.$("title").text(a.name),this.panel.$("name").append(a.actionName),
d=!1,a.vehicleType==E.TRAIN&&(d=!0),a.isInterPoint&&a.routeType==E.INTERCITY&&(a.reservation||d))e=function(){if(a.vehicleType==E.TRAIN)"SRT"==a.subType?(n.click("route","go_public_tooltip_intercityinfo_train_srt"),B.open("http://www.srail.co.kr")):(n.click("route","go_public_tooltip_intercityinfo_train"),B.open("http://www.letskorail.com"));else{var b={};a.start&&(b.s_id=a.start.text("id"),b.s_name=a.start.text("name"));a.end&&(b.e_id=a.end.text("id"),b.e_name=a.end.text("name"));a.vehicleType==
E.FERRY?n.click("route","go_public_tooltip_intercityreservation_ship"):n.click("route","go_public_tooltip_intercityreservation_bus");require("server").interCityTimetable(b)}};this.panel.$("icon").addClass(a.nodeType);d=a.getIconClassName();"EXPRESS_BUS"===d?this.panel.$("icon").addClass(d.split("_")[0]):this.panel.$("icon").addClass(d);d=a.time}var f=H("IntercityInfoWindowContent",{time:b?"":d,description:c,isShowReservation:null!==e}),h=f.find(".link_reservation");e&&(a.vehicleType===E.TRAIN?h.text("\uc6b4\ud589\uc815\ubcf4"):
h.text("\uc608\ub9e4"),h.on("click",e));(d||c)&&this.panel.$("name").removeClass("addr");f.appendTo(this.panel.$("transitPointContent"))}function hf(a){var b=H("IssuedPlaceInfowindow"),c=this.onClose=new m;b.$("tit").text(String.cut(a.name,24));b.$("desc").text(a.desc);b.$("close").click(c.notify.bind(c));a.imgUrl&&b.$("img").show().attr("src",a.imgUrl);this.getPane=function(){return b}}function jf(){ga(this,Qb);this.panel_=jQuery('<div class=MapWalkerInfoWindow><div class="left"></div><p>\uc6d0\ud558\ub294 \uc704\uce58\uc758 \ud30c\ub780\uc0c9 \ub77c\uc778\uc744<br>\ud074\ub9ad\ud558\uac70\ub098 \uc544\uc774\ucf58\uc744 \ub193\uc544\uc8fc\uc138\uc694.</p><div class="right"></div></div>')}
function ye(a,b,c,d,e){function f(){a.showsReview&&q.find(".num").text(String.formatNumber(a.review)).end().click(function(){"route"==e?x.logPathSearchOut("tooltip_review",a.id):"search"==e&&x.logSearchOut("tooltip_review",a.id)}).attr("href",a.getDaumPlaceUrl("#review"))}function h(){var b=a.gas,c=b.facilities.map(function(a){return a?'<span class="badge_addtion">'+a+"</span>":""}).join(" ");c&&(c='<span class="group_badge">'+c+"</span>");o.$("addition").append((c?c:"")+"<span class=timestamp>"+
(b.timestampText||"")+"</span>")}function g(a){var b="";return b=9999<a?"<em>"+parseInt(a/1E4)+"</em>\uc5b5 <em>"+parseInt(a%1E4)+"</em>\ub9cc\uc6d0":"<em>"+a+"</em>\ub9cc\uc6d0"}function k(){var b=a.subway;if(!b.buses.length&&!b.transfers.length&&!b.facilities.length)o.$("addition").hide();else{var c=o.$("addition").show().html("<dl></dl>");b.buses.length&&c.find("dl").append("<dt>\ubc84\uc2a4\uc815\ubcf4<dd>").find("dd:last").append(b.buses.slice(0,4).map(function(a){return jQuery("<a href=#><span class=BUS-"+
a.type+"></span> "+a.name+" </a>").click(function(){Application.busLineController.setData(a.id)}).get(0)}));b.transfers.length&&c.find("dl").append("<dt>\ud658\uc2b9\uc815\ubcf4<dd>").find("dd:last").append(b.transfers.map(function(a){return jQuery("<a href=#>"+a.name+" </a>").click(function(){a.openInfoPopup();n.click("map","subwayinfo_more")}).get(0)}));b.facilities.length&&c.find("dl").append("<dt>\ud3b8\uc758\uc2dc\uc124<dd>"+b.facilities.map(function(a){return a.trim()}).join(" <span class=sep>|</span> "))}}
function l(){var b=a&&a.institution;b?o.$("addition").show().html("<strong>"+b.titleName+"</strong><dl>"+b.dataList.map(function(a){return"<dt>"+a.title+"<dd>"+a.desc}).join("")+"</dl>"):o.$("addition").hide()}function j(){var b,c;a&&a.distance?(b=H("PlaceInfoWindowAddition",a),(c=b.$("source"))||c.hide(),a.time.trim()||b.$("location").hide(),o.$("addition").show().html(b.getElement().innerHTML)):(o.removeClass("aoi"),o.$("addition").hide())}var r=this.onClose=new m;a.showsScore=["NONE"].includes(a.displayRestrictType);
a.showsScoreBlind=["OWNER"].includes(a.displayRestrictType);a.showsSeparationBar=["OWNER","NONE"].includes(a.displayRestrictType);a.showsReview=["OWNER","COMMON","NONE"].includes(a.displayRestrictType);var p="";switch(a.outsrcId){case "agency":p="\uc911\uac1c\uc5c5\uc18c";break;case "land":case "land_hotissue":case "bunyang":p="\ubd80\ub3d9\uc0b0";break;default:p="\uc0c1\uc138\ubcf4\uae30"}a.detailText=p;p=a.phone[0].split("-").join("");a.serviceLine=!!(12<=p.length&&a.imgsrc);var o=H("PlaceInfoWindow",
a);o.$("close").click(function(){var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),d=Application.localInfoController.getHCodeForLog(),b={confirmid:a.id,wx:b,wy:c,region:d};"route"==e?x.logPathSearchOutWithArgs("_tooltip_close",b):"search"==e?x.logSearchOutWithArgs("tooltip_close",b):x.log("poi_click_tooltip_close",null,b);r.notify()});b?(o.addClass("PlaceInfoWindow-collapsable"),o.$("close").addClass("ICON-closebox2"),o.$("min").click(function(){n.click("tooltip","mini_minus");var c=a.coords.getX().toFixed(0),
d=a.coords.getY().toFixed(0),f=Application.localInfoController.getHCodeForLog(),c={confirmid:a.id,wx:c,wy:d,region:f};"route"==e?x.logPathSearchOutWithArgs("_tooltip_minus",c):"search"==e&&x.logSearchOutWithArgs("tooltip_minus",c);b()})):(o.addClass("PlaceInfoWindow-withoutmin"),o.$("min").hide());!1!==a.isFiy?o.$("report").before("<span class=ICON-middot></span>").before(" ").click(function(){var b={coords:a.coords,confirmId:a.id,review:false,subway:!!a.subway,channel:"TOOLTIP_PLACE"};n.click("tooltip",
"place_fiy");console.log(b);Application.fiyFrameController.openCustomerRequest(b)}):o.$("report").hide();if(p=a.imgsrc)jQuery("<img/>",{"class":"placeimg",src:p}).prependTo(o.$("placeimg")),o.$("placeimg").click(function(b){b.preventDefault();n.click("tooltip","open_place_view");e=="route"?x.logPathSearchOut("tooltip_thumbnail",a.id):e=="search"&&x.logSearchOut("tooltip_thumbnail",a.id);open(a.getLandingUrl(),"_blank")}),o.addClass("PlaceInfoWindow-withimg");o.$("name").text(a.name).attr("title",
a.name).click(function(){a.subway&&a.subway.openInfoPopup();n.click("tooltip","open_place_view");e=="route"?x.logPathSearchOut(a.level>0?"tooltip_ad":"tooltip_name",a.id):e=="search"&&x.logSearchOut(a.level>0?"tooltip_ad":"tooltip_name",a.id)});o.find(".head_tooltip .detail, .contact .detail, .service .detail").click(function(){a.subway?a.subway.openInfoPopup():open(a.getLandingUrl(),"_blank");e=="route"?x.logPathSearchOut("tooltip_more",a.id):e=="search"&&x.logSearchOut("tooltip_more",a.id)});a.subway||
o.$("name").attr("href",a.getLandingUrl());a.phone[0]&&!a.pointExtension?(o.$("phone").text(a.phone[0]),1<a.phone.length?(o.$("allphone").html(a.phone.slice(1).join("<br>")),o.$("morephone").click(function(){jQuery(this).toggleClass("ICON-downbtn-up",o.$("allphone").toggle().is(":visible"))})):o.$("morephone").hide()):(o.$("phone").hide(),o.$("morephone").hide());a.website?(a.pointExtension||o.$("website").before("<span class=ICON-middot></span>").before(" "),o.$("website").attr("href",a.website).on("click",
function(){var b={name:a.name,wx:a.coords.getX(),wy:a.coords.getY(),confirmid:a.id};e=="search"?x.logSearchOutWithArgs("tooltip_hompage",b):e=="route"?x.logPathSearchOutWithArgs("_tooltip_hompage",b):x.log("poi_click_tooltip_hompage",null,b)})):(o.$("websiteSep").hide(),o.$("website").hide());a.cardBenefits&&a.cardBenefits.some(function(a){return a.ad})&&o.$("contact").append('<span class="benefit ICON-card"/>');a.newAddress?(o.$("address").text(a.newAddress),o.$("address").attr("title",a.newAddress),
p=a.address?"(\uc9c0\ubc88) "+a.address:"",a.zipcode&&(p='<span class="zipcode">(\uc6b0) '+a.zipcode+"</span>"+p),o.$("addInfoAddr").html(p)):(o.$("address").text(a.address),o.$("address").attr("title",a.address),a.zipcode?o.$("addInfoAddr").text("(\uc6b0) "+a.zipcode):o.$("addInfoAddr").hide());var s=o.$("score"),t=o.$("vote"),u=o.$("stars"),q=o.$("review");switch(a.displayRestrictType){case "OWNER":case "COMMON":f();break;case "GOV":case "VOTE":break;default:(function(){if(a.showsScore){s.text(a.grade.toFixed(1)).toggleClass("num0",
a.grade==0);t.find(".num").text(String.formatNumber(a.vote)).end().click(function(){e=="route"?x.logPathSearchOut("tooltip_star",a.id):e=="search"&&x.logSearchOut("tooltip_star",a.id)}).attr("href",a.getDaumPlaceUrl("#comment"));u.width(a.grade.toFixed(1)*20+"%")}})(),f()}p=!1;if(!p&&a.gas){var p=!0,w=a.gas,y=[["\ud718\ubc1c\uc720",w.gasPrice],["\uace0\uae09",w.premiumGasPrice],["\uacbd\uc720",w.dieselPrice],["LPG",w.lpgPrice]],y=y.filter(function(a){return a[1]>0});o.$("addition").show().html('<strong>\uc8fc\uc720\uc815\ubcf4</strong><dl class="horizontal">'+
y.map(function(a){return"<dt>"+a[0]+"</dt><dd>"+String.formatNumber(a[1])+"\uc6d0</dd>"}).join("")+(y[0]?"":"\uac00\uaca9\uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")+"<dl>");w.facilities?h():(w.onLoad.add(h),w.fetchFacilities())}!p&&("apt"==a.outsrcId||"officetel"==a.outsrcId||"oneroom"==a.outsrcId||"villa"==a.outsrcId)&&a.outsrclinkId?(p=!0,o.$("addition").html("<strong>\ubd80\ub3d9\uc0b0 \uc815\ubcf4</strong><dl><dt><dd>&nbsp;<dt><dd>&nbsp;<dt><dd>&nbsp;<dt>&nbsp;</dl>").show(),require("server").realestate(a.outsrclinkId,
function(b){var c=b.number("salePrice")?"<em>"+String.formatNumber(b.number("salePrice"))+"</em>":"-",d=b.number("leasePrice")?"<em>"+String.formatNumber(b.number("leasePrice"))+"</em>":"-",e="";b.text("agencyName")&&(e='<dt>\ubb38\uc758</dt><dd><span class="ico_estate"></span><a target=_blank class="agencyUrl" href="'+b.text("agencyUrl")+'"><span class="txt_name">'+b.text("agencyName")+"</span> <em>"+b.text("agencyTel")+'</em></a> <span class="ico_ad"></span>');var f="";b.text("salePriceUrl")&&b.text("leasePriceUrl")&&
a.outsrcId!=="officetel"&&(f='<dt>\uc2dc\uc138</dt><dd><a target=_blank href="'+b.text("salePriceUrl")+'">\ub9e4\ub9e4 '+c+'\ub9cc\uc6d0</a>, <a target=_blank href="'+b.text("leasePriceUrl")+'">\uc804\uc138 '+d+"\ub9cc\uc6d0</a> <small>(1\u33a1\uae30\uc900)</small></dd>");o.$("addition").show().html("<strong>\ubd80\ub3d9\uc0b0 \uc815\ubcf4</strong><dl class=estate><dt>\ub2e8\uc9c0\uc815\ubcf4</dt><dd>"+String.formatNumber(b.number("houseCnt"))+"\uc138\ub300, "+String.formatNumber(b.number("dongCnt"))+
"\uac1c\ub3d9, "+String.formatNumber(b.number("floorCnt"))+"\uce35"+(b.text("buildDate")?", "+b.text("buildDate").replace(/(....)(..).*/,"$1.$2 \uc900\uacf5"):"")+"</dd>"+f+e+"</dd></dl>");o.on("click",".agencyUrl",function(){n.click("realstate","ad")});b.has("url")?o.$("name").attr("href",b.text("url")):o.$("name").attr("href",a.getDaumPlaceUrl())})):!p&&"agency"==a.outsrcId&&a.outsrclinkId?(p=!0,o.$("addition").html("<strong>\uc911\uac1c\uc5c5\uc18c \uc815\ubcf4</strong><dl><dt><dd>&nbsp;<dt><dd>&nbsp;<dt>&nbsp;</dl>").show(),
require("server").realestateAgency(a.id,function(b){var c='<strong>\uc911\uac1c\uc5c5\uc18c \uc815\ubcf4</strong><dl class=estate><dt>\ubcf4\uc720\ub9e4\ubb3c</dt><dd><a target=_blank href="'+(b.text("saleMaemulUrl")||"#")+'">\ub9e4\ub9e4 <em>'+String.formatNumber(b.number("saleCnt"))+'</em></a>, <a target=_blank href="'+(b.text("leaseMaemulUrl")||"#")+'">\uc804\uc138 <em>'+String.formatNumber(b.number("leaseCnt"))+'</em></a>, <a target=_blank href="'+(b.text("rentMaemulUrl")||"#")+'">\uc6d4\uc138 <em>'+
String.formatNumber(b.number("rentCnt"))+"</em></a></dd>";if(b.text("manageDanjiName")){c=c+('<dt>\uad00\ub9ac\ub2e8\uc9c0</dt><dd><a target=_blank href="'+(b.text("manageDanjiUrl")||"#")+'"><em>'+String.cut(b.text("manageDanjiName"),16)+"</em></a>");b.number("manageDanjiCnt")&&(c=c+(' \uc678 <a target=_blank href="'+(b.text("manageDanjiCntUrl")||"#")+'"><em>'+String.formatNumber(b.number("manageDanjiCnt"))+"</em>\ub2e8\uc9c0</a>"));c=c+"</dd>"}o.$("addition").show().html(c+"</dl>");b.url?o.$("name").attr("href",
b.url):o.$("name").attr("href",a.getDaumPlaceUrl())})):!p&&"bunyang"==a.outsrcId&&a.outsrclinkId?(p=!0,o.$("addition").html("<strong>\ubd80\ub3d9\uc0b0\uc815\ubcf4</strong><dl><dt><dd>&nbsp;<dt><dd>&nbsp;<dt><dd>&nbsp;<dt>&nbsp;</dl>").show(),require("server").houseBunyang(a.outsrclinkId,function(b){var c=b.text("url")||"#",d=b.text("prgName")||"-",e=b.number("houseCount")?String.formatNumber(b.number("houseCount")):"-",f=b.number("dongCount")?String.formatNumber(b.number("dongCount")):"-",h=b.text("enterDate")?
"\uc785\uc8fc "+b.text("enterDate"):"\uc785\uc8fc \ubbf8\uc815",j=b.number("minSize")?String.formatNumber(b.number("minSize")):"-",k=b.number("maxSize")?String.formatNumber(b.number("maxSize")):"-";j==k&&(j="-");var l="",r=0;if(j=="-"&&k=="-")l="\ubbf8\uc815";else if(j=="-"||k=="-"){l="<em>"+(j=="-"?k:j)+"</em> \u33a1";r=1}else{l="<em>"+j+"</em> \u33a1 ~ <em>"+k+"</em> \u33a1";r=2}j=b.number("minPrice")?b.number("minPrice"):"-";k=b.number("maxPrice")?b.number("maxPrice"):"-";j==k&&(j="-");j!="-"&&
(j=g(j));k!="-"&&(k=g(k));var u="",u=j=="-"&&k=="-"?"\ubbf8\uc815":j=="-"||k=="-"?r==2?j=="-"?"~ "+k:j+" ~":j=="-"?k:j:j+" ~ "+k;o.$("addition").show().html("<strong>\ubd80\ub3d9\uc0b0\uc815\ubcf4</strong><dl class=estate><dt>\ubd84\uc591\uc815\ubcf4</dt><dd>"+d+", "+e+"\uc138\ub300, "+f+"\uac1c\ub3d9, "+h+'</dd><dt>\uba74\uc801</dt><dd><a target=_blank href="'+c+'">'+l+'</a></dd><dt>\ubd84\uc591\uac00</dt><dd><a target=_blank href="'+c+'">'+u+"</a></dd></dl>");b.url?o.$("name").attr("href",b.url):
o.$("name").attr("href",a.getDaumPlaceUrl())})):o.$("name").attr("href",a.getLandingUrl());!p&&a.subway&&(p=!0,o.$("addition").html("<dl><dt><dd>&nbsp;<dt><dd>&nbsp;</dl>").show(),a.subway.isLoaded()?k():a.subway.fetchDetail(k));!p&&(a.hub_data&&"hira"!==a.hub_data&&!a.intercity)&&(p=!0,o.$("addition").html("<strong>&nbsp;</strong><dl><dt><dd>&nbsp;<dt><dd>&nbsp;<dt><dd>&nbsp;</dl>").show(),a.institution?l():ca.find(a.id,function(b){a=b;l()}));w="";switch(a.outsrcId){case "agency":w="agency";break;
case "land":case "estate":case "land_hotissue":case "bunyang":w="realestate"}c=c.create(o.$("toolbar"),a,{reportable:a.isFiy,detailClass:w,subwayType:!!a.subway,rough:!0,type:e});d.createRoadview(c.pane.$("rv"),a.roadview,a.coords,a);c.pane.$("rv").click(function(){n.click("tooltip","roadview");var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),d=Application.localInfoController.getHCodeForLog(),b={name:a.name,confirmid:a.id,panoid:a.roadview.panoId,wx:b,wy:c,region:d};e=="route"?x.logPathSearchOutWithArgs("_tooltip_roadview",
b):e=="search"?x.logSearchOutWithArgs("tooltip_roadview",b):x.log("poi_click_tooltip_roadview",null,b)});c.pane.$("fav").click(function(){n.click("favorite",["place","tooltip"])});d.createFavorite(c.pane.$("fav"),v.createFromPlace(a));!p&&a.pointExtension&&(p=!0,o.$("addition").html("<strong>\uc0c1\uc138\uc815\ubcf4</strong><br>&nbsp;<br>&nbsp;").show(),a.distance||a.time?j():ca.find(a.id,function(b){a=b;j()}));this.getPane=function(){return o}}function kf(a,b,c,d){var e=this.onClose=new m,f=H("AddressInfoWindow",
{hideModify:b});d.createClose(f.$("close"),function(){e.notify()});f.$("name").text(a.name).attr("title",a.name);c=c.create(f.$("toolbar"),a,{coordinate:b,reportable:!b});c.pane.$("rv").click(function(){e.notify()});d.createRoadview(c.pane.$("rv"),null,a.coords);c.pane.$("fav").click(function(){n.click("favorite",["point","tooltip_point"])});d.createFavorite(c.pane.$("fav"),v.createFromPoint(a));b&&f.addClass("coordinateInfoWindow");this.getPane=function(){return f};this.setFavoriteIcon=function(a){f.$("fav").toggle(a)}}
function lf(a,b,c){var d=this.onClose=new m,e=a.webpage,f=H("ReviewInfoWindow");c.createClose(f.$("close"),function(){d.notify()});var h=a.image;h?f.$("thumb").attr("src",h):(f.$("thumb").remove(),f.addClass("ReviewInfoWindow-noimg"));f.$("title").attr("href",e).html(a.title);h=h?65:100;f.$("content").html(String.cut(String.stripTags(a.content),h));f.$("author").text(a.author||a.webpage).attr("href",e);f.$("date").text(a.date);a.placeId?(f.$("reference").show(),ca.findPlace(a.placeId,function(a){if(a==
null)f.$("reference").hide();else{a.storeview?c.createStoreview(f.$("storeview"),a.storeview):f.$("storeview").hide();if(a.roadview){f.$("roadview").click(function(){x.logRoadview("review_click_tooltip_roadview",a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog(),{id:a.id})});c.createRoadview(f.$("roadview"),a.roadview,a.coords);f.$("roadview").show()}else f.$("roadview").hide();f.$("name").text(a.name).attr("href",a.getLandingUrl()).click(function(){n.click("tooltip","open_place_view")});
a.phone&&a.phone[0]?f.$("phone").text(a.phone[0]).after(" | "):f.$("phone").hide();f.$("address").text(a.address);f.$("stars").css("width",a.grade*20+"%");f.$("vote").text("("+String.formatNumber(a.vote)+"\uac74)").attr("href",a.getDaumPlaceUrl());f.$("review").attr("href",a.getDaumPlaceUrl("#review")).text(String.formatNumber(a.review))}})):f.$("reference").text("[\uad00\ub828\uc8fc\uc18c] "+a.address);b.create(f.$("toolbar"),a,{reviewType:!0});this.getPane=function(){return f}}function Nd(a){var b=
this.onClose=new m,c=this.onCollapse=new m,d=this.onPrev=new m,e=this.onNext=new m;this.onRoadviewClick=new m;var f=this.panel_=H("RouteInfoWindow");f.$("close").click(function(){b.notify()});f.$("close").click(function(){b.notify()});f.$("min").click(function(){c.notify()});f.$("rv").show().click(function(){var b=a.roadview,c=pc.RADIUS[Application.map.getLevel()];b?(Application.roadviewController.client_.getNearestPanoId(b.coords,c,function(a){b.panoId=a;Application.roadviewController.showWithRoute(b,
!1)}.bind(this)),this instanceof we?(n.click("route","go_car_tooltip_roadview"),x.logRoadview("node_click_tooltip_roadview",a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog())):this instanceof ze&&(n.click("route","go_walk_tooltip_roadview"),x.logRoadview("node_click_tooltip_roadview",a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog()))):alert("\ub85c\ub4dc\ubdf0\uac00 \uc81c\uacf5\ub418\uc9c0 \uc54a\ub294 \uacf3\uc785\ub2c8\ub2e4.")}.bind(this));
var h=null,g=null,k=f.$("next").click(function(){e.notify(g);n.click("route","go_"+n.ROUTE_METHOD+"_tooltip_move")}.bind(this)),l=f.$("prev").click(function(){d.notify(h);n.click("route","go_"+n.ROUTE_METHOD+"_tooltip_move")}.bind(this));this.setButtons=function(a,b){h=a;g=b;l.toggle(!!a);k.toggle(!!b)};this.point_=a;this.getPane=function(){return f};this.doLayout=function(){f.css("left",5);f.css("bottom",20)};f.$("content").text(a.desc)}function mf(a){ga(this,fd,a);var b=this.panel,c=b.$("transitPointContent"),
d=!0,e=Application.flagSearchController.getWaypoints();if(a.confirmid)for(var f=0;f<e.length;f++){if(e[f].id===a.confirmid&&"PLACE"!==e[f].pointType&&"SUBWAYSTATION"!==e[f].pointType){d=!1;break}}else d=!1;if(a.confirmid){var h=H("StartEndPointInfoContent");ca.findPlace(a.confirmid,function(a){a&&(a&&(h.$("contact").hide(),h.$("address").hide(),a.newAddress?h.$("newaddr").text(a.newAddress):a.address?h.$("newaddr").text("\uc9c0\ubc88 : "+a.address):h.$("newaddr").hide()),h.show(),b.$("name").removeClass("addr"),
h.appendTo(c))})}b.addClass("StartEndPointInfoWindow");b.$("min").hide();b.$("close").addClass("aloneClose");d?(d=b.$("title"),d.attr("target","_blank"),d.attr("href",require("url").DAUM_PLACE+a.confirmid),d.text(a.name),d.on("click",function(){n.click("route","go_"+n.ROUTE_METHOD+"_place")})):b.$("name").html("").text(a.name);a=a.action||a.seq;"start"===a||"DEPARTURE"===a?b.$("icon").addClass("DEPARTURE"):"through"===a?b.$("icon").addClass("through"):("goal"===a||"ARRIVAL"===a)&&b.$("icon").addClass("ARRIVAL");
this.doLayout=function(){b.css("left",-15);b.css("bottom",34)}}function nf(a,b){var c=this.onClose=new m,d=H("SubPlaceInfoWindow");d.$("close").click(c.notify.bind(c));d.$("name").text(a.name);b.create(d.$("toolbar"),a);this.getPane=function(){return d}}function of(a){ga(this,fd,a);var b=this.panel,c=b.$("transitPointContent");b.addClass("SubwayRouteInfoWindow");b.$("icon").addClass("SUBWAYSTION").addClass(a.subwayCode);b.$("title").click(function(){n.click("route","go_public_subwaystation_name");
a.subwayStation.fetchDetail(function(){Application.map.setCenter(a.coords);Application.infoWindowManager.createSubwayStation(a.subwayStation)},this)});a.action!=U.GETOFF&&H("SubwayRouteInfoWindowContent",{nodes:a.nodes.length+1+"\uac1c \uc5ed \uc774\ub3d9",time:a.time,tip:a.tip,desc:a.desc}).appendTo(c);b.$("name").removeClass("addr");a.action==U.GETOFF&&!a.lastGetOFf&&(b.$("min").hide(),b.$("close").addClass("aloneClose"));a.isInterPublic&&(b.$("min").hide(),b.$("close").addClass("aloneClose"));
0!=a.vehicles.length&&b.$("transitIcon").addClass("sub_"+a.vehicles[0].type)}function Ae(a,b,c,d,e){function f(){a.openInfoPopup();n.click("map","subwayinfo_more")}function h(){var b={coords:a.coords,subwayId:a.id,subwayLineId:a.subwayLineId,name:a.name,channel:"TOOLTIP_SUBWAYSTATION"};n.click("tooltip","subway_modify");Application.fiyFrameController.openCustomerRequest(b)}function g(){if(Application){n.click("map","subwayinfo_subwaymap");var b=a.id.substr(0,3),b=Application.subwaySearchController.searchController.REGION_ID.indexOf(mb.cityId[b]||
"01");Application.subwaySearchController.setRegion(b);Application.subwaySearchController.setActive(!0)}}function k(a){var b="";U.subwayCode&&U.subwayCode[a]&&(b=U.subwayCode[a][0]);return b}function l(){if(!a.subwayLineId)return j.notify.call(j),alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),!1;a.prev?p.$("prev").find(">span").text(a.prev.name).end().removeClass("disabled").click(function(){r.notify(a.prev);n.click("map","subwayinfo_nearstation")}):p.$("prev").text("\uc774\uc804\uc5ed \uc5c6\uc74c").addClass("disabled");
a.next?p.$("next").find(">span").text(a.next.name).end().removeClass("disabled").click(function(){r.notify(a.next);n.click("map","subwayinfo_nearstation")}):p.$("next").text("\ub2e4\uc74c\uc5ed \uc5c6\uc74c").addClass("disabled");p.$("linebg").addClass(k(a.subwayLineId));p.$("name").find(".txt_subway").text(a.name.replace(/\(.*\)$/,"")).end().click(f);p.$("detail").click(f);p.$("report").click(h);a.transfers.length?(a.transfers.forEach(function(a){p.$("transfer").append('<span class="'+k(a.subwayLineId)+
'">'+a.lineName+"</span>")}),p.$("transfer").removeClass("HIDDEN")):p.$("transfer").remove();p.$("telephone").text(a.telephone);p.$("lostCenterTelephone").text(a.lostCenterTelephone);p.$("subwayMap").click(g);var b=c.create(p.$("toolbar"),a,{subwayId:a.id});b.pane.$("time").click(function(){n.click("map","subwayinfo_timetable");open(require("url").DAUM_PLACE+a.id+"#timeTableSection")});b.pane.$("fav").click(function(){n.click("favorite",["subway_station","tooltip"])});d.createFavorite(b.pane.$("fav"),
v.createFromPlace(a));p.removeClass("data_not_yet_arrive")}var j=this.onClose=new m,r=this.onSibling=new m,p=H("SubwayStationInfoWindow");p.$("close").click(j.notify.bind(j));p.addClass("data_not_yet_arrive");b?p.$("min").click(function(){n.click("tooltip","mini_minus");var c=a.coords.getX().toFixed(0),d=a.coords.getY().toFixed(0),f=Application.localInfoController.getHCodeForLog(),c={confirmid:a.id,wx:c,wy:d,region:f};"route"==e?x.logPathSearchOutWithArgs("_tooltip_minus",c):"search"==e&&x.logSearchOutWithArgs("tooltip_minus",
c);b()}):(p.addClass("PlaceInfoWindow-withoutmin"),p.$("min").hide());a.subway={id:a.id};a.isLoaded()?l(a):a.fetchDetail(l);this.getPane=function(){return p}}function Be(a,b){var c=this.onClose=new m,d=H("TrafficInfoWindow");d.$("close").click(c.notify.bind(c));d.$("title").text(a.name+" \uc18d\ub3c4\uc815\ubcf4");d.$("section").text(a.desc);d.$("desc").text(String.formatDistance(a.length)+" \uad6c\uac04"+a.status+" (\uc18d\ub3c4 : "+String.formatNumber(a.speed)+"km/h)").css("backgroundColor",{"\uc6d0\ud65c":"#28c613",
"\uc11c\ud589":"#f3bd00","\uc9c0\uccb4":"#ff7200","\uc815\uccb4":"#f11406"}[a.status]||"");b.createFavorite(d.$("fav"),v.createFromTraffic(a));this.getPane=function(){return d}}function fd(a,b){var c=this.onClose=new m,d=this.onCollapse=new m,e=this.onPrev=new m,f=this.onNext=new m,h=this.onRoadviewClick=new m,g=this.onCloseBtn=new m,k=null,l=null,j=this.panel=H("TransitPointInfoWindow",{title:String.cut(a.name,15),roadview:a.rvShow,actionName:function(){return b?"":a.bus?"\uc815\ub958\uc7a5 "+a.actionName:
a.actionName}});this.doLayout=function(){j.css("bottom",20)};j.$("close").click(function(){g.notify()});j.$("min").click(function(){d.notify();c.notify()});j.$("prev").click(function(){n.click("route","go_public_tooltip_move");e.notify(k)});j.$("next").click(function(){n.click("route","go_public_tooltip_move");f.notify(l)});j.$("rv").click(function(){n.click("route","go_public_tooltip_roadview");h.notify()});this.setButtons=function(a,b){k=a;l=b;j.$("prev").toggle(!!a);j.$("next").toggle(!!b)};this.getPane=
function(){return j}}function pf(a,b,c){var d={address:a.address},e=this.onClose=new m,f=H("W3wInfoWindow",d);c.createClose(f.$("close"),function(){e.notify()});b.create(f.$("toolbar"),a,{rough:!0,infoType:"address"});this.getPane=function(){return f}}function qf(a){ga(this,fd,a);this.panel.addClass("WalkPointGroupInfoWindow");this.panel.$("name").text(a.desc||a.walkGroup.desc).removeClass("addr");this.panel.$("name").append("<br/>");this.panel.$("name").append(a.time+"\uc18c\uc694, "+String.formatDistance(a.walkGroup.distance)+
"\uc774\ub3d9");this.panel.$("icon").addClass("WALKING");this.panel.$("close").addClass("aloneClose");this.panel.$("min").hide()}function ze(a){function b(a){c.$("icon").addClass(a.join(" "))}ga(this,Nd,a);var c=this.panel_;c.addClass("WalkPointInfoWindow");if(a.getSummary&&a.getSummary()){var d=a.getPlaceId()?"#":"https://place.map.kakao.com/"+a.getPlaceId();c.$("title").text(a.getSummary()).attr("href",d)}c.$("icon").addClass("walkaction");if(a.action||a.rotationCode){var d=a.action,e=a.rotationCode;
d&&-1!=d.indexOf("EXIT")&&e?(c.$("icon").addClass("walkguide").addClass(e),b(["walkguide",e])):(d&&(d=a.action.replace("EXIT","ENTER")),position_=gc.ACTION_LIST[d],void 0!=position_?b(["walkguide","walkaction",d]):b(["walkguide",e||"STRAIGHT"]))}}function rf(a){var b=this.onClose=new m,c=this.prevCast=new m,d=this.nextCast=new m,e=this.more=new m,f=H("WeatherInfoWindow",a);f.$("closer").on("click",function(){b.notify()});f.$("pagePrev").on("click",function(){c.notify()});f.$("pageNext").on("click",
function(){d.notify()});f.$("more").on("click",function(){e.notify()});f.on("mousedown",daum.maps.event.preventMap);this.currentCastPage;this.maxCastPage;this.getPane=function(){return f}}function x(){}function Ce(a,b,c){ga(this,qc);this.accident_=a;this.createMarker=function(){var a=this.accident_;return D.makeHoverable(new daum.maps.Marker({zIndex:2,position:a.coords,image:a.icon}))};this.updateVisibility=function(a){var b=this.getMarker();b&&b.setVisible(9>=a)};this.clickMarker=function(){this.setMarkerZIndex(4);
Application.infoWindowManager.createAccident(a,this.getMarker()).onClose.add(this.setMarkerZIndex.bind(this,2));n.click(b,c)}}function Pc(a,b,c){function d(a){j=l;if(l===a)return!1;l=a;return!0}function e(a){var b=null;switch(a){case la.FULL:b=w.getFullStyle();break;case la.ACTIVE:b=w.getActiveStyle();break;case la.INACTIVE:b=w.getInactiveStyle();break;case la.CUSTOM:b=w.getCustomStyle();break;case la.VERTICAL_FULL:b=w.getVerticalFullStyle();break;case la.HIDE_IN_ROADVIEW:b=w.getDiffViewStyle();break;
case la.MINIMIZE:r===eb.VIEW_SUBWAY?(y.height(o-M.height()),b=w.getMinimizeStyle()):r===eb.VIEW_ROADVIEW&&(b=w.getMinimizeStyle())}f(b)}function f(a,b){jQuery("#view").width(p).height(o);w.setMaxSize(Math.ceil(1*p/2),o);jQuery("#shadow").height(o);a&&(d(a.mode),u.css({borderRadius:a.borderRadius}));l!==la.CUSTOM&&s.toggleClass("MAP",r===eb.VIEW_MAP).toggleClass("ROADVIEW",r===eb.VIEW_STOREVIEW||r===eb.VIEW_ROADVIEW&&l!==la.FULL).toggleClass("MAPFRAME",r===eb.VIEW_STOREVIEW||r===eb.VIEW_ROADVIEW&&
l!==la.FULL).toggleClass("SUBWAY",r===eb.VIEW_SUBWAY);switch(l){case la.HIDE_IN_ROADVIEW:q.width("100%").height("100%").css({left:0});k.notify(b);break;case la.FULL:a&&t.css(a);g.notify();break;case la.INACTIVE:q.width("100%").height("100%").css({left:0});w.lastMode===la.ACTIVE&&!1===F?t.stop().animate(a,{duration:i,easing:O,step:function(){g.notify()},complete:function(){g.notify()}}):a&&(t.css(a),g.notify());k.notify(b);break;case la.MINIMIZE:r===eb.VIEW_ROADVIEW&&(t.stop().animate(a,{duration:C,
easing:O,always:function(){t.css("overflow","visible")}}),q.width("100%").height("100%").css({left:0}),k.notify(b));break;case la.ACTIVE:q.width("100%").height("100%").css({left:0});if(w.lastMode===la.MINIMIZE||w.lastMode===la.INACTIVE){var c=0,c=w.lastMode===la.MINIMIZE?G:i;!0===F?(t.css(a),g.notify()):t.stop().animate(a,{duration:c,easing:O,step:function(){w.lastMode!==la.MINIMIZE&&g.notify()},complete:function(){g.notify()}})}else a&&(t.css(a),g.notify());k.notify(b);break;case la.VERTICAL_FULL:var e=
0,e=a?a.width:w.width;w.lastMode===la.MINIMIZE?t.stop().animate(a,{duration:G,easing:O,complete:function(){q.width(p-e).height("100%").css({left:e});Application.roadviewController.roadviewHeaderView.updateWidthForVerticalFull(e);k.notify(b)}}):(q.width(p-e).height("100%").css({left:e}),Application.roadviewController.roadviewHeaderView.updateWidthForVerticalFull(e),a&&(t.css(a),g.notify()),k.notify(b));break;case la.CUSTOM_EDGE:case la.VERTICAL_FULL_EDGE:A.css(a);break;case la.CUSTOM:w.lastMode===
la.MINIMIZE?t.stop().animate(a,{duration:G,easing:O}):a&&(q.width("100%").height("100%").css({left:0}),t.css(a),g.notify(),k.notify(b))}a&&(j!==l&&l!==la.CUSTOM_EDGE&&l!==la.VERTICAL_FULL_EDGE)&&J.notify(a)}function h(){w.mode===la.VERTICAL_FULL&&(q.width("100%").height("100%").css({left:0}),k.notify());e(la.HIDE_IN_ROADVIEW)}if(!(this instanceof arguments.callee))return new arguments.callee(a);var g=new m,k=new m,l=la.FULL,j=null,r=eb.VIEW_MAP,p=0,o=0,s=jQuery("body"),t=jQuery("#view\\.map"),u=jQuery("#view\\.mapContainer"),
q=jQuery("#view\\.roadview"),w=a,y=jQuery("#view\\.subway\\.route"),M=jQuery("#subwayLegend"),A=jQuery("#minimapEdge"),J=this.onModeChange=new m,i=160,C=180,G=180,O="easeOutCubic",F=c.isBrowserIE;g.add(function(){b.relayout()});w.onResize.add(function(a){f(a)});this.onMapResize=g;this.onRoadviewResize=k;this.setSize=function(a,b){p==a&&o==b||(p=a,o=b,f(null,!0))};this.setMapOnly=function(){r=eb.VIEW_MAP;e(la.FULL)};this.setRoadviewWithMiniMap=function(){r!==eb.VIEW_ROADVIEW&&(r=eb.VIEW_ROADVIEW,e(la.INACTIVE))};
this.setDiffView=function(){r=eb.VIEW_ROADVIEW;h()};this.restoreFromDiffView=function(){s.addClass("MAPFRAME");t.removeClass("HIDDEN");if(w.mode===la.VERTICAL_FULL){var a=w.width;q.width(p-a).height("100%").css({left:a});k.notify();g.notify()}};this.setRoadviewOnly=function(){r=eb.VIEW_STOREVIEW;h()};this.setSubwayOnly=function(){r=eb.VIEW_SUBWAY;e(la.MINIMIZE)};this.get=function(){return r};this.getFrameMode=function(){return l}}function gd(a,b,c,d){var e,f=!1;e=D.createCctv(a.coords);e.onOver.add(function(){!f&&
e.setZIndex(3)});e.onOut.add(function(){!f&&e.setZIndex(2)});b&&(e.onOver.add(function(){b.createCctv(a);b.open(a)}),e.onOut.add(function(){b.close(a)}));var h=this.clickMarker=function(){e.setZIndex(4);f=true;var b=Application.infoWindowManager.createCctv(a,e);b&&b.onClose.add(function(){e&&e.setZIndex(2);f=false});n.click(c,d)};e.onClick.add(h);this.updateVisibility=function(b){e.setVisible(a.testZoom(b))};this.setMap=function(a){e.setMap(a)}}function qc(){this.setMarkerZIndex=function(a){this.getMarker().setZIndex(a)}}
function hd(a,b){function c(){var b=4>a.getLevel();u.setMap(b?null:a);b||t.setStyle("");e(!1);j.forEach(function(a){a.setMarkerVisible(b)});l=b;w=!1;-1<q&&(b?f(!0,q):d(!0))}function d(a){t.setStyle(a?"bikeMarkerOn":"bikeMarker");j.forEach(function(b){b.setActive(a)});w=a}function e(a){w||(t.setStyle(a?"bikeMarkerOn":"bikeMarker"),u.setZIndex(a?3:2),j.forEach(function(b){b.setHighlight(a)}))}function f(a,b){q=a&&null!=b?b:-1;j.forEach(function(c,d){d==b?c.setActive(a):c.setActive(!1)})}if(!(this instanceof
arguments.callee))return new arguments.callee(a,b);var h=this.onClick=new m,g=this.onMouseover=new m,k=this.onMouseout=new m,l=!1,j=b.points.map(function(b,c){var d=Od(a,b);d.onClick.add(function(){q=c;h.notify(c)});d.onMouseover.add(function(){g.notify(c)});d.onMouseout.add(function(){k.notify(c)});return d}),r=b.points[0].seq,p=b.points[b.points.length-1].seq,o=b.points[0].coords,s=jQuery("<div class=BikePointGroupMarker />"),t=rc(s,"bikeMarker",r,p);s.css("left",-(8+7*(""+r).length));s.click(function(){d(!1);
e(!1);h.notify(null)});s.mouseenter(function(){g.notify(null);e(!0)});s.mouseleave(function(){k.notify(null);e(!1)});var u=D.bikePointGroupMarker(o,s.get(0)),q=-1;daum.maps.event.addListener(a,"zoom_changed",c);c();var w=!1;this.setActive=d;this.setHighlight=e;this.setItemActive=f;this.setItemHighlight=function(a,b){l?j.forEach(function(c,d){d==b?c.setHighlight(a):c.setHighlight(!1)}):e(a)};this.show=function(){u.setMap(a);j.forEach(function(a){a.show()});daum.maps.event.addListener(a,"zoom_changed",
c);c()};this.hide=function(){u.setMap(null);j.forEach(function(a){a.hide()});daum.maps.event.removeListener(a,"zoom_changed",c)};this.destroy=function(){daum.maps.event.removeListener(a,"zoom_changed",c);j.forEach(function(a){a.destroy()});u.setMap(null);j.length=0;s.remove();t.dispose()}}function Od(a,b,c){function d(){k.setMap(null)}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var e=this.onClick=new m,f=this.onMouseover=new m,h=this.onMouseout=new m,g=!1,k=new $b(b.seq,
b.coords,2);k.onClick.add(function(){e.notify()});k.onOver.add(function(){f.notify()});k.onOut.add(function(){h.notify()});c&&k.setMap(a);this.setClickable=function(a){a?k.setClickable(!0):k.setClickable(!1)};this.setActive=function(a){g=a?!0:!1;k.setActive(a)};this.setHighlight=function(a){g||k.setHover(a)};this.show=function(){k.setMap(a)};this.hide=d;this.setMarkerVisible=function(b){k.setMap(b?a:null)};this.destroy=d;this.setVisibleNumber=function(a){k.setVisibleNumber(a)}}function sf(a){function b(){var b=
a.getLevel();0<e.length&&(6>=this.beforeLevel&&6>=b?this.beforeLevel=b:$b.showMarkerByZoom({level:b,shapeChangeLevel:12,list:e,map:a,pickCountFunc:function(a,b){return 6>=a?b:7<=a&&8>=a?Math.max(Math.min(Math.floor(60*b/100),100),2):9<=a&&11>=a?Math.max(Math.min(Math.floor(40*b/100),40),2):12<=a&&14>=a?Math.max(Math.min(Math.floor(20*b/100),20),2):0}}))}function c(){e.forEach(function(a){a&&a.destroy()});e.length=0;j&&j.setMap(null);r&&r.setMap(null);p&&p.forEach(function(a){a.forEach(function(a){a.setMap(null)})});
r=j=null;p=[]}function d(){e.forEach(function(a){a&&a.setActive&&a.setActive(!1);a instanceof hd&&a.setItemActive(!1)})}if(!(this instanceof arguments.callee))return new arguments.callee(a);var e=[],f=this.onClick=new m,h=this.onClickWithZoomIn=new m,g=this.onMouseover=new m,k=this.onMouseout=new m,l={zIndex:-2,strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10},j=null,r=null,p=[];daum.maps.event.addListener(a,"zoom_changed",b);this.setClickable=function(a){e.forEach(function(b){b instanceof
Od&&b.setClickable(a)})};this.setActive=function(b){b?(e.forEach(function(a){a&&a.show()}),j&&j.setMap(a),r&&r.setMap(a),p&&p.forEach(function(b){b.forEach(function(b){b.setMap(a)})})):(e.forEach(function(a){a&&a.hide()}),j&&j.setMap(null),r&&r.setMap(null),p&&p.forEach(function(a){a.forEach(function(a){a.setMap(null)})}))};this.setData=function(o){c();if(o){o.points.forEach(function(b,c){if("start"==b.seq||"goal"==b.seq||"through"==b.seq)e.push(null);else{var j;j=b instanceof Qc?hd(a,b):Od(a,b,!0);
j.onClick.add(function(a){d();null!=a?(j.setItemActive(!0,a),f.notify({index:c,sub:a})):j instanceof hd?(j.setItemActive(!0,0),h.notify({index:c})):(j.setActive(!0),f.notify({index:c}));n.click("route","go_bike_mappoint")});j.onMouseover.add(function(a){g.notify({index:c,sub:a})});j.onMouseout.add(function(a){k.notify({index:c,sub:a})});e.push(j)}});b();var s=[],t=[],u="",q=[];o.sectionPoints.forEach(function(b,c){s=s.concat(b);b.forEach(function(d,e){var f=o.sectionPointTypes[c][e],g=b.length-1==
e;if(""!=u&&u!=f||g)q.push(d),t.push(new daum.maps.Polyline({map:a,strokeWeight:12,strokeColor:"BIKE"==u?"#cf006f":"#004997",strokeOpacity:1,additionalStyles:[{strokeWeight:8,strokeOpacity:1,strokeColor:"BIKE"==u?"#EE63AE":"#3396ff"},{strokeStyle:"longdash",strokeWeight:1,strokeColor:"#ffffff",strokeOpacity:1}],path:q.splice(0)}));q.push(d);u=f});p.push(t)});var w=Application.flagSearchController.getWaypoints(),y=w[0].coords,w=w[w.length-1].coords,M=s[0],A=s[s.length-1];j=new daum.maps.Polyline(l);
j.setPath([y,M]);r=new daum.maps.Polyline(l);r.setPath([A,w]);j.setMap(a);r.setMap(a)}};this.setItemActive=function(a,b){d();e[a.index]&&(e[a.index]instanceof hd?e[a.index].setItemActive(b,a.sub):e[a.index]&&e[a.index].setActive&&e[a.index].setActive(b))};this.setHighlight=function(a,b){var c=e[a.index];c&&(c instanceof hd?null==a.sub?c.setHighlight(b):c.setItemHighlight(b,a.sub):c&&c.setHighlight&&c.setHighlight(b))};this.clear=c}function sc(a,b,c,d){function e(a){if(l||g)return!1;var a=a.coords,
c=b.getLevel();k?p.test(a,4<<c)&&!p.ignoreTest(a,c)?(j.setPosition(a),r.setPosition(a)):(j.setMap(null),r.setMap(null),k=!1):p.test(a,2<<c)&&!p.ignoreTest(a,c)&&(j.setPosition(a),r.setPosition(a),j.setMap(b),r.setMap(b),k=!0)}function f(){g=!0}function h(){g=!1}this.index_=a;this.onCoords=new m;var g=!1,k=!1,l=!1,j=new daum.maps.Marker({zIndex:-2,draggable:!0,image:sc.POINTER_IMAGE}),r=new daum.maps.Marker({clickable:!1,image:sc.TOOLTIP_IMAGE}),p=new tf(c,d);this.onAdd=function(){daum.maps.event.addListener(b,
"mousemove",e);Application.mainMapController.tool.onClickTool.add(f);Application.mainMapController.tool.onComplete.add(h);g=Application.mainMapController.tool.isToolActivate()};this.onRemove=function(){daum.maps.event.removeListener(b,"mousemove",e);j.setMap(null);r.setMap(null);Application.mainMapController.tool.onClickTool.remove(f);Application.mainMapController.tool.onComplete.remove(h)};daum.maps.event.addListener(j,"dragend",function(){l?(l=!1,j.setMap(null),this.onCoords.notify({index:this.index_,
position:j.getPosition()})):j.setMap(null)}.bind(this));daum.maps.event.addListener(j,"mousedown",function(){l=!0;k=!1;r.setMap(null)});daum.maps.event.addListener(j,"click",function(){k=l=!1;r.setMap(b)});daum.maps.event.addListener(b,"rightclick",function(){k=l=!1;j.setMap(null)})}function La(a,b,c,d,e){daum.maps.AbstractOverlay.call(this);this.onClick=new m;var f=this.marker_=new daum.maps.Marker({zIndex:e||2,position:a,image:b});this.isToolActivate=!1;this.zIndex_=e;this.highlight_=!1;daum.maps.event.addListener(f,
"click",this.onClick.notify.bind(this.onClick));daum.maps.event.addListener(f,"mouseover",this.setHoverYes.bind(this));daum.maps.event.addListener(f,"mouseout",this.setHoverNo.bind(this));this.roadmapImage_=b;c&&(this.skyviewImage_=c,this.mapTypeIdHandler_=this.changeMarkerImage_.bind(this));this.rolloverImage_=d;this.onOver=new m;this.onOut=new m;this.onPositionChanged=new m;this.eventMarkerImage_=null;this.toolActivate=function(){this.isToolActivate=true;f.setClickable(false);Application.infoWindowManager.closeWithoutNotify()}.bind(this);
this.toolDeactivate=function(){this.isToolActivate=false;f.setClickable(true)}.bind(this)}function zb(){console.assert(!1)}function Pd(a,b,c){function d(a,b,c,d,e,f,g){this.level=a;this.row=b;this.col=c;this.key=[a,b,c].join("/");this.minX=d;this.maxX=e;this.minY=f;this.maxY=g;this.midX=0.5*(d+e);this.midY=0.5*(f+g)}function e(){for(var a=o;a<=j;a++)u[a]=[];var b=[h(14,0,0),h(14,1,0),h(14,0,1),h(14,1,1)];l.forEach(function(a){b.forEach(function(b){g(a,b)})});r=k.getLevel();kakao.maps.event.addListener(k,
"zoom_start",w);kakao.maps.event.addListener(k,"zoom_changed",y);k.addOverlayMapTypeId(kakao.maps.MapTypeId[M])}function f(){t={};u={};w();kakao.maps.event.removeListener(k,"zoom_start",w);kakao.maps.event.removeListener(k,"zoom_changed",y);k.removeOverlayMapTypeId(kakao.maps.MapTypeId[M])}function h(a,b,c){var e=Math.pow(2,a-3);return new d(a,b,c,2.5*256*c*e-75E3,2.5*256*(c+1)*e-75E3,2.5*256*b*e-15E4,2.5*256*(b+1)*e-15E4)}function g(a,b){var c=b.level;if(!(0>c)){var e=a.getPosition(),f=e.getX(),
h=e.getY();if(b.contains(f,h)){var j=t[b.key];j||(t[b.key]=j=[]);if(c>=o){for(var k=u[c],l=!1,r=0;r<k.length;r++){var p=k[r];if(p.contain(e)){l=!0;break}}l||(c=2.5*Math.pow(2,c-3),c*=s,l=e.getX(),e=e.getY(),p=new kakao.maps.CoordsBounds(new kakao.maps.Coords(l-c,e-c),new kakao.maps.Coords(l+c,e+c)),k.push(p),j.push(a))}else j.push(a);var j=b.maxX,k=b.maxY,e=b.midX,c=b.midY,l=2*b.col,r=2*b.row,p=b.level-1,A=b.minX,q=e,w=b.minY,y=c;e<=f&&(l++,A=e,q=j);c<=h&&(r++,w=c,y=k);f=new d(p,r,l,A,q,w,y);g(a,
f)}}}var k=a,l=b||[],j=14,r=0,p=!0,o=c.minLevel||0,s=c.pixelBufferSize||20,t={},u={},q=[],w=function(){q.forEach(function(a){a.setMap(null)});q.length=0},y=function(){var a=k.getLevel();p&&r===a&&(k.removeOverlayMapTypeId(kakao.maps.MapTypeId[M]),k.addOverlayMapTypeId(kakao.maps.MapTypeId[M]));r=a},M="LOD_MARKER"+Pd.TILESET_ID++,A=document.createElement("div");kakao.maps.Tileset.add(M,new kakao.maps.Tileset({width:256,height:256,getTile:function(a,b,c){(a=t[[c,b,a].join("/")])&&a.forEach(function(a){a.setMap(k);
q.push(a)});return A}}));d.prototype.contains=function(a,b){return this.minX<=a&&a<this.maxX&&this.minY<=b&&b<this.maxY};this.generate=e;this.reset=f;this.setVisible=function(a){p!==a&&(a?k.addOverlayMapTypeId(kakao.maps.MapTypeId[M]):(w(),k.removeOverlayMapTypeId(kakao.maps.MapTypeId[M])),p=a)};this.setMarkers=function(a){f();l=a;e()}}function Rc(a){console.assert(a instanceof daum.maps.Map);this.map_=a;this.data_=null}function Aa(a){this.defaultPoint_=a;this.onCoords=new m;this.onChange=new m;this.onRemoveFlag=
new m;this.coords_=new daum.maps.Coords(0,0);this.isDragActivate=!0;this.klass_=null;a=this.panel_=jQuery('<div class=Flag-common><div class=guide></div><a href=# class=remover></a><img class=flagImg src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/blue_b.png"></div>');a.mousedown(function(a){this.isActivateFlag()&&daum.maps.event.preventMap(a)}.bind(this));a.mouseenter(this.showGuide_.bind(this));a.mouseleave(this.hideGuide_.bind(this));a.find(".remover").click(this.remove_.bind(this));
(this.flagImg_=a.find(".flagImg")).uidraggable({dragstart:this.dragStart_.bind(this),drag:this.drag_.bind(this),dragend:this.takeDown.bind(this),dragcancel:this.sink_.bind(this)});this.scrollSwitch_=zc.get(15,this.scroll_,this)}function De(a,b,c,d,e){var c=c|0,f=null,h=b.getPosition?b.getPosition():b,g={x:0,y:b.getImage?b.getImage().getOffset().y:0};e&&(g=jQuery.extend({x:0,y:g.y},e));this.onAdd=function(){f=jQuery('<div style="position:absolute;z-index:'+c+'"/>').on("mousedown touchstart dblclick contextmenu mousewheel wheel DOMMouseScroll",
daum.maps.event.preventMap).append(d).appendTo(this.getPanels().overlayLayer)};this.draw=function(){var a=this.getProjection().pointFromCoords(h);f.css({left:a.x+g.x,top:a.y-g.y})};this.onRemove=function(){f.find("object").each(function(){try{this.outerHTML=""}catch(a){}});f.remove();f=null};this.panIntoView=function(){var a=this.getMap(),b=a.getNode();if(b.getBoundingClientRect){var b=b.getBoundingClientRect(),c=d.get(0).getBoundingClientRect(),e=0;c.left<b.left+40?e=c.left-b.left-50:c.right>b.right-
40&&(e=c.right-b.right+50);var f=0;c.top<b.top+50?f=c.top-b.top-60:c.bottom>b.bottom-60&&(f=c.bottom-b.bottom+80);return e||f?(setTimeout(function(){a.panBy(e,f)},150),!0):!1}};this.setMap(a);this.getPane=function(){return d}}function Qa(a,b,c,d,e,f,h,g){function k(a){sa?a==daum.maps.MapTypeId.HYBRID__||a==daum.maps.MapTypeId.SKYVIEW__?require("log/Tiara").log(g.TIARA.skyview):require("log/Tiara").log(g.TIARA.pastview):a==daum.maps.MapTypeId.HYBRID__||a==daum.maps.MapTypeId.SKYVIEW__?require("log/Tiara").log(g.TIARA.skyview_hybridoff):
require("log/Tiara").log(g.TIARA.pastview_hybridoff)}function l(){return qb?qb|oa:oa}function j(a,e,f){var g=l(),h=Qa;a!=g&&(g&h.CCTV?d.activate():d.deactivate(),g&h.ACCIDENT?c.activate():c.deactivate(),(a^g)&h.ROADVIEW&&(Application.roadviewController.setWalkerVisible(g&h.ROADVIEW,e,f),Q.notify()),(a^g)&h.TRAFFIC&&C.notify(),b.setClickableLabel(g&h.ROADVIEW))}function r(){z.toggle(!1)}function p(b){O=b;E.toggleClass("checked",b);var c=a.isRoadmap();c||a.setMapTypeId(sa?daum.maps.MapTypeId.HYBRID:
daum.maps.MapTypeId.SKYVIEW);e.set("terrain",b);e.set("overlay",!c&&sa&&b);n.click("control",["layer","map_terrain"]);b&&require("log/Tiara").log(g.TIARA.terrain)}function o(c){F=c;Jb.toggleClass("checked",c);a.isRoadmap()?(e.set("bicycle",c),c&&e.set("bicyclehybrid",!c)):(c&&e.set("bicycle",!c),e.set("bicyclehybrid",c));n.click("control",["layer","map_bicycle"]);c&&require("log/Tiara").log(g.TIARA.bicycle);b.setLegend("bike",c)}function s(a,b){Ja.removeClass("checked").filter("[data-type="+b+"]").toggleClass("checked",
a);(S=a)?f.setAirType(b):f.setActive(a);h.setActive(!a)}function t(a){cc.toggleClass("checked",a);ja=a;e.set("usedistrict",a);n.click("control",["layer","map_usedistrict"]);a&&require("log/Tiara").log(g.TIARA.usedistrict);b.setLegend("usedistrict",a)}function u(a){Ea.toggleClass("checked",a);V=a;e.set("bboundary",a);n.click("control",["layer","map_bboundary"]);a&&require("log/Tiara").log(g.TIARA.bboundary);b.setLegend("usedistrict|bboundary",a)}function q(a){Ia.toggleClass("checked",a);Ba=a;e.set("hboundary",
a);n.click("control",["layer","map_hboundary"]);a&&require("log/Tiara").log(g.TIARA.hboundary);b.setLegend("usedistrict|hboundary",a)}function w(){clearTimeout(yb);a.isRoadmap()||(z.toggle(!0),T.stop())}function y(){yb=setTimeout(r,300)}var M=a.getMapTypeId(),A=this.onRoadmap=new m,i=this.onSkyview=new m,Q=this.onRoadview=new m,C=this.onTraffic=new m,G=this.onHistory=new m,O=!1,F=!1,S=!1,ja=!1,V=!1,Ba=!1,X=!1,v=jQuery("#mapTypeControlHolder"),x=jQuery(".viewbuttons .layerMenu"),B=x.find(".list_map_setting"),
x=x.find(".list_weather"),$=H("MapTypeControl");v.append($);var ka=$.find(".roadmap").toggleClass("ACTIVE",a.isRoadmap()).click(function(){e.set("overlay",!1);F&&(e.set("bicyclehybrid",!1),e.set("bicycle",!0));a.setMapTypeId(daum.maps.MapTypeId.ROADMAP);A.notify(daum.maps.MapTypeId.ROADMAP);require("log/Tiara").log(g.TIARA.imagemap);n.click("control","2D");jQuery.cookie("maptype","roadmap",{expires:14})}),ua=$.find(".skyview").toggleClass("ACTIVE",!a.isRoadmap()).click(function(){e.set("overlay",
sa&&O);var b=sa?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW;a.setMapTypeId(sa&&!O?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW);i.notify(b);F&&(e.set("bicycle",!1),e.set("bicyclehybrid",!0));z.toggle(!0);T.trigger();n.click("control",b==daum.maps.MapTypeId.SKYVIEW?"skyview":"hybrid");jQuery.cookie("maptype","skyview",{expires:14})}).mouseenter(w).mouseleave(y);ua.blurout(function(){jQuery(".MapControlView .rv").focus()});var T=hb(3E3,r),z=H("SkyviewOptions");z.mouseenter(w).mouseleave(y).hide().appendTo("body");
var Y=z.find(".hybrid").toggleClass("ACTIVE",M!=daum.maps.MapTypeId.SKYVIEW).click(function(){sa=!sa;Y.toggleClass("ACTIVE",sa);a.setMapTypeId(sa&&!O?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW);O&&e.set("overlay",sa);a.getMapTypeId()==daum.maps.MapTypeId.HYBRID&&n.click("control","hybrid");k(a.getMapTypeId())}),D=z.find(".yearRadio");D.click(function(a){a=D.index(a.target);console.assert(0<=a);n.click("control","newest past2018 past2017 past2016 past2015 past2014 past2013 past2012 past2011 past2010 past2009 past2008".split(" ")[a]);
D.removeClass("ACTIVE").eq(a).addClass("ACTIVE");G.notify(a)});var E=B.find(".terrain").parent();E.click(function(){p(!O)});var Jb=B.find(".bike").parent();Jb.click(function(){o(!F)});var cc=B.find(".usedistrict").parent();cc.click(function(){t(!ja)});var Ea=B.find(".bboundary").parent();Ea.click(function(){u(!V)});var Ia=B.find(".hboundary").parent();Ia.click(function(){q(!Ba)});var Ja=x.find("li");Ja.click(function(a){var b=jQuery(a.currentTarget),a=b.data("type"),b=b.hasClass("checked"),c=a;"wea"==
c&&(c="temp");n.click("control",["layer","weather_"+c]);s(!b,a)});b.onRefresh.add(function(){l()&Qa.TRAFFIC&&(e.set("traffic",!1),setTimeout(function(){e.set("traffic",!0)},100))},this);c.onTimestamp.add(b.setDate,b);var Fa=!1,gb=!1,Bb=!1,ha=!1,qb=!1,oa=0,sa=M!=daum.maps.MapTypeId.SKYVIEW;daum.maps.event.addListener(a,"maptypeid_changed",function(){var b=a.isRoadmap();jQuery("#view\\.map").toggleClass("map-skyview",!b);ka.toggleClass("ACTIVE",b);ua.toggleClass("ACTIVE",!b)});var yb=null;this.getElement=
function(){return $.get(0)};this.getState=function(){return l()};this.setState=function(a){oa^=a};this.setRoadview=function(a,b){if(a!=Fa){var c=l();oa^=Qa.ROADVIEW;Fa=a;e.set("roadview",a);j(c,!0,b)}};this.isRoadviewActive=function(){return l()&Qa.ROADVIEW};this.overrideRoadview=function(a){var b=l();qb=a;j(b)};this.logMapTypeId=function(a){k(a)};this.setTraffic=function(a){if(a!=gb){var c=l();oa^=Qa.TRAFFIC;gb=a;e.set("traffic",a);j(c);a?(require("log/Tiara").log(g.TIARA.realtraffic),b.showRefreshButton()):
b.hideRefreshButton();b.setLegend("traffic",a)}};this.setAccident=function(a){if(a!=Bb){var b=l();oa^=Qa.ACCIDENT;Bb=a;j(b);a&&require("log/Tiara").log(g.TIARA.accident)}};this.setCctv=function(a){if(a!=ha){var b=l();oa^=Qa.CCTV;ha=a;j(b);a&&require("log/Tiara").log(g.TIARA.cctv)}};this.setCctvId=function(a){d.findId(a)};this.isTrafficActive=function(){return l()&Qa.TRAFFIC};this.isAccidentActive=function(){return l()&Qa.ACCIDENT};this.isCctvActive=function(){return l()&Qa.CCTV};this.setLatestSkyview=
function(){z.find(".yearRadio").eq(0).click()};this.isTerrainActive=function(){return O};this.setTerrain=function(a){p(a)};this.isBikeActive=function(){return F};this.setBike=function(a){o(a)};this.setWeather=function(a,b){s(a,b)};this.getWeather=function(){var a="";S&&(a=f.getAirType());return a};this.isUsedistrictActive=function(){return ja||V||Ba};this.setUsedistrictParam=function(a,b){var c=b.split(",");0<c.length&&(Ba=V=ja=!1);for(var d=0;d<c.length;d++){var e=c[d];"usedistrict"==e?(ja=!0,t(a)):
"bboundary"==e?(V=!0,u(a)):"hboundary"==e&&(Ba=!0,q(a))}};this.getUsedistrictParam=function(){var a=[];ja&&a.push("usedistrict");V&&a.push("bboundary");Ba&&a.push("hboundary");return a.join(",")};this.isIndoorActive=function(){return X};this.setIndoor=function(b){b&&require("log/Tiara").log(g.TIARA.indoor);e.set("indoor",b);X=b;var c=a.getMapTypeId();b&&c==daum.maps.MapTypeId.ROADMAP?a.setMapTypeId(daum.maps.MapTypeId.INDOOR_SIDE):c==daum.maps.MapTypeId.INDOOR_SIDE&&a.setMapTypeId(daum.maps.MapTypeId.ROADMAP)};
this.update=function(){console.log("update");j(null)};this.isHybridActive=function(){return sa}}function jd(a,b,c){ga(this,xd);this.map_=a;this.roadmapOverlay_=b;this.skyviewOverlay_=c;this.switchHandler_=this.handleOverlay_.bind(this);this.on("visible",this.handleVisible_);this.setVisible(!0)}function Ee(a,b,c){function d(){k&&g.setImage(!k.isRoadmap()&&c||b)}daum.maps.AbstractOverlay.call(this);jQuery.extend(this,new daum.maps.AbstractOverlay);var e=this.onClick=new m,f=this.onOver=new m,h=this.onOut=
new m,g=this.marker_=new daum.maps.Marker({zIndex:2,position:a,image:b});daum.maps.event.addListener(g,"click",function(){e.notify()});daum.maps.event.addListener(g,"mouseover",function(){f.notify()});daum.maps.event.addListener(g,"mouseout",function(){h.notify()});var k=null;this.onAdd=function(){k=this.getMap();g.setMap(k);c&&(daum.maps.event.addListener(k,"maptypeid_changed",d),d())};this.onRemove=function(){var a=k||this.getMap();c&&daum.maps.event.removeListener(a,"maptypeid_changed",d);g.setMap(null)};
this.getPosition=function(){return g.getPosition()};this.getImage=function(){return g.getImage()};this.setTitle=function(a){g.setTitle(a)};this.setZIndex=function(a){g.setZIndex(a)};this.setVisible=function(a){g.setVisible(a)};this.getMarker=function(){return g}}function fe(a){function b(){v=!0;X&&q.show()}function c(){v=!1;X&&q.hide()}function d(){var b=a.isRoadmap()?"m":"s";b!=S&&(f(),S=b,h())}function e(){var a=M/11.25+1>>1&15;a!=A&&(f(),A=a,h())}function f(){w.removeClass("d"+A);y.removeClass(S+
A)}function h(){w.addClass("d"+A);y.addClass(S+A)}function g(){var a=$.getProjection();a&&V&&(a=a.pointFromCoords(V),q.css({left:a.x,top:a.y}))}function k(){x.stop();p();t.notify(V)}function l(){X||(a.setCursor("pointer"),X=!0,Application.roadviewController.getActive(),daum.maps.event.addListener(a,"mousemove",j))}function j(a){i=a.point.x-Q;Q=a.point.x;V=a.coords;g();v||b();o(i)}function r(){daum.maps.event.removeListener(a,"mousemove",j);a.setCursor(null);X=!1;p()}function p(){q.removeClass("MapWalker-Searching").removeClass("MapWalker-Left MapWalker-Right").toggleClass("MapWalker-Pinned",
Ba).toggleClass("MapWalker",!Ba)}function o(a){B.trigger();0>a?q.addClass("MapWalker-Left").removeClass("MapWalker-Right"):0<a&&q.addClass("MapWalker-Right").removeClass("MapWalker-Left")}function s(){var a=Math.atan2(C-51,26-G)||0;0>a&&(a+=2*Math.PI);M=180*a/Math.PI;e();u.notify()}var t=this.onCoords=new m,u=this.onPan=new m,q=H("MapWalker"),w=q.$("body"),y=q.$("angle");q.$("image");q.$("addr");var M=0,A=0,i=0,Q=0,C=0,G=0,O=0,F=0,S="",n=null,V=null,Ba=!0,X=!1,v=!0,x=zc.get(15,function(){var b=$.getProjection(),
c=b.containerPointFromCoords(V),d=a.getCenter(),d=b.containerPointFromCoords(d);d.x+=O;d.y+=F;a.setCenter(b.coordsFromContainerPoint(d));V=b.coordsFromContainerPoint(c);g()}),B=hb(500,function(){q.removeClass("MapWalker-Right MapWalker-Left")}),$=new daum.maps.AbstractOverlay;$.onAdd=function(){var b=$.getPanels().overlayLayer;jQuery(b).append(q);daum.maps.event.addListener(a,"maptypeid_changed",d);d()};$.onRemove=function(){q.detach();daum.maps.event.removeListener(a,"maptypeid_changed",d)};$.draw=
g;q.mousedown(daum.maps.event.preventMap);var ka=new jf;q.append(ka.getPanel());w.uidraggable({dragstart:function(){n={width:jQuery("#view\\.map").width(),height:jQuery("#view\\.map").height()};Application.roadviewController.getActive();q.removeClass("MapWalker MapWalker-Pinned").addClass("MapWalker-Searching")},drag:function(a){var b=$.getProjection(),c=b.pointFromCoords(V);c.x+=a.dx;c.y+=a.dy;V=b.coordsFromPoint(c);g();o(a.dx);c=b.containerPointFromCoords(V);O=0>c.x?-8:c.x>=n.width?8:0;F=0>c.y?
-8:c.y>=n.height?8:0;O||F?x.start():x.stop()},dragend:k,dragcancel:l});y.uidraggable({dragstart:function(a){daum.maps.event.preventMap();C=a.x;G=a.y;s()},drag:function(a){C+=a.dx;G+=a.dy;s()}});jQuery(a.getNode()).on("mouseleave",c);jQuery(a.getNode()).on("mouseenter",b);daum.maps.event.addListener(a,"mouseover",b);daum.maps.event.addListener(a,"mouseout",c);this.walkerTracker=new uf(a,this);this.show=function(){q.show();$.setMap(a)};this.hide=function(){$.setMap(null)};this.setPosition=function(a){V=
a;g()};this.getPosition=function(){return V};this.drop=function(){k()};this.hold=function(){q.removeClass("MapWalker MapWalker-Pinned").addClass("MapWalker-Searching").hide();$.setMap(a);l()};this.release=function(){r()};this.setPan=function(a){M=a;e()};this.getPan=function(){return M};this.setFloat=function(a){Ba!=a&&(b(),r(),(Ba=a)?q.removeClass("MapWalker").addClass(X?"MapWalker-Searching":"MapWalker-Pinned"):q.removeClass("MapWalker-Searching MapWalker-Pinned").removeClass("MapWalker-Left MapWalker-Right").addClass("MapWalker"))};
this.getVisible=function(){return!!$.getMap()};this.getState=function(){return X};this.draw=function(){g()};this.clear=function(){q.removeClass("MapWalker MapWlaker-Pinned MapWalker-Searching").removeClass("MapWalker-Left MapWalker-Right");daum.maps.event.removeListener(a,"mousemove",j);a.setCursor(null);Ba=!0;X=!1;v=!0}}function uf(a,b){var c,d,e,f,h;function g(){var c=a.getProjection(),d=a.getBounds(),e=c.pointFromCoords(d.getSouthWest()),f=c.pointFromCoords(d.getNorthEast());e.x-=p;e.y+=o;f.x+=
p;f.y-=o;if((new daum.maps.LatLngBounds(c.coordsFromPoint(e).toLatLng(),c.coordsFromPoint(f).toLatLng())).contain(b.getPosition().toLatLng()))j(!1);else{var f=c.containerPointFromCoords(b.getPosition()),g=c.containerPointFromCoords(a.getCenter()),e=c.containerPointFromCoords(d.getSouthWest()),c=c.containerPointFromCoords(d.getNorthEast());if(Application.frameDecorator.mode===P.MINIMIZE||0===c.x&&0===c.y&&0===e.y&&0===e.x)j(!1);else if(d=l(c.y+t,c.x-t,e.y-t,e.x+t,g,f),!y||!(d.x===y.x&&d.y===y.y))y=
{x:d.x,y:d.y},f=((-(180*Math.atan2(g.y-f.y,f.x-g.x)/Math.PI)+360)%360|0)+90,d.x-=s,d.y-=s,d=k(d,e,c,f),u.css({top:d.y+"px",left:d.x+"px"}),q.css({transform:"rotate("+(f+180)+"deg)"}),j(!0)}}function k(a,b,c){function d(a,b){var c=a.x-s,e=a.x+s,f=a.y-s,g=a.y+s;return(f>=b.top&&g<=b.bottom||f>=b.top&&f<=b.bottom||g>=b.top&&g<=b.bottom||b.top>=f&&b.bottom<=g)&&(c>=b.left&&e<=b.right||c>=b.left&&c<=b.right||e>=b.left&&e<=b.right||b.left>=c&&b.right<=e)?(console.log("overlap"),!0):!1}function e(a,b){var c=
0,d=0,c=b.right-b.left,d=b.bottom-b.top,f=(b.right+b.left)/2,g=(b.bottom+b.top)/2,h=d/c;if(A===a.y)d=Math.abs(f-b.xDir*c/2-(a.x+b.xDir*s)),c=-b.xDir*d,d=-b.yDir*d*h;else if(i===a.x)c=d-Math.abs(g+b.yDir*d/2-(a.y+b.yDir*s)),d=-b.yDir*c,c=-b.xDir*(c/h);else return null;return{dx:c,dy:d}}function f(a,b){var c=0,c=0,c=b.right-b.left,d=b.bottom-b.top,e=(b.right+b.left)/2,g=(b.bottom+b.top)/2,h=b.right-b.left,j=b.bottom-b.top,k=Math.sqrt(h*h+j*j),l=(h*h-k*k-j*j)/(2*k),l=Math.sqrt(j*j-l*l),r=Math.sqrt(h*
h-l*l),u=Math.sqrt(j*j-l*l);return A===a.y?(l=j/h,d=h/k*r,c=-Math.abs(e-b.xDir*c/2-(a.x+b.xDir*s))*(d/h),{dx:c,dy:-c*l}):i===a.x?(l=h/j,c=j/k*u,c=(d-Math.abs(g+b.yDir*d/2-(a.y+b.yDir*s)))*(c/j),{dx:-c*l,dy:c}):null}for(var b=[{top:b.y-47,left:0,bottom:b.y,right:47,xDir:-1,yDir:1,type:"rect"},{top:b.y-76,left:c.x-47,bottom:b.y,right:c.x,xDir:1,yDir:1,type:"rect"},{top:0,left:c.x-36,bottom:36,right:c.x,xDir:1,yDir:-1,type:"tri"}],c={x:a.x+s,y:a.y+s},g=!1,h=null,j=0;j<b.length;j++){var k=b[j];if(g=d(c,
k))if("rect"===k.type){h=e(c,k);break}else if("tri"===k.type){h=f(c,k);break}}g?h&&(J=h.dx,m=h.dy):m=J=0;i=c.x;A=c.y;w.css({top:a.y,left:a.x});a.x+=J;a.y+=m;return a}function l(a,b,g,j,k,l){function r(k,l){var p=c;k<j?p|=d:k>b&&(p|=e);l<a?p|=f:l>g&&(p|=h);return p}for(var u=k.x,k=k.y,p=l.x,l=l.y,o=r(p,l);o;)o&f?(p+=(u-p)/(k-l)*(a-l),l=a):o&e?(l+=(k-l)/(u-p)*(b-p),p=b):o&h?(p+=(u-p)/(k-l)*(g-l),l=g):o&d&&(l+=(k-l)/(u-p)*(j-p),p=j),o=r(p,l);return{x:p,y:l}}function j(a){u.css({display:a?"block":"none"})}
function r(){j(!1)}c=0;f=8;e=2;h=4;d=1;var p=51,o=26,s=29,t=s,u=jQuery('<div class="MapWalkerThere">        <div data-id="body" class="body ico_roadview2"></div>        <span class="bubble_walker ico_roadview2" style=""></span>    </div>'),q=u.find("span");r();a.getNode().appendChild(u[0]);u.click(function(){a.setCenter(b.getPosition());j(!1)});var w=jQuery('<div style="position:absolute;"></div>');w.css({backgroundColor:"green",width:"58px",height:"58px",zIndex:9999});var y=null,i=null,A=null,J=
0,m=0;this.run=function(){daum.maps.event.addListener(a,"zoom_start",r);daum.maps.event.addListener(a,"zoom_changed",g);daum.maps.event.addListener(a,"center_changed",g)};this.stop=function(){daum.maps.event.removeListener(a,"zoom_start",r);daum.maps.event.removeListener(a,"zoom_changed",g);daum.maps.event.removeListener(a,"center_changed",g);j(!1)}}function D(){console.assert(!1)}function va(a){this.map_=a;this.markers_=[];this.activeMarker_=null}function Qd(){}function vf(a,b,c,d){var e=this.onClose=
new m,f=this.onExpand=new m,h=H("MediumTooltip");this.getPane=function(){return h};this.doLayout=function(){h.css("left",-h.outerWidth()>>1)};c.createRoadview(h.$("roadview"),a.roadview,a.coords,a);h.$("roadview").click(function(){n.click("tooltip","mini_roadview");var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),e=Application.localInfoController.getHCodeForLog(),b={name:a.name,confirmid:a.id,panoid:a.roadview.panoId,wx:b,wy:c,region:e};"route"==d?x.logPathSearchOutWithArgs("_mini_tooltip_roadview",
b):"search"==d&&x.logSearchOutWithArgs("mini_tooltip_roadview",b)});c.createStoreview(h.$("storeview"),a.storeview);h.$("storeview").click(function(){n.click("tooltip","mini_storeview");var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),e=Application.localInfoController.getHCodeForLog(),b={confirmid:a.id,storeid:a.storeview,wx:b,wy:c,region:e};"route"==d?x.logPathSearchOutWithArgs("_mini_tooltip_storeview",b):"search"==d&&x.logSearchOutWithArgs("mini_tooltip_storeview",b)});c.createDestination(h.$("destination"),
a);h.$("destination").click(function(){n.click("tooltip","mini_route")});h.$("destination").toggle(!!b);h.$("expand").click(function(){n.click("tooltip","mini_plus");f.notify();var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),e=Application.localInfoController.getHCodeForLog(),b={confirmid:a.id,wx:b,wy:c,region:e};"route"==d?x.logPathSearchOutWithArgs("_mini_tooltip_plus",b):"search"==d&&x.logSearchOutWithArgs("mini_tooltip_plus",b)});h.$("close").click(function(){n.click("tooltip","mini_close");
var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),f=Application.localInfoController.getHCodeForLog(),b={confirmid:a.id,wx:b,wy:c,region:f};"route"==d?x.logPathSearchOutWithArgs("_mini_tooltip_close",b):"search"==d?x.logSearchOutWithArgs("mini_tooltip_close",b):x.log("poi_click_mini_tooltip_close",null,b);e.notify()});h.$("name").text(String.cut(a.name,10)).click(function(){a.subway&&a.subway.openInfoPopup();n.click("tooltip","mini_name");"route"==d?x.logPathSearchOut("mini_tooltip_name",
a.id):x.logSearchOut("mini_tooltip_name",a.id)});a.subway||h.$("name").attr("href",a.getLandingUrl())}function Bc(a){var b=H("MiniTooltip"),c=b.$("cont"),d=!1,e=new daum.maps.Billboard({zIndex:8,position:new daum.maps.Coords(0,0),content:b.getElement(),clickable:!1});e.setMap(null);this.show=function(){e.setMap(a);d=!0};this.hide=function(){e.setMap(null);d=!1};this.setDataForDot=function(a){b.addClass("MiniTooltip-DOT");c.html("");var d=jQuery('<span class="name"></span>').appendTo(c).append(a.name);
a.category&&d.append(jQuery('<span class="sub">'+a.category+"</span>"));e.setContent(b.get(0));e.setPosition(a.coords)};this.setData=function(a,d,g){b.addClass("MiniTooltip MiniTooltip-"+a);c.empty();g||(g="");Array.isArray(g)?g.forEach(function(a){c.append(a)}):c.append(g);e.setPosition(d)};this.setPlusmapVersion=function(a){b.addClass("plusmap"+a)};this.bringToFront=function(){e.setZIndex(9)};this.sendToBack=function(){e.setZIndex(8)};this.setZIndex=function(a){e.setZIndex(a)};this.getVisible=function(){return d};
this.setOnClick=function(a){c.addClass("clickable");c.on("click",a)};this.setMap=function(b){e.setMap(b);a=(d=!!b)&&b}}function Ua(a){function b(a){return jQuery('<span class="name"></span>').append(a)}var c=new Bc(a),d=new Bc(a);this.disabledDot=!1;this.createPlace=function(a){var d=b(a.name);c.setData(Ua.PLACE,a.coords,d)};this.createAoi=function(a){var d=b(a.name);c.setData(Ua.PLACE,a.aoiCoords,d)};this.createAoiLine=function(a){var d=b(a.name);c.setData(Ua.AOILINE,a.aoiLineCoords,d)};this.createDot=
function(a){var c=b(a.name);a.category&&c.append(jQuery('<span class="sub">'+a.category+"</span>"));d.setData(Ua.DOT,a.coords,c)};this.createTheme=function(a){var d=b(a.name);c.setData(Ua.THEME,a.coords,d)};this.createCctv=function(a){var d=b(a.name);c.setData(Ua.CCTV,a.coords,d)};this.createBusStop=function(a){var d=b(a.name);a.codenames.forEach(function(a,b){0<b&&d.append('<span class="column">|</span>');jQuery('<span class="sub">'+a.trim()+"</span>").appendTo(d)});c.setData(Ua.BUSSTOP,a.coords,
d)};this.createPOIBusStop=function(a){var d=b(a.name);a.codenames.forEach(function(a,b){0<b&&d.append('<span class="column">|</span>');jQuery('<span class="sub">'+a.trim()+"</span>").appendTo(d)});c.setData(Ua.THEME,a.coords,d)};this.createRating=function(a){var d=b(a.name).addClass("name-rating"),e=jQuery('<span class="starbg"><span class="star"></span></span>');jQuery(e).find(".star").css("width",13*a.grade);c.setData(Ua.THEME,a.coords,[d,e])};var e=[];this.createGas=function(b){var c=new Bc(a);
e.push(c);var d=[];b.gas.providerId&&d.push(jQuery('<span class="icon"></span>').addClass("icon-"+b.gas.providerId));var k=[{name:"\ud718\ubc1c\uc720 ",price:b.gas.gasPrice},{name:"\uacbd\uc720 ",price:b.gas.dieselPrice},{name:"LPG ",price:b.gas.lpgPrice}],k=jQuery.grep(k,function(a){return a.price}),l=k.length-1;jQuery.each(k,function(a,b){var c=jQuery('<span class="gas"></span>'),e=jQuery('<span class="price"></span>');c.text(b.name).append(e);e.text(String.formatNumber(b.price));a!=l&&c.append(jQuery('<span class="bar">|</span>'));
d.push(c)});c.setData(Ua.THEME,b.coords,d);c.show();b.outsrclinkId&&c.setOnClick(function(){B.open("https://place.map.kakao.com/"+b.outsrclinkId,"_blank")});return c};this.clear=function(){e.forEach(function(a){a.hide()});e.length=0};this.open=function(){c.show();d.hide();this.disabledDot=!0};this.close=function(){c.hide();d.hide();this.disabledDot=!1};this.openDot=function(){this.disabledDot||d.show()};this.closeDot=function(){d.hide()}}function sb(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);
var b=this.polygons=a.map(function(a){return sb.Polygon(a)});this.findAt=function(a,d){for(var e=-1,f=0,h;h=b[f];f++)if(h.isContain(a,d)){e=f;break}return e}}function Sc(a){for(var b=[{resource:mvp.getAsset("sprite_icons1"),name:"sprite_icons1"},{resource:mvp.getAsset("sprite_icons2"),name:"sprite_icons2"}],c=[],d=null,e={},f={text:"",size:13,color:"#fff",alpha:0.7,posX:12,posY:6,backgroundColor:"#000",backgroundAlpha:0.5,backgroundRadius:14,backgroundPaddingX:12,backgroundPaddingY:5},h={text:"",
size:13,color:"#3695FF",alpha:1,posX:12,bold:!0,posY:6,backgroundColor:"#fff",backgroundAlpha:1,backgroundRadius:14,backgroundPaddingX:12,backgroundPaddingY:5},g={},k=0;k<Sc.spriteInfos.length;k++){var l=Sc.spriteInfos[k],j=b[l.spriteIdx].resource;e[l.name]=new mvp.MarkerImage({image:j,width:l.width,height:l.height,ratio:2,alpha:1,spriteName:b[l.spriteIdx].name,spriteOriginX:l.x,spriteOriginY:l.y,spriteWidth:j.width,spriteHeight:j.height})}this.getSource=function(a){return e[a]};this.getImageMarker=
function(b,c,d){b=this.getMarker(e[b],c,d);b.setClickable(!0);b.setHoverable(!0);a.addOverlay(b);return b};this.getTextMarker=function(b,c,d){var g=null,g=e[b.text];g||(g=new mvp.MarkerText(jQuery.extend(f,b)),e[b.text]=g,e[b.text+"_hover"]=new mvp.MarkerText(jQuery.extend(h,b)));g=this.getMarker(g,c,d);g.setClickable(!1);g.setHoverable(!1);a.addOverlay(g);return g};this.getMarker=function(a,b,d){var e=c.pop();e?e.setSource(a):e=new mvp.Marker({source:a,position:{x:0,y:0,z:0},offset:{x:0,y:0},opacity:1});
b&&e.setPosition(b);d?e.setOffset(d):e.setOffset({x:0,y:0});return g[e.key.key]=e};this.getBillboard=function(b){b=b||{};d||(d=new mvp.Billboard({content:"<span></span>",position:{x:0,y:0,z:0},margin:{left:0,top:0},opacity:1}));b.content&&d.setContent(b.content);b.pos&&d.setPosition(b.pos);b.margin&&d.setMargin(b.margin);d.off();for(var c in b.evt)d.on(c,b.evt[c]);a.addOverlay(d);return d};this.isBillboardVisible=function(){return d&&d.isAttached()};this.collect=function(b){if(b){var d="";"marker"===
b.type&&(d=b.key.key,delete g[d],b.off(),c.push(b));b.isAttached()&&a.removeOverlay(b)}};this.collectAll=function(){for(var b in g)this.collect(g[b]);d=null;a.clearOverlay(!0)}}function tf(a,b){for(var c=[],d=0;d<a.length;d+=300){var e=new daum.maps.CoordsBounds;a.slice(d,d+300+1).forEach(e.extend,e);c.push(e)}this.ignoreTest=function(a,c){if(!b)return!1;var d=a.getX(),e=a.getY(),l=4<<c;return b.some(function(a){return a instanceof Array?!a[0]?!1:3<c?Math.abs(d-a[0].getX())<2*l&&Math.abs(e-a[0].getY())<
l:a.some(function(a){return Math.abs(d-a.getX())<l&&Math.abs(e-a.getY())<l}):Math.abs(d-a.getX())<l&&Math.abs(e-a.getY())<l})?!0:!1};this.test=function(b,d){var e=0;if(!c.some(function(a,c){e=300*c;return a.contain(b)}))return!1;var k=b.getX(),l=b.getY(),j=a[e].getX(),r=a[e].getY();return a.slice(e+1,e+300+1).some(function(a){var b=a.getX(),a=a.getY();if(k>=Math.min(j,b)-d&&k<=Math.max(j,b)+d&&l>=Math.min(r,a)-d&&l<=Math.max(r,a)+d){var c=b-j,e=a-r,f=c*l-e*k+j*a-b*r;if(f*f/(c*c+e*e)<=d*d)return!0}j=
b;r=a})}}function $b(a,b,c){function d(a){a?(j.setZIndex(l+1),k.addClass("RouteIndexMarker-HOVER")):(!r&&j.setZIndex(l),k.removeClass("RouteIndexMarker-HOVER"))}function e(a){a?(j.setZIndex(l+1),k.addClass("RouteIndexMarker-ACTIVE"),d(!1)):(j.setZIndex(l),k.removeClass("RouteIndexMarker-ACTIVE"));r=!!a}var f=this.onOver=new m,h=this.onOut=new m,g=this.onClick=new m,k=H("RouteIndexMarker");99<a&&k.addClass("bigIndex");k.$("count").text(a);var l=c||0,j=null,j=jQuery.isNumeric(a)?new daum.maps.Billboard({position:b,
clickable:!0,content:k.get(0),zIndex:l}):new daum.maps.Billboard({position:b,clickable:!1,zIndex:-999});j.setMap(null);var r=!1;k.hover(function(){d(!0);Application.roadviewController.getActive()||f.notify()},function(){d(!1);Application.roadviewController.getActive()||h.notify()});k.on("click",function(){e(!0);g.notify();B.Application&&Application.map.setCenter(b)});this.setMap=function(a){j.setMap(a)};this.setHover=d;this.setActive=e;this.getActive=function(){return r};this.getPosition=function(){return j.getPosition()||
b};this.setPosition=function(a){j.setPosition(a)};this.getImage=function(){return{getOffset:function(){return{y:11}}}};this.setClass=function(a,b){k.toggleClass(a,b)};this.getMarker=function(){return j};this.setVisibleNumber=function(a){a?k.removeClass("RouteIndexMarker-NONUMBER"):k.addClass("RouteIndexMarker-NONUMBER")}}function Fe(a,b,c,d){function e(a){a?(t.setZIndex(2),!o&&j.addClass("ThemeMapPlaceMarker-HOVER"),h.notify()):(!u&&t.setZIndex(p),!o&&j.removeClass("ThemeMapPlaceMarker-HOVER"),g.notify())}
function f(a){a?(t.setZIndex(2),!o&&j.addClass("ThemeMapPlaceMarker-ACTIVE")):(t.setZIndex(p),!o&&j.removeClass("ThemeMapPlaceMarker-ACTIVE"));u=!!a}var h=this.onOver=new m,g=this.onOut=new m,k=this.onClick=new m,l=this.onPositionChanged=new m,j=H("ThemeMapPlaceMarker"),r=j.$("count");99<a?r.addClass("font3"):9<a?r.addClass("font2"):r.addClass("font1");r.text(a);var p=d||0,o=!1,a="",d=0.5,r=1,s=42;switch(c){case "57":o=!0;a="forsythia";break;case "56":o=!0;a="rosebay";break;case "55":o=!0,a="cherryblossom"}o&&
(j.addClass("ThemeMapCustomMarker"),j.addClass(a),d=20/41,r=22/46,s=20);var t=new daum.maps.Billboard({position:b,clickable:!0,content:j.get(0),xAnchor:d,yAnchor:r,zIndex:p});t.setMap(null);var u=!1;j.hover(function(){e(true)},function(){e(false)});j.on("click",function(){f(true);k.notify()});this.setMap=function(a){t.setMap(a)};this.setHover=e;this.setActive=f;this.getActive=function(){return u};this.getPosition=function(){return t.getPosition()||b};this.setPosition=function(a){t.setPosition(a);
l.notify()};this.setClass=function(a,b){j.toggleClass(a,b)};this.getImage=function(){return{getOffset:function(){return{y:s}}}};this.getMarker=function(){return t}}function Ge(a,b,c){var d=this.onClose=new m,e=this.onExpand=new m,f=this.onClick=new m,h=this.onOver=new m,g=this.onOut=new m,k=H("TransitMediumTooltip");k.addClass("TransitMediumTooltip-"+b.toUpperCase());k.$("expand").click(function(){e.notify()});k.$("close").click(function(){d.notify()});b=a.name;a.bus&&(b+="\uc815\ub958\uc7a5");if(a.subway){var l=
a.subwayLine;"subway_bu10"===a.subwayCode&&(l="\ubd80\uc0b0\uae40\ud574");b='<span class="sub_txt '+a.subwayCode+'">'+l+" </span>"+b}a.isInterPoint&&(b=c?a.end.text("name"):'<span class="sub_txt intercity">'+a.interTypeName+" </span>"+a.name);k.$("name").html(b);k.$("nameWrap").click(function(){f.notify()}).mouseenter(function(){h.notify()}).mouseleave(function(){g.notify()});c?k.$("actionName").text(" \ud558\ucc28"):k.$("actionName").text(" "+a.actionName);setTimeout(function(){142<k.$("name").width()&&
k.addClass("MultiLine")},0);this.getPane=function(){return k};this.doLayout=function(){};this.setHighlight=function(){}}function Cc(a,b,c){function d(a){var b=a.end?a.end.text("type"):a.type;"TRAINSTATION"===b||"TRAIN"===b?b=a.subType:"SUBWAY"===b?b=a.subwayCode:"BUSTERMINAL"===b&&(b=a.type);return b}function e(d){r=new Ge(b,d,c);d=b.targetPath;j=new daum.maps.Billboard({zIndex:13,position:c?d[d.length-1]:d[0]||b.coords,content:r.getPane().get(0),xAnchor:0.5,clickable:!0});j.setMap(a);r.onOver.add(function(){o&&
o.setHoverYes();j&&j.setZIndex(15);h.notify()});r.onOut.add(function(){o&&o.setHoverNo();j&&j.setZIndex(13);g.notify()});r.onClick.add(function(){o.setActive();f.notify()});r.onClose.add(function(){k.notify();j.setMap(null)});r.onExpand.add(function(){j.setMap(null);f.notify()})}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var f=this.onExpand=new m,h=this.onOver=new m,g=this.onOut=new m,k=this.onClose=new m,l=null,j=null,r=null,p=null,o=null;if(!c)if(b.publicWalkPath)l=
new daum.maps.Polyline({strokeColor:"#80858E",strokeOpacity:1,strokeWeight:10,additionalStyles:[{strokeWeight:"10",strokeOpacity:"0.7",strokeColor:"#000000"},{strokeWeight:"8",strokeOpacity:"1",strokeColor:"#80858E"},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:b.publicWalkPath}),l.setMap(a);else if(b.publicCustomPath)l=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:b.publicCustomPath}),l.setMap(a);else if(b.path||b.publicPath){var s=
"#80858E",t={additionalStyles:[],path:b.path||b.publicPath,pathHint:b.pathHint},s="TRANSFER_CAR"===b.type?"#717171":"FERRY"===b.type?"#866EDD":"SUBWAY"==b.type?Cc.subwayColor[b.subwayCode]||s:"TRAIN"==b.type?Cc.trainColor[b.subType]||s:"INTERCITY_BUS"==b.type?"#7094E2":"EXPRESS_BUS"==b.type?"#5962EB":"AIRPLANE"==b.type?"#59A4ED":"#304583";t.additionalStyles.push({strokeWeight:"10",strokeOpacity:"1",strokeColor:s});t.additionalStyles.push({strokeWeight:"10",strokeOpacity:"0.7",strokeColor:"#000000"});
t.additionalStyles.push({strokeWeight:"8",strokeOpacity:"1",strokeColor:s});t.additionalStyles.push({strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"});l=new daum.maps.Polyline(t);l.setMap(a)}b.isInterPoint?b.routeType!=E.DEPARTURE_ARRIVAL&&b.vehicleType!=E.TRANSFER_PUBLICTRAFFIC&&(o=c?D.getTransitMarker(d(b),b.targetPath[b.targetPath.length-1]):b.vehicleType==E.TRANSFER_CAR?D.getTransitMarker("TAXI",b.targetPath[0]||b.coords):b.vehicleType==E.TRANSFER_CUSTOM?D.getTransitMarker("CUSTOM",
b.targetPath[0]||b.coords):b.vehicleType==E.TRANSFER_WALK?D.getTransitMarker("WALK",b.targetPath[0]||b.coords):D.getTransitMarker(d(b),b.targetPath[0]||b.coords),o.setMap(a),o.onClick.add(function(){o.setActive();f.notify();switch(b.vehicleType){case E.EXPRESS_BUS:case E.INTERCITY_BUS:n.click("route","go_public_exbus_pointlayer");break;case E.TRAIN:n.click("route","go_public_train_pointlayer");break;case E.AIRPLANE:n.click("route","go_public_flight_pointlayer");break;case E.FERRY:n.click("route",
"go_public_ship_pointlayer");break;case E.TRANSFER_CAR:n.click("route","go_public_taxi_pointlayer")}})):b.action!=U.DEPARTURE&&b.action!=U.ARRIVAL&&(o=D.getTransitMarker(d(b),b.coords),o.setMap(a),o.onClick.add(function(){o.setActive();f.notify();n.click("route",b.bus?"go_public_bus_pointlayer":"go_public_subway_pointlayer")}));b.action==U.TRANSFER&&b.walkingPolyline&&(p=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:1,strokeWeight:10,strokeStyle:"shortdot",path:b.walkingPolyline}),p.setMap(a));
this.showMediumTooltip=function(){j&&j.setMap(a)};this.hideMediumTooltip=function(){j&&j.setMap(null)};this.show=function(){l&&l.setMap(a);j&&j.setMap(a);o&&o.setMap(a)};this.hide=function(){l&&l.setMap(null);j&&j.setMap(null);o&&o.setMap(null);p&&p.setMap(null)};this.getMarker=function(){return o};this.showTooltip=function(a){e(a)};this.setHighlight=function(a,b){r&&r.setHighlight(b);o&&(b?o.setHoverYes():o.setHoverNo())};this.setActive=function(a,b){o&&o.setActive(b)};this.setInterMarker=function(b){b?
o.setMap(a):o.setMap(null)}}function He(a,b){function c(a,c,d){var e=null;if(a.walkPath)return e=Ie(b,a),e.setWalkLine(a.walkPath),a.walk&&0!=a.walkGroup.points.length&&e.setWalkDetailLine(a.walkGroup.points),e.onClick.add(function(a){j.notify({index:c,sub:a})}),e.labelOver.add(function(a){h.notify({index:c,sub:a})}),e.labelOut.add(function(a){g.notify({index:c,sub:a})}),e.indexObj=c,d?o.push(e):r.push(e),e;e=new Cc(b,a);e.onExpand.add(function(){k.notify(c)});e.onOver.add(function(){h.notify({index:c,
sub:null})});e.onOut.add(function(){g.notify({index:c,sub:null})});e.onClose.add(function(){l.notify({index:c,sub:null})});e.indexObj=c;d?o.push(e):(a.isInterPoint?(a.routeType==E.INTERCITY&&(e.showTooltip(t?"up":"down"),t=!t),o.push(e)):a.action==U.GETON||a.action==U.TRANSFER?(e.showTooltip(t?"up":"down"),t=!t):a.lastGetOFf&&e.showTooltip("up"),r.push(e));return e}function d(a,c){var d=new Cc(b,a,!0);d.onExpand.add(function(){k.notify(c)});d.onOver.add(function(){h.notify({index:c,sub:null})});d.onOut.add(function(){g.notify({index:c,
sub:null})});d.onClose.add(function(){l.notify({index:c,sub:null})});d.indexObj=c;a.isLastIntercity&&(d.showTooltip(t?"up":"down"),t=!t);o.push(d)}function e(a,c){var d=null,e=null,d=(d=a.targetPath)&&0<d.length?d[d.length-1]:a.coords,e=c.targetPath;"TRANSFER"==c.action&&c.walkingPolyline&&(e=c.walkingPolyline);if((e=e?e[0]:c.coords)&&d&&(d.getX()!=e.getX()||d.getY()!=e.getY()))d=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:[d,e]}),d.setMap(b),q.push(d)}function f(){var c=
4>b.getLevel();a.forEach(function(a){a.childOverlays&&a.childOverlays.forEach(function(a,b){c?a.setInterMarker(!0):a.setInterMarker(0==b)})})}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var h=this.onOver=new m,g=this.onOut=new m,k=this.onExpand=new m,l=this.onClose=new m,j=this.onWalkMarkerClick=new m,r=[],p=[],o=[],s=0,t=!1,u=!1,q=[];a.forEach(function(g,h){if(g.isInterPoint){u||(u=!0,daum.maps.event.addListener(b,"zoom_changed",f));var j=a[h+1];if(g.publicSteps){var k=
!0;g.childOverlays=[];g.publicSteps.forEach(function(a,b){var d=c(a,{index:h,interRealIdx:s,stepIdx:b},true);g.childOverlays.push(d);if(k){r.push(d);k=false}s++;(d=g.publicSteps[b+1])&&((a.targetPath||a.action=="GETOFF")&&d.targetPath)&&e(a,d)});f(g)}else c(g,{index:h,interRealIdx:s,stepIdx:0}),g.routeType==E.INTERCITY&&j.routeType!=E.INTERCITY&&(s++,d(g,{index:h,interRealIdx:s,stepIdx:1})),s++;j&&(g.routeType!=E.DEPARTURE_ARRIVAL&&j.routeType!=E.DEPARTURE_ARRIVAL)&&e(g,j)}else c(g,h),(j=a[h+1])&&
((g.targetPath||"GETOFF"==g.action)&&j.targetPath)&&e(g,j)});this.setWalkDetailMarker=function(a,b){r[a].setWalkDetailLine(b)};this.clear=function(){r.forEach(function(a){a.hide()});r.length=0;o.forEach(function(a){a.hide()});o.length=0;for(p.forEach(function(a){a.hide()});q.length;)q.pop().setMap(null);u&&(u=!1,daum.maps.event.removeListener(b,"zoom_changed",f));t=!1};this.showTransitMediumTooltip=function(a){var b="",b="object"==typeof a?o[a.interRealIdx]:r[a];0!=r.length&&b.showMediumTooltip&&
b.showMediumTooltip()};this.hideTransitMediumTooltip=function(a){var b="",b="object"==typeof a?o[a.interRealIdx]:r[a];b.hideMediumTooltip&&b.hideMediumTooltip()};this.setBound=function(a){b.setBounds(a)};this.getInterNextIndex=function(a){return(a=o[a.interRealIdx+1])?a.indexObj:null};this.getInterPrevIndex=function(a){return(a=o[a.interRealIdx-1])?a.indexObj:null};this.getInterNowIndex=function(a){return o[r[a.index].indexObj.interRealIdx+a.childIdx].indexObj};this.setHighlightOverlay=function(a,
b){if(void 0!==a.index){var c="",c="object"==typeof a.index?o[a.index.interRealIdx]:r[a.index];c.setHighlight&&c.setHighlight(a,b)}};this.setActiveOverlay=function(a,b){var c="",c="object"==typeof a.index?o[a.index.interRealIdx]:r[a.index];c.setActive(a.sub,b)};this.setClickable=function(a){r.forEach(function(b){b instanceof Ie?b.setClickable(a):!1===a&&b instanceof Cc&&b.hideMediumTooltip()})}}function Ie(a,b){function c(){h&&(4>a.getLevel()?0!=j.length?(j.forEach(function(a){a.show()}),f=!0):f=
!1:(e&&e.setMap(a),j.forEach(function(a){a.hide()}),f=!1))}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var d=this.onClick=new m,e=null,f=!1,h=!1,g=b.walkingGuide,k=this.labelOver=new m,l=this.labelOut=new m,j=[],r=null;daum.maps.event.addListener(a,"zoom_changed",c);var p=D.getTransitMarkerImage("WALK"),o=D.getTransitHoverMarkerImage("WALK"),r=D.transitWalkMarker(b.walkPath[0]),s=!1;daum.maps.event.addListener(r,"click",function(){d.notify(null);n.click("route","go_public_walk_pointlayer")},
this);daum.maps.event.addListener(r,"mouseover",function(){s||k.notify(null)},this);daum.maps.event.addListener(r,"mouseout",function(){s||l.notify(null)},this);r.setMap(a);this.setWalkLine=function(b){b={zIndex:-1,path:b};g?(b.strokeWeight=10,b.strokeOpacity=1,b.strokeColor="#80858E",b.additionalStyles=[{strokeWeight:"10",strokeOpacity:"0.7",strokeColor:"#000000"},{strokeWeight:"8",strokeOpacity:"1",strokeColor:"#80858E"},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}]):
(b.strokeColor="#3396ff",b.strokeOpacity=0.4,b.strokeWeight=10,b.strokeStyle="solid");e=new daum.maps.Polyline(b);e.setMap(a);f=!1;h=!0};this.setWalkDetailLine=function(b){0!=j.length||0==b.length||(b.forEach(function(b,c){var e=yd(a,b);e.onClick.add(function(){d.notify(c)});e.onMouseover.add(function(){k.notify(c)},this);e.onMouseout.add(function(){l.notify(c)},this);j.push(e)}),h=f=!0)};this.show=function(){r.setMap(a);f?(j.forEach(function(a){a.show()}),e.setMap(null)):(e.setMap(a),j.forEach(function(a){a.hide()}));
h=!0};this.hide=function(){r&&(r.setMap(null),r=null);e&&e.setMap(null);j.forEach(function(a){a.hide()});j.length=0;h=!1;daum.maps.event.removeListener(a,"zoom_changed",c)};this.setInterMarker=function(b){r&&(b?r.setMap(a):r.setMap(null))};this.setHighlight=function(a,b){null==a.sub?b?r.setImage(o):r.setImage(p):j[a.sub].setHighlight(b)};this.setActive=function(a,b){null==a&&((s=b)?r.setImage(o):r.setImage(p));null!=a&&0!=j.length&&j[a].setActive(b)};this.setClickable=function(a){a?r.setClickable(!0):
r.setClickable(!1)}}function kd(a,b){function c(){var b=4>a.getLevel();u.setMap(b?null:a);b||t.setStyle("");e(!1);j.forEach(function(a){a.setMarkerVisible(b)});l=b;w=!1;-1<q&&(b?f(!0,q):d(!0))}function d(a){t.setStyle(a?"walkMarkerOn":"walkMarker");j.forEach(function(b){b.setActive(a)});w=a}function e(a){w||(t.setStyle(a?"walkMarkerOn":"walkMarker"),u.setZIndex(a?3:2),j.forEach(function(b){b.setHighlight(a)}))}function f(a,b){q=a&&null!=b?b:-1;j.forEach(function(c,d){d==b?c.setActive(a):c.setActive(!1)})}
if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var h=this.onClick=new m,g=this.onMouseover=new m,k=this.onMouseout=new m,l=!1,j=b.points.map(function(b,c){var d=yd(a,b);d.onClick.add(function(){q=c;h.notify(c)});d.onMouseover.add(function(){g.notify(c)});d.onMouseout.add(function(){k.notify(c)});return d}),r=b.points[0].seq,p=b.points[b.points.length-1].seq,o=b.points[0].coords,s=jQuery("<div class=WalkPointGroupMarker />"),t=rc(s,"walkMarker",r,p);s.css("left",-(8+7*(""+
r).length));s.click(function(){d(!1);e(!1);h.notify(null)});s.mouseenter(function(){g.notify(null);e(!0)});s.mouseleave(function(){k.notify(null);e(!1)});var u=D.walkpointGroupMarker(o,s.get(0)),q=-1;daum.maps.event.addListener(a,"zoom_changed",c);c();var w=!1;this.setActive=d;this.setHighlight=e;this.setItemActive=f;this.setItemHighlight=function(a,b){l?j.forEach(function(c,d){d==b?c.setHighlight(a):c.setHighlight(!1)}):e(a)};this.show=function(){u.setMap(a);j.forEach(function(a){a.show()});daum.maps.event.addListener(a,
"zoom_changed",c);c()};this.hide=function(){u.setMap(null);j.forEach(function(a){a.hide()});daum.maps.event.removeListener(a,"zoom_changed",c)};this.destroy=function(){daum.maps.event.removeListener(a,"zoom_changed",c);j.forEach(function(a){a.destroy()});u.setMap(null);j.length=0;s.remove();t.dispose()}}function yd(a,b){function c(){g.setMap(null)}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var d=this.onClick=new m,e=this.onMouseover=new m,f=this.onMouseout=new m,h=!1,
g=new $b(b.seq,b.coords,2);g.onClick.add(function(){d.notify()});g.onOver.add(function(){e.notify()});g.onOut.add(function(){f.notify()});g.setMap(a);this.setClickable=function(a){a?g.setClickable(!0):g.setClickable(!1)};this.setActive=function(a){h=a?!0:!1;g.setActive(a)};this.setHighlight=function(a){h||g.setHover(a)};this.show=function(){g.setMap(a)};this.hide=c;this.setMarkerVisible=function(b){g.setMap(b?a:null)};this.destroy=c;this.setVisibleNumber=function(a){g.setVisibleNumber(a)}}function wf(a){function b(){d.forEach(function(a){a&&
a.destroy()});d.length=0;l&&l.setMap(null);j&&j.setMap(null);r&&r.setMap(null);r=j=l=null}function c(){d.forEach(function(a){a&&a.setActive&&a.setActive(!1);a instanceof kd&&a.setItemActive(!1)})}if(!(this instanceof arguments.callee))return new arguments.callee(a);var d=[],e=this.onClick=new m,f=this.onClickWithZoomIn=new m,h=this.onMouseover=new m,g=this.onMouseout=new m,k={zIndex:-2,strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10},l=null,j=null,r=null,p=0;daum.maps.event.addListener(a,
"zoom_changed",function(){var b=a.getLevel();if(0<d.length){if(7>=p&&7>=b){p=b;return}$b.showMarkerByZoom({level:b,shapeChangeLevel:11,list:d,map:a,pickCountFunc:function(a,b){return 7>=a?b:8<=a&&9>=a?Math.max(Math.min(Math.floor(80*b/100),80),2):10<=a&&11>=a?Math.max(Math.min(Math.floor(40*b/100),40),2):12<=a&&13>=a?Math.max(Math.min(Math.floor(15*b/100),15),2):0}})}p=b}.bind(this));this.setClickable=function(a){d.forEach(function(b){b instanceof yd&&b.setClickable(a)})};this.setActive=function(b){b?
(d.forEach(function(a){a&&a.show()}),l&&l.setMap(a),j&&j.setMap(a),r&&r.setMap(a)):(d.forEach(function(a){a&&a.hide()}),l&&l.setMap(null),j&&j.setMap(null),r&&r.setMap(null))};this.setData=function(p){b();if(p){p.points.forEach(function(b,j){if("start"==b.seq||"goal"==b.seq||"through"==b.seq)d.push(null);else{var k;k=b instanceof Tc?kd(a,b):yd(a,b);k.onClick.add(function(a){c();null!=a?(k.setItemActive(!0,a),e.notify({index:j,sub:a})):k instanceof kd?(k.setItemActive(!0,0),f.notify({index:j})):(k.setActive(!0),
e.notify({index:j}));n.click("route","go_walk_mappoint")});k.onMouseover.add(function(a){h.notify({index:j,sub:a})});k.onMouseout.add(function(a){g.notify({index:j,sub:a})});d.push(k)}});var s=[];p.sectionPoints.forEach(function(a){s=s.concat(a)});r=new daum.maps.Polyline({strokeWeight:12,strokeColor:"#ffffff",strokeOpacity:1,additionalStyles:[{strokeWeight:"8",strokeOpacity:"1",strokeColor:"#3396ff"},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:s});r.setMap(a);
var t=Application.flagSearchController.getWaypoints(),p=t[0].coords,t=t[t.length-1].coords,u=s[0],q=s[s.length-1];l=new daum.maps.Polyline(k);l.setPath([p,u]);j=new daum.maps.Polyline(k);j.setPath([q,t]);l.setMap(a);j.setMap(a)}};this.setItemActive=function(a,b){c();d[a.index]&&(d[a.index]instanceof kd?d[a.index].setItemActive(b,a.sub):d[a.index]&&d[a.index].setActive&&d[a.index].setActive(b))};this.setHighlight=function(a,b){var c=d[a.index];c&&(c instanceof kd?null==a.sub?c.setHighlight(b):c.setItemHighlight(b,
a.sub):c&&c.setHighlight&&c.setHighlight(b))};this.clear=b}function Kb(a){if(a){var b=a.text("type");this.coords=new daum.maps.Coords(a.number("x"),a.number("y"));this.icon=Kb.ICON_MAP[b]||Kb.ICON_MAP["0"];this.title=a.text("linkName")||"";this.titleTypeTxt=Kb.SUBTITLE_MAP[b]||"\uc548\ub0b4";this.desc=a.text("description");this.startTime=a.text("startTime");this.endTime=a.text("endTime");this.id=a.text("id");this.sourceName=a.text("sourceName")||""}}function Ta(a){var b;if(a){this.docid=a.text("docid")||
a.text("new.docid")||a.text("old.docid");this.coords=new daum.maps.Coords(a.number("x"),a.number("y"));this.name=(this.name=String.stripTags(a.text("name")||a.text("addr")||a.text("new.name")||a.text("old.name")))||"\uc8fc\uc18c\ub97c \uc81c\uacf5\ud558\uc9c0 \uc54a\ub294 \uc9c0\uc5ed";this.isAlive=a.text("is_alive");this.lineData=a.text("line_data");this.dataType=a.text("data_type");this.bcode=a.text("d_bcode")||a.text("bcode");this.hcode=a.text("d_hcode");this.bhtype=a.text("d_bhtype");if(("BH"==
this.bhtype||"HB"==this.bhtype)&&a.text("alt_bhtype"))this.bhtype=a.text("alt_bhtype");this.d3HName="Y"==a.text("d3_hname_change_bname")?a.text("d3_hname"):"";this.relatedPrefixAddress=a.text("related_prefix_address");this.code=this.regionId=a.text("code")||a.text("regionId");this.id="id_"+this.coords.getX()+this.coords.getY()+this.regionId;this.maybeAreaSearch="1"===this.dataType||"2"===this.dataType||"5"===this.dataType;this.subList=[];if(b=a.text("related_address"))this.subList=Application.relatedAddressController.newList(b,
this),this.otherName=this.subList[0]?this.subList[0].prefix+" "+this.subList[0].address:"";this.infowindowSubAddress=this.subList[0];b=a.text("related_address_diff_zipcode");this.relatedZipcode=[];b&&b.split(";").forEach(function(a){this.relatedZipcode.push(a.split("^")[0].replace(/(...)(...)/,"$1-$2"))},this);this.zonenum=a.text("zone_no")||a.text("new.zone_no");b=a.text("related_address_diff_zone_no");this.relatedZonenum=[];b&&b.split(";").forEach(function(a){this.relatedZonenum.push(a.split("^")[0])},
this);if(1==this.dataType||2==this.dataType)if((b=a.text("related_address_building_name"))&&b.trim()){if(this.subBuildingList=b.split(";"),this.subList.length!=this.subBuildingList.length&&(this.subBuildingList=[a.text("building_name")].concat(this.subBuildingList)),this.infowindowSubBuilding=this.subBuildingList[0],1==this.subList.length&&1==this.subBuildingList.length)this.buildingName=this.subBuildingList[0]||a.text("building_name")}else 0==this.subList.length&&(this.buildingName=a.text("building_name")||
a.text("new.building")||"");else this.buildingName=a.text("building_name")||""}}function Va(a,b){var c,d;this.path=[];this.bounds=new daum.maps.CoordsBounds;this.id="";this.markerCoords;b===Va.ADDRESS_TYPE.JIBUN?c=a.object("old")||a.object("new"):b===Va.ADDRESS_TYPE.ROAD&&(c=a.object("new")||a.object("old"));if(b){if(this.name=String.stripTags(c.text("name")),d=c.object("shape")){d=d.find("coordinateList");for(c=d.length;c--;){d[c]=d[c].find("value");for(var e=d[c].length;e--;)d[c][e]=new daum.maps.Coords(d[c][e].number("x"),
d[c][e].number("y")),this.bounds.extend(d[c][e]);this.path.push(d[c])}}}else{a=a.find("value");for(e=a.length;e--;){d=a[e].find("interior");for(var f=d.length;f--;){d[f]=d[f].find("value");for(var h=d[f].length;h--;)c=d[f][h],d[f][h]=new daum.maps.Coords(c.number("x"),c.number("y"));this.path.push(d[f])}d=a[e].find("exterior");for(f=d.length;f--;)c=d[f],d[f]=new daum.maps.Coords(c.number("x"),c.number("y")),this.bounds.extend(d[f]);this.path.push(d)}}}function lb(){if(!(this instanceof arguments.callee))return new arguments.callee;
this.seq=0;this.coords=null;this.poi=this.subway="";this.confirmid=0;this.cross="";this.getSummary=function(){return this.subway||this.cross||this.poi||""};this.getPlaceId=function(){return!this.subway?this.confirmid:""};this.rotationCode=this.action=this.desc="";this.roadview=null;this.path=[]}function Qc(){if(!(this instanceof arguments.callee))return new arguments.callee;this.end=this.start=this.desc="";this.distance=this.time=0;this.points=[];this.bikeGuide=!0}function Dc(){if(!(this instanceof
arguments.callee))return new arguments.callee;this.points=[];this.graph=null;this.distance=this.time=0;this.bounds=null;this.error=this.resultErrorCode="";this.option=this.mode=this.raw=null;this.routeMode="";this.stair=this.underground=this.bridge=this.calories=0;this.hasRoadviewInfo=!1}function Cb(){if(!(this instanceof arguments.callee))return new arguments.callee;this.bikeRoutes=[];this.error=this.resultErrorCode="";this.raw=null}function ld(){this.stateArray=[];this.stateOnly=!1;this.direction2=
this.direction=null}function zd(a){this.firstLastTime=[];this.interval=[];this.turningPointId=this.turningPoint=this.startPointId=this.startPoint="";this.variable=!1;if(a&&(this.firstLastTime=a.find("firstLastTimes").map(function(a){return{startPointTime:a.text("startPointFirstTime")+"~"+a.text("startPointLastTime"),turningPointTime:a.text("turningPointFirstTime")+"~"+a.text("turningPointLastTime"),day:zd.dayTypes[a.text("dayType")]}}),this.interval=a.find("intervals").map(function(a){var c="";if(a.text("peakInterval")&&
a.text("nonPeakInterval"))c=a.text("peakInterval")==a.text("nonPeakInterval")?a.text("nonPeakInterval")+"\ubd84":a.text("peakInterval")+"~"+a.text("nonPeakInterval")+"\ubd84";else if(a.text("peakInterval")||a.text("nonPeakInterval"))c=(a.text("peakInterval")||a.text("nonPeakInterval"))+"\ubd84";return{peek:c,day:zd.dayTypes[a.text("dayType")]}}),this.startPoint=a.text("startPoint"),this.turningPoint=a.text("turningPoint"),this.startPointId=a.text("startPointBusLine"),this.turningPointId=a.text("turningPointBusLine"),
0<this.firstLastTime.length||0<this.interval.length))this.variable=!0}function ba(a,b){this.busStops=[];this.vehicles=null;if(a){this.rawData=a;this.id=a.text("id")||a.text("DOCID");var c=a.text("name")||a.text("BUS_NAME"),c=c.trim(),c=/^(.+?)(\(.+\))?$/.exec(c);this.name=c[0]||"";this.firstName=c[1]||"";this.secondName=c[2]||"";this.type=ba.TYPE[a.text("typeCode")||a.text("type")||a.text("BUS_TYPE_ID")];console.assert(this.type);this.region=a.text("hname")||a.text("hcodeName")||a.text("RGN_D1_NAME");
this.subRegion=a.text("RGN_D2_NAME")||"";this.scode=a.text("hcode")||a.text("BUS_HCODE");this.hcode=(a.text("hcode")||a.text("BUS_HCODE")).substring(0,2);this.start=a.text("startPoint")||a.text("START_POINT");this.end=a.text("endPoint")||a.text("END_POINT");this.startTime=a.text("first")||a.text("BUS_FIRST_TIME")||"-";"null"==this.startTime&&(this.startTime="-");this.endTime=a.text("last")||a.text("BUS_LAST_TIME")||"-";"null"==this.endTime&&(this.endTime="-");this.interval=a.text("interval")||a.text("BUS_INTERVAL_TIME")||
"-";"null"==this.interval&&(this.interval="-");this.cpCodeServiceName=a.text("cpCodeServiceName");this.realTime=a.text("realTime")||a.text("isRealTime");this.realtimeState=a.text("realtimeState");a.text("v_landmark")&&(this.landmarks=a.text("v_landmark").split(";").map(function(a){a=a.split(",");return{name:a[0],coords:new daum.maps.Coords(a[1],a[2])}}));this.realtimeMessage=a.text("realtimeMessage");a.text("path")&&this.addPath(a.text("path"));a.find("busStops")&&this.addBusStop(a.find("busStops"));
a.has("busLocations")&&(this.vehicles=this.loadVehicles_(a.find("busLocations")));a.has("busDetailInfo")&&(this.busDetailInfo=this.loadBusDetailInfo_(a.object("busDetailInfo")),this.busDetailInfo.telDisable=a.text("telDisable"));this.direction=a.text("arrival.direction");this.arrival=ld.createFromData(a);this.order=a.number("arrival.order");this.codenames=b;this.busStopId=a.text("arrival.busStopId");this.idx=a.text("idx");this.parameterState=a.bool("parameterState");this.wrongIdx=a.text("wrongIdx")}}
function Ec(){this.status="NORMAL";this.number="";this.position=0;this.last=this.first=!1;this.type=null}function R(a){a&&this.load_(a)}function md(a,b){return 0===b?a:a+(b+1)}function Je(){if(!(this instanceof arguments.callee))return new arguments.callee;this.id="";this.coords=null}function Ka(){this.outlines=[];this.restAreas=this.gasStations=this.cctvs=this.accidents=null}function W(){this.carRoutes=[]}function Pa(a){a&&(this.id=a.text("key"),this.flag=a.number("flag"),this.coords=new daum.maps.Coords(a.number("x"),
a.number("y")),this.roadname=a.text("roadname"),this.name=a.text("name"),this.isLive=a.bool("liveflag")||a.bool("liveFlag"),this.sourceName=a.text("sourceName"),this.source=a.text("source"),this.sourceUrl=a.text("sourceUrl"))}function K(){this.seq=0;this.expressType=null;this.info=this.name="";this.distance=0;this.rotation=K.STRAIGHT;this.traffic=null;this.coords="";this.points=[];this.roadview=null;this.confirmid=0;this.accList=[]}function Uc(){this.item=[]}function Rd(){this.name="";this.confirmid=
null}function v(a){if(a){this.type=a.text("favoriteType").toLowerCase()||a.text("type").toLowerCase();this.folderId=a.number("folderId");this.icon=a.text("icon");this.color=-1!==v.ALLOW_COLOR_TYPE.indexOf(a.text("color"))?a.text("color"):v.DEFAULT_COLOR;this.key=a.text("key");this.seq=a.number("seq");this.display1=a.text("display1");this.display2=a.text("display2");this.memo=a.text("memo");this.isHome=a.bool("home");this.createdAt=(new Date(a.text("createdAt"))).getTime()||"";this.x=a.number("x");
this.y=a.number("y");this.pan=a.text("pan");this.tilt=a.text("tilt");this.zoom=a.text("zoom");this.spot_id=a.text("spotId")||a.text("spot_id");this.its_id=a.text("itsId")||a.text("its_id");this.busline_type=a.text("busLineType")||a.text("busline_type");this.route_form=a.text("routeForm")||a.text("route_form");this.buslines=a.text("busLines")||a.text("buslines");this.status=a.text("status")||"S";if(this.route_form){this.route_form=JSON.parse(this.route_form);var b="";this.route_form.forEach(function(a){b&&
(b+=" \u2192 ");b+=a.name});this.originDisplay=b;"route_subway"==this.type&&2<this.route_form.length&&(this.route_form=[this.route_form[0],this.route_form[this.route_form.length-1]])}"busstop"===this.type&&(this.isPartialUpdated=this.isEditedBusline=!1)}}function rb(){this.activeIndex=null;this.waypoints=[]}function xd(){this.data_={};this.listeners_=[]}function Nb(a){this.onLoad=new m;a&&(this.providerId=a.text("brand"),this.provider=a.text("brandName"),this.gasPrice=a.number("oil1"),this.premiumGasPrice=
a.number("oil2"),this.dieselPrice=a.number("oil3"),this.lpgPrice=a.number("oil4"),this.timestampText=a.text("oilTime"))}function Sd(a){a&&(this.region=a.text("region"),this.keyword=a.text("keyword"),this.cidx=a.text("cidx")||"0",this.type=a.text("type"),this.bunji=a.text("bunji"))}function Fc(a,b,c){ga(this,ca);this.level=a;this.index=b;(this.isMapPlus=2==a)?this.mapPlusData=c.raw():this.loadAt_(c);1==a?(this.markerType="ad",this.ad=!0):(this.markerType="normal",this.ad=!1)}function Td(a,b){ga(this,
ca);this.index=a;this.loadAt_(b)}function z(){this.themeCategory_=this.themeId_=0;this.mode_=null;this.keyword_="";this.page_=1;this.sort_=0;this.bounds_=null;this.willSearchBusStop_=!1;this.exactSearch_=!0;this.whatsHere_=!1;this.categoryDepth_=this.category_=0;this.correction_=!0;this.defaultPage_=1;this.cidx_=null;this.onChange=new m;this.onIssue=new m;this.loaded=!1;this.page=1;this.guideMessage=[];this.premiumKeyword=this.message="";this.snSelected=!1;this.themeId=0;this.themeCategories=[];this.categories=
[];this.categoryPath=[];this.categoryChildren=[];this.locationMessage="";this.places=[];this.placeAdCount=this.placeCount=0;this.reviews=[];this.reviewCount=0;this.originalKeyword=void 0;this.spellCandidate=[];this.homonyms=[];this.addresses=[];this.addressCount=0;this.highlightedFirst=!1;this.buses=[];this.busesCount=0;this.busStops=[];this.busStopCount=0;this.busRegions=[];this.busTypes=[];this.busTypeId_=this.busRegionId_=null;this.landmarks=[];this.sort=0;this.coordinates=null;this.coordinatesText=
"";this.inferredKeyword=void 0;this.gasType=this.sortType=this.eucKrKeyword="";this.pageCount=0;this.tileSearch=!1;this.params_=null;this.isParams_=!1;this.trans_map_type=0;this.nextGuide=this.currentGuide=this.exposure_level=this.target=null;this.qaType_="";this.repeated_=!1;this.busRecommend="";this.busRecommendTop=!1;this.relkey="";this.isBuilding=this.isHighway=this.addressRetry=!1;this.dssSrcId=this.analysis="";this.needCorrectSearch=this.hasMapPlus=!1;this.saveIncorrectQuery=""}function Wb(a){if(a){var b=
a.object("codes");b&&(this.hcode=Wb.code_(b.object("hcode")),this.bcode=Wb.code_(b.object("bcode")));if(a=a.object("weatherInfos"))if(a=a.object("forecast"))this.weather={icon:a.text("iconId")||"1",temp:a.text("temperature"),desc:a.text("desc")}}}function Gc(){}function ca(){}function tc(){this.ad=!1;this.benefit=this.card=""}function Vc(){}function Ad(a){this.biztypename=a.text("place.placetype.nice.biztypename")||"-";this.companytype=a.text("place.placetype.nice.companytype")||"-";this.chief=a.text("place.placetype.nice.chief")||
"-";this.dataList=[];this.setDataElement("\uc5c5\uc885",this.biztypename);this.setDataElement("\uae30\uc5c5\uacf5\uac1c",this.companytype);this.setDataElement("\ub300\ud45c\uc790",this.chief)}function Ud(a){this.titleName=(this.goodstype=a.text("place.placetype.interparkTour.goodstypename"))?this.goodstype+"\uc815\ubcf4":"\ud638\ud154\uc815\ubcf4";this.totalroomcount=a.text("place.placetype.interparkTour.totalroomcount");this.checkintime=a.text("place.placetype.interparkTour.checkintime");this.checkouttime=
a.text("place.placetype.interparkTour.checkouttime");this.amendities=a.text("place.placetype.interparkTour.amendities")||"-";this.totalroomcountStr=this.totalroomcount?this.totalroomcount+" \uac1d\uc2e4":"-";this.timeinfoStr="";this.checkintime&&(this.timeinfoStr="\uccb4\ud06c\uc778 "+this.checkintime);this.checkouttime&&(this.timeinfoStr&&(this.timeinfoStr+=" / "),this.timeinfoStr+="\uccb4\ud06c\uc544\uc6c3 "+this.checkouttime);this.timeinfoStr||(this.timeinfoStr="-");this.dataList=[];this.setDataElement("\ucd1d\uac1d\uc2e4\uc218",
this.totalroomcountStr);this.setDataElement("\uc774\uc6a9\uc2dc\uac04",this.timeinfoStr);"\ud39c\uc158\uc815\ubcf4"==this.titleName&&this.setDataElement("\ubd80\ub300\uc2dc\uc124",this.amendities)}function nd(a){a&&(this.nickName=a.text("nickName"),this.thumbnailImageFile=a.text("thumbnailImageFile"))}function xa(){}function nb(a){a&&this.loadText_(a)}function Rb(){this.thumbnailUrl=this.placeid=this.id=this.category=this.name="";this.coords=null;this.level=0}function bb(a){a&&(this.id=a.text("id")||
a.text("key"),this.coords=new daum.maps.Coords(a.number("x"),a.number("y")),this.name=a.text("name")||a.text("display1"));this.transfers=[];this.facilities=[];this.buses=[]}function Wc(a){a&&(this.id=a.number("id"),this.name=a.text("name")||a.text("g_name"),this.count=a.number("count"))}function Vd(){}function E(){this.action=0;this.desc=this.name="";this.vehicleType=this.coords=null}function ac(a){if(a){this.raw_=a;this.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(a.number("boundary.minX"),
a.number("boundary.minY")),new daum.maps.Coords(a.number("boundary.maxX"),a.number("boundary.maxY")));this.type=a.text("vehicle");this.type2=a.text("vehicles");this.subType=this.getSubTypeCode(this.type2);this.fare=a.text("fare.text");this.transfers=a.number("transfers");this.transferOneType=!1;if(0<this.transfers&&0>this.type.indexOf(",")&&("TRAIN"!=this.type||"COMPLEX"!=this.type2))this.transferOneType=!0;this.recommend=a.bool("recommend");this.points=[];this.summaries=[];this.points.push(E.createFromData({pointType:"START",
routeType:E.DEPARTURE_ARRIVAL,data:a.object("start")}));var b=null,c=null;a.find("sectionRoutes").map(function(a){var e=E.INTERCITY;0<=a.text("vehicle.type").indexOf("TRANSFER_")&&(e=E.PUBLICTRAFFIC);var f=E.createFromData({pointType:"NODE",routeType:e,data:a});this.points.push(f);e==E.INTERCITY&&(c=f,e=this.getSummaryNode(a.object("departure"),a.object("vehicle")),e.index=this.summaries.length,e.isTransfer=0<this.transfers&&!this.transferOneType?!0:!1,e.isTransfer&&(f=a.object("vehicle").text("type"),
"TRAIN"==f?e.subType=this.getSubTypeCode(a.object("vehicle").text("subType")):0<=f.indexOf("BUS")&&(e.subType=f.toLowerCase())),this.summaries.push(e),b=this.getSummaryNode(a.object("arrival"),a.object("vehicle")),b.index=this.summaries.length,b.action=U.GETOFF_TRANSFER)},this);c.isLastIntercity=!0;b.action=U.GETOFF;b.inputComplete||this.summaries.push(b);this.points.push(E.createFromData({pointType:"END",routeType:E.DEPARTURE_ARRIVAL,data:a.object("end")}));this.time=a.number("time.value");this.timeText=
a.text("time.text");this.totalTime=a.number("totalTime.value");this.totalTimeText=a.text("totalTime.text");this.totalPaths=[]}}function U(){this.action=0;this.desc=this.name="";this.roadview=this.vehicleType=this.coords=null}function jc(a){a&&(this.raw_=a,this.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(a.number("boundary.minX"),a.number("boundary.minY")),new daum.maps.Coords(a.number("boundary.maxX"),a.number("boundary.maxY"))),this.type=a.text("type"),this.distance=+a.text("distance.value"),
this.fare=a.text("fare.text"),this.summaries=[],a.find("summaries").map(function(b,c){var d=this.getSummaryNode(b.object("startLocation"));d.vehicles=b.find("vehicles").map(function(a){var b="BUS"==a.text("type")?ba.TYPE[a.text("subType")]:U.subwayCode[a.text("id")][0],b={vehicleType:a.text("type").toLowerCase(),subType:a.text("subType"),direction:a.text("direction"),name:a.text("name"),parentName:a.text("parentName"),lineType:b,id:a.text("id"),visible:"true"==a.text("visible")};a.text("direction")&&
(b.direction=a.text("direction"));return b});d.index=this.summaries.length;this.summaries.push(d);a.find("summaries").length-1==c&&(d=this.getSummaryNode(b.object("endLocation")),d.index=this.summaries.length,this.summaries.push(d))},this),this.transType=a.text("type"),this.time=a.number("time.value"),this.walkingTime=a.number("walkingTime.value"),this.transfers=a.number("transfers"),this.points=a.find("steps").map(U.createFromData),this.points.forEach(function(a,c){a.type==U.OTHER&&(this.points[c-
1].nextOther=!0)},this),this.steps=a.find("steps"),this.recommended="true"==a.text("recommended")?!0:!1,this.totalPaths=[],this.isLastGetOffItem())}function xb(a){a&&(this.address=a.address,this.coords=a.coords,this.isValidBoundary=a.isValidBoundary)}function gc(){if(!(this instanceof arguments.callee))return new arguments.callee;this.seq=0;this.coords=null;this.poi=this.subway="";this.confirmid=0;this.cross="";this.getSummary=function(){return this.subway||this.cross||this.poi||""};this.getPlaceId=
function(){return!this.subway?this.confirmid:""};this.rotationCode=this.action=this.desc="";this.roadview=null;this.path=[]}function Tc(){if(!(this instanceof arguments.callee))return new arguments.callee;this.end=this.start=this.desc="";this.distance=this.time=0;this.points=[];this.walkGuide=!0}function Wa(){if(!(this instanceof arguments.callee))return new arguments.callee;this.points=[];this.distance=this.time=0;this.bounds=null;this.error=this.resultErrorCode="";this.option=this.mode=this.raw=
null;this.routeMode="";this.stair=this.underground=this.bridge=this.calories=0;this.hasRoadviewInfo=!1}function Hb(){if(!(this instanceof arguments.callee))return new arguments.callee;this.walkRoutes=[];this.error=this.resultErrorCode="";this.raw=null}function Lb(a,b,c,d,e){console.assert(a instanceof daum.maps.Coords);console.assert(void 0===b||"string"==typeof b);this.coords=a;this.name=b;this.id=c?c+"":"";this.index=d;!e&&c&&(/^(BS|BBS)/.test(c)?(e="BUSSTOP",this.id=c.replace(/^BBS/,"BS")):/^(M|SES|PSS|DGS|KJS|DJS)/.test(c)?
(e="SUBWAYSTATION",this.id=c.replace(/^M/,"")):/^(A|R|J|L|N)/.test(c)?(e="ADDRESS",this.id=c.replace(/^A/,"")):(e="PLACE",this.id=c.replace(/^P/,"")));this.pointType=e?e.toUpperCase():"NORMAL"}function od(a){var b=a.number("x"),c=a.number("y"),d=String.stripTags(a.text("new.name")),e=String.stripTags(a.text("old.name"));this.name=d||e;d?(this.dataType="5",this.docid=a.text("new.docid")):(this.dataType="1",this.docid=a.text("old.docid"));this.coords=new daum.maps.Coords(b,c);this.regionId=this.code=
a.text("regionid");this.id="id_"+b+c+this.regionId}function wc(a,b,c){ga(this,Ha);c=this.panel_=H("AddressFlagItemView",{name:b.name,nameHtml:String.format("%h",b.name).replace(c,"<strong>"+c+"</strong>")});this.active_=!1;this.seq=0;this.addressModel=b;this.dssAddressObj=null;c.on("click",function(a){a.currentTarget==a.target&&this.clickHandler_()}.bind(this));c.on("click",".name",this.clickHandler_.bind(this));var d=this.flagInfoLayer_=new cb(cb[a]);this.flagInfoLayer_.getPane().addClass("FlagItemInfoLayer-xsmall");
d.onClick.add(this.clickHandler_,this);c.append(d.getPane());d.setVisible(!1);c.hover(function(a){!this.active_&&d.setVisible("mouseenter"==a.type)}.bind(this));c.find(".flag").addClass(a);this.name_=c.find(".name")}function ne(a){function b(a){var b={cpg:l.cpg+","+(k+1),tab:l.tab,in_map:l.in_map,sorttype:l.sorttype,mkey:l.mkey};b.analysis=l.analysis;r.docid&&(b.docid=r.docid);l.srcid&&(b.srcid=l.srcid);void 0!=l.cidx&&(b.cidx=l.cidx);a?x.logSearchOutWithArgs(a,b):x.logSearchOutWithArgs("address_name",
b)}if(!(this instanceof ne))return new arguments.callee;var c=this.onAction=new m,d=this.onFlagClick=new m,e=this.onFavorite=new m,f=this.onOver=new m,h=this.onOut=new m,g=!1,k=0,l=null,j=null,r=null,p=H("AddressItemView"),o=p.$("btnsWrap"),s=p.$("routeBtn"),t=p.$("fav"),u=new cb(cb.SMALL);o.append(u.getPane());u.onClick.add(function(a){d.notify(a);b("address_"+(a==N.ORIGIN_WHICH_?"start":"end"))});u.setVisible(!1);s.on("click",function(a){a.stopPropagation();n.click("mapsearch","search_route");u.setVisible(!0)});
p.hover(function(){g||(jQuery(this).addClass("AddressItem-ACTIVE"),f.notify())},function(){u.setVisible(!1);g||(jQuery(this).removeClass("AddressItem-ACTIVE"),h.notify())});var q=function(){Application.roadviewController.getActive()&&Application.roadviewController.close();c.notify(this);b()}.bind(this),w=p.$("name");p.click(function(a){u.setVisible(!1);jQuery(a.target).hasClass("clickArea")&&q()});w.click(q);t.click(function(){n.click("favorite",["address",j&&j.isAddressTab?"search_address_tab":"search_all"]);
e.notify()});var y=p.$("wrapZip");this.setSeq=function(a){k=a};this.getPane=function(){return p};this.setActive=function(a){g=!!a;p.toggleClass("AddressItem-ACTIVE",g)};this.setData=function(c,d){var e=c.name;r=c;a.createFavorite(t,v.createFromAddress(c));var f=e+(c.d3HName?" | (\ud589) "+c.d3HName:"");w.attr("title",f);p.$("screenOutName").text(f);c.subList&&c.subList.length&&(p.addClass("AddressItem-withSubList"),Application.relatedAddressController.renderItem(p,c).onItemClick.add(function(){b()}));
d&&(f=e.toLowerCase().indexOf(d.toLowerCase()),0<=f&&(f=[f,f+d.length,e.length],f.sort(function(a,b){return a-b}),e='<span class="cont">'+e.substring(0,f[0])+"<strong>"+e.substring(f[0],f[1])+"</strong>"+e.substring(f[1],f[2])+"</span>"));var g=f="";c.zonenum&&(g=c.zonenum);g&&(f='<span class="zip">(\uc6b0) '+g+"</span>");c.buildingName&&(f=f+(f?'<span class="bar">|</span>':"")+('<span class="building">'+c.buildingName+"</span>"));f&&(y.html(f),y.show());w.html(e)};this.setDssAddressObj=function(a){l=
a};this.setTiaraObj=function(a){j=a};this.sendDssLog=function(a){b(a)}}function xf(){if(!(this instanceof arguments.callee))return new arguments.callee;var a=this.onClick=new m,b=new i(H("BikeFunctionToolBarView"));this.favorite_=b.getElement().$("favorite");this.favorite_.click(function(){a.notify({id:"favorite",fav:this.fav_})}.bind(this));b.getElement().$("print").click(function(){a.notify({id:"print"})});b.getElement().$("alook").click(function(){a.notify({id:"alook"})});this.getPane=function(){return b};
this.updateFav=function(a){a&&(this.fav_=a);if(this.fav_){if(a=Application.favoriteController.findFavorite(this.fav_)){var b=10>a.count?a.count:"10";this.favorite_.find(".num").attr("class","num num"+b).text(a.count)}this.favorite_.toggleClass("favorite-active",!!a)}}}function yf(a,b){function c(a){var b=s.$("bikeSeqIcon"),c=30*Math.floor((a-1)/10);0>c&&(c=0);b.css("backgroundPosition",-(30*((a-1)%10))+"px "+-c+"px")}function d(a){s.toggleClass("BikeGroupPointItemView-ACTIVE",!!a)}var e=this.onClick=
new m,f=this.onMouseover=new m,h=this.onMouseout=new m,g=this.onRoadview=new m,k=b.seq||0,l=b.desc||"\uc81c\ubaa9\uc5c6\uc74c",j=b.action||null,r=b.rotationCode||null,p=!1,o=!1,s=H("BikeGroupPointItemView");s.appendTo(a);(function(){var a=jQuery("<a class=roadview />");a.click(function(a){a.preventDefault();p=!0;g.notify()});s.$("roadview").append(a)})();k&&c(k);b.getSummary()&&s.$("title").addClass("bikeTitle").set(b.getSummary());s.$("desc").set(l);(function(a,b){var c=s.$("action");a&&-1!=a.indexOf("EXIT")&&
b?c.addClass("action-"+b):(a&&(a=a.replace("EXIT","ENTER")),position_=lb.ACTION_LIST[a],void 0!=position_?c.css("backgroundPosition",-30*position_[0]+"px "+-30*position_[1]+"px"):c.addClass("action-"+(b||"STRAIGHT")))})(j,r);s.click(function(){o=!0;p?(p=!1,d(!1)):e.notify()});s.mouseenter(function(){o||(d(!0),f.notify())});s.mouseleave(function(){!o&&!p&&(d(!1),h.notify())}.bind(this));this.setHighlight=function(a){o||d(a)};this.setActive=function(a){o=a;d(a)};this.setLastItem=function(){s.addClass("BikeGroupPointItemView-LAST")};
this.getPane=function(){return s}}function Hc(a,b,c){function d(){w?(u.removeClass("on"),s.show(),t.hide(),w=!1,r.notify(!1)):(u.addClass("on"),s.hide(),t.show(),f(!1),w=!0,r.notify(!0));o.toggleClass("BikeTransitItemView-DETAIL",w);n.click("route","go_"+("bike"==c?"bike_group":"publick_bike")+(w?"_show":"_hide"))}function e(a){w=!!a;u.toggleClass("on",w);s.toggle(!w);t.toggle(w);o.toggleClass("BikeTransitItemView-DETAIL",w)}function f(a){o.toggleClass("BikePointGroupView-ACTIVE",!!a)}function h(a){t.empty();
q=a.map(function(b,c){var d=new yf(t,b);c==a.length-1&&d.setLastItem();d.onClick.add(function(){g.notify(c)});d.onMouseover.add(function(){k.notify(c)});d.onMouseout.add(function(){l.notify(c)});d.onRoadview.add(function(){j.notify()});return d})}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var g=this.onClick=new m,k=this.onMouseover=new m,l=this.onMouseout=new m,j=this.onRoadview=new m,r=this.onDetail=new m,p=this.onBikeSummaryClick=new m,o=null,s=null,t=null,u=null,
q=[],w=!1;if(!c||"bike"==c){var o=H("BikePointGroupView").appendTo(a),y=b.points[0].seq,i=b.points[b.points.length-1].seq;rc(o.$("groupNumber"),"walkList",y,i);rc(o.$("groupNumber"),"walkListOn",y,i)}else"transit"==c&&(o=H("BikeTransitItemView").appendTo(a),o.find(".bikeBrief").click(function(){p.notify()}),o.$("title").click(function(){p.notify()}));s=o.$("briefdesc");i=b.time/3600|0;y="";i&&(y+=i+"\uc2dc\uac04 ");i=(b.time/60|1)%60;o.$("time").set(y+=i+"\ubd84");o.$("distance").set(String.formatDistance(b.distance));
t=o.$("detail");t.hide();u=o.$("detailBtn");u.hide();b.bikeGuide&&(u.show(),u.click(d),"transit"!=c&&o.$("groupNumber").click(d));(y=b.start+"~"+b.end)?s.show().set(y):s.hide();o.mouseenter(function(){if(!w){f(true);k.notify(null)}});o.mouseleave(function(){if(!w){f(false);l.notify(null)}});h(b.points);this.setDetailActive=e;this.setItem=h;this.getPane=function(){return o};this.setActive=function(a,b){f(false);b&&e(b);q.length!=0&&(a==null?q[0].setActive(b):q[a].setActive(b))};this.setHighlight=function(a,
b){w&&a!=null?q[a].setHighlight(b):w||f(b)};this.deactivateAll=function(){f(false);q.forEach(function(a){a.setActive(false)})};this.dehighlightAll=function(){f(false);q.forEach(function(a){a.setHighlight(false)})};this.getGroupInfo=function(){return{detailActive:w,pos:o.offset()}};this.getItem=function(a){return q[a]};this.isGroupPoints=function(){return q.length==0};this.hide=function(){o.hide()}}function Wd(a,b,c){function d(a){99<a&&l.addClass("bigIndex");l.$("seq").text(a)}function e(a){l.toggleClass("BikePointItemView-ACTIVE",
!!a)}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var f=this.onClick=new m,h=this.onMouseover=new m,g=this.onMouseout=new m,k=this.onRoadview=new m,l=H("BikePointItemView").appendTo(a),j=b.seq||0,r=b.desc||"\uc81c\ubaa9\uc5c6\uc74c",p=b.action||null,o=b.rotationCode||null,s=b.gradientCode||"NONE",t=b.categoryCode||"NONE",u=!1;j&&d(j);b.getSummary()&&l.$("title").addClass("title").set(b.getSummary());l.$("desc").set(r);(function(a,b){var c=l.$("gradient"),d=l.$("desc");
c.hide();lb.GRADIENT_TEXT[a]&&c.text(lb.GRADIENT_TEXT[a]).show();lb.CAUTION_TEXT[b]&&(d.prepend('<span class="cautionIcon"></span>'),d.addClass("desc_caution"))})(s,p);(function(a,b,c){var d=l.$("action"),e=l.$("state"),f=!1;a&&-1!=a.indexOf("EXIT")&&b?(d.addClass("action-"+b),f=!0):(a&&(a=a.replace("EXIT","ENTER")),a=lb.ACTION_LIST[a],void 0!=a?d.css("backgroundPosition",-30*a[0]+"px "+-30*a[1]+"px"):(d.addClass("action-"+(b||"STRAIGHT")),f=!0));f&&-1!=lb.STATE_LIST.indexOf(c)&&e.addClass("state-"+
c)})(p,o,t);(function(){var a=jQuery("<a class=roadview />");a.click(function(a){a.preventDefault();u=!0;k.notify();n.click("route","go_bike_tooltip_roadview")});l.$("roadview").append(a)})();var q=!1;l.click(function(){q=!0;u?(u=!1,e(!1)):(f.notify(),n.click("route","go_bike_textpoint"))});l.mouseenter(function(){q||(e(!0),h.notify())});l.mouseleave(function(){!q&&!u&&(e(!1),g.notify())}.bind(this));this.setHighlight=function(a){q||e(a)};this.setActive=function(a){q=a;e(a)};this.getPane=function(){return l}}
function Ke(a){function b(a,b){var e=b.graph.points,f=b.graph.info,g=Math.ceil(e[e.length-1].x),h={pointRadius:0,pointHoverRadius:0,pointBackgroundColor:[],fill:"start",pointHitRadius:0,backgroundColor:"#CDE6FF",borderColor:"#CDE6FF",pointBorderColor:"#fff",pointHoverBorderColor:"#fff",lineTension:0.3,data:e};e.forEach(function(){h.pointBackgroundColor.push("#fff")});h.pointBackgroundColor[f.minKey]="#3396ff";h.pointBackgroundColor[f.maxKey]="#3396ff";var e=Math.round((f.maxValue-f.minValue)/-10),
g={type:"line",data:{datasets:[h]},options:{maintainAspectRatio:!1,layout:{padding:{left:18,right:26,top:5}},tooltips:{enabled:!1},legend:{display:!1},title:{display:!1},elements:{point:{radius:0,hoverRadius:0,hitRadius:0,borderWidth:1,hoverBorderWidth:1}},scales:{xAxes:[{display:!1,type:"linear",ticks:{max:g}}],yAxes:[{display:!1,type:"linear",ticks:{min:e,max:f.maxValue}}]},hover:{animationDuration:0},animation:{easing:"linear",duration:500,onProgress:c,onComplete:function(){setTimeout(function(){d.call(this,
f)}.bind(this),0)}}}},e=jQuery("<canvas></canvas>").appendTo(a),j=e.get(0).getContext("2d");e.attr({onselectstart:"return false;",ondragstart:"return false;"});new Chart(j,g)}function c(a){var b=a.chartInstance,c=b.data.datasets,d=c[0]._meta[b.id];if(!d)return!1;var a=(a=a.animationObject)?a.currentStep/a.numSteps:1,e=b.ctx,f=b.chartArea.bottom,g=d.data[0]._model,d=d.data[d.data.length-1]._model,h=f*(1-a);e.fillStyle=c[0].backgroundColor;e.fillRect(0,g.y*a+h,g.x,(f-g.y)*a);e.fillRect(d.x,d.y*a+h,
b.width-d.x,(f-d.y)*a)}function d(a){if(!a||!jQuery.isNumeric(a.minKey)||!jQuery.isNumeric(a.maxKey))return!1;var b=this.chart,c=b.data.datasets[0]._meta[b.id];if(!c)return!1;var d=b.ctx,e=b.chartArea,f={max:{type:"max",value:a.maxValue,model:c.data[a.maxKey]._model},min:{type:"min",value:a.minValue,model:c.data[a.minKey]._model}},b=function(a){d.lineWidth=1;d.textBaseline="middle";d.textAlign="center";d.font="8px Verdana";d.fillStyle=a.model.backgroundColor;d.strokeStyle=a.model.backgroundColor;
d.beginPath();d.setLineDash&&d.setLineDash([2,1]);d.moveTo(a.model.x,e.bottom);d.lineTo(a.model.x,a.model.y+2.5);d.stroke();d.closePath();d.fillText(a.text,a.centerPos,e.bottom-9);d.beginPath();d.arc(a.model.x,a.model.y,2.5,0,2*Math.PI);d.fill();d.closePath();d.beginPath();d.setLineDash&&d.setLineDash([]);d.strokeStyle="#fff";d.arc(a.model.x,a.model.y,3.5,0,2*Math.PI);d.stroke();d.closePath()};["max","min"].forEach(function(b){var c=f[b],b=a[b]+"m",g=d.measureText(b).width,h=g/2,j=c.model.x,k=j-g-
5,g=j+g+5,l,r=k>e.left;l=g<e.right;r=(a.maxKey<a.minKey?"max":"min")==c.type&&r?-1:1;1==r&&!l&&(r=-1);l=j+r*(h+5);c.text=b;c.minLeft=k;c.maxRight=g;c.startPos=0<r?j:l-h;c.endPos=0>r?j:l+h;c.centerPos=l});b(f.max);f.max.startPos<f.min.startPos&&f.min.startPos<f.max.endPos||f.max.startPos<f.min.endPos&&f.min.endPos<f.max.endPos||b(f.min)}function e(){G=!0;var a=0;j=C.points.map(function(b,c){var d=null;if("start"==b.seq||"goal"==b.seq||"through"==b.seq)return d=require("view/StartEndPointItemView"),
b.confirmid=C.waypoints[a++].id,d=new d(b),d.getPane().appendTo(J),d.onClick.add(function(a){r.notify({index:c,sub:a})},this),d;b instanceof Qc?(d=Hc(J,b,"bike"),d.onDetail.add(function(a){a&&q.notify({index:c,coords:b.points[0].coords})})):d=Wd(J,b);d.onClick.add(function(a){r.notify({index:c,sub:a})});d.onMouseover.add(function(a){t.notify({index:c,sub:a})});d.onMouseout.add(function(a){u.notify({index:c,sub:a})});d.onRoadview.add(function(){s.notify(c)});return d})}function f(){var a=jQuery("#info\\.body").scrollTop(),
b=a+(w.offset().top-170),a=0.5*Math.abs(b-a);3E3<a&&(a=1E3);jQuery("#info\\.body").animate({scrollTop:b},a,function(){})}function h(){j.forEach(function(a){a instanceof Hc?a.deactivateAll():a.setActive&&a.setActive(!1)})}function g(){j.forEach(function(a){a instanceof Hc?a.dehighlightAll():a.setHighlight&&a.setHighlight(!1)})}function k(a){var b=Q,c=B.document.documentElement.clientTop,d=b.scrollTop(),a=a.offset().top-b.offset().top+d-c;Q.scrollTop(a-Q.outerHeight()/2)}function l(a){a&&!G&&e();i=
a;w.toggleClass("BikeRouteItem-DETAIL",i)}if(!(this instanceof Ke))return new arguments.callee(a);var j=[],r=this.onBikePoint=new m,p=this.onHover=new m,o=this.onDetail=new m,s=this.onRoadview=new m,t=this.onBikePointMouseover=new m,u=this.onBikePointMouseout=new m,q=this.onBikePointDetail=new m,w=H("BikeRouteItemView");w.appendTo(a);var y=!1;document.createElement("canvas").getContext&&(a.addClass("isCanvas"),y=!0);var i=!1,A=w.$("summary"),J=w.$("list"),Q=jQuery("#info\\.body"),C=null;A.hover(function(){p.notify(true)},
function(){p.notify(false)});A.on("click",function(){l(!i);o.notify(i);if(i){var a=(C.routeMode||"").toLowerCase();n.click("route","go_bike_"+a)}else n.click("route","go_bike_innerdetail_close");Application.windowController.onHeightChange.notify()});w.$("bikeHelp").on("click",function(a){a.preventDefault();a.stopPropagation();jb("/etc/bike_help_info.jsp",407,898,{name:"bikeHelp"})});this.setData=function(a){if(C=a){w.show();var c=w.$("time"),d=w.$("distance"),e=w.$("mode");a.routeMode==="BIKE_ONLY"?
e.set("\uc790\uc804\uac70 \ub3c4\ub85c\uc6b0\uc120"):a.routeMode==="SHORTEST"?e.set("\ucd5c\ub2e8\uac70\ub9ac"):a.routeMode==="ACCESSIBLE"&&e.set("\ud3b8\uc548\ud55c\uae38");c.children().remove();var e=a.time,e=e<90?1:Math.round(e/60),f=(e-e%60)/60;if(f){jQuery("<span/>").addClass("num").set(f).appendTo(c);jQuery("<span/>").addClass("text").set("\uc2dc\uac04 ").appendTo(c)}e=e%60;if(e>0){jQuery("<span/>").addClass("num").set(e).appendTo(c);jQuery("<span/>").addClass("text").set("\ubd84 ").appendTo(c)}d.children().remove();
c=a.distance/1E3;if(c>=0)if(c>1){jQuery("<span>").addClass("num").set(c.toFixed(1)).appendTo(d);jQuery("<span>").addClass("text").set("km").appendTo(d)}else if(c<1&&c>=0){jQuery("<span>").addClass("num").set(c*1E3).appendTo(d);jQuery("<span>").addClass("text").set("m").appendTo(d)}var d=w.$("info"),g=w.$("altitude"),c=w.$("calories"),e=w.$("graph");(f=a.graph&&a.graph.info)?g.text("\uace0\ub3c4 \ucd5c\uc800 "+a.graph.info.min+"m, \ucd5c\uace0 "+a.graph.info.max+"m"):g.hide();if(a.calories){g="";f&&
d.addClass("addInfo");g=g+(a.calories+"kcal");c.html(g)}else c.hide();y?b(e,a):e.hide();J.empty()}else w.hide()};var G=!1;this.setItemActive=function(a,b){h();var c=j[a.index];if(c instanceof Wd||c instanceof Hc)if(c instanceof Hc){c.setActive(a.sub,b);k(c.getItem(a.sub).getPane())}else{c.setActive(b);k(c.getPane())}};this.setHighlight=function(a,b){g();var c=j[a.index];if(c instanceof Wd||c instanceof Hc)if(c instanceof Hc)if(a.sub==null){c.setHighlight(null,b);k(c.getPane())}else{c.setHighlight(a.sub,
b);c.getGroupInfo().detailActive?k(c.getItem(a.sub).getPane()):k(c.getPane())}else{c.setHighlight(b);k(c.getPane())}};this.getItem=function(a){return j[a]};this.setHover=function(a){w.toggleClass("BikeRouteItem-HOVER",a)};this.animationScroll=function(){f()};this.setDetail=function(a){l(a)};this.isDetailOpen=function(){return i};this.getPanel=function(){return w}}function zf(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);this.onOptionChange=new m;this.onCheckboxChange=new m;
var b=this.onBikePoint=new m,c=this.onItemHover=new m,d=this.onItemDetail=new m,e=this.onRoadview=new m,f=this.onBikePointMouseover=new m,h=this.onBikePointMouseout=new m,g=this.onBikePointDetail=new m;this.onSearchBtnClick=new m;this.onDestination=new m;var k=H("BikeRouteResultView");k.appendTo(a);var l=k.$("openDetail"),j=k.$("closeDetail"),r=k.$("detailBox");this.goToTopBtn=k.$("goToTop");this.goToTopBtn.on("click",function(){i.$("info.body").scrollTo(0)});l.on("click",function(a){a.preventDefault();
r.toggleClass("HIDDEN");if(!r.hasClass("HIDDEN"))jQuery("body").off("mousedown.close").on("mousedown.close",function(a){var a=jQuery(a.target),b=a.closest(".notice_detail").hasClass("notice_detail");if(b&&"closeDetail"==a.data("id")||!b&&"openDetail"!=a.data("id"))r.addClass("HIDDEN"),jQuery("body").off("mousedown.close")})});j.on("click",function(){r.addClass("HIDDEN")});var p=k.$("list"),o=null,s=0,t=null,u=[],q=null;k.$("fixRoute").click(function(){var a={routeType:"bike",searchInfo:{mode:"bike"}};
a.start={name:t.waypoints[0].name,x:t.waypoints[0].coords.getX(),y:t.waypoints[0].coords.getY()};var b=t.waypoints.length;a.end={name:t.waypoints[b-1].name,x:t.waypoints[b-1].coords.getX(),y:t.waypoints[b-1].coords.getY()};a.waypoints=t.waypoints;jQuery(a.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});a.bikeRoutes=[];a.isSelectRoute=!1;jQuery(t.bikeRoutes).each(function(b,c){var d=jQuery.extend({},c.raw);d.isDetailOpen=u[b].isDetailOpen();d.isDetailOpen&&(a.isSelectRoute=
!0);a.bikeRoutes.push(d)});a.bound=t.raw.bound;Application.fiyFrameController.open({type:"route",rawInfo:a});n.click("route","go_bike_fiy")});this.setData=function(a){a?(t=a,q=null,k.show(),p.empty(),u=a.bikeRoutes.map(function(a,j){var k=new Ke(p);k.setData(a);k.onBikePoint.add(function(a){b.notify(a)});k.onHover.add(function(a){q?(k.setHover(a),c.notify({index:j,hover:a})):a&&(o&&o!=k&&(o.setHover(!1),c.notify({index:s,hover:!1})),k.setHover(!0),c.notify({index:j,hover:!0}));a&&(o=k,s=j)});k.onDetail.add(function(a){o&&
o!=k&&(o.setHover(!1),c.notify({index:s,hover:!1}));u.forEach(function(b,c){j!=c?b.setDetail(false):b.setDetail(a)});d.notify({index:j,detail:a})});k.onRoadview.add(function(a){e.notify(a)});k.onBikePointMouseover.add(function(a){f.notify(a)});k.onBikePointMouseout.add(function(a){h.notify(a)});k.onBikePointDetail.add(function(a){g.notify(a)});return k}),Application.windowController.onHeightChange.notify()):k.hide()};this.setItemActive=function(a,b){q&&q.setItemActive(a,b)};this.initDetailedItem=
function(){q=null};this.setDetailedItem=function(a){q=null;q=u[a];setTimeout(function(){q&&q.animationScroll&&q.animationScroll()},100)};this.setHighlight=function(a,b){q&&q.setHighlight(a,b)};this.getItem=function(a){return q?q.getItem(a):null};this.initHover=function(){u[0]&&(u[0].setHover(!0),o=u[0],s=0)};this.show=function(){k.show()}}function Bd(a){function b(a){l.forEach(function(b){b.html()==a&&b.hide()})}function c(a){!e.has(a.target).length&&f[0]!=a.target&&(g.hide(),f.toggleClass("expand",
!1),k=!1)}if(!(this instanceof arguments.callee))return new arguments.callee(a);var d=this.onSelect=new m,e=H("BusFilterSelectBoxView"),f=e.$("label"),h=e.$("options"),g=(new fa(h.get(0))).hide();g.noClosePane(f);var k=!1,l=[];g.onClose.add(function(){k=!1});f.click(function(){k=!k;g.toPane().toggle(k);f.toggleClass("expand",k);if(k)jQuery(document).one("mousedown touchstart",c)});a.forEach(function(a,b){var c=jQuery('<li><a href="#none">'+a+"</a></li>");c.appendTo(h);c.mouseenter(function(){c.addClass("on")});
c.mouseleave(function(){c.removeClass("on")});c.click(function(){d.notify(b);g.hide();k=!1});l.push(c)});this.getPane=function(){return e};this.setLabel=function(a){a&&f.set(a);b(a)}}function le(a){function b(){g.toggleClass("BusItem-icon-hover",!(!s&&!t))}function c(){if(q){var a={cpg:q.cpg+","+(u+1),tab:q.tab,in_map:q.in_map,sorttype:q.sorttype,mkey:q.mkey};a.analysis=q.analysis;y.id&&(a.docid=y.id);q.srcid&&(a.srcid=q.srcid);void 0!=q.cidx&&(a.cidx=q.cidx);q.qatype&&(a.qatype=q.qatype);q.regionid&&
(a.regionid=q.regionid);q.bustypeid&&(a.bustypeid=q.bustypeid);x.logSearchOutWithArgs("bus",a)}}this.onAction=new m;var d=this.onClick=new m,e=this.onOver=new m,f=this.onOut=new m,h=this.onFavorite=new m,g=H("BusItemView");g.$("para");var k=g.$("fav"),l=g.$("bustype"),j=g.$("name"),r=g.$("region"),p=g.$("start"),o=g.$("end"),s=!1,t=!1,u,q=null,i=null,y=null;g.click(function(a){jQuery(a.target).hasClass("clickArea")&&(t=!0,d.notify(null),c())});k.click(function(){n.click("favorite",["busline",i&&i.isBusTab?
"search_busline_tab":"search_all"]);h.notify()});j.click(function(){t=!0;c();d.notify(null)});g.mouseenter(function(){s=!0;e.notify();b()});g.mouseleave(function(){s=!1;f.notify();b()});this.setSeq=function(a){u=a};this.setData=function(b){y=b;a.createFavorite(k,v.createFromBusLine(b));l.text(ba.STRING[b.type]);l.addClass(b.type);if(b.secondName){var c=jQuery("<span>").addClass("subname").attr("title",b.secondName).text(b.secondName);j.attr("title",b.firstName).text(b.firstName).append(c);g.$("screenOutName").text(b.firstName)}else j.attr("title",
b.name).text(b.name),g.$("screenOutName").text(b.name);r.text(b.region+" "+b.subRegion);p.text(b.start);o.text(b.end)};this.getPane=function(){return g};this.setActive=function(a){t=!!a;b()};this.getActive=function(){return!0};this.clickSelf_=function(){};this.setDssBusObj=function(a){q=a};this.setTiaraObj=function(a){i=a}}function db(a,b){ga(this,i,"li","BusLineItemView",new i("div","headbg"));this.setActive=function(a){a||this.setDetail(!1);return i.prototype.setActive.call(this,a)};this.addClass("BusLineItemView-NODETAIL");
this.onBusStop=new m;this.onViewport=new m;this.detailClick=new m;this.onFavorite=new m;this.buttonFactory_=b;this.busStopsView_=[];var c=this.busLineWrap_=new i("div","BusLineWrap"),d=jQuery('<a href="#"></a>');b.createFavorite(d,v.createFromBusLine(a));var e=new i("span","bustype");e.addClass(a.type);var f=new i("a","busname",a.firstName.substring(0,14));f.setTitle(a.name);var h=this.secondName_=new i("a","subname");h.setTitle(a.name);this.secondNameText_=a.secondName;(this.secondNameLength_=20-
(a.firstName.length+a.region.length))?this.setSecondNameBy_(this.secondNameLength_):(h.hide(),f.setText(String.cut(a.firstName,9)));var g=new i("span","bar","|"),d=this.title_=new i("h4","busline",[d,e,f,h,g,new i("span","addr",a.region+" "+a.subRegion)]);c.addChild(d);d=this.startEnd_=new i("p","startEnd",[a.start,(new i("img","arrow")).setSrc("//t1.daumcdn.net/localimg/localimages/07/2011/icon/ico_twoarrow2.gif"),a.end]);c.addChild(d);d=this.schedule_=new i("p","info first_line");d.addText("\uccab\ucc28 "+
a.startTime);d.addChild(new i("span","bar","|"));d.addText("\ub9c9\ucc28 "+a.endTime);c.addChild(d);d=this.busDriveInfo_=new i("p","info");d.addText("\ubc30\ucc28\uac04\uaca9 "+a.interval);c.addChild(d);d=this.infoEtc_=new i("div","infoEtc");e=new i("a","viewport","\uc804\uccb4\ub178\uc120");e.onClick.add(function(){this.onViewport.notify()},this);d.addChild(e);e=new i("a","busFiyBtn","\ud2c0\ub9b0\uc815\ubcf4\uc2e0\uace0");e.onClick.add(this.clickFiyBtn,this);d.addChild(e);e=this.noRealBusBar_=new i("div",
"noRealBusBar");e.addChild(new i("p","noReadlBusText",""));d.addChild(e);e=this.loadingBar_=new Za("BusLineItemView");e.onComplete.add(this.update_,this);e.addClass("loading");d.addChild(e);c.addChild(d);d=this.scrollPosition_=new i("div","scroll");c.addChild(d);e=this.positions_=new Cd(a.type);d.addChild(e);e=this.stops_=new i("ol");d.addChild(e);d=this.busProviderInfo_=new i("p","busProviderInfo");e=new i("span","trafficInfo");e.addChild(new i("span","txt","\uc6d0\ud65c"));e.addChild(new i("span",
"img"));e.addChild(new i("span","txt","\uc815\ubcf4\uc5c6\uc74c"));f=new i("a","link","\uc2e4\uc2dc\uac04 \uc815\ubcf4");f.setExternalLink("http://blog.daum.net/daummaps/623 ");e.addChild(f);f=this.busProviderLogo_=new i("span","busProviderLogo blank");d.addChild(e);d.addChild(f);c.addChild(d);this.addChild(c);this.addChild(new i("div","bottombg"));d=this.detailBtn_=new i("a","detailBtn");d.onClick.add(this.clickDetailBtn,this);c.addChild(d);this.onClick.add(this.clickSelf_,this)}function Sb(a){ga(this,
i,"div","BusLineView");this.onViewport=new m;this.onBusLineItemClick=new m;this.closeBtnClick=new m;this.refreshBtnClick=new m;this.onFavorite=new m;this.buttonFactory_=a;this.busStopsView_=[];this.addChild(new i("div","headbg"));var a=new i("div","busLineWrap"),b=new i("button","img_BusLineView ico_close");b.onClick.add(function(){this.closeBtnClick.notify(null)},this);a.addChild(b);this.summary_=new i("div","summary");a.addChild(this.summary_);this.detail_=new i("div","detailInfo HIDDEN");a.addChild(this.detail_);
this.progressbar_=(new i("div","progressbar")).hide();a.addChild(this.progressbar_);b=this.scroll_=new i("div","scroll");a.addChild(b);b.addChild(this.position_=new Cd);b.addChild(this.list_=new i("ol","stops"));var b=this.busProviderInfo_=new i("p","busProviderInfo"),c=new i("span","trafficInfo");c.addChild(new i("span","txt","\uc6d0\ud65c"));c.addChild(new i("span","img_BusLineView"));c.addChild(new i("span","txt","\uc815\ubcf4\uc5c6\uc74c"));b.addChild(c);a.addChild(b);this.addChild(a);this.addChild(new i("div",
"bottombg"))}function Za(a){ga(this,i,"div","BusLoadProgressBar");this.onComplete=new m;this.timer_=new yc(4E3,this.countDown_.bind(this),!0);this.count_=0;this.itemName_=this.setItemName_(a);a=this.updated_=new i("span","updated");a.setHTML('<span class="ico_updated"></span>\uc5c5\ub370\uc774\ud2b8 \ub418\uc5c8\uc2b5\ub2c8\ub2e4');this.addChild(a);this.addChild(this.timestamp_=new i("p","timestamp"));a=this.reload_=new i("a","reload");a.addClass("ICON-refresh");a.onClick.add(this.force_,this);this.addChild(a)}
function Hd(){function a(){["current","next"].forEach(function(a){l.$(a).show();l.$(a+"text").empty().hide();["upper","lower"].forEach(function(b){l.$(a+b+"paragraph").removeClass("lastparagraph hasbox").hide();l.$(a+b+"wrap").removeClass("wrap");l.$(a+b+"label").empty().removeClass("homonyms").hide();l.$(a+b+"text").removeClass("lowertext").empty().hide()})});k.forEach(function(a){a&&a.remove&&a.remove()});k.length=0;appendKeyword=prependKeyword=""}function b(a,b,c){var d="upper"==a,f=c.qaType,g;
d?(a=c.samearea1,g=c.area2||""):(a=c.samearea2,g=c.area1||"");var h=(new fa("ul")).hide();h.addClass("suggest");var l=!1;h.noClosePane(b);h.onClose.add(function(){l=false});var i=jQuery(h.getElement());h.onHide.add(function(){b.removeClass("expand")});h.onShow.add(function(){b.addClass("expand")});a.forEach(function(a){if(a!=""){var b=new jQuery('<li><a href="#" class="link_option">'+a+"</a></li>");a.match(/[\d\s]/g);b.appendTo(i);b.mouseenter(function(){b.addClass("on")});b.mouseleave(function(){b.removeClass("on")});
b.click(function(){var b="";if(!d){b=a;a=g||"";g=b}e.notify({keyword:(a?a+" ":"")+(g?g+" ":"")+c.keyword,qaType:f})})}});b.click(function(){if(l){h.hide();l=false}else{h.show();l=true}});i.appendTo(b);k.push(i)}function c(a,c){var d=c.guideType||"",e="current"===a?"\uacb0\uacfc":'<span class="ico_arr"></span>',g="current"===a?"<em>":"'",h="current"===a?"</em>":"'",k=c.samearea1?!!c.samearea1.length:!1,q=c.samearea2?!!c.samearea2.length:!1,i=null;"bus_tab_region"==d?l.$(a+"text").show().html(g+c.keyword+
h+" \ubc84\uc2a4\ub178\uc120"):"bus_key"===d?l.$(a+"text").show().html(g+c.keyword+h+" \uac80\uc0c9"+e):"bus_area"===d||"bus_pathstop"===d||"bus_LM"===d?(d="bus_LM"===d?" \uc8fc\ubcc0 1km \uc774\ub0b4 ":"(\uc744)\ub97c \uacbd\uc720\ud558\ub294 ",k?(i=l.$(a+"upperparagraph").show(),b("upper",l.$(a+"upperwrap").addClass("wrap"),c),l.$(a+"upperlabel").html(c.area1).show(),l.$(a+"uppertext").html(d+"<em>"+c.keyword+"</em> \uac80\uc0c9"+e).show()):l.$(a+"text").html(g+c.area1+h+d+g+c.keyword+h+" \uac80\uc0c9"+
e).show()):"bus_2area"===d||"bus_2LM"===d?(d="bus_2LM"===d?" \uc8fc\ubcc0\uc744 \uacbd\uc720\ud558\ub294 ":"(\uc744)\ub97c \uacbd\uc720\ud558\ub294 ",k?(i=l.$(a+"upperparagraph").show(),k="",b("upper",l.$(a+"upperwrap").addClass("wrap"),c),l.$(a+"upperlabel").html(c.area1).show(),k+="(\uacfc)\uc640 "+g+c.area2+h+d+g+c.keyword+h+" \uac80\uc0c9"+e,l.$(a+"uppertext").html(k).removeAttr("style").show()):q?(l.$(a+"upperparagraph").show(),k=g+c.area1+h+"(\uacfc)\uc640 ",l.$(a+"uppertext").html(k).css("margin",
"-10px 0 0 0").show(),i=l.$(a+"lowerparagraph").show(),b("lower",l.$(a+"lowerwrap").addClass("wrap"),c),l.$(a+"lowerlabel").html(c.area2).show(),e=d+g+c.keyword+h+" \uac80\uc0c9"+e,l.$(a+"lowertext").html(e).show()):l.$(a+"text").show().html(g+c.area1+h+"(\uacfc)\uc640 "+g+c.area2+h+d+g+c.keyword+h+" \uac80\uc0c9"+e)):"bus_userarea"===d||"stop_userarea"===d?l.$(a+"text").show().html("\uc8fc\ubcc0 1km \uc774\ub0b4 "+g+c.keyword+h+" \uac80\uc0c9"+e):"stop_key"===d||"stop_key_qa"===d?(k="stop_key_qa"===
d&&"next"===a?"\uc774 \uacbd\uc720\ud558\ub294 \uc815\ub958\uc7a5 ":"",l.$(a+"text").show().html(g+c.keyword+h+k+" \uac80\uc0c9"+e)):"stop_area"===d?k?(i=l.$(a+"upperparagraph").show(),b("upper",l.$(a+"upperwrap").addClass("wrap"),c),l.$(a+"upperlabel").html(c.area1).show(),l.$(a+"uppertext").html(" \uc8fc\ubcc0 \uc815\ub958\uc7a5 \uac80\uc0c9"+e).show()):l.$(a+"text").show().html(g+c.area1+h+" \uc8fc\ubcc0 \uc815\ub958\uc7a5 \uac80\uc0c9"+e):"stop_pathstop"===d||"stop_bus"===d||"stop_LM"===d?(d=
"stop_bus"===d?"(\uc744)\ub97c \uacbd\uc720\ud558\ub294 ":"stop_LM"===d?" \uc8fc\ubcc0 1km \uc774\ub0b4 ":" \uc8fc\ubcc0 ",k?(i=l.$(a+"upperparagraph").show(),b("upper",l.$(a+"upperwrap").addClass("wrap"),c),l.$(a+"upperlabel").html(c.area1).show(),l.$(a+"uppertext").html(d+"<em>"+c.keyword+" </em> \uac80\uc0c9"+e).show()):l.$(a+"text").show().html(g+c.area1+h+d+g+c.keyword+h+" \uac80\uc0c9"+e)):""===d&&"current"==a?l.$(a+"text").show().html(g+f+h+" \uac80\uc0c9\uacb0\uacfc"):l.$(a).hide();i&&(i.addClass("lastparagraph"),
i.has("div.wrap").length&&i.addClass("hasbox"))}if(!(this instanceof arguments.callee))return new arguments.callee;var d=this.onBusClick=new m,e=this.onBusSelect=new m,f="",h=null,g=null,k=[],l=H("BusMessageView");l.$("nexttext").click(function(){d.notify({query:f,qaType:g.qaType})});this.getPane=function(){return l};this.setData=function(b,d,e){l.show();f=(b||"").trim();h=d;g=e;a();c("current",h);g&&c("next",g)};this.setVisible=function(a){l.toggle(a)}}function Af(a,b,c){function d(a){if(a){a=parseInt(a);
l.show();l.removeClass("grey green orange red");var b="grey";25<=a?b="green":10<=a?b="yellow":0<=a&&(b="red");l.addClass(b)}else l.hide()}this.onBusNumberLineClick=new m;var e=this.onClick=new m,f=this.onFavClick=new m,h=a.codenames[0],g=H("BusNumberLineItemView",{stopname:a.name,busid:h});g.click(function(){e.notify(null)});var k=g.$("stopname").attr("title",a.name);h||k.addClass("noBusid");var l=g.$("speedBar");a.nextLinkSpeed&&d(a.nextLinkSpeed);var j=g.$("fav");j.click(function(){f.notify()});
c.createFavorite(j,v.createFromBusStopAndBusLine(a,b));a.turningPoint&&g.$("turningpoint").show();this.setLine=function(a){g.toggleClass("BusNumberLineItemView-Line",a)};this.setBoardLabel=function(a){null!=a&&("ride"==a?k.addClass("board"):k.addClass("change"))};this.setLastView=function(){g.$("line").removeClass("nocircle")};this.setNonstop=function(){j.addClass("DISABLE");k.addClass("pass").attr("title","\uc2b9\ud558\ucc28 \ud560 \uc218 \uc5c6\ub294 \uc815\ub958\uc7a5 \uc785\ub2c8\ub2e4.");k.removeClass("noBusid");
g.$("busid").hide();g.$("nonstop").addClass("nonstop").show();g.$("line").addClass("nocircle");jQuery(j.getElement()).off().on("click",function(){alert("\ubbf8\uc815\ucc28 \uc815\ub958\uc7a5\uc740 \uc990\uaca8\ucc3e\uae30\ub97c \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})};this.getPane=function(){return g};this.setSpeed=function(a){d(a)}}function Cd(a){ga(this,i,"div","BusPositionView");this.type_=a}function mc(a,b){ga(this,Ha);new m;this.seq=0;this.busstopModel=b;this.dssBusStopObj=null;var c=this.panel_=
new i("li");c.addClass("BusStopFlagItem");c.onClick.add(function(a){jQuery(a.target).hasClass("clickArea")&&this.clickHandler_()},this);var d=this.flagInfoLayer_=new cb(cb[a]);this.flagInfoLayer_.getPane().addClass("FlagItemInfoLayer-xsmall");d.onClick.add(this.clickHandler_,this);d.setVisible(!1);this.selected_=!1;c.onEnter.add(function(){this.panel_.addClass("BusStopFlagItem-over");this.selected_||this.flagInfoLayer_.setVisible(!0)},this);c.onLeave.add(function(){this.panel_.removeClass("BusStopFlagItem-over");
this.selected_||this.flagInfoLayer_.setVisible(!1)},this);var e=this.selectedFlag_=new i("span","flag");e.addClass(a);c.addChild(e);var f=this.name_=new i("a");f.onClick.add(this.clickHandler_,this);f.addClass("INACTIVE");c.addChild(f);e=this.region_=new i("span","region");c.addChild(e);c.addChild(d.getPane());this.setTitle=function(a,b){f.setText(a);if(b){var c=" ("+b+" \ubc29\uba74)",d=new i("span","direction",c);f.setTitle(a+c);f.addChild(d)}}}function Bf(a){var b=this.onClose=new m,c=this.onBusStop=
new m,d=H("BusStopGroupInfoWindow");d.$("close").click(function(){b.notify()});this.getPane=function(){return d};a.forEach(function(a){var b=H("BusStopGroupInfoWindowItem");b.$("name").set(a.name).click(function(){c.notify(a)});a.codenames.forEach(function(a,c){var d='<span class="busid">';0<c&&(d+='<span class="column">|</span>');d=jQuery(d+'<span class="codename"></span></span>');d.find(".codename").text(a.trim());d.appendTo(b.$("codenames"))});b.$("types").html(a.types.map(function(a){return String.format("<span class=BUS-%s></span>",
a)}).join(""));b.appendTo(d.$("body"))})}function me(a,b){function c(b){C=b;a.createFavorite(p,v.createFromBusStop(C));o.attr("title",C.name).text(C.name);j.$("screenOutName").text(C.name);C.direction&&t.text("("+C.direction+"\ubc29\uba74)").show();(b=C.codenames?C.codenames.join(", "):"")&&u.html('<span class="codename">'+b+"</span>").show().after('<span class="busstopbar"></span>');b=[C.region,C.region1,C.region2].filter(function(a){return a});q.text(b.join(" "));C.roadview&&(A=C.roadview,s.show());
C.types.forEach(function(a){jQuery("<span class='bustype "+a+"'>"+ba.STRING[a]+"</span>").appendTo(i)})}function d(){j.toggleClass("BusStopItem-ACTIVE",!(!J&&!Q))}function e(a){if(G){var b={cpg:G.cpg+","+(S+1),tab:G.tab,in_map:G.in_map,sorttype:G.sorttype,mkey:G.mkey};b.analysis=G.analysis;C.id&&(b.docid=C.id);G.srcid&&(b.srcid=G.srcid);void 0!=G.cidx&&(b.cidx=G.cidx);G.qatype&&(b.qatype=G.qatype);G.regionid&&(b.regionid=G.regionid);G.bustypeid&&(b.bustypeid=G.bustypeid);a?x.logSearchOutWithArgs(a,
b):x.logSearchOutWithArgs("busstation",b)}}b=!!b;this.onAction=new m;var f=this.onClick=new m,h=this.onOver=new m,g=this.onOut=new m,k=this.onFlagClick=new m,l=this.onFavorite=new m,j=H("BusStopItemView"),r=j.$("icon"),p=j.$("fav"),o=j.$("name"),s=j.$("roadview"),t=j.$("direction"),u=j.$("busCodes"),q=j.$("region"),i=j.$("bustype"),y=j.$("btnsWrap"),M=j.$("routeBtn"),A=null,J=!1,Q=!1,C=null,G=null,O=null;j.click(function(a){F.setVisible(!1);jQuery(a.target).hasClass("clickArea")&&(e(),f.notify(S))});
p.click(function(){n.click("favorite",["busstop",O&&O.isBusStopTab?"search_busstop_tab":"search_all"]);l.notify()});o.click(function(){e();f.notify(S)});s.click(function(){A&&(b?n.click("businfo","busstop_roadview"):(n.click("roadview","by_mapsearch"),x.logRoadview("search_q_click_busstation_roadview",C.roadview.panoId,C.coords,Application.localInfoController.getHCodeForLog(),{id:C.id})),Application.roadviewController.show(A))});var F=new cb;y.append(F.getPane());F.onClick.add(function(a){k.notify(a);
e("busstop_"+(a==N.ORIGIN_WHICH_?"start":"end"))});F.setVisible(!1);M.on("click",function(a){a.stopPropagation();n.click("mapsearch","search_route");F.setVisible(!0)});j.mouseenter(function(){J=!0;h.notify();d()});j.mouseleave(function(){J=!1;g.notify();d();F.setVisible(!1)});this.setData=function(a){c(a)};this.getPane=function(){return j};this.setActive=function(a){Q=!!a;d()};this.setHover=function(a){J=!!a;d()};var S=null;this.setIcon=function(a){S=a;r.text(a+1)};this.setFavorite=function(a){p.toggleClass("fav-ON",
a)};this.setDssBusStopObj=function(a){G=a};this.setTiaraObj=function(a){O=a};this.sendDssLog=function(a){e(a)}}function ue(a,b,c,d){var e=H("BusStopLineItemView").appendTo(a),f=this.onClick=new m,h=this.onFavClick=new m;if(!b.arrival||"NOSUPPORT"==b.realtimeState)e.addClass("BusStopLineItemView-noStatus");else{for(var a="",a=[],g=0;g<b.arrival.stateArray.length;g++)if("\uc815\uc0c1\uc6b4\ud589"==b.arrival.stateArray[g].message){var k=Math.max(1,b.arrival.stateArray[g].time),l="\ucd08",j="",r="em";
60<=k&&(l="\ubd84",k=Math.floor(k/60));"DELAY"==b.arrival.stateArray[g].status&&(j=' <span class="delay">(\uc815\ubcf4\uc9c0\uc5f0)</span>');r=0===g?"em":"span";a.push("<"+r+">"+k+l+"</"+r+">"+j)}else"\uace7\ub3c4\ucc29"==b.arrival.stateArray[g].message?a.push("<em>"+b.arrival.stateArray[g].message+"</em>"):a.push(b.arrival.stateArray[g].message);a=b.arrival.stateOnly?a[0]:a.join(' <span class="sep"></span> ');e.$("status").html(a)}d?(e.$("fav").click(function(){h.notify()}),d.createFavorite(e.$("fav"),
v.createFromBusStopAndBusLine(c,b))):e.$("fav").hide();b.arrival&&(b.direction=b.arrival.direction2||b.arrival.direction||b.direction);c=b.direction?b.direction:"";e.$("title").text(b.type+" "+b.name+" "+c);e.$("name").html("<span class=BUS-"+b.type+"></span><span class=busname>"+b.name+'</span><span class="direction">'+c+"</span>").attr("title",b.name);e.$("name").click(function(){f.notify()});this.scrollup=function(){setTimeout(function(){e.css("backgroundColor","rgba(51,150,255,.05)");var a=e.closest(".list_busstop"),
b=a.scrollTop()+e.position().top-(a.outerHeight()-e.outerHeight())/2;a.scrollTop(b)},500)}}function Cf(a){function b(){n.click("roadview",["top_menu","past_view","close"]);p();F.notify()}function c(a){var b=v.width(),c=a.clientX-D;0!==c&&(z=c/Math.abs(c));$=Math.max(Math.min($+c,b),0);if(!(1===z&&$<ja)&&!(-1===z&&b-$<V)){var c=s.getPanoramaData().getPastList(),d=100*($/b);C.css("left",d+"%");J.width()<ja&&-1===z?d=0:Q.width()<V&&1===z&&(d=100);C.css({left:d+"%"});J.css({width:d+"%"});Q.css({width:100-
d+"%"});G.setRatio(d/100);$=b*d/100;0===d||0===c.length?A.addClass("HIDDEN"):A.removeClass("HIDDEN")}D=a.clientX}function d(){D=null;v.off("mousemove",c);v.off("mouseup",d)}function e(){G.changeCompareMode();u.addClass("on");q.removeClass("on");C.removeClass("HIDDEN")}function f(){t.animate({height:0},{duration:X,easing:x,complete:function(){A.removeClass("opt_open");jQuery("body").off("mousedown",g)}})}function h(){var a=t.children().length;t.css("height",0);A.addClass("opt_open");t.animate({height:a*
ka},{duration:X,easing:x,complete:function(){jQuery("body").on("mousedown",g)}})}function g(a){for(var a=jQuery(a.target).parents(),b=0;b<a.length;b++)if(A.is(a[b]))return;f()}function k(){var a=s.getPanoramaData().date,a=a.substr(0,4)+"\ub144 "+a.substr(5,2)+"\uc6d4(\ucd5c\uadfc)";M.text(a)}function l(){var a=s.getPanoramaData();i.text(a.address)}function j(a){for(var b=s.getPanoramaData().getPastList(),c="",d=null,e=b.length,f=e-1;0<=f;f--){var g=b[f];g.panoId===a&&(d=g);c+='<li><a href="#none" class="link_opt" data-pano-id='+
g.panoId+">"+(g.date.substr(0,4)+"\ub144 "+g.date.substr(5,2))+"\uc6d4</a></li>"}t.html(c);0===e?A.addClass("HIDDEN"):(a=d.date.substr(0,4)+"\ub144 "+d.date.substr(5,2)+"\uc6d4",d=jQuery(t.find("[data-pano-id="+d.panoId+"]")),r(a,d),0!==J.width()&&A.removeClass("HIDDEN"))}function r(a,b){y.text(a);t.find(".link_selected").removeClass("link_selected");b.addClass("link_selected")}function p(){C.css({left:0});o.addClass("HIDDEN");G&&(G.hide(),G.off())}var o=this.pane=H("CanvasRoadviewDiffViewHeaderView"),
s=a,a=o.$("backToRoadviewBtn"),t=o.$("dateList"),u=o.$("overlapBtn"),q=o.$("splitBtn"),i=o.$("address"),y=o.$("selectedDateBtn"),M=o.$("currentDate");o.$("currentDateContainer");var A=o.$("dateListContainer"),J=o.$("leftView"),Q=o.$("rightView");jQuery(J.children()[0]);jQuery(Q.children()[0]);var C=o.$("slider"),G=null,O=this.onChangePast=new m,F=this.onBackToRoadview=new m,S=this.onShow=new m,ja=155,V=170,v=jQuery("body"),X=180,x="easeOutCubic",z=0,D=null,$=0;jQuery("#view").prepend(o.getElement());
jQuery(B).on("resize",function(){null!==G&&"COMPARE"===G.getViewType()?$=C.position().left:null!==G&&"SPLIT"===G.getViewType()&&($=v.width()/2)});a.click(b);C.on("mousedown",function(a){n.click("roadview",["top_menu","past_view","overlap_button_drag"]);D=a.clientX;v.on("mousemove",c);v.on("mouseup",d);a.stopPropagation()});s.on("panoid_changed",function(){G&&G.isActive()&&(l(),k(),j(G.getPanoId()))});u.click(function(){e();n.click("roadview",["top_menu","past_view","overlap_mode"])});q.click(function(){G.changeSplitMode();
q.addClass("on");u.removeClass("on");C.addClass("HIDDEN");A.removeClass("HIDDEN");$=v.width()/2;n.click("roadview",["top_menu","past_view","split_mode"])});var ka=34;y.click(function(){A.hasClass("opt_open")?f():h()});t.on("click","li > a",function(a){var a=jQuery(a.currentTarget),b=a.data("pano-id");G.show(b);O.notify(b);r(a.text(),a);f();"COMPARE"===G.getViewType()?n.click("roadview",["top_menu","past_view","overlap_select_past"]):"SPLIT"===G.getViewType()&&n.click("roadview",["top_menu","past_view",
"split_select_past"])});this.isActive=function(){return!!G&&G.isActive()};this.getElement=function(){return o.getElement()};this.hide=p;this.show=function(a){G=s.getPastCompareView();if(0<s.getPanoramaData().getPastList().length)return j(a),G.on("ratio_changed",function(){var a=100*G.getRatio();0===G.getRatio()?z=1:1===G.getRatio()&&(z=-1);C.css({left:a+"%"});J.css({width:a+"%"});Q.css({width:100-a+"%"})}),G.show(a),A.removeClass("HIDDEN"),l(),k(),o.removeClass("HIDDEN"),e(),S.notify(),$=v.width()/
2,A.removeClass("HIDDEN"),!0;alert("\uacfc\uac70 \ub85c\ub4dc\ubdf0\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uc704\uce58\uc785\ub2c8\ub2e4.");return!1};this.closeDiffView=b}function P(a){this.width=P.INACTIVE_WIDTH;this.height=P.INACTIVE_HEIGHT;this.onResize=new m;this.panel_=i.$("view.deco");this.zoom_=i.$("miniZoomControl");this.frame_=i.$("view.deco.frame");this.minimapEdge=jQuery("#minimapEdge");this.mapView=jQuery("#view\\.map");this.expandBtn=jQuery("#view\\.deco\\.toggle");this.expandBtn.click(this.toggleMinimize.bind(this));
this.resizeBtn=jQuery("#view\\.deco\\.drag");this.mode=P.FULL;this.lastPos=this.lastMode=null;this.lastSize={};this.isIE=a.isBrowserIE;a=function(){Application.roadviewController.walker_.walkerTracker.run();this.minimapEdge.addClass("HIDDEN");var a=null;this.lastMode===P.CUSTOM_EDGE?(a=this.getCustomStyle(this.width,this.height),this.setFramePosition(a)):this.lastMode===P.VERTICAL_FULL_EDGE&&(a=this.getVerticalFullStyle(this.width),this.setFramePosition(a));this.mode===P.VERTICAL_FULL?n.click("roadview",
["mini_map","map_drag","full_vertical"]):jQuery("body").width()/2<=this.width&&n.click("roadview",["mini_map","map_drag","full_horizontal"])}.bind(this);this.resizeBtn.uidraggable({dragstart:function(){n.click("roadview",["mini_map","map_drag"]);this.offHoverEvent();Application.roadviewController.walker_.walkerTracker.stop();this.minimapEdge.removeClass("HIDDEN")}.bind(this),drag:function(a){this.onFrameDrag_(a)}.bind(this),dragend:a,dragcancel:a});this.onMouseEnter=this.onMouseEnter.bind(this);this.onMouseLeave=
this.onMouseLeave.bind(this)}function Df(a){function b(){d.addClass("HIDDEN");l.setVisible(!1)}function c(){d.removeClass("HIDDEN");l.setVisible(!0);r.notify()}var d=this.pane=H("CanvasRoadviewHeaderView"),e=d.$("close"),f=d.$("dateListContainer"),h=d.$("nowDateBtn"),g=d.$("address"),k=d.$("pastInfo"),l=new Ef(a),j=this.onClose=new m;this.onDiffView=new m;var r=this.onShow=new m;jQuery("#view").prepend(l.pane.getElement());jQuery("#view").prepend(d.getElement());e.on("click",function(){n.click("roadview",
["top_menu","close"]);j.notify()});a.on("panoid_changed",function(){var b=a.getPanoramaData(),d=a.getPastCompareView();"ROADVIEW"===b.type&&!d.isActive()?(c(),g.text(b.address),h.text(b.date.substr(0,4)+"\ub144 "+b.date.substr(5,2)+"\uc6d4"),l.setVisible(!0),0===b.getPastList().length?k.addClass("date_none"):k.removeClass("date_none")):"STOREVIEW"===b.type&&(l.setVisible(!1),l.hide(!0))});a.on("panoid_left",function(){"STOREVIEW"===a.getPanoramaData().type&&b()});l.onDiffView.add(function(a){this.onDiffView.notify(a)},
this);l.onClose.add(function(){f.removeClass("opt_open")});l.onShow.add(function(){f.addClass("opt_open")});h.click(function(){f.hasClass("opt_open")?l.hide():(n.click("roadview",["top_menu","past_preview","open"]),l.show())});this.relayoutPastThumbView=function(){l.relayout()};this.initWidth=function(){d.css({width:"100%",left:0});l.setLeft(0)};this.updateWidthForVerticalFull=function(a){d.css({left:a,width:"calc(100% - "+a+"px)"});l.setLeft(a)};this.updatePastThumb=function(a){l.updatePastThumb(a)};
this.updatePastViewVisibility=function(a){var b=0,c=0;"object"===typeof a?(c=a.height,b=jQuery(B).height()):(b=a,c=Application.frameDecorator.mapView.height());l.isShow()&&348>b-c&&l.hide()};this.hidePastView=function(){l.hide(!0)};this.getElement=function(){return d.getElement()};this.hide=b;this.show=c}function Ef(a){function b(a){if(z){var b=a.clientX-Ea,c=Math.min(Math.max(y.position().left+b,ka),$),b=c+ja;y.css("left",c);c=Math.floor(b/E);b%E>E/2&&c++;c=Math.min(F.length-1,c);if(-1===cc||c!==
cc)b=F[c],M.text(l(new Date(b.date.split(" ")[0]))),u.show(b.panoId),cc=c,n.click("roadview",["top_menu","past_preview","past_year_slider"]);Ea=a.clientX;d()}}function c(a){Jb&&d();a?(v.css({width:0,height:0}),j.removeClass("HIDDEN")):v.stop().animate({width:0,height:0},{duration:Y,easing:L,always:function(){u.hide();u.off();u=null;j.addClass("HIDDEN")}});r.notify();X=!1}function d(){clearTimeout(Ia);A.getElement().pause();A.addClass("HIDDEN");C.addClass("HIDDEN");J.addClass("HIDDEN")}function e(){jQuery.cookie(wa,
!0,{expires:3650});Jb=!jQuery.cookie(wa);A.remove();J.remove();C.remove()}function f(){A.removeClass("HIDDEN");A.getElement().currentTime=0;A.getElement().play();J.removeClass("HIDDEN");Q.css({width:"0%"});Ia=setTimeout(function(){C.removeClass("HIDDEN")},15E3)}function h(){null===u&&(u=s.getPastThumbView(),i.append(u.getElement()),u.on("past_empty",function(){g()}),u.on("past_changed",k),u.on("show",function(){1>F.length?w.addClass("btn_disabled"):w.removeClass("btn_disabled");p.notify();X=!0;v.stop().animate({width:x,
height:B},{duration:Y,easing:L})}));F&&0<F.length?u.show(F[0].panoId):(u.show(null),g())}function g(){q.html("");y.addClass("HIDDEN")}function k(){var a=u.getPanoId(),b=null,c=null,d=F.length;if(0===d)g();else{y.removeClass("HIDDEN");b=new Date(F[0].date.split(" ")[0]);1<d?(c=new Date(F[F.length-1].date.split(" ")[0]),c.getFullYear(),b.getFullYear(),b.getMonth(),c.getMonth(),E=S/(d-1)):E=0;b="";T=[];for(c=0;c<d;c++){var e=F[c],f=new Date(e.date.split(" ")[0]),h=E*c,f=l(f);if(e.panoId===a){var j=f;
y.css({left:h-ja});M.text(j)}T.push(h);h-=V;b+='            <li style="left:'+h+'px">                <button type="button" class="btn_util btn_date" data-pano-id="'+e.panoId+'">                    <span class="tooltip_btn">'+f+"</span>                </button>            </li>"}q.html(b)}}function l(a){return a.getFullYear()+"."+(9<a.getMonth()+1?a.getMonth()+1:"0"+(a.getMonth()+1))}var j=this.pane=H("CanvasRoadviewPastThumbnailView"),r=this.onClose=new m,p=this.onShow=new m,o=this.onDiffView=new m,
s=a,i=j.$("pastThumbViewContainer"),u=null,q=j.$("pastIconContainer"),a=j.$("closeBtn");j.$("timelineContainer");var w=j.$("diffBtn"),y=j.$("indicator"),M=j.$("indicatorDate"),A=j.$("guideVideo"),J=j.$("videoProgress"),Q=jQuery(j.$("videoCurrent").getElement()),C=j.$("coachmark"),G=j.$("coachmarkUnderstandBtn"),O=j.$("coachmarkCloseBtn"),F=null,S=200,ja=8,V=2,v=jQuery(j.getElement()),X=!1,x=360,B=280,z=!1,$=200-ja,ka=0-ja,D=jQuery("body"),T=[],E=0,Y=180,L="easeOutCubic",wa="cookie_past_guide",Jb=
!jQuery.cookie(wa),cc=-1,Ea=0,Ia=null;v.on("mousedown",function(a){a.stopPropagation()});v.css({width:0,height:0});Jb?(A.on("click",function(){clearTimeout(Ia);C.removeClass("HIDDEN")}),A.on("timeupdate",function(a){var b=a.currentTarget,a=b.duration,b=b.currentTime;Q.stop().animate({width:100*(b/a)+"%"},{duration:300})}),A.on("ended",function(){J.stop().animate({opacity:0},{duration:500,easing:"easeOutCubic",always:function(){J.addClass("HIDDEN");J.css({opacity:1})}});A.stop().animate({opacity:0},
{duration:500,easing:"easeOutCubic",always:function(){A.addClass("HIDDEN");A.css({opacity:1})}})}),O.on("click",function(){d()}),G.on("click",function(){e()})):e();s.on("panoid_changed",function(){s.getPanoramaData().type==="ROADVIEW"&&(F=s.getPanoramaData().getPastList())});q.on("click",function(a){if(s.isIdle()){var b=a.offsetX,a=Math.floor(b/E);b%E>E/2&&a++;if(a!==cc){b=F[a];M.text(l(new Date(b.date.split(" ")[0])));u.show(b.panoId);cc=a;d();n.click("roadview",["top_menu","past_preview","past_year_slider"])}}});
q.on("click","button.btn_date",function(a){if(s.isIdle()){var b=jQuery(a.currentTarget);cc=b.parent().index();u.show(b.data("pano-id"));n.click("roadview",["top_menu","past_preview","past_year_slider"]);d();a.stopPropagation()}});w.click(function(){if(s.isIdle()){var a=u?u.getPanoId():null;n.click("roadview",["top_menu","past_view","open"]);o.notify(a)}});a.click(function(){c()});y.on("mousedown",function(a){if(F.length>1&&s.isIdle()){z=true;Ea=a.clientX;cc=-1;u.off("past_changed",k);D.on("mousemove",
b);D.one("mouseup",function(){z=false;D.off("mousemove",b);u.on("past_changed",k);cc!==-1&&y.css("left",T[cc]-ja)})}});this.updatePastThumb=function(a){var b=jQuery(q.find('li button[data-pano-id="'+a+'"]').parent()),c=b.position().left+V-ja,b=b.text().trim();y.css({left:c});M.text(b);u.show(a)};this.isShow=function(){return X};this.setLeft=function(a){j.css("left",a+15)};this.relayout=function(){u.relayout()};this.show=function(){if(s.isIdle()){j.removeClass("HIDDEN");h();Jb&&f()}};this.hide=c;this.setVisible=
function(a){j.toggleClass("HIDDEN",!a)};this.getElement=function(){return j.getElement()}}function Ff(a){function b(){s.stop().animate({height:0},{duration:J,easing:Q,complete:function(){o.removeClass("util_on");jQuery("body").off("mousedown",d)}})}function c(){var a=s.children().not(".HIDDEN").length;s.css("height",0);o.addClass("util_on");s.stop().animate({height:A*a},{duration:J,easing:Q,complete:function(){jQuery("body").on("mousedown",d)}})}function d(a){for(var a=jQuery(a.target).parents(),
c=0;c<a.length;c++)if(o.is(a[c]))return;b()}function e(){var a=Application.favoriteController.getFavoriteIdMap(),b=l.getPanoramaData();if(null!==b){var c=null,c="STOREVIEW"===b.type?l.getStoreId():l.getPanoId();a:{for(var b=["roadview","storeview"],d=0;d<b.length;d++){var e=b[d];if(a[e])for(var f=Object.keys(a[e]),g=0;g<f.length;g++){var h=f[g];if(c===parseInt(h)&&0<a[e][h].length){m={seq:a[e][h][0].seq,folderId:a[e][h][0].folderId};break a}}}m=null}m?i.addClass("on"):i.removeClass("on")}}function f(a){var b=
l.getPanoramaData();j.css("transform","rotate("+("STOREVIEW"===b.type?b.northAngle-a:0-a)+"deg)")}function h(){if(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}function g(){var a=l.getPanoramaData(),
b=Application.favoriteController,c=l.getPosition(),d=l.getViewpoint(),e={x:c.x,y:c.y,pan:d.pan,tilt:d.tilt,zoom:d.zoom},a=l.getPanoramaData();"STOREVIEW"==a.type?(e.type="storeview",e.key=a.storeId,e.spot_id=a.storePanoId,e.display1=a.place):(e.type="roadview",e.key=a.panoId,e.display1=a.address);c=function(){b.add(e);n.click(a.type.toLowerCase(),["control","function","favorite"])};b.openLoginPopup(c)?c():n.click("login",["favorite","add_favorite"])}var k=H("CanvasRoadviewUtilMenuView"),l=a,j=k.$("compass"),
r=k.$("zoomIn"),p=k.$("zoomOut"),a=k.$("openUtilBtn"),o=k.$("utilContainer"),s=k.$("btnList"),i=k.$("favContainer"),u=k.$("reportContainer"),q=k.$("shareContainer"),w=k.$("fullScreenContainer"),y=k.$("exitFullScreenContainer"),m=null,A=41,J=180,Q="easeOutCubic";jQuery("#view").prepend(k.getElement());p.addClass("btn_disabled");p.attr("disabled",!0);Application.favoriteController.onChangeItem.add(e);k.on("mousedown",function(a){a.stopPropagation()});l.on("panoid_changed",function(){var a=l.getViewpoint();
f(a.pan);e()});l.on("viewpoint_changed",function(){var a=l.getViewpoint();f(a.pan);6===a.zoom?(r.addClass("btn_disabled"),r.attr("disabled",!0)):(r.removeClass("btn_disabled"),r.attr("disabled",!1));0===a.zoom?(p.addClass("btn_disabled"),p.attr("disabled",!0)):(p.removeClass("btn_disabled"),p.attr("disabled",!1))});j.click(function(){var a=l.getViewpoint(),b=l.getPanoramaData(),c=0;l.setViewpoint(a);"STOREVIEW"===b.type&&(c=b.northAngle);n.click(b.type.toLowerCase(),["control","tool","compass"]);
a.pan=c;f(c);l.setViewpoint(a)});a.click(function(){var a=l.getPanoramaData();o.hasClass("util_on")?(b(),n.click(a.type.toLowerCase(),["control","function","hide"])):(c(),n.click(a.type.toLowerCase(),["control","function","open"]))});r.click(function(){var a=l.getPanoramaData();n.click(a.type.toLowerCase(),["control","tool","zoom_in"]);a=l.getViewpoint();a.zoom=Math.min(a.zoom+1,6);l.setViewpoint(a,!0)});p.click(function(){var a=l.getPanoramaData();n.click(a.type.toLowerCase(),["control","tool","zoom_out"]);
a=l.getViewpoint();a.zoom=Math.max(a.zoom-1,0);l.setViewpoint(a,!0)});s.on("click","button.btn_util",function(a){switch(jQuery(a.currentTarget).data("id")){case "screenshot":a=l.getPanoramaData();n.click(a.type.toLowerCase(),["control","function","capture"]);a=l.getPastCompareView();a.isActive()?a.capture():l.capture();break;case "fullScreen":a=l.getPanoramaData();n.click(a.type.toLowerCase(),["control","function","fullscreen"]);a=document.documentElement;a.requestFullscreen?a.requestFullscreen():
a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen();break;case "exitFullScreen":h();break;case "fav":g();b();break;case "report":a=l.getPanoramaData();n.click(a.type.toLowerCase(),["control","function","fiy"]);var c=l.getViewpoint(),d=l.getPosition(),e={},e={type:"roadview",rawInfo:{panoX:d.x,panoY:d.y,panoId:l.getPanoId(),pan:c.pan,tilt:c.tilt,zoom:c.zoom}};e.rawInfo.roadviewFrom="fiybtn";e.channel="LABEL_TOP";
e.channel="FROM_ROADVIEW";e.displayAddress=a.address;Application.fiyFrameController.open(e);b();break;case "share":a=l.getPanoramaData(),n.click(a.type.toLowerCase(),["control","function","share"]),Application.shareController.show(),b()}});jQuery(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?(w.addClass("HIDDEN"),y.removeClass("HIDDEN")):
(w.removeClass("HIDDEN"),y.addClass("HIDDEN"))});this.exitFullScreen=h;this.setRoadviewMenu=function(){q.removeClass("HIDDEN");i.removeClass("HIDDEN");u.removeClass("HIDDEN");var a=s.children().not(".HIDDEN").length;s.css("height",A*a)};this.setStoreviewMenu=function(){q.removeClass("HIDDEN");i.removeClass("HIDDEN");u.addClass("HIDDEN");var a=s.children().not(".HIDDEN").length;s.css("height",A*a)};this.setDiffViewMenu=function(){q.addClass("HIDDEN");i.addClass("HIDDEN");u.addClass("HIDDEN");var a=
s.children().not(".HIDDEN").length;s.css("height",A*a)}}function Gf(a,b){function c(a,b){function c(a,b,d){if(!a)return!1;for(var e=a.length,h=0;h<e;h++){var j=a[h];if(j.storePanoId){if(j.storePanoId===b)return f[d]=j.label,g[d]=h,!0}else{var k=c((j.spots||[]).concat(j.childs),b,d+1);if(k)return f[d]=j.label,g[d]=h,k}}return!1}var f=[],g=[];c(a,b,0);d(a,g);e.notify(f)}function d(a,c){var d=c.length,e="",h=a,l=[],q=b.find("ul"),i=q.length;if(d<i){for(var y=i-d;y<i;y++)q[y].remove();q.splice(i-d,i)}i=
[];for(y=0;y<d;y++){var m=c[y],A=0<=y-1?c[y-1]:"root",e=b.find("."+f+(y+1)),J=0!==e.length,Q=e.data("parent-idx")===A;if(J&&Q)e.find("li.on").removeClass("on"),jQuery(e.children()[m]).addClass("on"),i.push(null);else{for(J=y;J<q.length;J++)jQuery(q[J]).remove();e="";e+='<ul class="list_opt '+(f+(y+1))+'" data-parent-idx="'+A+'">';A=h.length;for(J=0;J<A;J++)Q=0===l.length?J:l.join(",")+","+J,e+='<li class="'+(m===J?"on":"")+'"><a href="#none" data-store-pano-id="'+(h[J].storePanoId||"")+'" data-path="'+
Q+'" class="link_opt">'+h[J].label+"</a></li>";e+="</ul>";A=jQuery(e);b.append(A);i.push(A)}l.push(m);y<d-1&&(h=(h[m].spots||[]).concat(h[m].childs))}j=[];if(b.is(":visible"))if(d=null!==i[i.length-1],k&&!d)l=b.find("."+f+(q.length-1+1)+" > li.on").index(),jQuery(q[q.length-1]).scrollTop(l*g);else for(y=0;y<l.length;y++){var C=i[y];C&&C.scrollTop(l[y]*g)}else for(y=0;y<l.length;y++)j[y]=null===C?null:l[y]*g}this.pane=b;var e=this.onUpdate=new m,f="opt_depth",h=null,g=34,k=!0,l=this.onShow=new m,j=
[];a.on("panoid_changed",function(){var d=a.getPanoramaData();"STOREVIEW"===d.type&&(h!==d.storeId&&(b.html(""),h=d.storeId),c(d.getMenuTree(),d.storePanoId),k=!0)});b.on("mousedown",function(a){a.stopPropagation()});b.on("click","li > a",function(c){c=jQuery(c.currentTarget);if(!jQuery(c.parent()).hasClass("on")){var d=(c.data("path")+"").split(","),g=c.data("store-pano-id"),h=a.getPanoramaData().getMenuTree();g&&(n.click("storeview",["top_menu","list_open","move"]),a.setStoreId(a.getStoreId(),g),
k=!1);for(var j=d.length,g=[],l=0;l<j;l++){var q=1*d[l];if(b.find("."+f+(l+1)+" > li.on").index()!==q)break}var i=b.find("ul").length;if(l<i)for(j=l+1;j<i;j++)b.find("."+f+(j+1)).remove();i=[];for(j=0;j<=l;j++)q=d[j],i.push(q),g.push(h[q].label),h=(h[q].spots||[]).concat(h[q].childs);if(!(1===h.length&&void 0===h[0])){d='<ul class="list_opt '+(f+(l+2))+'" data-parent-idx="'+i[i.length-1]+'">';l=h.length;for(j=0;j<l;j++)q=i.concat(j).join(","),d+='<li><a href="#none" data-store-pano-id="'+(h[j].storePanoId||
"")+'" data-path="'+q+'" class="link_opt">'+h[j].label+"</a></li>";b.append(d+"</ul>");e.notify(g)}c.parent().siblings(".on").removeClass("on");c.parent().addClass("on")}});l.add(function(){for(var a=b.find("ul"),c=j.length,d=0;d<c;d++){var e=j[d];e&&jQuery(a[d]).scrollTop(e)}})}function Hf(a){function b(){d.addClass("HIDDEN");k.init()}function c(){d.removeClass("HIDDEN");r.notify()}var d=H("CanvasStoreviewHeaderView"),e=d.$("close"),f=d.$("placeName"),h=d.$("nearRoadviewBtn"),g=d.$("date"),k=new If(a),
l=this.onClose=new m,j=this.onNearRoadview=new m,r=this.onShow=new m;d.append(k.pane.getElement());jQuery("#view").prepend(d.getElement());a.on("panoid_changed",function(){var b=a.getPanoramaData();"STOREVIEW"===b.type&&(c(),f.text(b.place),g.text(b.date.substr(0,4)+"\ub144 "+b.date.substr(5,2)+"\uc6d4"))});a.on("panoid_left",function(){"ROADVIEW"===a.getPanoramaData().type&&b()});h.on("click",function(){n.click("storeview",["top_menu","go_roadview"]);var b=a.getPanoramaData().confirmId;ca.find(b,
function(a){j.notify(a)})});e.on("click",function(){n.click("storeview",["top_menu","close"]);l.notify()});this.getElement=function(){return d.getElement()};this.hide=b;this.show=c}function Jf(a,b){var c,d,e,f;function h(a){y=Math.floor(u*(a+0.2));m=Math.floor(q*(a+0.2));c=-(m-q);d=-(y-u);f=e=0;A=Math.floor(274*a);J=Math.floor(3*(A/4));Q=A/w}function g(){X===C?(E.addClass("disabled"),H.removeClass("disabled")):(X===G?H.addClass("disabled"):H.removeClass("disabled"),E.removeClass("disabled"))}function k(a){var b;
"warp"===a?a=b=10:(a=8,b=23);return{x:a,y:b}}function l(a){var b=a.pageX-wa.x,c=a.pageY-wa.y,d=B.css("left"),e=B.css("top"),d=1*d.substr(0,d.length-2),e=1*e.substr(0,e.length-2);j(d+b,e+c);wa={x:a.pageX,y:a.pageY};L.removeClass("disabled")}function j(a,b){d>a?a=d:f<a&&(a=f);c>b?b=c:e<b&&(b=e);B.css("left",a+"px");B.css("top",b+"px")}function r(){wa=null;jQuery("body").off("mousemove",l);jQuery("body").off("mouseup",r)}function p(){T.text((22*(w/O)/w/Q).toFixed(2)+"m")}function o(){x.css({width:A,
height:J});$.css({width:A,height:J});B.css("width",y+"px");B.css("height",m+"px")}function i(){B.css("left",-(y/2)+u/2+"px");B.css("top",-(m/2)+q/2+"px");L.addClass("disabled")}function t(a){F[S].find(".direction").css({transform:"rotate("+(a-90)+"deg)"})}var u=400,q=310,w=800,y=0,m=0,A=f=e=d=c=0,J=0,Q=0,C=1,G=2.6,O=0,F={},S=null,ja=null,V=-1,v=null,X=C;h(X);var x=b.find('[data-id="minimapImg"]'),B=b.find('[data-id="minimapPanel"]'),z=b.find('[data-id="minimapContainer"]'),$=b.find('[data-id="minimapWrapper"]'),
ka=b.find('[data-id="markerContainer"]'),D=b.find('[data-id="minimapCompass"]'),T=b.find('[data-id="mapScale"]'),H=b.find(".zoomin"),E=b.find(".zoomout"),L=b.find(".reset"),wa=null;z.css("width",u+"px");z.css("height",q+"px");a.on("panoid_changed",function(){ja=a.getPanoramaData();if("STOREVIEW"===ja.type){var b=ja.getMiniMap();a.getStoreId()!==v&&(X=C,h(X));if(V!==b.mapId){V=b.mapId;O=b.pixelPerMeter;x.attr("src","https://map.daumcdn.net/map_roadview/"+b.imagePath);o();i();p();D.css("transform",
"rotate("+ja.northAngle+"deg)");b=b.spots;ka.html("");F={};for(var c=0;c<b.length;c++){var d=b[c],e=d.position.x,f=d.position.y,g=d.spotType,j="",j="warp"===g?'<button type="button" class="ico_minimap2 point stare">            <span class="tooltip_btn">\uacc4\ub2e8</span>        </button>':'<button type="button" class="ico_minimap2 point" >            <span class="ico_minimap2 direction" ></span>            <span class="tooltip_btn">\ub9ac\ube59\ucf54\ub1081</span>        </button>',l=k(g),j=jQuery(j);
j.find(".tooltip_btn").text(d.label);j.data("pano-id",d.storePanoId);j.data("type",g);j.data("origin-x",e);j.data("origin-y",f);j.css({left:e*Q-l.x,top:f*Q-l.y});F[d.storePanoId]=j;ka.append(j)}S=ja.storePanoId}b=ja.storePanoId;c=a.getViewpoint().pan;null!==S&&F[S].removeClass("on");S=b;F[S].addClass("on");t(c);v=a.getStoreId()}});a.on("viewpoint_changed",function(){if(ja&&"STOREVIEW"===ja.type){var b=a.getViewpoint().pan;t(b)}});L.addClass("disabled");b.on("click","button.point",function(b){b=jQuery(b.currentTarget);
if(!b.hasClass("on")){var c=b.data("pano-id"),d=a.getStoreId();F[S].removeClass("on");a.setStoreId(d,c);b.hasClass("stare")?n.click("storeview",["top_menu","mini_map","warp"]):n.click("storeview",["top_menu","mini_map","move"])}});b.on("click","#miniZoomControl a",function(a){var b=jQuery(a.currentTarget).data("type");"zoomIn"===b?(X=Math.min(X+0.8,G),n.click("storeview",["top_menu","mini_map","zoom_in"])):"zoomOut"===b?(X=Math.max(X-0.8,C),n.click("storeview",["top_menu","mini_map","zoom_out"])):
"reset"===b&&(X=C,n.click("storeview",["top_menu","mini_map","reset"]));g();var a=y,c=m;h(X);for(var a=a-y,c=c-m,d=Object.keys(F),e=0;e<d.length;e++){var f=F[d[e]],l=f.data("origin-x"),r=f.data("origin-y"),A=f.data("type"),A=k(A);f.css({left:l*Q-A.x,top:r*Q-A.y})}o();"reset"===b?i():(b=B.css("left"),d=B.css("top"),b=1*b.substr(0,b.length-2),d=1*d.substr(0,d.length-2),j(b+a/2,d+c/2));if(a=X===C)a=B.position(),b=a.top,a=a.left===-(y/2)+u/2&&b===-(m/2)+q/2;a?L.addClass("disabled"):L.removeClass("disabled");
p()});B.on("mousedown",function(a){wa={x:a.pageX,y:a.pageY};jQuery("body").on("mousemove",l);jQuery("body").on("mouseup",r);a.stopPropagation();a.preventDefault()});this.init=function(){v=null;V=-1};this.show=function(){g();b.removeClass("HIDDEN")};this.hide=function(){b.addClass("HIDDEN")}}function If(a){function b(){d.removeClass("HIDDEN")}function c(){d.addClass("HIDDEN")}var d=this.pane=H("CanvasStoreviewPlaceMenuView"),e=d.$("minimapBtn"),f=d.$("depthMenuBtn"),h=new Jf(a,d.$("minimap")),g=new Gf(a,
d.$("depthMenu"));a.on("panoid_changed",function(){"STOREVIEW"===a.getPanoramaData().type?b():c()});f.click(function(){e.removeClass("on");h.hide();f.toggleClass("navi_on");f.hasClass("navi_on")&&(n.click("storeview",["top_menu","list_open"]),g.onShow.notify())});e.click(function(){e.toggleClass("on");e.hasClass("on")?(n.click("storeview",["top_menu","mini_map","open"]),h.show()):(n.click("storeview",["top_menu","mini_map","close"]),h.hide());f.removeClass("navi_on")});g.onUpdate.add(function(a){for(var b=
a.length,c="",d=0;d<b;d++)c+='<span class="txt_depth1">'+a[d]+"</span>",d<b-1&&(c+='<span class="txt_bar"> &gt; </span>');f.html(c)});this.init=function(){e.removeClass("on");h.hide();f.removeClass("navi_on");h.init()};this.hide=c;this.show=b}function pd(){ga(this,i,"div");this.addClass("CarFunctionToolBar");var a=this.print_=new i("a");a.addClass("print");a.setText("\uacbd\ub85c\uc778\uc1c4");a.onClick.add(this.clickPrint_,this);var b=this.favorite_=new i("a","favorite"),c=new i("span","ico_fav");
c.addChild(new i("span","num","0"));b.addChild(c);b.addChild(" \uc990\uaca8\ucc3e\uae30");b.onClick.add(this.clickFavorite_,this);c=this.alook_=new i("a");c.addClass("alook");c.setText("\uacbd\ub85c \ud55c\ub208\uc5d0");c.onClick.add(this.clickAlook_,this);this.addChild(a);this.addChild(c);this.addChild(b);this.onClick=new m}function Le(a){function b(){var a=jQuery("#info\\.body").scrollTop(),b=a+(f.position().top-98),a=0.5*Math.abs(b-a);3E3<a&&(a=1E3);jQuery("#info\\.body").animate({scrollTop:b},
a,function(){})}function c(){w=!0;var b=u,c=0;a.checkpoints.forEach(function(d,f){var g=a.pointGroups[f];g&&(c=g.count,g=new Me(g),u.append(g.getPane()),b=g);g=null;d.seq===K.START||d.seq===K.VIA||d.seq===K.END?(g=new (require("view/StartEndPointItemView"))(d),g.onRoadview.add(function(){Application.roadviewController.show(point.roadview);n.click("route","go_public_roadview")})):g=Xc(d);g instanceof Xc&&g.onAccClick.add(function(a){r.notify(a)});g.onClick.add(function(){l.notify(f);e()});g.onRoadview.add(function(){j.notify(f)});
b.addItem?(g.setInExpress(!0),b.addItem(g)):(g instanceof Xc&&g.onMouseEnter.add(function(a){a.scrollTo()}),b.append(g.getPane()));0>=--c&&(b=u);q[f]=g})}function d(a){a&&!w&&c();h=a;f.toggleClass("CarRouteItem-DETAIL",h)}function e(){q.forEach(function(a){a.setActive&&a.setActive(!1)})}if(!(this instanceof Le))return new arguments.callee(a);console.assert(a instanceof Ka);var f=H("CarRouteItemView"),h=!1,g=this.onHover=new m,k=this.onDetail=new m,l=this.onCheckpoint=new m,j=this.onRoadview=new m,
r=this.onAccClick=new m,p=this.onRoadviewVideo=new m,o=f.$("summary"),i=new Kf,t=!1;i.onRoadviewVideo.add(function(){t?alert("\uc774\ubbf8 \uc2e4\ud589 \uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824 \uc8fc\uc138\uc694."):(t=!0,p.notify())});o.append(i.getPanel());var o=f.$("detail"),u=jQuery('<ul class="list"></ul>');o.append(u);var q=this.checkpoints_=[];i.setData(a);i.onClick.add(function(){d(!h);k.notify(h);h&&n.click("route","go_car_"+a.source)});var w=!1;f.hover(function(){g.notify(!0)},
function(){g.notify(!1)});this.setDetail=function(a){d(a)};this.isDetailOpen=function(){return h};this.getPanel=function(){return f};this.setIndex=function(a){e();if((a=q[a])&&a.setActive)a instanceof Xc&&a.getInExpress()&&a.expandExpress(),a.setActive(!0)};this.clickableRoadviewVideo=function(){t=!1};this.inActiveSeqView=function(){e()};this.setCarInfo=function(a,b,c){i&&i.setCarInfo(a,b,c)};this.setHover=function(a){f.toggleClass("CarRouteItem-HOVER",a)};this.animationScroll=function(){b()};this.getTollValue=
function(){return i?i.getTollValue():-1}}function Kf(a){function b(a){l=a;var b=a.time;d.html("");var f=90>b?1:Math.round(b/60),b=f/60|0,f=f%60;0<b&&(b=new i("span","num",b),d.append(b.getElement()),d.append(jQuery('<span class="text">\uc2dc\uac04 </span>')));0<f&&(b=new i("span","num",f),d.append(b.getElement()),d.append(jQuery('<span class="text">\ubd84</span>')));b=a.distance;e.html("");b=(b/1E3).toFixed(1);0<=b&&(b=new i("span","num",b),e.append(b.getElement()),e.append(jQuery('<span class="text">km</span>')));
b=String.formatNumber(a.taxiFare);h.html('\ud0dd\uc2dc\ube44 \uc57d <span class="num" >'+b+"</span>\uc6d0");c.$("split-taxi").show();h.show();a.ferryNode?c.addClass("ferryNode"):c.removeClass("ferryNode")}var c=H("CarRouteSummaryView");this.onRoadviewVideo=new m;this.onClick=new m;var d=c.$("time"),e=c.$("distance"),f=c.$("toll"),h=c.$("taxi"),g=c.$("oil"),k=-1,l=null;c.on("click",function(a){jQuery(a.target).hasClass("roadviewVideo")});a&&b(a);this.setData=function(a){b(a)};this.getPanel=function(){return c};
this.setCarInfo=function(a,b,d){b=((l.lenthOnRoad/1E3).toFixed(1)/+d*+b).toFixed(0);b=String.formatNumber(+b);g.show();c.find(".info").addClass("addInfo");g.html('\uc8fc\uc720\ube44 \uc57d <span class="num" >'+b+"</span>\uc6d0");c.$("split-oil").show();a=l.tollFares[a-1];b=String.formatNumber(a);f.html('\ud1b5\ud589\ub8cc \uc57d <span class="num" >'+b+"</span>\uc6d0");f.show();k=+a};this.getTollValue=function(){return k}}function Me(a){function b(a){r=a;c.toggleClass("CheckpointItemGroupView-ACTIVE",
!!a)}if(!(this instanceof Me))return new arguments.callee(a);var c=H("CheckpointItemGroupView"),d=c.$("icon"),e=c.$("name"),f=c.$("time"),h=c.$("distance"),g=c.$("detailBtn"),k=c.$("overview"),l=c.$("checkpoints"),j=jQuery("#info\\.body"),r=!1;d.set(a.number);e.set(a.name);d="";60<a.time?((e=a.time/3600|0)&&(d+=e+"\uc2dc\uac04"),d+=(a.time/60|0)%60+"\ubd84"):d="1\ubd84";f.set(d);h.set(String.formatDistance(a.distance));g.click(function(){b(!r);n.click("route","go_car_expressway_"+(r?"open":"close"));
Application.windowController.onHeightChange.notify()});a.item.forEach(function(a,b,c){if(!(b!=0&&c.length-1!=b&&a.type!="through")){var d=jQuery("<span/>").addClass("sectionImg");if(a.type=="through")d.addClass("through");else{var e=a.seq,f=Math.floor((e-1)/10)*30;f<0&&(f=0);d.css("backgroundPosition",-((e-1)%10*30)+"px "+-f+"px");d.addClass("seqIcon")}b==0&&d.addClass("first");d.appendTo(k);d="";a.type!="through"&&(d=a.name+" ");c.length-1!=b&&(d=d+"-");jQuery("<span/>").set(d).appendTo(k)}});b(!1);
this.getPane=function(){return c};this.setActive=b;this.getActive=function(){return r};this.addItem=function(a){a.onExpand.add(function(){b(true)});a.onMouseEnter.add(function(a){if(r)a.scrollTo();else{var a=B.document.documentElement.clientTop,b=j.scrollTop(),a=c.offset().top-j.offset().top+b-a;j.scrollTop(a-j.outerHeight()/2)}});a.getPane().appendTo(l)}}function Xc(a){function b(a){w=!!a;f();a&&c()}function c(){if(J){var a=j,b=J,c=B.document.documentElement.clientTop,d=b.scrollTop(),a=a.offset().top-
b.offset().top+d-c;J.scrollTop(a-J.outerHeight()/2)}}function d(){y=!0;f()}function e(){y=!1;n||f()}function f(){var a=y||w;j.toggleClass("CheckpointItem-ACTIVE",!!a);A&&(A.setHover(a),A.setActive(a))}if(!(this instanceof Xc))return new arguments.callee(a);console.assert(a instanceof K);var h=this.onClick=new m,g=this.onRoadview=new m;this.onAccClick=new m;var k=this.onExpand=new m,l=this.onMouseEnter=new m,j=H("CheckpointItemView"),r=j.$("roadview"),i=j.$("traffic"),o=j.$("arrow"),s=j.$("state");
j.$("seq");var t=j.$("name"),u=j.$("desc"),q=j.$("accident"),w=!1,y=!1,M=!1,A=null,J=null,n=!1;(function(){r.click(function(){g.notify(null)})})();null==a.rotation?i.hide():(a.roadview||i.addClass("only"),a.ferry&&i.addClass("ferry"),o.addClass("rotate_"+a.rotation),o.addClass("traffic_"+a.traffic),s.set(K.getTrafficText(a.traffic)||""));(function(){var b=a.seq;b>99&&j.addClass("bigIndex");j.$("seq").text(b)})();(function(){var c=a.name;if(c=="")t.hide();else{t.addClass(a.tollgate?"tollgate":a.restArea?
"restArea":"");t.set(c);t.click(function(){h.notify(null);b(true)})}})();(function(){var c=a.info;if(c=="")u.hide();else{a.name||u.addClass("noname");u.set(c.split(/\n/g).join("<br />"));u.click(function(){h.notify(null);b(true)})}})();(function(){var b=a.accList;b.length?b.forEach(function(a){var b=jQuery("<li class=accList />"),c=jQuery("<p class=accText />");c.appendTo(b);c.set(a.text("title"));b.appendTo(q)}):q.hide()})();j.mouseenter(d);j.mouseleave(e);this.getPane=function(){return j};this.setActive=
b;this.scrollTo=c;this.setMarker=function(a){A=a;J=jQuery("#info\\.body");a.onOver.add(function(){d();l.notify(this)}.bind(this));a.onOut.add(e)};this.setInExpress=function(a){M=a};this.getInExpress=function(){return M};this.expandExpress=function(){k.notify()}}function Ca(a){function b(){d.off("click",b);f.off("click",b);d.remove();f.css("background-color","");f.addClass("HIDDEN");d=c=null;e.notify()}var c=null,d=null,e=this.onClose=new m,f=jQuery("#dimmedLayer");a===Ca.TYPE_LAYER?c=H("LayerCoachmarkView"):
a===Ca.TYPE_FIND_WAY?c=H("FindWayCoachmarkView"):a===Ca.TYPE_BOOKMARK&&(c=H("BookmarkCoachmarkView"),this.setButtonWidth=function(a){d.find(".ico_coach2").css("width",a+"px")});d=jQuery(c.getElement());this.show=function(a){a&&jQuery(c.getElement()).css("top",a.top-68+"px").css("left",a.left-50+"px");f.css("background-color","transparent");f.removeClass("HIDDEN");f.after(c.getElement());d.on("click",b);f.on("click",b)};this.hide=b}function Ne(a,b){var c=this.onClick=new m;this.onFlagClick=new m;var d=
H("DupItemView");b&&d.addClass("odd");var e=d.$("name"),f=d.$("flag"),h=a.confirmid;e.text(a.name);e.attr("title",a.name);var g=null,k=!1;this.setFlagInfoLayer=function(a){g=new cb(cb[a]);e.after(g.getPane());d.mouseenter(function(){k||g.setVisible(!0)});d.mouseleave(function(){k||g.setVisible(!1)});g.onClick.add(function(){c.notify(h)});f.addClass(a)};d.click(function(){c.notify(h)});this.setActive=function(a){k=!!a;d.toggleClass("DupItemView-ACTIVE",a);g&&g.setVisible(!1)};this.getPane=function(){return d}}
function Xd(a,b,c,d,e){function f(a){for(var a=a.arrival,b=[],c=0;c<a.stateArray.length;c++){if("\uc815\uc0c1\uc6b4\ud589"==a.stateArray[c].message){var d=Math.max(1,a.stateArray[c].time),e="\ucd08",f="";60<=d&&(e="\ubd84",d=Math.floor(d/60));1<c&&(f='<span class="screen_out">\ub2e4\uc74c \ubc84\uc2a4</span>');f+='<span class="emph_arrival">'+d+e+"</span>";"DELAY"==a.stateArray[c].status&&(f+=' <span class="delay">(\uc815\ubcf4\uc9c0\uc5f0)</span>');b.push(f)}else"\uace7\ub3c4\ucc29"==a.stateArray[c].message?
b.push('<span class="soon">'+a.stateArray[c].message+"</span>"):b.push('<span class="none">'+a.stateArray[c].message+"</span>");u=a.stateOnly?b[0]:b.join(' <span class="txt_vertical">|</span> ')}return'<span class="txt_arrival">'+u+"</span>"}var h=this.onClick=new m,g=this.onSelectItem=new m,k=ba.TYPE[d.type]||d.type,l=ba.STRING[k],k="BUS-"+k,j=d.firstName,r="",i=d.secondName||"",o=d.parameterState||!1,s=d.arrival,t=d.realtimeState,u="",q=b.key+"@"+d.id,w=this.fav=jQuery.extend(v.createFromBusStopAndBusLine(c,
d),{idx:b.idx,marker:b.marker,color:b.color,icon:b.icon,seq:b.seq,x:b.x,y:b.y,folderId:b.folderId});d.direction&&(r=d.direction,d.arrival&&(r=d.arrival.direction2||d.arrival.direction||d.direction));o&&(s&&"NOSUPPORT"!=t)&&(u=f(d));var y=H("FavoriteBusStopLineView",{fav:b,line:d,isRightBusLine:o,arrivalHtml:u,uniqueKey:q,busTypeClass:k,busTypeName:l,busName:j,busSubName:i,direction:r,stopid:c.id,seq:b.seq}).appendTo(a).show(),a=y.$("checkbox");y.click(function(){if(!y.hasClass("FavoriteDirectoryItem-MODIFY"))if(o)h.notify(jQuery.extend(w,
{key:q,refStop:c}));else if(e){n.click("my",["favorite","list_click","busstopline_change_popup"]);confirm("\ub178\uc120\uc815\ubcf4\uac00 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc990\uaca8\ucc3e\uae30 \uc0ad\uc81c \ud6c4 \ub2e4\uc2dc \ucd94\uac00\ud574\uc8fc\uc138\uc694.")&&Application.favoriteController.removeFavorite(w)}else alert("\ub178\uc120\uc815\ubcf4\uac00 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")});a.click(function(a){g.notify(a)})}function Lf(a,b,c,d,e){var f=this.onClick=new m,
h=this.onModify=new m,g=this.onRemove=new m,k=this.onReport=new m,l=this.onShare=new m,j=this.onSelectItem=new m,r=this.onFolderInfo=new m,i=this.onSubscribe=new m,o=this.onViewOnMap=new m,s=this.onOtherPage=new m,t=c?"other":"my",u=e.ACTION.FAVORITE_TAB,q=d===b.mapUserId,d=-1!==["D","T","A"].indexOf(b.status)||"P"===b.status&&"M"!==b.folderType,w="T"===b.folderType,y=0===b.folderId,M="P"===b.status,A="O"===b.status,J="T"===b.status,Q="A"===b.status,C=w?"\ud14c\ub9c8":"\uadf8\ub8f9",G="S"!==b.profileStatus,
O="M"===b.folderType,F=b.profileImage&&"null"!==b.profileImage?b.profileImage:"";G&&(F="https://t1.daumcdn.net/localimg/localimages/07/2018/pc/favorite/img_accused.png");q=jQuery.extend({},b,{isPageOwner:q,isTheme:w,isDisabled:d,isCountWrap:!d||J,isDelete:"D"===b.status,isPrivate:!c&&M,isPublic:!c&&A,isTempByOwner:J&&!c&&b.isMyFolder,isTempByOther:J&&(c||!b.isMyFolder),isAdminDelete:Q,isDisabledSummaryUi:Q||J&&(c||!b.isMyFolder),isReadonly:q&&(y||w),iconClass:d?v.ICON_MAP[b.status]:v.ICON_MAP[b.icon],
isProfileImage:!!F,profileThumbnail:require("url").TENTH_THUMB+"C28x28/?fname="+encodeURIComponent(F),nickName:b.nickName||"",isFixed:c?!1:b.isFixed,showsPrivacy:O&&!w,favoriteCountText:b.favoriteCount+"/"+v.MAX_FAVORITE_COUNT,isOtherPage:c});G&&(q.nickName="T"===b.profileStatus?"\uc784\uc2dc\uc870\uce58\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.":"\uc0ad\uc81c\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.");q.settings=[];if(d)b.isMyFolder?c||q.settings.push({name:"\uadf8\ub8f9 \uc0ad\uc81c",action:"remove",
value:b.folderType}):b.isSubscribe&&q.settings.push({name:C+" \uad6c\ub3c5 \ucde8\uc18c",action:"subscribe",value:"off"}),0===q.settings.length&&q.settings.push({name:"\uadf8\ub8f9 \uc2e0\uace0",action:"report"});else{if(!y&&(w||q.settings.push({name:"\uadf8\ub8f9 \uacf5\uc720",action:"share",isDimmed:M}),b.isMyFolder?w||(q.settings=q.settings.concat([{name:"\uadf8\ub8f9 \uc218\uc815",action:"edit"},{name:"\uadf8\ub8f9 \uc0ad\uc81c",action:"remove"}])):q.settings.push({name:C+(b.isSubscribe?" \uad6c\ub3c5 \ucde8\uc18c":
" \uad6c\ub3c5"),action:"subscribe",value:b.isSubscribe?"off":"on"}),!w))b.isMyFolder||q.settings.push({name:"\uadf8\ub8f9 \uc2e0\uace0",action:"report"}),q.settings.push({name:"\uadf8\ub8f9 \uc815\ubcf4",action:"info"});if(!c&&(b.isMyFolder||b.isSubscribe))q.settings.push({name:b.isFixed?"\uc9c0\ub3c4\uc5d0 \ud45c\uc2dc \uc548 \ud558\uae30":"\uc9c0\ub3c4\uc5d0 \ud45c\uc2dc\ud558\uae30",action:"viewOnMap",value:b.isFixed?"off":"on"})}var Q=H("FavoriteFolderItemView",q).appendTo(a),a=Q.$("link"),c=
Q.$("more"),S=Q.$("setting"),d=Q.$("share"),y=Q.$("edit"),M=Q.$("remove"),C=Q.$("info"),G=Q.$("report"),q=Q.$("subscribe"),A=Q.$("viewOnMap"),J=Q.$("checkbox"),Q=Q.$("nickname");a.click(function(){n.click(u,"\ud3f4\ub354 \ud0c0\uc774\ud2c0");f.notify(b)});c.click(function(a){a.preventDefault();S.show()});d.click(function(){n.click(u,[e.CLICK.MORE,"\ud3f4\ub354 \uacf5\uc720"]);l.notify(b)});y.click(function(){n.click(u,[e.CLICK.MORE,"\ud3f4\ub354 \uc218\uc815"]);h.notify(b)});M.click(function(){n.click(u,
[e.CLICK.MORE,"\ud3f4\ub354 \uc0ad\uc81c"]);g.notify({folderId:b.folderId})});C.click(function(){n.click(u,[e.CLICK.MORE,"\ud3f4\ub354 \uc815\ubcf4"]);r.notify({folderId:b.folderId})});G.click(function(){n.click(u,[e.CLICK.MORE,"\ud3f4\ub354 \uc2e0\uace0"]);b.status==="A"||b.status==="T"?alert("\uc2e0\uace0 \ucc98\ub9ac\ub41c \uadf8\ub8f9\uc785\ub2c8\ub2e4."):k.notify({type:"folder",querystring:"?folderId="+b.folderId})});q.click(function(a){a=jQuery(a.currentTarget).data("value")==="on";n.click(u,
[e.CLICK.MORE,(b.cp?"\ud14c\ub9c8":"\ud3f4\ub354")+" "+(a?"\uad6c\ub3c5":"\uad6c\ub3c5 \ucde8\uc18c")]);i.notify({onOff:a,folderInfo:b})});A.click(function(a){a=jQuery(a.currentTarget).data("value")==="on";n.click(u,[e.CLICK.MORE,"\uc9c0\ub3c4\uc5d0\uc11c "+(a?"\ud45c\uc2dc\ud558\uae30":"\ud45c\uc2dc\ud558\uae30 \ucde8\uc18c")]);o.notify({onOff:a,folderId:b.folderId})});J.change(function(){j.notify()});Q.click(function(){if(b.folderType!=="M"){n.click(u,"\uad6c\ub3c5 \ud3f4\ub354 \ud504\ub85c\ud544");
n.click(t,["folder",(w?"theme_folder":"other_folder")+"_nickname"]);s.notify(b)}});S.find("li").click(function(){S.hide()})}function Mf(a,b,c,d,e,f){var h,g;function k(){ja.addClass("on");setTimeout(function(){ja.removeClass("on")},i)}function l(){var a=Array.isArray(c.buslines)?c.buslines:c.buslines.split(","),a=[{busStopId:c.key,busIds:a.map(function(a){return a.split("#")[0]})}];R.findTransitMultiBusStop(a,function(a){a.forEach(function(a){var b=R.load_(a);O.empty();b.lines.forEach(function(a){a=
new Xd(O,c,b,a,isMyFolder);a.onClick.add(e.click);a.onSelectItem.add(e.updateCheckCount)})})})}function j(){bb.fetchMultiDetail([c.key],function(a){a=(new uc(a)).getPane();F.empty();F.append(a).show()})}function r(){ja.on("click",function(){k();switch(c.type){case h:l();break;case g:j()}n.click("my",["favorite","list_click",[c.type]+"_refresh"])})}var i=2500;h="busstop";g="subwaystation";var o=f.ACTION.FOLDER_DETAIL,s=this.onClick=new m,t=this.onModify=new m,u=this.onRemove=new m,q=this.onReport=
new m,w=this.onRegister=new m,y=this.onSelectItem=new m,M=this.onClickInvalid=new m;v.updateViewDataFromFav(c);var A="T"===c.status,J="A"===c.status,b=jQuery.extend({},c,{iconClass:v.ICON_MAP[b.icon]||"star",isOtherPage:d,isTempByOwner:A&&!d,isTempByOther:A&&d,isDisabledSummaryUi:J||A&&d,isAdminDelete:J,color:c.color||"02",isDisabledBusline:c.isDisabled||!c.isBuslines});b.settings=[];d?b.settings.push({name:"\uc2e0\uace0",action:"report"}):J||A?b.settings.push({name:"\uc0ad\uc81c",action:"remove"}):
b.settings=b.settings.concat([{name:"\uc218\uc815",action:"edit"},{name:"\uc0ad\uc81c",action:"remove"},{name:c.isHome?"\ud648 \ubaa9\ub85d \uc0ad\uc81c":"\ud648 \ubaa9\ub85d \ucd94\uac00",action:"home"}]);var Q=H("FavoriteItemView",b).appendTo(a),a=Q.$("link");Q.$("memo");var d=Q.$("more"),C=Q.$("setting"),A=Q.$("report"),J=Q.$("remove"),b=Q.$("edit"),G=Q.$("home"),O=Q.$("busstopline"),F=Q.$("subwaystation"),S=Q.$("checkbox"),ja=Q.$("refresh");d.click(function(a){a.preventDefault();C.show()});A.click(function(){n.click(o,
[f.CLICK.MORE,"\uc2e0\uace0"]);"A"===c.status||"T"===c.status?alert("\uc2e0\uace0 \ucc98\ub9ac\ub41c \uc990\uaca8\ucc3e\uae30\uc785\ub2c8\ub2e4."):q.notify({type:"favorite",querystring:"?seq="+c.seq})});J.click(function(){n.click(o,[f.CLICK.MORE,"\uc0ad\uc81c"]);u.notify(c)});G.click(function(){var a=!c.isHome;n.click(o,[f.CLICK.MORE,"\ud648 \ubaa9\ub85d "+(c.isHome?"\uc0ad\uc81c":"\ucd94\uac00")]);w.notify({seq:c.seq,onOff:a,folderId:c.folderId})});b.click(function(){n.click(o,[f.CLICK.MORE,"\uc218\uc815"]);
t.notify(c)});S.change(function(a){y.notify(a)});switch(c.type){case h:c.buslines?r():ja.hide();break;case g:r()}a.click(function(){n.click(o,"\uc990\uaca8\ucc3e\uae30 \uc544\uc774\ud15c");"N"===c.validPlace?M.notify({seq:c.seq,position:Q.offset()}):(B.Application&&c.marker&&(Application.map.setLevel(3),Application.map.setCenter(c.marker.getPosition())),s.notify(c))});C.find("li").click(function(){C.hide()})}function af(a,b){function c(){if(0!=u.length){var a=u.data(),b=a.lineids.toString().split(","),
b=b.map(function(a){return a.split("#")[0]});R.findTransitMultiBusStop([{busStopId:a.stopid,busIds:b}],g);d()}}function d(){var a=function(a){a=parseInt(a);return 10>a?"0"+a:a},b=new Date,c=b.getHours(),d=b.getMinutes(),b=b.getSeconds(),e=12<c?"\uc624\ud6c4":"\uc624\uc804",c=a(12<c?c-12:c),d=a(d),b=a(b);w.text(e+" "+c+":"+d+":"+b+" \uae30\uc900")}function e(){return(o.buslines||"").split(",").map(function(a){return a.split("#")[0]})}function f(a){a=a.split(/:(.+)/);return{id:a[0],idx:a[1]}}function h(a){var c=
new R(new Ga({busStopId:o.key,busStopName:o.display1,displayId:"",address:o.display2,lines:[]})),a=f(a),d={arrivalHtml:'<span class="txt_noti"><span class="ico_noti">\uc8fc\uc758</span>\ub178\uc120\ubcc0\uacbd</span>',busStopLineId:b.key+"_"+a.id+"_"+a.idx.replaceAll("/","_")},d=H("FavoriteRegisterItemBusArrivalView",d),e=v.createFromBusStopAndBusLine(c,a),e=jQuery.extend(e,{seq:b.seq,folderId:b.folderId});d.on("click",function(){n.click("left",["fav_click","busstopline_change_popup"]);confirm("\ub178\uc120\uc815\ubcf4\uac00 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc990\uaca8\ucc3e\uae30 \uc0ad\uc81c \ud6c4 \ub2e4\uc2dc \ucd94\uac00\ud574\uc8fc\uc138\uc694.")&&
Application.favoriteController.removeFavorite(e)});d.appendTo(u)}function g(a){a.length?a.forEach(function(a){var c=R.load_(a),a=c&&e().length!==c.lines.length;c.lines&&c.lines.forEach(function(a){var d=l(a),e=s.find("#"+d.busStopLineId),f=H("FavoriteRegisterItemBusArrivalView",d);if(0<e.length)e.empty().html(f.html());else{if(d.parameterState)f.on("click",function(){i.notify({type:"busstopline",key:c.id+"@"+a.id,idx:a.idx,refStop:b});n.click("left",["fav_click","busstopline"])});else{var g=v.createFromBusStopAndBusLine(c,
a);g.seq=b.seq;g.folderId=b.folderId;f.on("click",function(){n.click("left",["fav_click","busstopline_change_popup"]);confirm("\ub178\uc120\uc815\ubcf4\uac00 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc990\uaca8\ucc3e\uae30 \uc0ad\uc81c \ud6c4 \ub2e4\uc2dc \ucd94\uac00\ud574\uc8fc\uc138\uc694.")&&Application.favoriteController.removeFavorite(g)})}f.appendTo(u)}a.arrival&&"NOSUPPORT"!=a.realtimeState?q.show():q.hide()});if(a){var a=e(),d=c.lines.map(function(a){return a.id});a.filter(function(a){return!d.find(function(b){return a.match(b)})}).forEach(function(a){h(a)})}}):
(a=e()[0],h(a))}function k(a){var b=jQuery('<div class="arr_directory" data-id="subwaystation"></div>'),a=(new uc(a)).getPane(),c=s.find('[data-id="subwaystation"]'),d=s.$("link").parent();0<c.length&&c.remove();a.appendTo(b);d.append(b)}function l(a){var c=a.arrival,d=jQuery.extend({},c),e=[];if(a.parameterState)if(c&&"NOSUPPORT"!=a.realtimeState){for(var f=0;f<c.stateArray.length;f++)if("\uc815\uc0c1\uc6b4\ud589"==c.stateArray[f].message){var g=Math.max(1,c.stateArray[f].time),h="\ucd08",j="";60<=
g&&(h="\ubd84",g=Math.floor(g/60));1<f&&(j='<span class="screen_out">\ub2e4\uc74c \ubc84\uc2a4</span>');j+='<span class="emph_arrival">'+g+h+"</span>";"DELAY"==c.stateArray[f].status&&(j+=' <span class="delay">(\uc815\ubcf4\uc9c0\uc5f0)</span>');e.push(j)}else"\uace7\ub3c4\ucc29"==c.stateArray[f].message?e.push('<span class="soon">'+c.stateArray[f].message+"</span>"):e.push('<span class="none">'+c.stateArray[f].message+"</span>");d.arrivalHtml=c.stateOnly?e[0]:e.join(' <span class="txt_vertical">|</span> ');
c=c.direction2||c.direction;d.busName=a.name+(c?"("+c+")":"")}else d.busName=a.name;else d.arrivalHtml='<span class="txt_noti"><span class="ico_noti">\uc8fc\uc758</span>\ub178\uc120\ubcc0\uacbd</span>',c=c.direction2||c.direction,d.busName=a.name+(c?"("+c+")":"");c=ba.TYPE[a.type]||a.type;d.busStopLineId=b.key+"_"+a.id+"_"+a.order+"_"+a.idx.replace("/","-");d.lineid=a.id;d.idx=a.idx;d.parameterState=a.parameterState;c&&(d.isBusIcon=!0,d.countryBusClass="rural"==c?"txt_countrybus":"",d.busIconClass=
"bus"+c,d.busIconName=ba.STRING[c]);return d}function j(){q.addClass("on");setTimeout(function(){q.removeClass("on")},r)}var r=2500,i=this.onClick=new m;v.updateViewDataFromFav(b);var o=jQuery.extend({},b,{iconClass:v.ICON_MAP[b.icon]||"star",color:b.color||"02"});o.myplace_type&&("HOME"===o.myplace_type?(o.typeClass="home",o.typeName="\uc9d1"):(o.typeClass="myjob",o.typeName="\ud68c\uc0ac"),o.key?o.activeClass="added":o.display1=o.typeName+" \uc8fc\uc18c\ub97c \ub4f1\ub85d\ud558\uc138\uc694.",o.isBusStop=
!1,o.isText=!1,o.isMyplace=!0);var s=H("FavoriteRegisterItemView",o).appendTo(a),t=s.$("link"),u=s.$("arrival"),q=s.$("refresh"),w=s.$("refreshTime");switch(b.type){case "subwaystation":bb.fetchMultiDetail([b.key],k);d();q.click(function(){j();bb.fetchMultiDetail([b.key],k);d();n.click("left",["fav_click","subwaystation_refresh"])});break;case "busstop":c(),q.click(function(){j();c();n.click("left",["fav_click","busstop_refresh"])})}t.click(function(){var a=["fav_click"];if(b.myplace_type){b.myplace_type===
"HOME"?a.push("home"):b.myplace_type==="COMPANY"&&a.push("work");b.key||a.push("add")}else a.push(b.type);n.click("left",a);if(B.Application&&b.marker){Application.map.setLevel(3);Application.map.setCenter(b.marker.getPosition())}i.notify(b)})}function Oe(a,b){var c=this.onRegistClick=new m,d=this.onRemoveClick=new m,e=this.onItemClick=new m;b.onRegistClick&&c.add(b.onRegistClick);b.onRemoveClick&&d.add(b.onRemoveClick);b.onItemClick&&e.add(b.onItemClick);"home"==b.staticMode&&(b.modeIsHome=!0);var f=
H("FavoriteStaticItemView",b).appendTo(a),h=f.$("name"),g=f.$("link"),k=f.$("more"),l=f.$("setting"),j=f.$("regist"),r=f.$("remove"),i=null,o=b.staticMode;g.click(function(a){a.preventDefault();n.click("my",["home_company",o,o+"_"+(i?"tooltip":"register")]);if(B.Application&&i&&i.marker){Application.map.setLevel(3);Application.map.setCenter(i.marker.getPosition())}e.notify({staticMode:o,data:i})});k.click(function(a){a.preventDefault();n.click("my",["home_company",o,"more"]);l.show()});j.click(function(a){a.preventDefault();
n.click("my",["home_company",o,"more_"+(i?"edit":"register")]);c.notify({staticMode:o});l.hide()});r.click(function(a){a.preventDefault();n.click("my",["home_company",o,"more_delete"]);d.notify({staticMode:o});l.hide()});this.hasData=function(){return!!i};this.setData=function(a){if(a=(i=a)&&a.display1?a.display1:""){h.text(a);f.addClass("FavoriteDirectoryItem-REGISTER");r.show();j.find("a").text("\uc218\uc815")}else{h.text("\uc8fc\uc18c\ub97c \ub4f1\ub85d\ud558\uc2dc\uba74 \uae38\ucc3e\uae30\uac00 \uc26c\uc6cc\uc9d1\ub2c8\ub2e4.");
f.removeClass("FavoriteDirectoryItem-REGISTER");r.hide();j.find("a").text("\ub4f1\ub85d")}}}function Nf(a,b){function c(){b.empty();if(f.home||f.company){var a=H("FavoriteStaticLayerView",f).appendTo(b),c=a.$("home"),a=a.$("company");c.data(f.home);a.data(f.company);c.click(d);a.click(d);b.show()}else b.hide()}function d(a){a=jQuery(a.currentTarget).data();e.notify(a)}var e=this.onItemClick=new m;a.onChangeMyPlace.add(function(a){var b=a.data||{};"home"==a.mode?f.home=b:"company"==a.mode&&(f.company=
b);c()});var f=a.getMyPlaces()||{};c()}function cb(a){function b(b){var d="mapsearch";if(a==cb.Origin||a==cb.Via||a==cb.Dest)d="route";switch(b){case N.ORIGIN_WHICH_:n.click(d,["search_route","search_start"]);break;case N.DEST_WHICH_:n.click(d,["search_route","search_end"]);break;case N.VIA_WHICH_:n.click(d,["search_route","search_via"])}c.toggle(!1);h.notify(b)}var c=H("FlagItemInfoLayer");a&&c.addClass(a);var d=c.$("origin"),e=c.$("dest"),f=c.$("via"),h=this.onClick=new m;d.click(Fb(b,N.ORIGIN_WHICH_));
e.click(Fb(b,N.DEST_WHICH_));f.click(Fb(b,N.VIA_WHICH_));this.setClass=function(a){a&&c.addClass(a)};this.removeClass=function(a){a&&c.removeClass(a)};this.setVisible=function(a){c.toggle(a)};this.getPane=function(){return c}}function Ha(){ga(this,qd);(this.markerIndex_=new i("span")).addClass("markerIndex")}function Mc(a,b,c,d){function e(b){if(!b)return!1;if(!o)return b.hide(),!1;t=a.getDisabled(a.VIEW_TYPE.LAYER);u=H("HistoryLayerView");b.replaceWith(u);q=u.$("wrap");q.on("mousedown",function(a){a.preventDefault()});
u.$("clear").click(l);u.$("disabled").click(j);f()}function f(){var b=a.getHistory(w);h(b)}function h(b){if(o&&b){t=a.getDisabled(a.VIEW_TYPE.LAYER);u.$("disabled").text(t?"\ud788\uc2a4\ud1a0\ub9ac \ucf1c\uae30":"\ud788\uc2a4\ud1a0\ub9ac \ub044\uae30");q.empty();var c,d=0,e=!0,f=!!J;0<b.length&&b.forEach(function(b){if(!(d>=n||b.type===a.TYPE_LIST.SUBWAY_STATION_NAME&&b.regionId!==y)){if(f&&(J=J.replace(/[-[\]{}()*+?.,\\^$|#]/gi,""),!RegExp(J,"gi").test(b.name)))return;c=H("HistoryLayerItemView",
b);c.$("link");var e=c.$("remove"),h={type:b.type,idx:b.idx};c.data(b).click(g);e.data(h).click(k);q.append(c);d++}});0===d&&(e=!1);u.removeClass("HIDDEN").find(".tit_recent, .list_recent").toggleClass("HIDDEN",t);e?(u.find(".tit_recent").text("\ud788\uc2a4\ud1a0\ub9ac"),u.removeClass("recent_none")):(A.val()&&u.addClass("HIDDEN"),u.find(".tit_recent").text("\ud788\uc2a4\ud1a0\ub9ac\uac00 \uc5c6\uc5b4\uc694."),u.addClass("recent_none"));u.$("clear").toggleClass("HIDDEN",!e)}}function g(b){var c=jQuery(b.currentTarget).data();
d||a.historyClick(b);i.notify(c)}function k(b){var c=jQuery(b.currentTarget).data();a.removeHistory(b);p.notify(c)}function l(){a.clearLayerHistory()}function j(b){b=jQuery(b.currentTarget);t=!t;b.text(t?"\ud788\uc2a4\ud1a0\ub9ac \ucf1c\uae30":"\ud788\uc2a4\ud1a0\ub9ac \ub044\uae30");a.disableHistory(t,a.VIEW_TYPE.LAYER);A.focus()}var i=this.onItemClick=new m,p=this.onRemove=new m,o;try{B.localStorage.setItem("test","1"),B.localStorage.removeItem("test"),o=!!B.localStorage&&!!B.JSON}catch(s){o=!1}var t=
!0,d=!!d;a.onChange.add(f);var u=null,q=null,w=b||"search",y="01",n=5,b=c.getHistoryTarget(),A=c.getInputTarget(),J="",c=(KakaoAgent.isSupportClientHints()?KakaoAgent.getClientHintsSync():KakaoAgent.getAgent()).browser===KakaoAgent.Browser.FireFox,Q=null;b&&e(b);if(A&&(A.on("keyup focus",function(a){var b=a.keyCode||a.which;(J=a.currentTarget.value)?("keyup"!=a.type||!(38==b||40==b))&&f():("focus"==a.type||8==b)&&f()}),c))A.on("keydown",function(a){var b=jQuery(a.currentTarget);Q||(Q=setInterval(function(){J!==
b.val()&&(J=b.val(),f())},300))}).on("blur",function(){Q&&clearInterval(Q);Q=null});this.init=e;this.getView=function(){return u};this.setSubwayAreacode=function(a){y=a;f()}}function je(a,b,c,d){function e(){var c=a.getHistory(i);b.empty();!b||0==c.length?k.notify(!1):(k.notify(!0),c.splice(o),c.forEach(function(a){f(a)}),p=H("HistoryRouteView",{items:c}).appendTo(b),p.$("wrap").on("mousedown",function(a){a.preventDefault()}).on("click","li",h).on("click","li .btn_delete",g),p.toggle(!0))}function f(a){if(a.route_form&&
!(2>a.route_form.length))switch(a.route_form.forEach(function(b,c){0==c?(b.iconClass="depart",b.iconName="\ucd9c\ubc1c"):c==a.route_form.length-1?(b.isArrival=!0,b.iconClass="arrive",b.iconName="\ub3c4\ucc29"):(b.iconClass="stopby",b.iconName="\uacbd\uc720")}),a.type){case "route_car":a.typeIconClass="carroute";a.typeIconName="\uc790\ub3d9\ucc28 \uae38\ucc3e\uae30";break;case "route_pubtrans":a.typeIconClass="transportation";a.typeIconName="\ub300\uc911\uad50\ud1b5 \uae38\ucc3e\uae30";break;case "route_walk":a.typeIconClass=
"walkingroute";a.typeIconName="\ub3c4\ubcf4 \uae38\ucc3e\uae30";break;case "route_bicycle":a.typeIconClass="bikeroute";a.typeIconName="\uc790\uc804\uac70 \uae38\ucc3e\uae30";break;case "route_subway":a.typeIconClass="transportation",a.typeIconName="\uc9c0\ud558\ucca0 \uae38\ucc3e\uae30"}}function h(b){b.preventDefault();a.historyClick(b);var b=jQuery(b.currentTarget).data(),c=a.getHistory(b.type);l.notify(c[b.idx]||b)}function g(b){var c=jQuery(b.currentTarget).data();a.removeHistory(b);j.notify(c)}
var k=this.onReadyChange=new m,l=this.onItemClick=new m,j=this.onRemove=new m;a.onChange.add(e);"function"==typeof d&&k.add(d);var i=c?a.TYPE_LIST.SUBWAY:a.ROUTE_TYPE,p,b=b||null,o=15;b&&e();this.init=e;this.show=function(){p&&p.toggle(!0)};this.hide=function(){p&&p.toggle(!1)};this.setSubwayAreacode=function(){e()}}function rc(a,b,c,d){if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c,d);var e=b,f=jQuery("<div class=ImageNumberRangeView />").appendTo(a);f.addClass("ImageNumberRangeView-"+
b);jQuery("<span class=left />").appendTo(f);var h=jQuery("<span class=letters />").appendTo(f);jQuery("<span class=right />").appendTo(f);h.text(c+" ~ "+d);this.setStyle=function(a){e!==a&&(f.removeClass("ImageNumberRangeView-"+e),f.addClass("ImageNumberRangeView-"+a),e=a)};this.dispose=function(){f.remove()}}function xc(){this.panel_=i.$("info.main.header");this.clear_=i.$("info.main.header.clear");this.options_=i.$("info.main.options");this.onOption=new m;this.onTextView=new m;this.onClear=new m;
this.buttons_=[];this.optionRadioGroup_=new Mb;this.optionRadioGroup_.onChange.add(this.onOption.notify,this.onOption);this.clear_.onClick.add(function(){n.click("navi","menu_map_search_delete");this.onClear.notify()}.bind(this));this.text_=[]}function Nc(){ga(this,qd);var a=this.panel_=new i("li","IssuePlaceItem-icon_1");a.addClass("IssuePlaceItem");var b=this.name_=new i("a","name");b.onClick.add(function(){this.onAction.notify(this)},this);b=new i("h6","",b);a.addChild(b);var b=this.img_=new i("img"),
c=this.desc_=new i("blockquote","desc"),b=new i("p","para",[c,b]);a.addChild(b)}function qd(){ga(this,Qb);this.onAction=new m}function Dd(a){function b(){var a=y.height();!w&&710>a?(w=!0,u.addClass("legendMiniPosition")):w&&710<a&&(w=!1,u.removeClass("legendMiniPosition"))}function c(a){C.forEach(function(a){a.removeClass("SELECT")});s.$(a).addClass("SELECT");u.toggleClass("trafficLegend","traffic"==a);u.toggleClass("bikeLegend","bike"==a);u.toggleClass("airLegend","air"==a);u.toggleClass("usedistrictLegend",
"usedistrict"==a)}function d(a){var b=a.split("|")[0];c(b);F=F.filter(function(b){if(b!=a)return b});F.push(a);g(!0)}function e(a){F=F.filter(function(b){if(b!=a)return b});if(F.length){var b=F[F.length-1].split("|")[0];c(b);g(!0)}else t.hide(),u.hide(),G.text()||f(new Date),O.text()||h()}function f(a){if(a instanceof Date)var b=""+(1E4*a.getFullYear()+100*a.getMonth()+100+a.getDate()),b=b.replace(/(....)(..)/,"$1.$2."),a=""+(1E4+100*a.getHours()+a.getMinutes()),a=a.substring(1).replace(/../,"$&:"),
a=b+" "+a;G.set(a)}function h(){O.set("\ub9e4\uc2dc \uc815\uac01 \uc5c5\ub370\uc774\ud2b8(1\uc2dc\uac04 \ub2e8\uc704)")}function g(a){a?(t.hide(),u.show(),s.show()):(t.show(),u.hide(),s.hide());G.text()||f(new Date);O.text()||h()}function k(a){s.$("tooltip"+a).show()}function l(a){s.$("tooltip"+a).hide()}function j(a){ja&&S.removeClass(ja);S.addClass("bikecate"+a);ja="bikecate"+a}function i(a){var b=Dd.air["cate"+a],c=b.unit,d=b.list;Dd.air["cate"+a]&&(x&&V.removeClass(x),V.addClass("aircate"+a),
x="aircate"+a);4==a?(v.text("\uae30\uc0c1\uccad").attr("href","http://www.kma.go.kr"),["\ubcf4\ud1b5","\uc57d\uac04\ub098\uc068","\ub9e4\uc6b0\ub098\uc068","\uc704\ud5d8"].forEach(function(a,b){X[b].find("p").html('<span class="item_bar"></span>'+a+'<span class="txt_unit">'+d[b]+"</span>")})):(v.text("\ud658\uacbd\ubd80 \ud55c\uad6d\ud658\uacbd\uacf5\ub2e8").attr("href","http://www.airkorea.or.kr/index"),["\uc88b\uc74c","\ubcf4\ud1b5","\ub098\uc068","\ub9e4\uc6b0\ub098\uc068"].forEach(function(a,
b){X[b].find("p").html('<span class="item_bar"></span>'+a+'<span class="txt_unit">'+d[b]+"</span>")}));s.$("airdesc").find(".unit").text(c?"(\ub2e8\uc704: "+c+")":"")}function p(a){D&&z.removeClass(D);z.addClass("usedistrictcate"+a);D="usedistrictcate"+a}var o=new m;this.onRefresh=o;var s=H("LayerLegend"),t=s.find(".legendBtn"),u=s.find(".legendWrap"),q=s.$("refresh");q.hide();t.on("click",function(){g(!0)});var w=!1,y=jQuery(B);y.on("resize",b);b();var M=s.$("traffic"),A=s.$("bike"),J=s.$("air"),
Q=s.$("usedistrict"),C=[M,A,J,Q],G=s.$("date"),O=s.$("airdate");M.on("click",function(){c("traffic")});A.on("click",function(){c("bike")});J.on("click",function(){c("air")});Q.on("click",function(){c("usedistrict")});var F=[];s.$("close").click(function(){g(!1)});q.click(function(){a&&(o.notify(null),f(new Date),n.click("realtraffic","reload"))});this.setDate=f;this.setairdate=function(){h()};this.showRefreshButton=function(){q.show()};this.hideRefreshButton=function(){q.hide()};this.setLegend=function(a,
b){b?d(a):e(a)};this.getLegend=function(a){var b=!1;-1!=F.indexOf(a)&&(b=!0);return b};this.setClickableLabel=function(a){s.toggleClass("TrafficLegend-NOCLICK",!!a)};s.$("density1").mouseenter(Fb(k,1));s.$("density2").mouseenter(Fb(k,2));s.$("density3").mouseenter(Fb(k,3));s.$("density4").mouseenter(Fb(k,4));s.$("density1").mouseleave(Fb(l,1));s.$("density2").mouseleave(Fb(l,2));s.$("density3").mouseleave(Fb(l,3));s.$("density4").mouseleave(Fb(l,4));var S=s.$("BikeLegend"),ja="bikecate1";s.$("bikecate1").on("click",
function(){j(1)});s.$("bikecate2").on("click",function(){j(2)});s.$("bikecate3").on("click",function(){j(3)});var V=s.$("AirLegend"),v=s.$("airsupply"),X=[s.$("airdensity1"),s.$("airdensity2"),s.$("airdensity3"),s.$("airdensity4")],x="aircate1";s.$("aircate1").on("click",function(){i(1)});s.$("aircate2").on("click",function(){i(2)});s.$("aircate3").on("click",function(){i(3)});s.$("aircate4").on("click",function(){i(4)});s.$("aircate5").on("click",function(){i(5)});s.$("aircate6").on("click",function(){i(6)});
s.$("aircate7").on("click",function(){i(7)});s.$("aircate8").on("click",function(){i(8)});this.setAirCate=function(a){i(a);V.find(".inner_airCategory > ul").toggleClass("morecate",6<a)};s.$("airmore").on("click",function(){V.find(".inner_airCategory > ul").toggleClass("morecate")});var z=s.$("UsedistrictLegend"),D="usedistrictcate1";s.$("usedistrictcate1").on("click",function(){p(1)});s.$("usedistrictcate2").on("click",function(){p(2)});s.$("usedistrictcate3").on("click",function(){p(3)});s.$("usedistrictcate4").on("click",
function(){p(4)});jQuery("#view\\.map").append(s)}function vc(a){function b(){e.val().trim()?k.attr("disabled",!1):k.attr("disabled",!0)}ga(this,i,H("LayerProfileEditView").getElement());var c=this._pane.$("content"),d=this._pane.$("close"),e=this._pane.$("userNickname"),f=this._pane.$("profileImgFile"),h=this._pane.$("editForm"),g=this._pane.$("profilePreview"),k=this._pane.$("update"),l=jQuery("body"),j=this._pane.$("loadingImg");this.uploadedImg=null;this.lastSavedProfileImg=this.lastSavedNickName=
"";l.append(this._pane.getElement());g.load(function(){j.hide()});g.error(function(){j.hide()});a.onChange.add(function(a){"A"===a.text("profileStatus")?(this.lastSavedNickName="",e.val(""),this.lastSavedProfileImg=vc.REPORT_PROFILE_IMG,g.attr("src",vc.REPORT_PROFILE_IMG)):(a.has("nickName")&&(this.lastSavedNickName=a.text("nickName"),e.val(this.lastSavedNickName)),a.has("thumbnailImage"))?(this.lastSavedProfileImg=require("url").TENTH_THUMB+"C54x54/?fname="+a.text("thumbnailImage"),g.attr("src",
this.lastSavedProfileImg)):(g.attr("src",vc.DEFAULT_PROFILE_IMG),this.lastSavedProfileImg=vc.DEFAULT_PROFILE_IMG);b()},this);this.onClick.add(function(){n.click("profile",["edit_profile","close_profile"]);this.hide()},this);c.click(function(a){a.stopPropagation()});d.click(function(){n.click("profile",["edit_profile","close_profile"]);this.hide()}.bind(this));e.on("input",b);e.on("focus",function(){n.click("profile",["edit_profile","edit_nickname"])});f.click(function(){n.click("profile",["edit_profile",
"edit_photo"])});f.change(function(a){var b=new FormData(h[0]);10485760<a.currentTarget.files[0].size?(alert("\uc774\ubbf8\uc9c0 \uc0ac\uc774\uc988\ub294 10MB\uae4c\uc9c0 \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4."),f.val("")):(j.show(),jQuery.ajax({type:"POST",url:"/profile/upload.json",enctype:"multipart/form-data",data:b,processData:!1,contentType:!1,cache:!1,success:function(a){g.attr("src",a.result);this.uploadedImg=a.result}.bind(this),error:function(a){j.hide();alert(a.status.message)}}))}.bind(this));
k.click(function(b){b.preventDefault();this.lastSavedNickName===e.val().trim()&&(this.lastSavedProfileImg===this.uploadedImg||!this.uploadedImg)?(alert("\ud504\ub85c\ud544\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),this.hide()):(b=a.getInfo().text("profileStatus"),b={nickName:encodeURIComponent(e.val().trim()),profileImageUrl:"S"!==b&&!this.uploadedImg?"http:"+vc.REPORT_PROFILE_IMG:this.uploadedImg},nd.update(b,function(b){var b=b.object("status"),c=b.text("code");"SUCCESS"===c?nd.getInfo(function(b){alert("\ud504\ub85c\ud544\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");
a.onChange.notify(b.object("result"));this.hide()}.bind(this)):"PROHIBITIVE_WORD"===c?alert("\uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \ub2e8\uc5b4\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."):alert(b.text("message"))}.bind(this)),n.click("profile",["edit_profile","complete"]))}.bind(this));this.onHide.add(function(){this.uploadedImg=null;g.attr("src","");f.val("");e.val("");l.off("keydown",r)},this);var r=function(a){a.stopPropagation();27===a.keyCode&&confirm("\ud504\ub85c\ud544 \uc218\uc815\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&
(n.click("profile",["edit_profile","close_profile"]),this.hide())}.bind(this);this.onShow.add(function(){require("log/Tiara").log(require("const").TIARA.profileedit);l.on("keydown",r);e.val(this.lastSavedNickName);g.attr("src",this.lastSavedProfileImg)},this)}function Pe(a,b,c){ga(this,fa,H("LayerProfileView").getElement());this.utilLib=c;this.noCloseUIPanel(i.$("btnProfile"));var d=this._pane.$("edit"),c=this._pane.$("logout"),e=this._pane.$("homeCompany"),f=this._pane.$("fav"),h=this._pane.$("review"),
g=this._pane.$("nickName");this.reviewCount=this._pane.$("reviewCount");var k=this._pane.$("profileImg"),l=this._pane.$("reportProfileImg"),j=this._pane.$("reportMentionTypeA"),r=this._pane.$("reportMentionTypeT");j.hide();r.hide();c.attr("href",require("url").LOGOUT);c.click(function(){n.click("profile","logout")});f.on("click",function(){Application.favoriteController.getActive()&&Application.favoriteController.reset();Application.favoriteController.setActive(!0);Application.favoriteController.setMyTab("favorites");
n.click("profile","folder");this.hide()}.bind(this));h.on("click",function(){Application.favoriteController.getActive()&&Application.favoriteController.reset();Application.favoriteController.setActive(!0);Application.favoriteController.setMyTab("review");n.click("profile","review");this.hide()}.bind(this));e.on("click",function(){Application.favoriteController.getActive()&&Application.favoriteController.reset();Application.favoriteController.setActive(!0);Application.favoriteController.setMyTab("myplaces");
n.click("profile","home_company");this.hide()}.bind(this));(new i(jQuery("body").getElement())).addChild(this._pane);a.onChange.add(function(a){"A"===a.text("profileStatus")||"T"===a.text("profileStatus")?(k.hide(),l.show(),g.hide(),d.hide(),"A"===a.text("profileStatus")?j.show():"T"===a.text("profileStatus")&&r.show()):(l.hide(),j.hide(),r.hide(),g.show(),d.show(),a.has("thumbnailImage")?(k.attr({src:require("url").TENTH_THUMB+"C54x54/?fname="+a.text("thumbnailImage"),onerror:'this.style.display="none"'}),
k.show()):k.hide(),a.has("nickName")?g.text(a.text("nickName")):g.html("&nbsp;"));this.updateCount(a.text("reviewCount"))},this);jQuery(this._pane.getElement()).find(".link_profile.edit").on("click",function(){b.show();n.click("profile","edit_profile");this.hide()}.bind(this));this.onShow.add(function(){require("log/Tiara").log(require("const").TIARA.profile);var a=require("server");a.favoriteFolderList({},function(){a.reviewList({order:"UPDATE"},function(a){this.updateCount(a.object("result").text("reviewCount"))}.bind(this))}.bind(this))},
this)}function fc(){if(!(this instanceof fc))return new arguments.callee;fc.disposeAll();var a=H("LoadingView");a.appendTo("body");Application.isLoadingViewShow=!0;this.dispose=function(){a.remove();Application.isLoadingViewShow=!1}}function ya(a,b){function c(){var a=oa.height();qb&&525>a?(qb=!1,F.addClass("hideZoombar")):!qb&&525<a&&(qb=!0,F.removeClass("hideZoombar"))}function d(b){K=b=a.isRoadmap(b)?Ia:Ja;Jb=Math.max(Jb,b);b=0<K;F.toggleClass("changedzoombar",b);S.toggleClass("changedzoomedbar",
b);ja.toggleClass("changedzoomtext",b);e(Jb)}function e(a){Jb=a;G.toggleClass("zoomin-ACTIVE",K<a);O.toggleClass("zoomout-ACTIVE",a<ya.MAX_LEVEL);a=ya.DEFAULT_TOP+Math.round(126/(ya.MAX_LEVEL-K)*(a-K));V.css("marginTop",a+"px");S.height(a)}function f(){var a=!A.hasClass(j);A.toggleClass(i,!a&&Q.hasClass("checked"));A.toggleClass(j,a);A.toggleClass(l,a);var b=jQuery("body");b.off("click.layerListHide");a&&(a=-1*(jQuery(B).width()-A.offset().left-50),J.css("right",a),b.on("click.layerListHide",function(a){jQuery.contains(A.get(0),
a.target)||(A.toggleClass(i,Q.hasClass("checked")),A.removeClass(j),A.removeClass(l),b.off("click.layerListHide"))}))}function h(){var a=!L;L=a;o.notify(a);b(Q[0]).toggleClass("checked",a)}function g(){var c=!I,d=document.createElement("video");c&&!d.canPlayType?alert("CCTV \uc7ac\uc0dd\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ube0c\ub77c\uc6b0\uc800\uc785\ub2c8\ub2e4."):(c&&a.getLevel()>gd.MAX_LEVEL&&a.setLevel(gd.MAX_LEVEL),I=c,t.notify(c),b(Q[1]).toggleClass("checked",c))}function k(){var a=
!Y;Y=a;s.notify(a);b(Q[2]).toggleClass("checked",a)}if(!(this instanceof ya))return new arguments.callee(a);var l="lv-OVER",j="lv-ACTIVE",i="lv-ON",p=this.onRoadview=new m,o=this.onTraffic=new m,s=this.onAccident=new m,t=this.onCctv=new m;this.onZoomTo=new m;var u=this.onTool=new m,q=this.onExtension=new m,w=H("MapControlView");jQuery("#view\\.map");var y=jQuery(".viewbuttons"),M=y.$("roadview"),A=y.$("layer"),J=y.$("layerMenu"),Q=J.find("li"),C=w.$("zoomcontrol"),G=w.$("zoomin"),O=w.$("zoomout"),
F=w.$("zoombar"),S=w.$("zoomedbar"),ja=w.$("zoomtext"),V=w.$("slider");w.$("tools");var v=w.$("distance"),X=w.$("area"),x=w.$("radius"),y=w.$("clear"),z=w.$("newplace"),D=w.$("tileTool"),$=w.$("extension"),ka=w.$("extensionText"),E=w.$("newPlaceInfoClose"),T=!1,L=!1,Y=!1,I=!1,wa=!0,Jb,K,Ea,Ia=1,Ja=0;B.devicePixelRatio&&2==B.devicePixelRatio&&(Ja=1);M.on("click",function(){var a=!T;a&&n.click("control","roadview");M.toggleClass("rv-ACTIVE",a);p.notify(a);T=a});A.on("click",".lv-accessibility",f);Q.on("click",
function(){var a=b(this).data("index");3>a&&([h,g,k][a](),n.click("control",["layer",["map_realtraffic","map_cctv","map_accident"][a]]))});C.addClass("fold");var Fa=new daum.maps.ZoomControl({folding:!0});B.zoomControl=Fa;Fa.setMap(a);var gb=jQuery(Fa.getElement()),Bb=jQuery("<div></div>").css("clear","both"),ha=jQuery('<button type="button" class="btn_zoom_coach">\uc2ac\ub77c\uc774\ub354 \ud1a0\uae00</button>');ha.on("click",function(){var a=C.hasClass("fold");C.toggleClass("fold",!a);Fa.setFolding(!a)});
gb.append(ha).append(Bb).find(">a").addClass("btn_zoom").filter(":eq(0)").addClass("btn_zoom_plus").on("mouseover",function(){ha.removeClass("minus").addClass("plus")}).end().filter(":eq(1)").addClass("btn_zoom_minus").on("mouseover",function(){ha.removeClass("plus").addClass("minus")});C.empty().append(gb);V.uidraggable({dragstart:function(){Ea=parseInt(V.css("marginTop"))},drag:function(a){Ea+=a.dy;Jb=Math.max(K,Math.min(ya.MAX_LEVEL,K+Math.floor((Ea-ya.DEFAULT_TOP)*(ya.MAX_LEVEL-K)/126)));e(Jb)}});
v.click(function(){u.notify(ya.DISTANCE)});X.click(function(){u.notify(ya.AREA)});x.click(function(){u.notify(ya.RADIUS)});y.click(function(){n.click("control","reset");u.notify(ya.CLEAR)});z.click(function(){u.notify(ya.NEWPLACE)});E.click(function(){u.notify(ya.NEWPLACE_INFO_CLOSE)});Jb=a.getLevel();d(a.getMapTypeId());var qb=!0,oa=jQuery(B);oa.on("resize",c);c();var sa="keyword";this.setKeywordTile=function(a){sa=a;$.removeClass("keyword-ACTIVE");$.removeClass("theme-ACTIVE");wa&&$.addClass(sa+
"-ACTIVE")};this.setExtensionVisible=function(a){a?(D.show(),u.notify(ya.NEWPLACE_INFO_CLOSE)):D.hide()};$.click(function(){(wa=wa?!1:!0)?($.addClass(sa+"-ACTIVE"),n.click("control","dotsearch_on")):($.removeClass("keyword-ACTIVE"),$.removeClass("theme-ACTIVE"),n.click("control","dotsearch_off"));q.notify(wa)});$.hover(function(){ka.show()},function(){ka.hide()});this.clickLayerMain=f;this.getPane=function(){return w};this.setZoomControlFor=d;this.updateZoomControl=e;this.setRoadviewActive=function(a){M.toggleClass("rv-ACTIVE",
!!a);T=a};this.setTrafficActive=function(a){(a=!!a)?yb(Qa.CCTV+Qa.TRAFFIC+Qa.ACCIDENT):(yb(1),A.toggleClass(j,!1),A.toggleClass(l,!1));L=a};this.isTrafficActive=function(){return L};this.setToolActive=function(a,b){a===ya.DISTANCE?v.toggleClass("distance-ACTIVE",!!b):a===ya.AREA?X.toggleClass("area-ACTIVE",!!b):a===ya.RADIUS&&x.toggleClass("radius-ACTIVE",!!b)};this.deactivateAll=function(){v.removeClass("distance-ACTIVE");X.removeClass("area-ACTIVE");x.removeClass("radius-ACTIVE")};this.showCctv=
function(a){I=!1;g();a||(A.addClass(j),A.addClass(l));A.addClass(i)};this.showTraffic=function(){L=!1;h();A.addClass(j);A.addClass(l)};var yb=this.setTrafficActiveForState=function(a){var b=Qa;a&&(L=a&b.TRAFFIC?!1:!0,h(),I=a&b.CCTV?!1:!0,g(),Y=a&b.ACCIDENT?!1:!0,k(),this.layerButtonUpdate())};this.deactivateTraffic=function(){L=!0;h();I=!0;g();Y=!0;k();A.removeClass(j);A.removeClass(l)};this.layerButtonUpdate=function(){A.toggleClass(i,Q.hasClass("checked"))}}function Jd(a,b,c,d){if(!(this instanceof
arguments.callee))return new arguments.callee(a,b,c,d);var e=new m,f=new m,h=new m,g=!1,k=this.enter=new m,l=this.leave=new m,j=jQuery('<a title="\ub4dc\ub798\uadf8\ud558\uc5ec \uc9c0\ub3c4\uc5d0 \ub193\uc73c\uc138\uc694"><i></i></a>');j.addClass(b);a.addChild(j);j.mouseenter(function(){k.notify()});j.mouseleave(function(){l.notify()});j.uidraggable({dragstart:function(){g?alert("\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4."):(c.setMap(null),
c.setMap(d),j.hide(),e.notify())},drag:function(a){g||c.moveBy(a.dx,a.dy)},dragend:function(){g||(c.setMap(null),c.takeDown(),j.show(),f.notify())},dragcancel:function(){c.setMap(null);j.show();h.notify()}});this.setEnabled=function(a){g=!a;j.toggleClass("disabled",g);j.attr("title",g?"\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4":"\ub4dc\ub798\uadf8\ud558\uc5ec \uc9c0\ub3c4\uc5d0 \ub193\uc73c\uc138\uc694")};this.setClass=function(a){j.removeClass(b);
b=a;j.addClass(b)};this.onStart=e;this.onEnd=f;this.dragCancel=h}function ie(){function a(a,b,c,d){var j=(new fa("ul")).hide();j.addClass("suggest");var k=!1;j.noClosePane(a);j.onClose.add(function(){k=!1});g=jQuery(j.getElement());j.onHide.add(function(){a.removeClass("expand")});j.onShow.add(function(){a.addClass("expand")});f.forEach(function(b){if(""!=b){var f=b+(h?" "+h:"")+(l.keyword?" "+l.keyword:""),j=c&&h&&h.trim()?b+" "+h:b,k=new jQuery("<li/>");k.append('<a href="#none" class="link_option">'+
j+"</a>");k.appendTo(g);k.mouseenter(function(){k.addClass("on")});k.mouseleave(function(){k.removeClass("on")});k.click(function(){"snselect"==d?jQuery(a).find(".label").text(j):e.notify({keyword:f})})}});a.click(function(){k?(j.hide(),k=!1):(j.show(),k=!0)});g.appendTo(a)}function b(a){return String.format("%h",a)}function c(){var c=!1,e=!0,g=l.type,h=l.region||"";h&&l.bunji&&(h+=" "+l.bunji);if(f[0]&&("user_location"!=g||h)){var u="<span>\uac80\uc0c9\uacb0\uacfc</span>",q="";switch(g){case "global":case "user_location":case "location_only":u=
"<span>\uac80\uc0c9\uacb0\uacfc</span>";break;case "located_query":case "near_by_query":case "located_branch":u="<span>\uc8fc\ubcc0  </span> <em>"+b(l.keyword)+"</em><span> \uac80\uc0c9\uacb0\uacfc</span>"}q=h;k.$("upperlabel").show();k.$("upperlabel").set(q);a(k.$("upperwrap").addClass("wrap"),q,!!l.bunji);k.$("uppertext").addClass("text").html(u)}else{u="<em>"+b(h||l.keyword)+"</em> \uac80\uc0c9\uacb0\uacfc";switch(g){case "global":case "user_location":u="\uc7a5\uc18c\uba85 <em>"+b(l.keyword)+"</em> \uac80\uc0c9\uacb0\uacfc";
break;case "location_only":u="<em>"+b(h)+"</em> \uac80\uc0c9\uacb0\uacfc";break;case "located_query":case "near_by_query":case "located_branch":u="<em>"+b(h)+"</em> \uc8fc\ubcc0  <em>"+b(l.keyword)+"</em> \uac80\uc0c9\uacb0\uacfc";break;default:c=!0}k.$("uppertext").html(u)}var u=j.type,w=q="",y=j.region||"";y&&j.bunji&&(y+=" "+j.bunji);switch(u){case "global":q="'"+b(j.keyword)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023";w=j.keyword;break;case "user_location":q="'"+b(j.keyword)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023";
if("location_only"==g||"located_query"==g)q="\uc7a5\uc18c\uba85 "+q;w=j.keyword;break;case "location_only":q="\uc8fc\uc18c '"+b(y)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023";w=y;break;case "located_query":case "near_by_query":case "located_branch":q="'"+b(y)+"' \uc8fc\ubcc0 '"+b(j.keyword)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023",w=y+" "+j.keyword}"user_location"==g&&!h&&f[0]?1==f.length?(k.$("lower").show(),k.$("lowertext").html("'"+b(f[0])+"' \uc8fc\ubcc0 '"+b(r)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023"),
k.$("lowertext").click(function(){d.notify({keyword:l.keyword,snSelected:!0})})):(k.$("lowerlabel").show(),k.$("lowerlabel").set(f[0]),a(k.$("lowerwrap").addClass("wrap"),f[0],!1,"snselect"),k.$("lowertext").addClass("text").html("<span>\uc8fc\ubcc0 '"+b(r)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 <span class='ico_arr'></span></span>"),k.$("lowertext").click(function(){d.notify({keyword:k.$("lowerlabel").text()+" "+r,snSelected:!0})})):q?(k.$("lower").show(),q=q.replace("\u2023",'<span class="ico_arr"></span>'),
k.$("lowertext").html(q),k.$("lowertext").click(function(){d.notify({keyword:w})})):(k.$("lower").hide(),g=-1!==l.keyword.indexOf("\uc6b0\ud3b8\ubc88\ud638"),c&&!g&&(k.$("upper").hide(),e=!1));e&&i.$("info.searchHeader").show()}if(!(this instanceof arguments.callee))return new arguments.callee;var d=this.onClick=new m,e=this.onSelect=new m,f=[],h="",g=null,k=H("MessageView");this.getPane=function(){return k};this.setBound=function(){};this.setKeyword=function(){};this.setSubNumber=function(a){h=a?
a.trim():a};this.hideTitle=function(){k.$("upper").hide()};this.setVisible=function(a){k.toggle(a)};var l=null,j=null,r=null;this.setGuideData=function(a,b,d,e){k.show();l=a[0]||{};j=a[1]||{};r=e||"";f=b;k.$("upper").show();k.$("upperwrap").removeClass("wrap");k.$("upperlabel").empty().removeClass("homonyms").hide();k.$("uppertext").empty().removeClass("text");k.$("lower").show();k.$("lowerwrap").removeClass("wrap");k.$("lowerlabel").empty().removeClass("homonyms").hide();k.$("lowertext").empty().removeClass("text").off("click");
g&&g.remove&&(g.remove(),g=null);c()}}function Yd(a,b){function c(a){a.preventDefault();var b=jQuery("body"),a=g.hasClass("HIDDEN");b.trigger("click.filterListHide");g.toggleClass("HIDDEN",!a);h.toggleClass("expand",a);b.off("click.filterListHide");if(a)b.on("click.filterListHide",function(a){h.get(0)!==a.target&&!jQuery.contains(h.get(0),a.target)&&(g.addClass("HIDDEN"),h.toggleClass("expand",!1),b.off("click.filterListHide"))})}function d(a){a.preventDefault();a=jQuery(a.currentTarget).data("type");
e.notify(a)}var e=this.onClickOption=new m,f=H("MyFilterSelectBoxView",b).appendTo(a),h=f.$("label"),g=f.$("options");0<g.find(">li").length&&(h.click(c),g.find(">li").click(d))}function Of(a){var b='<a data-id="ad_wrap" href="#none" class="link_ad" adfit-unit-id="'+a+'" adfit-landing-url>   <div class="wrap_thumb">       <img data-id="image" adfit-profile-img-url adfit-icon-width="70" adfit-icon-height="70" class="thumb_ad"/>       <span class="frame_thumb"></span>   </div>   <div class="info_ad">      <strong data-id="title" class="tit_ad"><span adfit-profile-name>\uce74\uce74\uc624\ud1a1</span><span class="ico_ad" adfit-ad-info>AD</span></strong>      <p data-id="description" class="desc_ad" adfit-title>\uc5b8\uc81c \uc5b4\ub514\uc11c\ub098 \ubb34\ub8cc\ub85c \uc990\uae30\ub294 \ub300\ud55c\ubbfc\uad6d\uc758 \ub300\ud45c \uba54\uc2e0\uc800</p>   </div></a>',
c=H("AdView_NA");(new AdfitNativeAds({unitId:a})).renderAs(b,function(a){a&&0<a.length&&c.append(a).show()}).init();this.getPane=function(){return c}}function Lc(a){var b=H("NoBusView",{target:"BUSSTOP"==a?"\uc815\ub958\uc7a5":"\ubc88\ud638"});this.getPane=function(){return b}}function ma(a){ga(this,i,"div","NoRouteView");var b=H("NoRouteContentView");this.onSearchBtnClick=new m;this.fiyBtnBox=b.$("fiyContent");var c=null;b.$("fiyBtn").click(function(){c.channel="ROUTE_NORESULT";Application.fiyFrameController.open(c);
n.click("route","go_noresult_"+c.rawInfo.routeType+"_fiy")});a===ma.TRANSIT_METHOD&&this.addClass("NoRouteView_type2");this.addChild(b);this.setTitle=function(a){b.$("titleInfo").html(a)};this.setFiyData=function(a){c=a};this.setWalkFiyData=function(a){a.routeType="walk";a.noResult=!0;a.searchInfo={mode:"walk",searchMode:a.method,option:a.option};jQuery(a.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});a.noResultData={start:{name:a.waypoints[0].name,x:a.waypoints[0].x,y:a.waypoints[0].y},
end:{name:a.waypoints[a.waypoints.length-1].name,x:a.waypoints[a.waypoints.length-1].x,y:a.waypoints[a.waypoints.length-1].y}};c={type:"route",rawInfo:a}};this.setBikeFiyData=function(a){a.routeType="bike";a.noResult=!0;a.searchInfo={mode:"bike",searchMode:a.method,option:a.option};jQuery(a.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});a.noResultData={start:{name:a.waypoints[0].name,x:a.waypoints[0].x,y:a.waypoints[0].y},end:{name:a.waypoints[a.waypoints.length-1].name,x:a.waypoints[a.waypoints.length-
1].x,y:a.waypoints[a.waypoints.length-1].y}};c={type:"route",rawInfo:a}};this.setDesc=function(a){a?(b.$("noRouteDesc").css("display","block"),b.$("noRouteDesc").html(a)):b.$("noRouteDesc").css("display","none")};this.setLink=function(a){a?(b.$("link").attr("href",a.url),b.$("link").text(a.text),b.$("link").removeClass("HIDDEN")):b.$("link").addClass("HIDDEN")};this.setIntercityBox=function(a){b.$("intercityBox").show().html(a)};this.hideDesc=function(){b.$("noRouteDesc").hide()}}function vb(a){ga(this,
Qb);this.onPage=new m;this.panel_=i.$(a);this.prev_=i.$(a+".prev");this.next_=i.$(a+".next");this.btn1_=i.$(a+".no1");this.btn2_=i.$(a+".no2");this.btn3_=i.$(a+".no3");this.btn4_=i.$(a+".no4");this.btn5_=i.$(a+".no5");this.afterNext=function(){};this.afterPrev=function(){};this.prev_.onClick.add(this.showPrev5_,this);this.next_.onClick.add(this.showNext5_,this);this.btn1_.onClick.add(this.showPage1_,this);this.btn2_.onClick.add(this.showPage2_,this);this.btn3_.onClick.add(this.showPage3_,this);this.btn4_.onClick.add(this.showPage4_,
this);this.btn5_.onClick.add(this.showPage5_,this)}function ta(a,b){ga(this,Ha);this.flagType_=a;this.typeImgUrl_=(a===N.ORIGIN_WHICH_?Ha.ORIGIN:a==N.VIA_WHICH_?Ha.VIA:Ha.DEST)||Ha.ORIGIN;this.placeModel=b;this.dssPlaceObj=null;var c=this.panel_=new i("li");c.addClass("PlaceFlagItem");c.addClass("clickArea");b.pointExtension&&c.addClass("aoi");c.onClick.add(function(a){jQuery(a.target).hasClass("clickArea")&&this.clickHandler_()},this);c.onEnter.add(this.panelEnter_,this);c.onLeave.add(this.panelLeave_,
this);var d=this.infoPanel_=new i("div","infopanel");d.addClass("clickArea");var e=this.flagInfoLayer_=new cb(cb[a]);this.flagInfoLayer_.getPane().addClass("FlagItemInfoLayer-xsmall");e.onClick.add(function(){this.clickHandler_()},this);e.setVisible(!1);var f=this.selectedFlag_=new i("span","flag"),h=this.markerIndex_=new i("span","markerIndex","");f.addClass(a);d.addChild(f);d.addChild(h);f=this.name_=new i("a");f.addClass("INACTIVE");f.onClick.add(function(){this.clickHandler_()},this);h=this.category_=
new i("span","subcategory");d.addChild(new i("strong","",[f,h]));f=this.address_=new i("span","address");d.addChild(f);this.infoPanel_.addChild(this.subAddress_=new i("span","subAddress"));f=this.phone_=new i("span","phone");d.addChild(f);var h=this.dot_=new i("span","ICON-middot"),g=this.roadview_=new i("a","roadview","\ub85c\ub4dc\ubdf0");g.setExternalLink("#none");g.onClick.add(this.clickRoadview_,this);this.infoPanel_.addChild(new i("div","contact",[f,h,g]));c.addChild(d);c.addChild(e.getPane());
this.active_=this.hover_=!1;this.onOver=new m;this.onOut=new m;this.onDupDataClick=new m}function Kd(a){function b(a,b){var c={};b&&(c=jQuery.extend({},c,b));var d=Ra.cpg+","+(ha+1);c.name=gb;c.confirmid=Bb;c.cpg=d;c.tab=Ra.tab;c.in_map=Ra.in_map;c.sorttype=Ra.sorttype;c.mkey=Ra.mkey;c.analysis=Ra.analysis;Ra.srcid&&(c.srcid=Ra.srcid);void 0!=Ra.cidx&&(c.cidx=Ra.cidx);a?x.log("search_q_click_"+a,fb,c):x.log("search_q_click",fb,c)}function c(){Ea=!0;l.notify();e()}function d(){Ea=!1;j.notify();e();
R.setVisible(!1)}function e(){t.toggleClass("PlaceItem-ACTIVE",!(!Ea&&!Ia))}function f(a){z.show();D.set(String.formatNumber(a))}if(!(this instanceof Kd))return new arguments.callee;var h=this.onAction=new m,g=this.onCategory=new m,k=this.onRoadViewWithCourse=new m,l=this.onOver=new m,j=this.onOut=new m,i=this.onRoadview=new m,p=this.onFlagClick=new m,o=this.onFavorite=new m,s=this.onDupDataClick=new m,t=H("PlaceItemView"),u=t.$("btnsWrap"),q=t.$("fav"),w=t.$("name"),y=t.$("roadview"),M=t.$("homepage"),
A=t.$("image"),J=t.$("phone"),Q=t.$("freecall"),C=t.$("subcategory"),G=t.$("wrapAddress"),O=t.$("address"),F=t.$("rating"),S=t.$("score"),ja=t.$("scoreBlind"),V=t.$("scoreNum"),Ba=t.$("star"),X=t.$("numberofscore"),B=t.$("scoreGroove"),z=t.$("review"),D=t.$("numberofreview"),$=t.$("gasinfo"),ka=t.$("icon"),E=t.$("moreview"),T=t.$("intercity"),L=t.$("wrapCourseInfo"),Y=t.$("website"),I=t.$("openhour"),wa=t.$("tvshowInfo"),K=t.$("realEstates"),P=t.$("routeBtn"),Ea=!1,Ia=!1,Ja=!0,Fa,gb,Bb,ha,qb,oa,sa=
ca.WORKING_STATUS.DEFAULT,yb=null,ic=null,fb="",Ra=null,Kc=null,U=0,R=new cb;u.append(R.getPane());R.onClick.add(function(a){p.notify(a);b(a==N.ORIGIN_WHICH_?"start":"end")});R.setVisible(!1);P.on("click",function(a){a.stopPropagation();n.click("mapsearch","search_route");R.setVisible(!0)});t.mouseenter(c);t.mouseleave(d);var W=function(){Application.roadviewController.getActive()&&Application.roadviewController.close();h.notify(this);0<Fa&&3!=Fa?b("ad"):b()}.bind(this);t.click(function(a){R.setVisible(!1);
jQuery(a.target).hasClass("clickArea")&&W()});q.click(function(){var a="place",b="search_all";Kc&&(Kc.isSubway&&(a="subway_station"),Kc.isPlaceTab&&(b="search_place_tab"));n.click("favorite",[a,b]);o.notify()});w.click(W);y.click(function(){Application.roadviewController.setViewpointWithMarker(Application.keywordSearchController.model_.places[ha],ha+1,Application.keywordSearchController.model_.isThemeMode(),!1,yb);Application.infoWindowManager.close();require("log/Tiara").log(require("const").TIARA.search_roadview);
i.notify();k.notify(Bb);n.click("roadview","by_mapsearch");var a=yb.getX().toFixed(0),c=yb.getY().toFixed(0),a={panoid:ic.panoId,wx:a,wy:c,region:Application.localInfoController.getHCodeForLog()};b("roadview",a)});A.click(function(){Application.roadviewController.getActive()&&Application.roadviewController.close();h.notify(this)}.bind(this));C.click(function(){d();g.notify()});z.click(function(){b("review")});X.click(function(){b("star")});Q.click(function(){b("freecall")});E.click(function(){b("detail")});
I.click(function(){b("timeinfo")});this.getId=function(){return Bb};this.getPane=function(){return t};this.setHover=function(a){Ea=!!a;e()};this.setActive=function(a){Ia=!!a;e()};this.getActive=function(){return Ia};this.setSeq=function(a){ha=a};this.setIcon=function(a,b){Fa=a;1===a?(ka.addClass("num"),ka.text(b)):ka.text(String.fromCharCode(96+b).toUpperCase())};this.setAoiIcon=function(a,b){this.setIcon(a,b)};this.setCoords=function(a){yb=a};this.setOutLink=function(a){Bb=a.id;qb=a.getLandingUrl();
X.attr("href",a.getDaumPlaceUrl("#comment"));z.attr("href",a.getDaumPlaceUrl("#review"));var b="";switch(a.outsrcId){case "agency":b="\uc911\uac1c\uc5c5\uc18c";break;case "land":case "apt":case "officetel":case "villa":case "oneroom":case "land_hotissue":case "residence":case "urbanhouse":case "bunyang":b="\ubd80\ub3d9\uc0b0";break;default:b="\uc0c1\uc138\ubcf4\uae30"}E.text(b).attr("href",qb);a.subway&&F.find(">span, >a").filter(":not(.moreview)").remove()};this.setImage=function(a,b){3==a?Ja=!1:
(!a||!b?(Ja=!1,A.hide()):b&&(Ja=!0,A.attr("src",b).parent().show()),t.toggleClass("imgVisible",Ja))};this.setName=function(a,b,c){gb=a;w.attr("title",a);t.$("screenOutName").text(a);if(b){var d=a.toLowerCase().indexOf(b.toLowerCase());if(0<=d){c=[d,d+b.length,a.length];c.sort(function(a,b){return a-b});w.html(a.substring(0,c[0])+"<strong>"+a.substring(c[0],c[1])+"</strong>"+a.substring(c[1],c[2]));return}b=b.replace(/\s/g,"");d=a.toLowerCase().indexOf(b.toLowerCase());if(0<=d){c=[d,d+b.length,a.length];
c.sort(function(a,b){return a-b});w.html(a.substring(0,c[0])+"<strong>"+a.substring(c[0],c[1])+"</strong>"+a.substring(c[1],c[2]));return}}w.set(a);c&&w.prepend('<span class="ico_ad">\uad11\uace0</span>')};this.setRoadview=function(a){a&&(ic=a,y.show())};this.setHomepage=function(a){if(a=a.website)M.attr("href",a),M.before('<span class="ICON-middot"></span>').show(),U++};this.setIntercity=function(a){var b=a.intercity,c=a.intercityId,d=a.name;b&&(T.before('<span class="ICON-middot"></span>').show(),
T.click(function(){n.click("intercity","intercity_by_mapsearch");var a=d.replace(/\s/g,"");require("server")[b]({id:c,name:a})}),U++)};this.setExactData=function(a){a&&(Y.attr("href",a).show(),Y.click(function(){x.log("search_q_click_homepage",fb,{name:gb,confirmid:Bb})}))};this.setPhone=function(a){a&&(J.set(a),J.after('<span class="ICON-middot"></span>').show())};this.setCategory=function(a){if(a){oa=a.id||null;C.toggleClass("clickable",!!a.id);var b=String.stripTags(a.name).split(" > ").filter(Boolean).pop();
C.set(b);C.show();a.id||C.off("click")}else C.hide()};this.setCategoryType=function(a){sa=ca.getStatusTextByCategory(a)};this.setCourseinfo=function(a){a&&a.dest&&(L.show(),H("PlaceItemCourseInfo",a).appendTo(L))};this.setAddress=function(a,b){if(!a&&!b)G.hide();else if(G.show(),b)if(O.attr("title",b),O.text(b),a){var c=t.$("otherAddr").show();c.attr("title",a);c.text("(\uc9c0\ubc88) "+a)}else t.$("otherAddr").hide();else a&&(O.attr("title",a),O.text(a))};this.setScoreReviewCheckin=function(a,b,c,
d){ja.hide();S.hide();B.hide();z.hide();switch(a){case "OWNER":ja.show();B.show();f(d);break;case "COMMON":f(d);break;case "GOV":case "VOTE":break;default:S.show(),a=b.toFixed(1),Ba.width(13.6*a),V.attr("title",a+"\uc810").text(a).toggleClass("num0","0.0"==a),c=String.formatNumber(c)+"\uac74",X.set(c),B.show(),f(d)}};this.setGas=function(a){if(a){A.parent().hide();F.hide();$.empty();var b={"\ud718\ubc1c\uc720":a.gasPrice,"\uace0\uae09":a.premiumGasPrice,"\uacbd\uc720":a.dieselPrice,LPG:a.lpgPrice};
23==Application.keywordSearchController.placeSortOptions_.getOption()&&a.lpgPrice&&(b["\uace0\uae09"]=null);var a=[],c;for(c in b)b[c]&&a.push(c+" "+String.formatNumber(b[c])+"\uc6d0");$.text(a.join(", ")).show()}};this.setFavorite=function(b){a.createFavorite(q,v.createFromPlace(b))};this.setDupData=function(a){if(a){t.addClass("PlaceItem-DUP");var b=H("DupListView"),e=b.$("duplist"),f=b.$("dup_cnt");e.mouseenter(d);e.mouseleave(c);b.show();f.text(a.length);b.$("dupToggle").click(function(a){var c=
jQuery(a.currentTarget),a=!c.hasClass("on");e.toggle(a);c.toggleClass("on",a);a&&(jQuery(document).one("mousedown touchstart",function(a){a=a.target;!e.is(a)&&(!f.is(a)&&0===e.has(a).length&&b.$("dupToggle").get(0)!==a)&&(e.hide(),c.removeClass("on"))}),n.click("mapsearch",["related_place","open"]))});a.forEach(function(a,c){if(a.name){var d=new Ne(a,1==c%2);d.getPane().appendTo(e);d.onClick.add(function(a){Ia=!1;s.notify(a);e.hide();b.$("dupToggle").removeClass("on");n.click("mapsearch",["related_place",
"item_click"])})}});b.appendTo(t)}};this.setKeyword=function(a){fb=a};this.setOpenhour=function(a){if(a){var b={MART:"853",DEPARTMENT_STORE:"681",SUPERMARKET:"438"},c=a.object("realtime"),d="Y"===c.text("open"),e="Y"===c.text("breaktime"),f="Y"===c.text("holiday"),g=!1,h=d&&"Y"===c.text("closedToday"),j=function(a){for(var c in b)if(a===b[c])return!0;return!1}(oa),k="",l="",i="Y"===c.text("onlyDisplay");mergeStrFunc=function(a,b){return a.join(b||" ").replace(/(\s)+/g," ").trim()};if(!f&&!i){var q=
c.object("currentPeriod"),u=q.find("timeList");e&&(u=[q.object("matchedTime")]);u.forEach(function(a){a instanceof Ga&&(k&&(k+=" &middot; "),a=[a.text("timeName"),a.text("dayOfWeek"),a.text("timeSE")],e&&a.shift(),k+=mergeStrFunc(a," "))})}if(f||j)a=a.find("offdayList"),f&&(a=[c.object("matchedHoliday")]),a.forEach(function(a){if(a instanceof Ga){var b=a.find("dateList"),c=a.text("weekAndDay"),d="";"Y"===a.text("temporaryHolidays")&&(g=!0);b.forEach(function(a){d&&(d+=", ");d+=a.text("value")});l&&
(l+=", ");a=j&&d&&c?[a.text("holidayName"),d+"("+c+")"]:[a.text("holidayName"),c||d];l+=mergeStrFunc(a," ")}});if(k||l){a=k;l&&(0!==l.indexOf(sa.OFFDAY)&&(l=(g?"\uae30\uac04":sa.OFFDAY)+" "+l),a+=a?", "+l:l);var q="",u=null,r=c.number("secondsUtilOpen");(c=c.text("datetime"))&&14===c.length&&(u=parseInt(c.substr(8,2)));f?q=g?sa.TEMPORARY_HOLIDAYS:sa.OFFDAY:e?q=sa.BREAKTIME:d?h?q=sa.CLOSED_TODAY:(q=sa.OPEN,a=a.replace(/^(\uc601\uc5c5\uc2dc\uac04)\s/,"")):null!==u&&0<r&&(6<=u||7200>=r)?q=sa.BEFOREOPEN:
d||(q=sa.CLOSED);q&&(a=a.replace(RegExp("^"+q+"\\s"),""));i?I.$("periodStatus").hide():I.$("periodStatus").text(q);I.$("periodTxt").html(a).attr("href",qb+"?openhour=1");I.$("periodWarp").show();I.show()}}};this.setTVShowInfo=function(a){a&&wa.show()};this.setTiaraObj=function(a){Kc=a};this.setDssPlaceObj=function(a){Ra=a};this.dssClickHandler=function(a){b(a)};this.setRealEstates=function(a,b){if(b){var c=[],d=b.split("|");"officetel"===a?["\uc804\uc138","\uc6d4\uc138"].forEach(function(a,b){c.push(a+
" "+(d[b+1]||0))}):"apt"===a?(c.push("\ub9e4\ub9e4 "+(d[0]||0)),c.push("\uc804\uc6d4\uc138 "+(1*d[1]+1*d[2]||0))):["\ub9e4\ub9e4","\uc804\uc138","\uc6d4\uc138"].forEach(function(a,b){c.push(a+" "+(d[b]||0))});K.text(c.join(", ")).show()}};this.noAdReview=function(){t.$("score").hide();t.$("scoreGroove").hide();z.hide();t.$("reviewGroove").hide();wa.hide()};this.setMapPlus=function(a){a.isSpecial="special"==a.ad_style;t=H("MapPlusItemView",a);var b=function(b,c){if(!b)return!1;var d={type:b,platform:"PC",
q:a.q,ad_style:a.ad_style};c&&(d.click=c);a.rcode&&(d.regionid=a.rcode);x.sendLog(d)};t.on("click",".link",function(a){a=jQuery(a.currentTarget).data();b("ad_search_mapplus_click",a.type)});b("ad_search_mapplus_impression")};this.setContactItems=function(a){[this.setIntercity,this.setHomepage].some(function(b){b(a);return Ja&&1<=U})}}function Pf(a,b,c){var d,e;function f(a){var b=a.name,c=a.place_owner_reply,f=c.moddttm.split(" ")[0].replace(/-/g,"."),g=c.status,b=jQuery('<div class="box_reply"><div class="reply_head" data-id="replyHead"><em class="screen_out">\uc7a5\uc18c</em><span class="txt_name">'+
b+'</span><span class="txt_bar">|</span><em class="screen_out">\uc791\uc131\uc77c</em><span class="txt_date">'+f+'</span><span class="txt_bar">|</span></div><p class="desc_reply" data-id="descReply"></p></div>');switch(g){case d:var g=c.content,h="?ownerReplyId="+c.reply_id+"&confirmId="+a.confirmId+"&platform=kakaomap",a=jQuery('<a data-id="replyReport" href="#" class="link_report" target="_blank">\uc2e0\uace0</a>');b.find('p[data-id="descReply"]').append(g).end().find('div[data-id="replyHead"]').append(a);
a.click(function(){l.notify({type:"review",querystring:h})});break;case e:b.find('p[data-id="descReply"]').html('\uc774 \uac8c\uc2dc\uae00\uc740 \uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4. <a href="http://www.kakao.com/policy/right" class="link_txt">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>')}return b}var h=this.onClick=new m,g=this.onRemove=new m,k=this.onLike=new m,l=this.onReport=new m,j=c?
"other":"my";d="S";e="T";var i=require("url").DAUM_PLACE+b.confirmId,p=b.status!==d,o="A"===b.placeStatus&&!p,s=b.status===e,t="A"===b.status,u=b.contents||"",q=u.replace(/\r/g,"").replace(/\n/g," "),w=!c&&!!b.place_owner_reply&&"A"!==b.place_owner_reply.status,y=!1,M=!t&&b.revisit,A=!t&&b.strengths&&0<b.strengths.length,c=jQuery.extend({},b,{starWidth:13.6*b.star+"px",isPhoto:!!(b.photos&&0<b.photos.length),isMoreText:200<q.length,contents:u,clippedContents:String.cut(q,200),dateText:b.date.split(" ")[0].replace(/-/g,
"."),link:i+"#commentLayer?edit",isDisabled:p,isEdit:o,isTempByOwner:s&&!c,isTempByOther:s&&c,isAdminDelete:t,isDisabledSummaryUi:t||s&&c,isOtherPage:c,likeCount:b.likeCount||"",isOtherAndDisabled:c&&p,like:b.like&&!p,isOwnerReply:w,showsRevisitText:M,showsStrengthPoints:A});c.isPhoto&&(c.photos=c.photos.map(function(a,c){return{link:i+"?type=kakaomapcomment&basis="+b.reviewId+"&pidx="+c+"#comment",thumbUrl:require("url").TENTH_THUMB+"C70x70.q70/?fname="+encodeURIComponent(a.url),near:a.near}}),o=
c.photos.length,4<o&&(c.photos.splice(4),c.photos[3].photoTotalCnt=o));var a=H("ReviewItemView",c).appendTo(a),c=a.$("more"),J=a.$("setting"),o=a.$("link"),s=a.$("photos"),Q=a.$("contents"),C=a.$("originContents"),t=a.$("moreText"),u=a.$("contractText"),q=a.$("report"),w=a.$("modify"),M=a.$("remove"),G=a.$("like"),O=a.$("ownerReply"),F=null;c.click(function(a){a.preventDefault();n.click(j,["review","more"]);J.show()});o.click(function(){n.click(j,["review","place_tooltip"]);h.notify({type:"place",
key:b.confirmId})});G.click(function(){if(b.status==="S"){var a=!b.like;n.click(j,["review",a?"like":"unlike"]);k.notify({param:{reviewId:b.reviewId,confirmId:b.confirmId,like:a},callback:function(){(b.like=a)?b.likeCount++:b.likeCount--;G.toggleClass("ACTIVE",a).find(".num").text(b.likeCount>0?b.likeCount:"")}})}});t.click(function(){if(!p){n.click(j,["review","unfold_comment"]);Q.hide();C.show()}});u.click(function(){n.click(j,["review","fold_comment"]);C.hide();Q.show()});q.click(function(){n.click(j,
["review","more","review_report"]);l.notify({type:"review",querystring:"?reviewId="+b.reviewId+"&confirmId="+b.confirmId})});w.click(function(){n.click(j,["review","more","review_edit"])});M.click(function(){n.click(j,["review","more","review_delete"]);g.notify({reviewId:b.reviewId,confirmId:b.confirmId})});O.click(function(){if(!F){F=f(b);O.after(F)}y=!y;O.toggleClass("ACTIVE",y);F.toggle(y)});s.on("click","a",function(){n.click(j,["review","picture"])});J.find("li").click(function(){J.hide()})}
function Qe(a,b,c){if(!(this instanceof Qe))return new arguments.callee;var d=this.pane=H("RoadviewBuildingTooltip"),e=d.$("closeBtn"),f=d.$("roadAddress"),h=d.$("address");d.$("start");d.$("via");d.$("dest");var g=d.$("placeList"),k=d.$("findWayBtn"),l=d.$("waypointBtn"),e=d.$("closeBtn"),j=d.$("report"),i=jQuery("body"),p=this.onClose=new m,o=this.onFindWay=new m,s=c.text("bdname").trim(),t=c.text("newaddr");s?f.text(s):t?f.text(t):f.text("\uac74\ubb3c\uc815\ubcf4");h.text(c.text("addr"));d.on("mousedown",
function(a){a.stopPropagation()});k.on("click",function(){n.click("roadview",["building_info","tooltip","findway"]);l.addClass("ACTIVE");i.one("mousedown",function(a){0===jQuery(a.target).parents('[data-id="waypointBtn"]').length&&(l.removeClass("ACTIVE"),a.stopPropagation())})});l.on("click","button",function(a){a=jQuery(a.currentTarget).data("id");o.notify(a);l.removeClass("ACTIVE")});e.on("click",function(){p.notify()});j.on("click",function(){var b=a.getViewpoint(),c=a.getPosition(),d=a.getPanoramaData(),
e={},e={type:"roadview",rawInfo:{panoX:c.x,panoY:c.y,panoId:a.getPanoId(),pan:b.pan,tilt:b.tilt,zoom:b.zoom}};n.click("roadview",["building_info","tooltip","fiy"]);e.rawInfo.roadviewFrom="fiybtn";e.channel="LABEL_TOP";e.channel="FROM_ROADVIEW";e.displayAddress=d.address;Application.fiyFrameController.open(e)});var u="",e=c.obj_.placeList;null!==e?(e.forEach(function(a){var b=a.confirmid||"",c=a.phonenum||"",d=a.placename||"",a=a.cplacename||"";u+='            <li>                <a href="'+(require("url").DAUM_PLACE+
b)+'" target="_blank"  class="link_place">                    <span class="num_phone">'+c+'</span>                    <span class="ico_roadview2 ico_place"></span>                    <span class="txt_place">'+d+" "+a+"</span>                </a>            </li>"}),g.html(u),g.on("click","li > a",function(){n.click("roadview",["building_info","tooltip","poi_click"])})):g.addClass("HIDDEN");this.getContent=function(){return d.children()}}function Re(a){if(!(this instanceof Re))return new arguments.callee;
var b=this.onClose=new m,c=this.onFindWay=new m,d=this.onStoreview=new m,e=this.pane=H("RoadviewSmallPoiTooltip"),f=e.$("name"),h=e.$("close"),g=e.$("storeview"),k=e.$("findWay"),l=a.name;9<l.length&&(l=l.substr(0,9)+"...");f.text(l);f.attr("href",require("url").DAUM_PLACE+a.id);a.storeview&&g.removeClass("HIDDEN");g.on("click",function(){d.notify(a)});h.on("click",function(){b.notify()});k.on("click",function(){c.notify(a)});this.alignCenter=function(){e.css({marginLeft:-e.width()/2+"px"})}}function bf(a){function b(a){Application.isLoadingViewShow||
(d&&(e=a,n.click("route","go_"+a)),c.notify(d))}if(!(this instanceof arguments.callee))return new arguments.callee(a);var c=new m;this.onChange=c;var d=!1,e="",f=H("RouteMethodTabView").appendTo(a);f.$("car").click(Fb(b,"car"));f.$("transit").click(Fb(b,"transit"));f.$("walk").click(Fb(b,"walk"));f.$("bike").click(Fb(b,"bike"));this.getActive=function(){return d};this.setActive=function(a){a!=d&&(d=a,f.toggleClass("RouteMethodTabView-active",!!a),this.clearEstimateTime());return this};this.clearEstimateTime=
function(){f.removeClass("RouteMethodTabView-time");return this};this.setEstimateTime=function(){if(d)return f.addClass("RouteMethodTabView-time"),this};this.setIndex=function(a){e=a;f.$("car").toggleClass("car-active","car"==a);f.$("transit").toggleClass("transit-active","transit"==a);f.$("walk").toggleClass("walk-active","walk"==a);f.$("bike").toggleClass("bike-active","bike"==a);return this};this.getIndex=function(){return e}}function $a(){ga(this,i,"div","RoutePoiControlView RoutePoiControlView-via");
this.onChange=new m;this.cctvContainer_=new i("div","cctvBtn");this.cctvBtn_=new i("button","cctvImg","CCTV");var a=new i("span","coach_theme coach_cctv");this.cctvContainer_.addChild(this.cctvBtn_);this.cctvContainer_.addChild(a);this.cctvBtn_.onClick.add(this.clickCctv_,this);this.cctvClickable(!0);this.addChild(this.cctvContainer_);this.accidentContainer_=new i("div","accidentBtn");this.accidentBtn_=new i("button","accidentImg","\uc0ac\uace0\u00b7\uacf5\uc0ac");a=new i("span","coach_theme coach_accident");
this.accidentContainer_.addChild(this.accidentBtn_);this.accidentContainer_.addChild(a);this.accidentBtn_.onClick.add(this.clickAccident_,this);this.accidentClickable(!0);this.addChild(this.accidentContainer_);this.gasContainer_=new i("div","gasBtn");this.gasBtn_=new i("button","gasImg","\uc8fc\uc720\uc18c");a=new i("span","coach_theme coach_oil");this.gasContainer_.addChild(this.gasBtn_);this.gasContainer_.addChild(a);this.gasBtn_.onClick.add(this.clickGas_,this);this.gasClickable(!0);this.addChild(this.gasContainer_);
this.serviceContainer_=new i("div","serviceBtn");this.serviceBtn_=new i("button","serviceImg","\ud734\uac8c\uc18c");a=new i("span","coach_theme coach_rest");this.serviceContainer_.addChild(this.serviceBtn_);this.serviceContainer_.addChild(a);this.serviceBtn_.onClick.add(this.clickService_,this);this.serviceClickable(!0);this.addChild(this.serviceContainer_);this.trafficContainer_=new i("div","trafficBtn");this.trafficBtn_=new i("button","trafficImg","\uad50\ud1b5\uc815\ubcf4");a=new i("span","coach_theme coach_traffic");
this.trafficContainer_.addChild(this.trafficBtn_);this.trafficContainer_.addChild(a);this.trafficBtn_.onClick.add(this.clickTraffic_,this);this.trafficClickable(!0);this.addChild(this.trafficContainer_)}function wb(a,b,c){function d(a){return jQuery("#"+a.replace(/\./g,"\\."))}ga(this,Qb);a&&(this.panel_=d(a),this.list_=d(a+".list"),this.more_=d(a+".more"),console.assert("function"==typeof b),this.factory_=b,this.onAction=new m,this.onMore=new m,this.more_.click(this.clickMore_.bind(this)),this.itemView_=
[],this.buttonFactory_=c)}function cd(a){ga(this,Qb);this.onOption=new m;(this.panel_=i.$(a)).addClass("Sort")}function Ed(a,b){console.assert(b&&b.length);ga(this,Qb);this.onClose=new m;this.onSwitch=new m;var c=this.panel_=new i("div","SkyviewHistoryLegend");c.addChild(new i("div","left"));var d=new i("div","body"),e=new i("strong"),f=(new i("span")).addClass("num");f.addText(a+"\ub144");e.addChild(f);e.addText(" \ucd2c\uc601\uc9c0\uc5ed");d.addChild(e);e=new i("img");e.toPane().attr({width:109,
height:104});e.setSrc("//t1.daumcdn.net/localimg/localimages/07/2016/pc/sky/sky_"+a+".png");d.addChild(e);var h=new i("ul");b.forEach(function(a){var b=new i("li");b.addText(a);h.addChild(b)});d.addChild(h);e=new i("a");e.addClass("closerBtn");e.onClick.add(this.clickCloser_,this);d.addChild(e);c.addChild(d);c.addChild(new i("div","right"))}function Se(a){ga(this,Qb);this.onKeyword=new m;this.panel_=i.$(a);this.list_=i.$(a+".list")}function bd(a){ga(this,Qb);this.id_=a;this.panel_=i.$(a);this.candidate_=
i.$(a+".candidate");this.candidate_.onClick.add(this.clickCandidate_,this);this.onClick=new m}function ad(){ga(this,i,"div","SubwayFunctionToolBar");var a=this.print_=new i("a","print",["\uacbd\ub85c\uc778\uc1c4"]);a.onClick.add(this.clickPrint_,this);var b=this.favorite_=new i("a","favorite"),c=new i("span","ico_fav");c.addChild(new i("span","num","0"));b.addChild(c);b.addChild(" \uc990\uaca8\ucc3e\uae30");b.onClick.add(this.clickFavorite_,this);c=this.showMap_=new i("a","showFiy",["\uc815\ubcf4 \uc218\uc815 \uc81c\uc548"]);
c.onClick.add(this.clickshowMap_,this);this.addChild(a);this.addChild(b);this.addChild(c);this.onClick=new m}function Qf(a){function b(){var b=a.firstNode,c=jQuery('<p class="detailStartEndNode"></p>'),d=U.subwayCode[b.subwayId]||[],d=b.name+"("+d[1]+")";b.time.substring(0,5);c.append(jQuery('<span class="startIcon"></span>'));c.append(jQuery('<span class="name">'+d+"</span>"));o.append(c);var e=jQuery('<ul class="detailSectionsView"></ul>');i.forEach(function(a,b){if("NORMAL"===a.type){var c=null;
i[b+1]&&"TRANSFER"==i[b+1].type&&(c={time:i[b+1].time,walkTime:i[b+1].walkTime});c=new Rf(a,c);e.append(c.getPanel())}});o.append(e);b=a.lastNode;c=jQuery('<p class="detailStartEndNode boldBottom"></p>');d=U.subwayCode[b.subwayId]||[];d=b.name+"("+d[1]+")";b.arrTime.substring(0,5);c.append(jQuery('<span class="time">'+b.arrTime+"</span>"));c.append(jQuery('<span class="endIcon"></span>'));c.append(jQuery('<span class="name">'+d+"</span>"));o.append(c);p=!0}function c(a){a=a?"\uc811\uae30":"\ud3bc\uce58\uae30";
e.find(".detailBtn").text(a).prop("title",a)}var d=this.onSelected=new m,e=H("SubwayRouteResultItemView"),f=!1,h=e.$("time"),g=a.totalTimeMinutes||0,k=a.totalTimeHours||0;k&&(h.append(jQuery('<span class="num">'+k+"</span>")),h.append(jQuery('<span class="hourTxt">\uc2dc\uac04 </span>')));g%60&&(h.append(jQuery('<span class="num">'+g%60+"</span>")),h.append(jQuery('<span class="minitueTxt">\ubd84 </span>')));g=jQuery('<span class="routeInfo"></span>');g.append(jQuery('<span class="num">'+a.stationCount+
"</span>"));g.append(jQuery('<span class="countFstTxt">\uac1c</span>'));g.append(jQuery('<span class="countLstTxt">\uc5ed</span>'));g.append(jQuery('<span class="comma">, </span>'));a.transferCount?(g.append(jQuery('<span class="transfer">\ud658\uc2b9 </span>')),g.append(jQuery('<span class="num">'+a.transferCount+"</span>")),g.append(jQuery('<span class="cntTxt">\ud68c</span>'))):(g.append(jQuery('<span class="transfer">\ud658\uc2b9</span>')),g.append(jQuery('<span class="noTransfer">\uc5c6\uc74c</span>')));
var k=jQuery('<span class="state"></span>'),l=0;a.isFastest&&2>l&&(k.append(jQuery('<span class="isFastest">\ucd5c\ub2e8\uc2dc\uac04</span>')),l++);if((a.isOnlyRoute||a.isMinTransfer)&&2>l)0!=l&&k.append(document.createTextNode(", ")),k.append(jQuery(', <span class="isMinTransfer">\ucd5c\uc18c\ud658\uc2b9</span>')),l++;g.append(k);h.append(g);h=e.$("fare");g="\uc694\uae08\uc815\ubcf4\uc5c6\uc74c";a.cardFare&&(g="\uce74\ub4dc "+String.formatNumber(a.cardFare)+"\uc6d0");h.html(g);var j=e.$("outLineView"),
i=a.sectionRoutes,h=i[i.length-1],k=h.nodes[h.nodes.length-1];i.forEach(function(a){if(a.id&&a.type!="TRANSFER"){var b=U.subwayCode[a.id]||[],c=jQuery('<p class="outLineNode '+b[0]+'"><span class="icon"></span><span class="line"></span><span class="endIcon"></span></p>'),d=a.nodes[0],b=d.name+"("+b[1]+")",d=d.time.substring(0,5);c.append(jQuery('<span class="time">'+d+"</span>"));d=jQuery('<span class="name">'+b+"</span>");a.hasExpressTrain&&a.expressTrainType&&d.append(jQuery('<span class="trainType trainType_'+
a.expressTrainType+'">\uc5f4\ucc28\uc885\ub958</span>'));c.append(d);if(a.noTimeText){c.addClass("noTime");c.append(jQuery('<span class="desc_caution"><span class="icoNotice"></span>'+a.noTimeText+"</span>"))}j.append(c)}});h=jQuery('<p class="outLineNode"></p>');g=k.name+"("+(U.subwayCode[k.subwayId]||[])[1]+")";k=k.arrTime.substring(0,5);h.append(jQuery('<span class="time">'+k+"</span>"));h.append(jQuery('<span class="name">'+g+"</span>"));j.append(h);e.hover(function(){f||e.addClass("SubwayRouteResultItem-HOVER")},
function(){f||e.removeClass("SubwayRouteResultItem-HOVER")});var p=!1;e.find(".clickArea").on("click",function(){f=!f;e.toggleClass("SubwayRouteResultItem-DETAIL",f);e.toggleClass("SubwayRouteResultItem-HOVER",!f);c(f);if(f){d.notify();p||b()}});var o=e.$("detailView");this.getPanel=function(){return e};this.setActive=function(a){e.toggleClass("SubwayRouteResultItem-ACTIVE",a)};this.setDetail=function(a){f=a;e.toggleClass("SubwayRouteResultItem-DETAIL",f);e.removeClass("SubwayRouteResultItem-HOVER");
f&&!p&&b();c(a)}}function Rf(a,b){var c="TRANSFER"==a.type,d=U.subwayCode[a.id]||[],e=H("SubwayRouteSectionItemView");e.addClass(d[0]);var f=e.$("line");c&&(f.removeClass("line").addClass("transfer"),e.$("endIcon").hide());var h=e.$("infoWrap");a.time&&e.$("time").text(a.time);a.name&&(f=jQuery('<a href="#">'+a.name+"</a>"),f.on("click",function(){a.nodes[0]&&a.nodes[0].id&&open(require("url").DAUM_PLACE+a.nodes[0].id)}),e.$("name").append(f),e.$("name").append(c?" \ud558\ucc28":" \uc2b9\ucc28"),
c||a.hasExpressTrain&&a.expressTrainType&&e.$("name").append(jQuery('<span class="trainType trainType_'+a.expressTrainType+'">\uc5f4\ucc28\uc885\ub958</span>')));c||a.noTimeText&&e.$("name").after(jQuery('<span class="desc_caution"><span class="icoNotice"></span>'+a.noTimeText+"</span>"));!c&&a.direction?e.$("direction").text(d[1]+" "+a.direction):c&&a.walkTime&&e.$("direction").text("\ub3c4\ubcf4\ub85c \uc774\ub3d9 ("+(parseInt(a.walkTime/60)||1)+"\ubd84)");a.fastTransferInfo&&e.$("fastTransfer").text("\ube60\ub978 \ud658\uc2b9 "+
a.fastTransferInfo);var g=!1,f=e.$("stationCount"),k=a.nodes,l=k.length;if(0<l-1&&!c){f.text(l-1+"\uac1c\uc5ed \uc774\ub3d9");if(1==l-1)f.addClass("noStationCount");else f.on("click",function(){g=!g;h.toggleClass("nodeDetail",g);e.toggleClass("SubwayRouteSectionItem-DETAIL",g)});var j=e.$("nodes");j.addClass("detail_"+d[0]);k.forEach(function(a,b){if(!(b==0||b>=l-1)){var c=jQuery('<li class="node"><span class="dot"></span><span class="time">'+a.time+'</span><span class="name">'+a.name+"</span></li>");
j.append(c)}})}else f.hide();b&&(c=a.transferTypeText||Math.round(b.walkTime/60)+"\ubd84",h.append(jQuery('<p class="walkTransfer">\ub3c4\ubcf4\ub85c \uc774\ub3d9, '+c+'<span data-id="time" class="time">'+b.time+"</span></p>")));e.hover(function(){e.addClass("SubwayRouteSectionItem-HOVER")},function(){e.removeClass("SubwayRouteSectionItem-HOVER")});this.getPanel=function(){return e}}function ae(a){this.item=a;this.name_=a.name;a=this.panel_=new i("strong");a.setText(this.name_);a.onClick.add(this.showStationInfo_,
this)}function uc(a){var b=H("SubwayStationTransitView"),c=b.$("ascending"),d=b.$("decending"),e=Math.max(a.up.length,a.down.length);Te(c,a.up,uc.DIRECTION.up,e);Te(d,a.down,uc.DIRECTION.down,e);this.getPane=function(){return b}}function Te(a,b,c,d){if(0<b.length){var e=[];b.forEach(function(a,b){1<b||e.push('<dt class="tit_item">'+a.direction+'</dt><dd class="info_item">'+Sf(a)+"</dd>")});a.empty().html(e.join(""))}else a.addClass("list_none").empty().html(('<dt class="tit_item">'+c+'</dt><dd class="info_item">-</dd>').repeat(d))}
function Sf(a){var b=a.arrivalTime,c=a.vehicleStatus;return"RUNNING"===c?0===b?a.arrivalTimeMsg:60>b?"\uace7\ub3c4\ucc29":Math.floor(b/60)+"\ubd84":uc.STATUS[c]}function Ib(a,b,c,d,e){function f(a){y&&y!=a&&y.removeClass("showSubList");M=y=null;b.hide();o.removeClass("ThemePoiControlView_fst ThemePoiControlView_sec")}function h(a){q&&(a&&q[0]==a[0])&&(q=a);q&&q!=a&&q.removeClass("poi_active");w=q=null;f(a);Q.find("button").removeClass("btn_active")}function g(a){t.notify(a);d.log(e.TIARA.theme)}function k(a){p();
Q.find("button:has(.ico_"+a.type+")").addClass("btn_active");q=J.find(".poi_item:has(."+a.type+")").addClass("poi_active");o.addClass("ThemePoiControlView_activated");var b={};Ib.THEME_POIS.some(function(c){if(c.type==a.type)return b=c,!0});w=b.id||Ib.THEME_SUB[b.name][a.sub||0].id;g({id:w,type:a.type,dimg:a.dimg})}function l(a){p();var b=null;Ib.THEME_POIS.some(function(c){if(a==c.id)b={id:a,type:c.type};else if(""==c.id){var d=Ib.THEME_SUB[c.name];d&&d.forEach(function(d){d.id==a&&(b={id:a,type:c.type})})}return b});
b&&(q=J.find(".poi_item:has(."+b.type+")").addClass("poi_active"),w=b.id,g(b))}function j(){G&&clearTimeout(G);O&&clearTimeout(O);O=G=null}function i(){b.hide();var a=jQuery(".poi_item",o);a.removeClass("showSubList");o.toggleClass("ThemePoiControlView_activated",a.hasClass("poi_active"));o.removeClass("ThemePoiControlView_active ThemePoiControlView_routeActive");o.removeClass("ThemePoiControlView_fst ThemePoiControlView_sec");j()}function p(){h();o.removeClass("ThemePoiControlView_active ThemePoiControlView_activated");
Q.find("button").removeClass("btn_active");jQuery(".poi_item",o).removeClass("poi_active");jQuery(".poi_item",o).removeClass("poi_hover");jQuery(".poi_item",o).removeClass("showSubList");u.notify()}var o=jQuery("<div>").addClass("ThemePoiControlView");o.css("width","50px");o.append('<h3><a href="#none" class="btn_poi">\uc8fc\ubcc0</a></h3>');var s=o,t=this.onPoiActive=new m,u=this.onPoiClear=new m;this.onThemeToIndex=new m;o.append(b.getElement());b.hide();var q=null,w=null,y=null,M=null,A=jQuery("<div/>").addClass("Wrap").appendTo(o);
o.append('<strong class="screen_out">\uc8fc\ubcc0\ud0d0\uc0c9 \ubaa9\ub85d</strong>');var J=jQuery("<ul>").appendTo(A);Ib.THEME_POIS.forEach(function(a,c){var d=jQuery('<li><button type="button" class="btn_item"><span class="'+a.type+'"></span>'+a.name+"</button></li>").addClass("poi_item").data("type",0==c%2?"fst":"sec");Ib.THEME_SUB[a.name]&&d.find("button").append('<span class="ico_arr"></span>');d.click(function(c){c.stopPropagation();Ib.THEME_SUB[a.name]?(f(d),d.toggleClass("showSubList").hasClass("showSubList")&&
(y=d,M=a.type,o.addClass("ThemePoiControlView_"+d.data("type")),c=Ib.THEME_SUB[a.name],0<c.length&&(b.setData(c,a.dimg),b.setActive(w)))):(h(d),d.toggleClass("poi_active").hasClass("poi_active")?(n.click("dotsearch",a.type),q=d,w=a.id,g(a)):u.notify())});J.append(d)});var Q=jQuery("#info\\.main\\.around"),C=Q.find("ul.list_around");Ib.HOME_THEME_POIS.forEach(function(a){var b=jQuery('<li><button type="button" class="btn_around"><span class="ico_'+a.type+'"></span><span class="txt_around">'+a.name+
"</span></button></li>");b.click(function(b){b.stopPropagation();n.click("left",["dotsearch",a.type]);Q.find("button:has(.ico_"+a.type+")").hasClass("btn_active")?p():k(a)});C.append(b)});c.onShow.add(function(){o.addClass("ThemePoiControlView-OFF")});c.onCloseRoadview.add(function(){o.removeClass("ThemePoiControlView-OFF")});jQuery('<li class="bottom"></li>').appendTo(J);b.onClick.add(function(a){var b={type:M,id:a.id,dimg:a.dimg},c=y;h();q=c;w=a.id;q.addClass("poi_active");g(b);n.click("dotsearch",
b.type)});b.onClear.add(function(){u.notify();h()});var G=null,O=null;s.hover(function(){j();o.hasClass("ThemePoiControlView_active")||(G=setTimeout(function(){o.addClass("ThemePoiControlView_active");o.addClass("ThemePoiControlView_active");j()},30))},function(){j();o.hasClass("ThemePoiControlView_active")&&!b.getVisible()&&(O=setTimeout(i,30))});this.setRouteControlView=function(a){a?o.addClass("ThemePoiControlView_route"):o.removeClass("ThemePoiControlView_route")};this.getRouteView=function(){return a};
this.getElement=function(){return o[0]};this.getActive=function(){return q?!0:!1};this.getAcitveId=function(){return w};this.setThemeToObject=function(a){k(a)};this.setThemeToId=function(a){l(a)};this.clearAll=function(){p()}}function rd(){ga(this,i,"div");this.addClass("TransitFunctionToolBar");var a=this.print_=new i("a");a.addClass("print");a.setText("\uacbd\ub85c\uc778\uc1c4");a.onClick.add(this.clickPrint_,this);var b=this.favorite_=new i("a","favorite"),c=new i("span","ico_fav");c.addChild(new i("span",
"num","0"));b.addChild(c);b.addChild(" \uc990\uaca8\ucc3e\uae30");b.onClick.add(this.clickFavorite_,this);c=this.alook_=new i("a");c.addClass("alook");c.setText("\uacbd\ub85c \ud55c\ub208\uc5d0");c.onClick.add(this.clickAlook_,this);this.addChild(a);this.addChild(c);this.addChild(b);this.onClick=new m}function Tf(a){function b(a,b){var c=r.$("interList"),d=new Ue(a,b,!0);u.push(d);c.append(d.getPane());d.onClick.add(function(){h(b,!0)},this);return d}function c(a){for(var b="",c="",d=0,e=0,f="",b=
"",g=0;g<a.length;g++)if(c=a[g].vehicleType,c!=E.TRANSFER_WALK&&c!=E.TRANSFER_CUSTOM){if(a[g].fare||a[g].taxiFare)d+=1*(a[g].fare||a[g].taxiFare).replace(/,/gi,"").replace("\uc6d0","");if(a[g].time){var c=a[g].time,c=c.replace(/ /gi,""),h=c.indexOf("\uc2dc\uac04"),j=c.indexOf("\ubd84"),k=0;-1<h&&(k+=60*c.substr(0,h));-1<j&&(h=-1<h?h:-2,k+=1*c.substr(h+2,j-(h+2)));e+=k}if(!d&&!e){w.html("\uc694\uae08\uc815\ubcf4 \uc5c6\uc74c");return}}e&&(a=Math.floor(e/60),g=e%60,f=(0===a?f+(g+"\ubd84 "):f+(a+"\uc2dc\uac04 "+
g+"\ubd84 "))+"\uc18c\uc694");d&&(b+="\uc57d "+d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"\uc6d0");w.append(f);f&&w.append('<span class="bar"></span>');w.append(b)}function d(a,b){var c=r.$("interList"),d=new Ue(a,b,!1);c.append(d.getPane());u.push(d);d.onClick.add(function(){h(b)},this);return d}function e(b){var c=a.end;c.text("type");var d=b.$("startSummaryIcon"),e=b.$("startName"),f="";a.time&&(f+=a.time);a.fare&&f&&(f+=", ");k==E.TRANSFER_CAR?(d.addClass("taxi"),e.text(c.text("name")+
"\uae4c\uc9c0 \ud0dd\uc2dc\ub85c \uc774\ub3d9"),a.taxiFare&&(f&&(f+=", "),f+="\uc694\uae08 \uc57d "+a.taxiFare),a.distance&&(f&&(f+=", "),f+="\uac70\ub9ac "+a.distance),f?b.$("moreRouteTxt").set(f):b.$("moreRouteWrap").addClass("HIDDEN")):k==E.TRANSFER_WALK?(d.removeClass("INTERCITY").addClass("walk"),e.text(c.text("name")+"\uae4c\uc9c0 \ub3c4\ubcf4\ub85c \uc774\ub3d9"),a.distance&&(f&&(f+=", "),f+=a.distance+" \uc774\ub3d9"),f?b.$("moreRouteTxt").set(f):b.$("moreRouteWrap").addClass("HIDDEN")):(f&&
b.$("custom_inter_time").text(f),b.$("transInterTypeInfo").hide(),q.hide());b.$("oneItem").click(function(){p.notify()})}function f(){y=new i("ol","public_detail");M=[];a.publicSteps.forEach(function(b,c){var d=null;b.walk&&b.type!=U.OTHER?(b.walkGroup.walkGuide=!1,d=new Yc(b.walkGroup)):d=new Ve(b);y.addChild(d.getPane());c==a.publicSteps.length-1&&d.setLast();0==c&&d.setFirst();d.onClick.add(function(){h(c)},this);M.push(d)},this);y.appendTo(r);y.hide()}function h(a,b){b?t.notify({idx:a,isLast:b}):
t.notify(a)}console.assert(a instanceof E||void 0!==a.length);var g=null;void 0!==a.length&&(g=a,a=g[0]);var k=this.vehicleType=a.vehicleType,l=a.routeType,j=!1;k==E.TRAIN&&(j=!0);var r=H("TransitInterPointItemView",{isInterTraffic:l==E.INTERCITY?!0:!1,isCustomType:k==E.TRANSFER_CUSTOM?!0:!1,isOneLineSummary:k==E.TRANSFER_WALK||k==E.TRANSFER_CAR?!0:!1,longInterval:a.longInterval,hasReservation:a.reservation||j,destination:a.end.text("name")}),p=this.onClick=new m,o=this.onOver=new m,s=this.onOut=
new m;this.onPointClick=new m;this.onPointOver=new m;this.onPointOut=new m;this.onDetailBtnForLog=new m;var t=this.onChildPointClick=new m;this.onInterChildPointClick=new m;var u=this.interSubItems=[],q=r.$("trans_type_header"),w=r.$("trans_inter_time"),y=j=null,M=[];r.click(function(a){var b=jQuery(a.target);k==="AIRPLANE"?n.click("route","go_public_flightcell"):k==="TRAIN"?n.click("route","go_public_traincell"):k==="TRANSFER_CAR"?n.click("route","go_public_taxicell"):k==="INTERCITY_BUS"||k==="EXPRESS_BUS"?
n.click("route","go_public_exbuscell"):k==="FERRY"&&n.click("route","go_public_shipcell");if(!b.hasClass("reservation_btn")&&!(b.hasClass("detailBtn")||b.closest(".public_detail").length>0)){p.notify();a.stopPropagation()}});r.hover(function(){o.notify()},function(){s.notify()});(function(){var b;if(k=="TRAIN"){b=a.subType;var c="";b=="KTX"?c="KTX":b=="ITX"?c="ITX":b=="SRT"?c="SRT":b=="\uc0c8\ub9c8\uc744"?c="SAEMAEUL":b=="\ubb34\uad81\ud654"?c="MUGUNGHWA":b=="\ub204\ub9ac\ub85c"?c="NURIRO":b=="\ud1b5\uadfc"?
c="TONGGEUN":b=="ITX\uc0c8\ub9c8\uc744"?c="ITXSAEMAEUL":b=="DMZtrain"&&(c="DMZT");b=c}else b=k;c="";b==="TRANSFER_PUBLICTRAFFIC"?c="\uc2dc\ub0b4\uad6c\uac04":b==="EXPRESS_BUS"?c="\uace0\uc18d\ubc84\uc2a4":b==="INTERCITY_BUS"?c="\uc2dc\uc678\ubc84\uc2a4":b==="KTX"||b==="ITX"||b==="SRT"?c=b:b==="SAEMAEUL"?c="\uc0c8\ub9c8\uc744":b==="MUGUNGHWA"?c="\ubb34\uad81\ud654":b==="NURIRO"?c="\ub204\ub9ac\ub85c":b==="AIRPLANE"?c="\ud56d\uacf5":b==="FERRY"?c="\uc5ec\uac1d\uc120":b==="TRANSFER_CAR"?c="\ud0dd\uc2dc":
b==="TRANSFER_WALK"?c="\ub3c4\ubcf4":b==="TONGGEUN"?c="\ud1b5\uadfc":b==="ITXSAEMAEUL"?c="ITX \uc0c8\ub9c8\uc744":b==="DMZT"&&(c="DMZtrain");q.addClass(b);q.set(c)})();this.pointItemViews_=[];if(k==E.TRANSFER_PUBLICTRAFFIC)j=new be(a.publicSummaries),r.append(j.getPane().removeClass("clickArea").addClass("detail_summary")),f(),this.pointItemViews_=M,c([a]),y&&y.show(),j&&j.getPane().hide();else if(l==E.PUBLICTRAFFIC)e(r),c([a]);else{l=0;if(g){for(l=0;l<g.length;l++)this.pointItemViews_.push(d(g[l],
l));l=g.length-1;c(g)}else this.pointItemViews_.push(d(a,l)),c([a]);this.pointItemViews_.push(b(g?g[g.length-1]:a,l))}this.setItemActive=function(a){if(a)switch(this.vehicleType){case E.EXPRESS_BUS:case E.INTERCITY_BUS:n.click("route","go_public_expressbuscell");break;case E.TRAIN:n.click("route","go_public_traincell");break;case E.AIRPLANE:n.click("route","go_public_flightcell");break;case E.FERRY:n.click("route","go_public_shipcell");break;case E.TRANSFER_CAR:n.click("route","go_public_taxicell");
break;case E.TRANSFER_WALK:n.click("route","go_public_walkcell");break;case E.TRANSFER_CUSTOM:n.click("route","go_public_noticell")}};this.setItemHighlight=function(){};this.getPane=function(){return r};this.deActiveDetailRoute=function(){r.$("moreRouteWrap").removeClass("open")};this.setLast=function(){r.addClass("TransitInterPointItem-LAST")}}function Ue(a,b,c){function d(){var c=l.$("detailIcoWrap"),d=l.$("summaryIcon"),e=l.$("name"),f=a.getIconClassName();d.addClass(f);c.addClass("getoff");e.set(a.end.text("name"));
l.click(function(){h.notify({interCitySubIdx:b,sub:1})})}function e(a){var b=-1,b=a.indexOf("\uc2dc\uac04")+2;return 1===b?a:a.substr(0,b)+" "+a.slice(b,a.length)}function f(){var c=a.start,d=a.end,f=c.text("type");d.text("type");var g=l.$("tp_line"),k=l.$("moreRouteTxt"),i=l.$("moreRouteWrap"),d=l.$("nameWrap"),u=l.$("summaryIcon"),q=l.$("name"),w=l.$("reservationBtn"),y=!1;a.vehicleType==E.TRAIN&&(y=!0);l.click(function(){0===b||void 0===b?h.notify():h.notify({interCitySubIdx:b})});var m=a.getIconClassName();
u.addClass(m);g.addClass(m);f&&(f=f.toLowerCase(),u.addClass(f));q.text(c.text("name"));c="";a.time&&(c+=e(a.time));a.fare&&(c&&(c+=", "),c+="\uc694\uae08 \uc57d "+a.fare);c&&(i.removeClass("HIDDEN"),k.set(c));(c=a.getLabelClassName())&&d.append(jQuery('<span class="ico_subway '+c+' ">'+a.interTypeName+"</span>"));if(a.reservation||y)(a.vehicleType==E.TRAIN||y)&&w.addClass("not_realtime"),w.removeClass("HIDDEN"),a.vehicleType===E.TRAIN?w.text("\uc6b4\ud589\uc815\ubcf4"):w.text("\uc2e4\uc2dc\uac04 \uc608\ub9e4"),
w.click(function(){var b=Application.transitRouteSearchController.panel_.dssObject_;b&&x.log("path_transit_click_timetable",b.q,{tab:b.tab,mkey:b.mkey,cpg:b.cpg,qidx:b.qidx});if(a.vehicleType==E.TRAIN)if(a.subType=="SRT"){n.click("route","go_public_intercityinfo_train_srt");B.open("http://www.srail.co.kr")}else{n.click("route","go_public_intercityinfo_train");B.open("http://www.letskorail.com")}else{b={};if(a.start){b.s_id=a.start.text("id");b.s_name=a.start.text("name")}if(a.end){b.e_id=a.end.text("id");
b.e_name=a.end.text("name")}a.vehicleType==E.FERRY?n.click("route","go_public_intercityreservation_ship"):n.click("route","go_public_intercityreservation_bus");require("server").interCityTimetable(b)}})}var h=this.onClick=new m,g=this.onOver=new m,k=this.onOut=new m,l=H("TransitInterPointSubItemView");c?d():f();(function(){l.hover(function(){g.notify()},function(){k.notify()})})();this.getPane=function(){return l}}function Tb(a){ga(this,i,"li","TransitRouteItem");this.addClass("InterTransitRouteItem");
this.busLineBtnClick=new m;this.onPointClick=new m;this.onDestination=new m;this.onWalkDetail=new m;this.onDetail=new m;this.onOver=new m;this.onOut=new m;this.onWalkRoadview=new m;this.route_=a;this.onChildPointClick=new m;this.itemIndexCount=0;this.addChild(new i("div","top_line"));var b=(new i("div","title")).addClass("clickArea");this.addChild(b);var c=a.totalTime,d=(c-c%60)/60,e=new i("span","time");d&&(e.addChild(new i("span","num",d)),e.addChild(new i("span","hourTxt","\uc2dc\uac04 ")));"0"!=
(c%60).toString()&&(e.addChild(new i("span","num",(c%60).toString())),e.addChild(new i("span","minitueTxt","\ubd84")));b.addChild(e);var c=new i("div","transTypeInfo"),d=new i("span","trans_type"),e="",f=a.subType||a.type;0<a.transfers&&!a.transferOneType&&(f="TRANSFER");"EXPRESS_BUS"===f?e="\uace0\uc18d\ubc84\uc2a4":"INTERCITY_BUS"===f?e="\uc2dc\uc678\ubc84\uc2a4":"KTX"===f?e="KTX":"ITX"===f?e="ITX":"SRT"===f?e="SRT":"SAEMAEUL"===f?e="\uc0c8\ub9c8\uc744":"MUGUNGHWA"===f?e="\ubb34\uad81\ud654":"NURIRO"===
f?e="\ub204\ub9ac\ub85c":"AIRPLANE"===f?e="\ud56d\uacf5":"FERRY"===f?e="\uc5ec\uac1d\uc120":"TAXI"===f?e="\ud0dd\uc2dc":"WALK"===f?e="\ub3c4\ubcf4":"TRANSFER"===f?e="\uc2dc\uc678\uad6c\uac04":"TONGGEUN"===f?e="\ud1b5\uadfc":"ITXSAEMAEUL"===f?e="ITX \uc0c8\ub9c8\uc744":"DMZT"===f&&(e="DMZ train");d.setText(e+" ");c.addChild(d);d=new i("span","inter_time");d.setText(a.timeText.replace("\uc2dc\uac04","\uc2dc\uac04 "));d.addChild(new i("span","bar"));e="";e=a.fare?"\uc694\uae08 \uc57d "+a.fare:"\uc694\uae08\uc815\ubcf4 \uc5c6\uc74c";
d.addText(e);c.addChild(d);c.addClass("clickArea");b.addChild(c);c=this.detailButton_=new i("span","right_detail",new i("a","detail"));c.onClick.add(this.clickDetail_,this);b.addChild(c);this.addChild((new be(a.summaries)).getPane());b=this.transitlist_=new i("ol","");this.pointItemViews_=[];this.addChild(b);this.onClick.add(this.clickSelf_,this);this.bounds_=a.bounds;this.onEnter.add(function(){this.getActive()||this.addClass("TransitRouteItem-OVER");this.onWrapOver.notify()},this);this.onLeave.add(function(){this.getActive()||
this.removeClass("TransitRouteItem-OVER");this.onWrapOut.notify()},this);this.addChild(new i("div","bottom_line"));this.onWrapOver=new m;this.onWrapOut=new m;this.onDetailBtnForLog=new m}function Ve(a){function b(){null==a.roadview?g.hide():g.click(function(a){a.preventDefault();w=!0;e.notify(null)})}console.assert(a instanceof U);var c=H("TransitPointItemView",{isNodes:0!=a.nodes.length&&!a.isInterPublic?!0:!1,nodes:a.nodes,nodeCode:a.subwayCode?a.subwayCode:"buscode",isPublicPoint:a.isInterPublic?
!1:!0,isInterPublic:a.isInterPublic?!0:!1,isOther:a.type==U.OTHER?!0:!1}),d=this.onClick=new m,e=this.onRoadview=new m,f=this.onOver=new m,h=this.onOut=new m,g=c.$("roadview");c.$("busArrivalBtn");var k=c.$("subwayLineBtn"),l=c.$("name"),j=c.$("summaryIcon"),i=c.$("tp_line"),p=c.$("desc");c.$("tip");var o=c.$("moreRoute"),s=c.$("detailRoute"),t=c.$("vehicles"),u=!1,q=!1,w=!1;c.click(function(b){b=jQuery(b.target);!b.hasClass("vehicle")&&(!b.hasClass("subwaylineBtn")&&!b.hasClass("nodeName"))&&(a.subway?
n.click("route","go_public_subwaycell"):a.busStop&&n.click("route","go_public_busstopcell"),w?w=!1:d.notify())});c.hover(function(){f.notify()},function(){w||h.notify()});a.action!=U.GETOFF?(c.$("moreRouteTxt").text(a.time+", "+(a.nodes.length+1)+"\uac1c "+(a.subway?"\uc5ed ":"\uc815\ub958\uc7a5 ")+"\uc774\ub3d9"),0!=a.nodes.length&&!a.isInterPublic&&o.click(function(b){u?(c.$("moreRouteWrap").removeClass("open"),s.hide(),u=!1):(c.$("moreRouteWrap").addClass("open"),s.show(),u=!0,n.click("route",
a.bus?"go_public_bus_routeopen":"go_public_subway_routeopen"));b.stopPropagation()})):c.$("moreRouteWrap").addClass("HIDDEN");a.action==U.GETOFF&&c.$("detailIcoWrap").addClass("getoff");j.addClass(a.subway?"SUBWAYSTATION":"BUSSTOP");a.subway&&(j.addClass(a.subwayCode),i.addClass(a.subwayCode+"_line"));l.text("BUS"==a.type?a.name+" \uc815\ub958\uc7a5 "+a.actionName:a.name+" "+a.actionName);(function(){if(a.vehicles&&a.vehicles.length!=0){t.show();var b=a.vehicles.filter(function(a){return a.id!="SES27"||
a.subType!="EXPRESS"?a.visible:false});if(a.type=="BUS"){var c="",d="";b.forEach(function(b,e){var f=b.lineType;c==f?f="no":c=f;f="";f=d===b.lineType?jQuery('<a href="#" >'+(b.parentName?b.parentName:b.name)+"</a>"):jQuery('<a href="#" ><span class="ico_bus '+b.lineType+'" ></span>'+(b.parentName?b.parentName:b.name)+"</a>");e!=0&&t.append('<span class="comma">, </span>');f.click(function(c){n.click("route","go_public_bus_busroute");a.busStop&&a.busStop.id&&Application.busLineController.setBusStop(a.busStop.id,
"",b.idx);Application.busLineController.setData(b.id,true);c.stopPropagation()});t.append(f);d=b.lineType});p.hide()}else if(b.length==1&&b[0].subType=="GENERAL")t.hide();else{t.show();b.forEach(function(a){jQuery("<span></span>").addClass(a).appendTo(t)})}}})();a.isInterPublic||b();(function(){if(!a.subway||a.action==U.GETOFF)k.hide();else{var b=a.subwayStation.id;b&&k.toggleClass("only",!a.roadview).click(function(a){a.preventDefault();open(require("url").DAUM_PLACE+b+"#timeTableSection");n.click("route",
"go_public_timetable");(a=Application.transitRouteSearchController.panel_.dssObject_)&&x.log("path_transit_click_timetable",a.q,{tab:a.tab,mkey:a.mkey,cpg:a.cpg,qidx:a.qidx})})}})();(function(){if(a.subway){if(a.desc){c.find(".descWrap").show();p.show().text(a.desc)}if(a.vehicles){var b=a.vehicles.filter(function(a){return a.id!="SES27"||a.subType!="EXPRESS"?a.visible:false}),d=c.$("subwayTypes");if(b.length==1&&b[0].subType=="GENERAL")d.hide();else{d.show();b.forEach(function(a){jQuery('<li class="'+
a.subType.toLowerCase()+'"/>').appendTo(d)})}}if(a.tip){b=jQuery('<span class="tip" data-id="tip">'+a.tip+"</span>");c.find(".descWrap").append("<br/>").append(b)}}})();a.nextOther&&i.hide();a.type==U.OTHER&&(c.$("pointItemWrap").hide(),l=c.$("otherTime"),j=c.$("otherTitle"),l.text(a.time),j.text(a.endLocation.text("name")+"\uae4c\uc9c0 \uc774\ub3d9"));this.setItemActive=function(a){q=a;c.toggleClass("TransitPointItem-ACTIVE",q)};this.setItemHighlight=function(a){q||c.toggleClass("TransitPointItem-ACTIVE",
a)};this.getPane=function(){return c};this.deActiveDetailRoute=function(){c.$("moreRouteWrap").removeClass("open");s.hide();u=false};this.setLast=function(){c.addClass("TransitPointItemView-LAST")};this.setFirst=function(){c.addClass("TransitPointItemView-FIRST")}}function ob(a){ga(this,i,"li","TransitRouteItem");this.busLineBtnClick=new m;this.onPointClick=new m;this.onDestination=new m;this.onWalkDetail=new m;this.onDetail=new m;this.onRoadview=new m;this.onOver=new m;this.onOut=new m;this.onWalkRoadview=
new m;this.route_=a;var b=(new i("div","title")).addClass("clickArea");this.addChild(b);var c=a.time,d=90>c?1:Math.round(c/60),e=(d-d%60)/60,c=new i("span","time");e&&(e=new i("span","num",e),c.addChild(e),c.addChild(new i("span","hourTxt","\uc2dc\uac04 ")));"0"!=(d%60).toString()&&(d=new i("span","num minute",(d%60).toString()),c.addChild(d),c.addChild(new i("span","minitueTxt","\ubd84 ")));d=new i("span","walkTime");a.walkingTime&&(e=a.walkingTime,d.addChild(new i("span","walkTitleTxt","\ub3c4\ubcf4")),
d.addChild(new i("span","num",90>e?1:Math.round(e/60))),d.addChild(new i("span","minitueTxt","\ubd84")));a.transfers?(a.walkingTime&&d.addChild(new i("span","bar")),d.addChild(new i("span","transfer","\ud658\uc2b9")),d.addChild(new i("span","num transferCnt",a.transfers)),d.addChild(new i("span","cntTxt","\ud68c"))):(a.walkingTime&&d.addChild(new i("span","bar")),d.addChild(new i("span","transfer","\ud658\uc2b9")),d.addChild(new i("span","noTransfer","\uc5c6\uc74c")));d.addChild(new i("span","bar"));
e=new i("span","",a.fare?"\uc694\uae08 "+a.fare:"\uc694\uae08\uc815\ubcf4 \uc5c6\uc74c");d.addChild(e);a.distance&&(d.addChild(new i("span","bar")),d.addChild(new i("span","num",(a.distance/1E3).toFixed(1)+"km")));b.addChild(c);b.addChild(d);c=d.getElement();c.title=this.createWalkTimeTooltip_(c);c=this.detailButton_=new i("span","right_detail",new i("a","detail"));c.onClick.add(this.clickDetail_,this);b.addChild(c);this.addChild((new be(a.summaries)).getPane());b=this.transitlist_=new i("ol","");
this.pointItemViews_=[];this.addChild(b);this.onClick.add(this.clickSelf_,this);this.bounds_=a.bounds;this.onEnter.add(function(){this.getActive()||this.addClass("TransitRouteItem-OVER");this.onWrapOver.notify()},this);this.onLeave.add(function(){this.getActive()||this.removeClass("TransitRouteItem-OVER");this.onWrapOut.notify()},this);this.addChild(new i("div","bottom_line"));this.onWrapOver=new m;this.onWrapOut=new m}function be(a){function b(a,b){var c=b.locationName,d=null;if("SUBWAYSTATION"==
b.type){var e=[];b.vehicles&&(e=b.vehicles.filter(function(a){return"SES27"!=a.id||"EXPRESS"!=a.subType?a.visible:!1}),c+="("+b.vehicles[0].name+")");var j=a.$("subwayTypes");1==e.length&&"GENERAL"==e[0].subType?(j.hide(),b.vehicles[0].direction&&(d=jQuery('<span class="direction" >'+b.vehicles[0].direction+" \ubc29\uba74</span>"))):(j.show(),e.forEach(function(a){var b=a.subType.toLowerCase();jQuery('<li class="'+a.subType.toLowerCase()+'">'+(b==="general"?"\uc77c\ubc18":b==="express"?"\uae09\ud589":
"")+"</li>").appendTo(j)}))}else if("INTERCITY"==b.type)if(b.isTransfer&&b.subType)j=a.$("subwayTypes"),e=b.subType.toLowerCase(),"itxsaemaeul"===e&&(e="itx"),e&&(jQuery('<li class="intercity_inner '+e+'" ></li>').appendTo(j),j.show());else{if(b.vehicle&&"GETOFF"!==b.action&&(j=a.$("subwayTypes"),e=E.getLabelClassName(b.vehicle)))jQuery('<li class="intercity_inner '+e+'" ></li>').appendTo(j),j.show()}else if(b.vehicles){var i=a.$("busVehicles").show(),e=b.vehicles.filter(function(a){return a.visible}),
p="",o="";e.slice(0,5).forEach(function(a,b){0!=b&&i.append(", ");var c=a.lineType;p==c?o=jQuery('<a href="#" >'+(a.parentName?a.parentName:a.name)+"</a>"):(p=c,o=jQuery('<a href="#" ><span class="ico_bus '+c+'" ></span>'+(a.parentName?a.parentName:a.name)+"</a>"));o.appendTo(i)});5<e.length&&jQuery('<span class="moreVehicle"> ...</span>').appendTo(i);b.displayId&&(d=jQuery('<span class="direction" >'+b.displayId.replace(/-/gi,"")+"</span>"))}a.$("name").text(c);d&&a.$("name").append(d)}var c=a.length-
1,d=jQuery("<div/>").addClass("TransitRouteOutlineView").addClass("clickArea"),e=jQuery("<div/>").addClass("SummaryDetail").appendTo(d);d.$("summaryName");a.forEach(function(a){var d=H("TransitRouteOutlineItemView");d.$("summaryDesc").addClass(a.type.toLowerCase());b(d,a);if(a.type){var g=d.$("summaryIcon");g.addClass(a.typeCode);var k=d.$("transitline");"SUBWAYSTATION"==a.type?(g.addClass(a.type),k.addClass(a.typeCode+"_line"),("subway_j"==a.typeCode||"subway_ky"==a.typeCode||"subway_ml"==a.typeCode||
"subway_ui"==a.typeCode)&&d.$("summaryDesc").addClass("subwayLargeIcon")):"INTERCITY"==a.type?g.addClass(ac.getIconClassName(a.vehicle)):g.addClass(a.type)}a.action==U.GETOFF_TRANSFER?d.addClass("getoff_transfer"):a.action==U.GETOFF&&c==a.index&&(d.$("summaryDesc").removeClass("subwayLargeIcon"),d.addClass("getoff"));d.appendTo(e)});this.getPane=function(){return d}}function za(a){ga(this,i,"div","TransitRouteResultView");this.onItem=new m;this.onPointClick=new m;this.busLineBtnClick=new m;this.onDestination=
new m;this.onWalkDetail=new m;this.onItemDetail=new m;this.onOver=new m;this.onOut=new m;this.onSearchBtnClick=new m;this.onChildPointClick=new m;this.onRoadview=new m;this.currentTab_=3;this.currentInterTab_=4;this.currentBoundTab_=0;this.transitRouteItemView_=a;this.onWrapOver=new m;this.onWrapOut=new m;this.dssObject_={};this.below_="";this.dssQIndex_=0}function Qb(){}function Uf(){if(!(this instanceof arguments.callee))return new arguments.callee;var a=this.onClick=new m,b=new i(H("WalkFunctionToolBarView"));
this.favorite_=b.getElement().$("favorite");this.favorite_.click(function(){a.notify({id:"favorite",fav:this.fav_})}.bind(this));b.getElement().$("print").click(function(){a.notify({id:"print"})});b.getElement().$("alook").click(function(){a.notify({id:"alook"})});this.getPane=function(){return b};this.updateFav=function(a){a&&(this.fav_=a);if(this.fav_){if(a=Application.favoriteController.findFavorite(this.fav_)){var b=10>a.count?a.count:"10";this.favorite_.find(".num").attr("class","num num"+b).text(a.count)}this.favorite_.toggleClass("favorite-active",
!!a)}}}function We(a,b){function c(a){99<a&&s.addClass("bigIndex");s.$("seq").text(a)}function d(a){s.toggleClass("WalkGroupPointItemView-ACTIVE",!!a)}var e=this.onClick=new m,f=this.onMouseover=new m,h=this.onMouseout=new m,g=this.onRoadview=new m,k=b.seq||0,l=b.desc||"\uc81c\ubaa9\uc5c6\uc74c",j=b.action||null,i=b.rotationCode||null,p=!1,o=!1,s=H("WalkGroupPointItemView");s.appendTo(a);(function(){var a=jQuery('<a href="#none" data-id="roadview" class="roadviewWrap roadview">\ub85c\ub4dc\ubdf0</a>');
a.click(function(a){a.preventDefault();p=!0;g.notify()});s.$("icoRight").append(a)})();k&&c(k);b.getSummary()&&s.$("title").addClass("walkTitle").set(b.getSummary());s.$("desc").set(l);(function(a,b){var c=s.$("action");if(a&&-1!=a.indexOf("EXIT")&&b)c.addClass("action-"+b);else if(a&&(a=a.replace("EXIT","ENTER")),position_=gc.ACTION_LIST[a],void 0!=position_){c.css("backgroundPosition","-30px "+-30*position_+"px");var d=jQuery("<i/>");d.appendTo(c);d.css({marginTop:-(25*position_)+"px",marginLeft:"0px"})}else c.addClass("action-"+
(b||"STRAIGHT"))})(j,i);s.click(function(){o=!0;p?(p=!1,d(!1)):e.notify()});s.mouseenter(function(){o||(d(!0),f.notify())});s.mouseleave(function(){!o&&!p&&(d(!1),h.notify())}.bind(this));this.setHighlight=function(a){o||d(a)};this.setActive=function(a){o=a;d(a)};this.setLastItem=function(){s.addClass("WalkGroupPointItemView-LAST")};this.getPane=function(){return s}}function Ic(a,b,c){function d(){w?(u.removeClass("on"),s.show(),t.hide(),w=!1,i.notify(!1)):(u.addClass("on"),s.hide(),t.show(),f(!1),
w=!0,i.notify(!0));o.toggleClass("WalkTransitItemView-DETAIL",w);n.click("route","go_"+("walk"==c?"walk_group":"publick_walk")+(w?"_show":"_hide"))}function e(a){w=!!a;u.toggleClass("on",w);s.toggle(!w);t.toggle(w);o.toggleClass("WalkTransitItemView-DETAIL",w)}function f(a){o.toggleClass("WalkPointGroupView-ACTIVE",!!a)}function h(a){t.empty();q=a.map(function(b,c){var d=new We(t,b);c==a.length-1&&d.setLastItem();d.onClick.add(function(){g.notify(c)});d.onMouseover.add(function(){k.notify(c)});d.onMouseout.add(function(){l.notify(c)});
d.onRoadview.add(function(){j.notify()});return d})}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var g=this.onClick=new m,k=this.onMouseover=new m,l=this.onMouseout=new m,j=this.onRoadview=new m,i=this.onDetail=new m,p=this.onWalkSummaryClick=new m,o=null,s=null,t=null,u=null,q=[],w=!1;if(!c||"walk"==c){var o=H("WalkPointGroupView").appendTo(a),y=b.points[0].seq,M=b.points[b.points.length-1].seq;rc(o.$("groupNumber"),"walkList",y,M);rc(o.$("groupNumber"),"walkListOn",
y,M)}else"transit"==c&&(o=H("WalkTransitItemView").appendTo(a),o.find(".walkBrief").click(function(){p.notify()}),o.$("title").click(function(){p.notify()}));s=o.$("briefdesc");M=b.time/3600|0;y="";M&&(y+=M+"\uc2dc\uac04 ");M=(b.time/60|1)%60;o.$("time").set(y+=M+"\ubd84");o.$("distance").set(String.formatDistance(b.distance));t=o.$("detail");t.hide();u=o.$("detailBtn");u.hide();b.walkGuide&&(u.show(),u.click(d),"transit"!=c&&o.$("groupNumber").click(d));(y=b.start+"~"+b.end)?s.show().set(y):s.hide();
o.mouseenter(function(){if(!w){f(true);k.notify(null)}});o.mouseleave(function(){if(!w){f(false);l.notify(null)}});h(b.points);this.setDetailActive=e;this.setItem=h;this.getPane=function(){return o};this.setActive=function(a,b){f(false);b&&e(b);q.length!=0&&(a==null?q[0].setActive(b):q[a].setActive(b))};this.setHighlight=function(a,b){w&&a!=null?q[a].setHighlight(b):w||f(b)};this.deactivateAll=function(){f(false);q.forEach(function(a){a.setActive(false)})};this.dehighlightAll=function(){f(false);
q.forEach(function(a){a.setHighlight(false)})};this.getGroupInfo=function(){return{detailActive:w,pos:o.offset()}};this.getItem=function(a){return q[a]};this.isGroupPoints=function(){return q.length==0};this.hide=function(){o.hide()}}function ce(a,b,c){function d(a){99<a&&l.addClass("bigIndex");l.$("seq").text(a)}function e(a){l.toggleClass("WalkPointItemView-ACTIVE",!!a)}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var f=this.onClick=new m,h=this.onMouseover=new m,g=
this.onMouseout=new m,k=this.onRoadview=new m,l=H("WalkPointItemView").appendTo(a),j=b.seq||0,i=b.desc||"\uc81c\ubaa9\uc5c6\uc74c",p=b.action||null,o=b.rotationCode||null,s=!1;j&&d(j);b.getSummary()&&l.$("title").addClass("title").set(b.getSummary());l.$("desc").set(i);(function(a,b){var c=l.$("action"),d=["EXIT_SUBWAY_ELEVATOR"];a&&b&&-1!==a.indexOf("EXIT")&&-1===d.indexOf(a)?c.addClass("action-"+b):(a&&(a=a.replace("EXIT","ENTER")),position_=gc.ACTION_LIST[a],void 0!=position_?(c.css("backgroundPosition",
"-30px "+-30*position_+"px"),d=jQuery("<i/>"),d.appendTo(c),d.css({marginTop:-(25*position_)+"px",marginLeft:"0px"})):c.addClass("action-"+(b||"STRAIGHT")))})(p,o);(function(){var a=jQuery("<a class=roadview />");a.click(function(a){a.preventDefault();s=!0;k.notify()});l.$("roadview").append(a)})();var t=!1;l.click(function(){t=!0;s?(s=!1,e(!1)):(f.notify(),n.click("route","go_walk_textpoint"))});l.mouseenter(function(){t||(e(!0),h.notify())});l.mouseleave(function(){!t&&!s&&(e(!1),g.notify())}.bind(this));
this.setHighlight=function(a){t||e(a)};this.setActive=function(a){t=a;e(a)};this.getPane=function(){return l}}function Xe(a){function b(){A=!0;var a=0;g=M.points.map(function(b,c){var d=null;if("start"==b.seq||"goal"==b.seq||"through"==b.seq)return d=require("view/StartEndPointItemView"),b.confirmid=M.waypoints[a++].id,d=new d(b),d.getPane().appendTo(w),d.onClick.add(function(a){k.notify({index:c,sub:a})},this),d;b instanceof Tc?(d=Ic(w,b,"walk"),d.onDetail.add(function(a){a&&s.notify({index:c,coords:b.points[0].coords})})):
d=ce(w,b);d.onClick.add(function(a){k.notify({index:c,sub:a})});d.onMouseover.add(function(a){p.notify({index:c,sub:a})});d.onMouseout.add(function(a){o.notify({index:c,sub:a})});d.onRoadview.add(function(){i.notify(c)});return d})}function c(){var a=jQuery("#info\\.body").scrollTop(),b=a+(t.offset().top-170),a=0.5*Math.abs(b-a);3E3<a&&(a=1E3);jQuery("#info\\.body").animate({scrollTop:b},a,function(){})}function d(){g.forEach(function(a){a instanceof Ic?a.deactivateAll():a.setActive&&a.setActive(!1)})}
function e(){g.forEach(function(a){a instanceof Ic?a.dehighlightAll():a.setHighlight&&a.setHighlight(!1)})}function f(a){var b=y,c=B.document.documentElement.clientTop,d=b.scrollTop(),a=a.offset().top-b.offset().top+d-c;y.scrollTop(a-y.outerHeight()/2)}function h(a){a&&!A&&b();u=a;t.toggleClass("WalkRouteItem-DETAIL",u)}if(!(this instanceof Xe))return new arguments.callee(a);var g=[],k=this.onWalkPoint=new m,l=this.onHover=new m,j=this.onDetail=new m,i=this.onRoadview=new m,p=this.onWalkPointMouseover=
new m,o=this.onWalkPointMouseout=new m,s=this.onWalkPointDetail=new m,t=H("WalkRouteItemView");t.appendTo(a);var u=!1,q=t.$("summary"),w=t.$("list"),y=jQuery("#info\\.body"),M=null;q.hover(function(){l.notify(!0)},function(){l.notify(!1)});q.on("click",function(){h(!u);j.notify(u);if(u){var a=(M.routeMode||"").toLowerCase();n.click("route","go_walk_"+a)}else n.click("route","go_walk_innerdetail_close");Application.windowController.onHeightChange.notify()});this.setData=function(a){if(M=a){t.show();
var b=t.$("time"),c=t.$("distance"),d=t.$("mode"),e="",f=t.$("selectedBar");"BROAD_FIRST"===a.routeMode?e="\ud070\uae38\uc6b0\uc120":"SHORTEST"===a.routeMode?e="\ucd5c\ub2e8\uac70\ub9ac":"ACCESSIBLE"===a.routeMode&&(e="\ud3b8\uc548\ud55c\uae38");d.set(e);f.addClass(a.routeMode);b.children().remove();d=a.time;d=90>d?1:Math.round(d/60);if(e=(d-d%60)/60)jQuery("<span/>").addClass("num").set(e).appendTo(b),jQuery("<span/>").addClass("text").set("\uc2dc\uac04 ").appendTo(b);d%=60;0<d&&(jQuery("<span/>").addClass("num").set(d).appendTo(b),
jQuery("<span/>").addClass("text").set("\ubd84").appendTo(b));c.children().remove();b=a.distance/1E3;0<=b&&(1<b?(jQuery("<span/>").addClass("num").set(b.toFixed(1)).appendTo(c),jQuery("<span/>").addClass("text").set("km").appendTo(c)):(jQuery("<span/>").addClass("num").set(1E3*b).appendTo(c),jQuery("<span/>").addClass("text").set("m").appendTo(c)));c=t.$("info");b=t.$("facilities");d=t.$("calories");e=[];a.bridge&&e.push("\uc721\uad50 "+a.bridge+"\ud68c");a.underground&&e.push("\uc9c0\ud558\ub3c4 "+
a.underground+"\ud68c");a.stair&&e.push("\uacc4\ub2e8 "+a.stair+"\ud68c");(e=e.join(" + "))?b.text(e):b.hide();a.calories?(e&&c.addClass("addInfo"),d.text(a.calories+"kcal\uc18c\ubaa8")):d.hide();w.empty()}else t.hide()};var A=!1;this.setItemActive=function(a,b){d();var c=g[a.index];if(c instanceof ce||c instanceof Ic)c instanceof Ic?(c.setActive(a.sub,b),f(c.getItem(a.sub).getPane())):(c.setActive(b),f(c.getPane()))};this.setHighlight=function(a,b){e();var c=g[a.index];if(c instanceof ce||c instanceof
Ic)c instanceof Ic?null==a.sub?(c.setHighlight(null,b),f(c.getPane())):(c.setHighlight(a.sub,b),c.getGroupInfo().detailActive?f(c.getItem(a.sub).getPane()):f(c.getPane())):(c.setHighlight(b),f(c.getPane()))};this.getItem=function(a){return g[a]};this.setHover=function(a){t.toggleClass("WalkRouteItem-HOVER",a)};this.animationScroll=function(){c()};this.setDetail=function(a){h(a)};this.isDetailOpen=function(){return u};this.getPanel=function(){return t}}function Vf(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);
this.onOptionChange=new m;this.onCheckboxChange=new m;var b=this.onWalkPoint=new m,c=this.onItemHover=new m,d=this.onItemDetail=new m,e=this.onRoadview=new m,f=this.onWalkPointMouseover=new m,h=this.onWalkPointMouseout=new m,g=this.onWalkPointDetail=new m;this.onSearchBtnClick=new m;this.onDestination=new m;var k=H("WalkRouteResultView");k.appendTo(a);var l=k.$("list"),j=null,r=0,p=null,o=[],s=null;this.goToTopBtn=k.$("goToTop");this.goToTopBtn.on("click",function(){i.$("info.body").scrollTo(0)});
k.$("fixRoute").click(function(){var a={routeType:"walk",searchInfo:{mode:"walk"}};a.start={name:p.waypoints[0].name,x:p.waypoints[0].coords.getX(),y:p.waypoints[0].coords.getY()};var b=p.waypoints.length;a.end={name:p.waypoints[b-1].name,x:p.waypoints[b-1].coords.getX(),y:p.waypoints[b-1].coords.getY()};a.waypoints=p.waypoints;jQuery(a.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});a.walkRoutes=[];a.isSelectRoute=!1;jQuery(p.walkRoutes).each(function(b,c){var d=jQuery.extend({},
c.raw);d.isDetailOpen=o[b].isDetailOpen();d.isDetailOpen&&(a.isSelectRoute=!0);a.walkRoutes.push(d)});a.bound=p.raw.bound;Application.fiyFrameController.open({type:"route",rawInfo:a});n.click("route","go_walk_fiy")});this.setData=function(a){a?(p=a,s=null,k.show(),l.empty(),o=a.walkRoutes.map(function(a,k){var i=new Xe(l);i.setData(a);i.onWalkPoint.add(function(a){b.notify(a)});i.onHover.add(function(a){s?(i.setHover(a),c.notify({index:k,hover:a})):a&&(j&&j!=i&&(j.setHover(!1),c.notify({index:r,hover:!1})),
i.setHover(!0),c.notify({index:k,hover:!0}));a&&(j=i,r=k)});i.onDetail.add(function(a){j&&j!=i&&(j.setHover(!1),c.notify({index:r,hover:!1}));o.forEach(function(b,c){k!=c?b.setDetail(false):b.setDetail(a)});d.notify({index:k,detail:a})});i.onRoadview.add(function(a){e.notify(a)});i.onWalkPointMouseover.add(function(a){f.notify(a)});i.onWalkPointMouseout.add(function(a){h.notify(a)});i.onWalkPointDetail.add(function(a){g.notify(a)});return i}),Application.windowController.onHeightChange.notify()):
k.hide()};this.setItemActive=function(a,b){s&&s.setItemActive(a,b)};this.initDetailedItem=function(){s=null};this.setDetailedItem=function(a){s=null;s=o[a];setTimeout(function(){s&&s.animationScroll&&s.animationScroll()},100)};this.setHighlight=function(a,b){s&&s.setHighlight(a,b)};this.getItem=function(a){return s?s.getItem(a):null};this.initHover=function(){o[0]&&(o[0].setHover(!0),j=o[0],r=0)};this.show=function(){k.show()}}function Yc(a){function b(){p?(l.removeClass("detailOn"),k.hide(),p=!1,
s.notify(!1),n.click("route","go_public_walk_hide")):(l.addClass("detailOn"),k.show(),p=!0,s.notify(!0),n.click("route","go_public_walk_show"));t.toggleClass("WalkTransitItemView-DETAIL",p)}function c(a){p=!!a;l.toggleClass("on",p);k.toggle(p);t.toggleClass("WalkTransitItemView-DETAIL",p)}function d(a){t.toggleClass("WalkTransitItemView-ACTIVE",a)}var e=this.onClick=new m,f=this.onMouseover=new m,h=this.onMouseout=new m,g=this.onRoadview=new m,k=null,l=null,j=null,i=[],p=!1,o=!1,s=this.onDetail=new m,
t=H("WalkTransitItemView");t.find(".WalkTransitItemViewWrap").click(function(a){n.click("route","go_public_walkcell");e.notify(null);a.stopPropagation()});t.$("summary").click(function(){o=!0});if(0!=a.points.length){var j=a.points[0].seq,u=a.points[a.points.length-1].seq;rc(t.$("groupNumber"),"walkList",j,u);rc(t.$("groupNumber"),"walkListOn",j,u)}var j=90>a.time?1:Math.round(a.time/60),u=(j-j%60)/60,q="";u&&(q+=u+"\uc2dc\uac04 ",(j-=60*u)||(j=1));t.$("time").set(q+=j+"\ubd84");t.$("distance").set(String.formatDistance(a.distance)+
" \uc774\ub3d9");k=t.$("detail");k.hide();l=t.$("detailBtn");l.hide();a.walkGuide&&(l.show(),l.click(b),t.$("groupNumber").click(b));u="";""!=a.summary?u=a.desc:""!=a.start&&(u=a.start+"~"+a.end);j=t.$("title");j.set(u);t.mouseenter(function(){if(!o){d(true);f.notify(null)}});t.mouseleave(function(){if(!o){d(false);h.notify(null)}});this.setDetailActive=c;this.setItem=function(a){k.empty();c(true);a.forEach(function(b,c){var d=new We(k,b);c==a.length-1&&d.setLastItem();d.onClick.add(function(){e.notify(c)});
d.onMouseover.add(function(){f.notify(c)});d.onMouseout.add(function(){h.notify(c)});d.onRoadview.add(function(){g.notify({sub:c,isWalkGroup:true})});i.push(d)})};this.setDetail=function(a,b){c(b)};this.setActive=function(a,b){if(a){if(a.sub!=null){if(i.length==0)return;i[a.sub].setActive(b)}else d(b);o=b}};this.setHighlight=function(a,b){p&&a!=null?i[a].setHighlight(b):p||d(b)};this.deactivateAll=function(){d(false);i.forEach(function(a){a.setActive(false)})};this.dehighlightAll=function(){d(false);
i.forEach(function(a){a.setHighlight(false)})};this.getGroupInfo=function(){return{detailActive:p,pos:t.offset()}};this.getItem=function(a){return i[a]};this.isGroupPoints=function(){return i.length!=0};this.hide=function(){t.hide()};this.setLast=function(){t.addClass("WalkTransitItemView-LAST")};this.setFirst=function(){t.addClass("WalkTransitItemView-FIRST")};this.getPane=function(){return t}}lc.fetchMapOption_=function(a){var b={},c;a.wx&&a.wy?c=new daum.maps.Coords(a.wx,a.wy):a.x&&a.y?c=new daum.maps.Coords(a.x,
a.y):a.urlX&&a.urlY?c=new daum.maps.Coords(a.urlX,a.urlY):a.URLX&&a.URLY?c=new daum.maps.Coords(a.URLX,a.URLY):a.pos?(c=a.pos.split("|"),c=new daum.maps.Coords(c[0],c[1])):B.t_mapx&&B.t_mapy&&(c=new daum.maps.Coords(String.base92(B.t_mapx),String.base92(B.t_mapy)));c&&(b.center=c);c=a.level||a.urlLevel||a.URLLEVEL||a.z||void 0;void 0!==c&&(b.level=c);if(a={TYPE_MAP:daum.maps.MapTypeId.ROADMAP,TYPE_SKYVIEW:"true"==a.map_hybrid?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW}[a.map_type])b.mapTypeId=
a;return b};lc.prototype.readParams=function(a){var b=lc.fetchMapOption_(a);b.center&&this.map.setCenter(b.center);b.level&&this.map.setLevel(b.level);b.mapTypeId&&this.map.setMapTypeId(b.mapTypeId);this.readRestParams_(a,b.center||this.map.getCenter())};lc.prototype.readRestParams_=function(a,b){function c(){var c=a.panoid||0,d=a.pan||0,e=a.tilt||0,f=a.zoom||0;(c||a.panoid)&&nb.exists(c,function(a){var g=new yc(100,function(){g.stop();var h={coords:b,panoId:c,pan:d,tilt:e,zoom:f};a?Application.roadviewController.show(h):
Application.roadviewController.client_.getNearestPanoId(b,[30,40,50,70,100,150,250,350,450,900,1800,3600,7200,14400,28800][Application.map.getLevel()],function(a){a&&(h.panoId=a,Application.roadviewController.show(h))})},!0);g.start()})}var d=require("constants/messages"),e=void 0!==a.quicktab,f="true"===a.kakaoi,h="bicyclenavi"===a.map_type;if("locationsharing"===a.page||e||f||h)this.utilLib.alert(d.GUIDE_TO_USE_APP.COMMON);else if(a.store)this.utilLib.alert(d.ERROR.STOREVIEW_TERMINATION);else if(void 0!==
a.cctv)this.cctvController.setId(a.cctv),this.mapControlView.showCctv(!0);else if("on"===a.layer_setting&&this.mapControlView.clickLayerMain(),"3d"===a.map_type)this.utilLib.alert(d.GUIDE_TO_USE_APP.MAP_3D);else if("safedriving"===a.map_type)this.utilLib.alert(d.GUIDE_TO_USE_APP.SAFE_DRIVING);else if(a.urlX&&(a.urlY&&a.noAddress)&&(e=new daum.maps.Coords(a.urlX,a.urlY),this.mapMenuController.coords_=e,this.mapMenuController.showWhatsHereWindow()),void 0!==a.w3w||z.isW3wKeyword(a.q))this.keywordSearchController.setKeyword(void 0!==
a.w3w?"///"+a.w3w:a.q);else{if(a.kakaomapScheme&&(e=a.kakaomapScheme.split("?"),"open"===e[0]&&e[1]&&(e=String.parseUrlEncoded(e[1]),f=e.page,"theme"===f||"folder"===f||"bookmark"===f))){B.location.href=B.location.origin+"?target=other&folderid="+(e.folderid||e.themeid);return}a.editProfile&&this.layerProfileEditController.show();if("theme"===a.page)this.utilLib.alert(d.GUIDE_TO_USE_APP.MAP_THEME);else{a.page&&this.keywordSearchController.setDefaultPage(a.page);a.theme&&((a.minX&&(a.minY&&a.maxX&&
a.maxY)&&(e=new daum.maps.Coords(a.minX,a.maxY),f=new daum.maps.Coords(a.maxX,a.minY),this.map.setBounds(new daum.maps.CoordsBounds(e,f))),6==a.theme)?this.keywordSearchController.setKeyword("\uc544\ud30c\ud2b8\ub2e8\uc9c0"):(e=z.THEMEID[a.theme])&&this.mainMapController.themePoiControlView.setThemeToObject({type:e}));a.issue&&this.issueMapController.setIssue(a.issue);if(a.name){if(z.isW3wKeyword(a.name)){this.keywordSearchController.setKeyword(a.name);return}var g;g=D.createAddress(b);g.setMap(this.map);
g.setPosition(b);var k=new Ta;k.name=a.name;k.coords=b;this.infoWindowManager.createPoint(k,g,b);daum.maps.event.addListener(g,"click",function(){this.infoWindowManager.createPoint(k,g,b)}.bind(this));this.keywordSearchController.itemIdMarker=g}if(!a.urlX&&(!a.wx&&!a.x)&&a.bt){f=a.bt.split(",");h=new daum.maps.CoordsBounds;for(e=0;e<f.length;e+=2){var l=new daum.maps.Coords(f[e],f[e+1]);h.extend(l)}this.map.setBounds(h)}if(a.q){var j=this.keywordSearchController;j.setOneTimeCoords({urlX:a.urlX,urlY:a.urlY,
urlLevel:a.urlLevel});jQuery("#search\\.keyword\\.query").blur();a.srcid&&j.setFilterId(a.srcid);a.local_code&&j.setLocalCode(a.local_code);if("tot"==a.service){var i={};["rcode","center","qa_type"].forEach(function(b){a[b]&&(i[b]=a[b])});j.setKeywordParams(i);e=z.ALL;f="";"bus"===a.tab?(e=z.BUSES,f="bus_tab"):"busstop"===a.tab&&(e=z.BUSSTOPS,f="busstop_tab");j.setKeyword(a.q,e);x.logSearchIn(f)}a.sort&&j.setDefaultSort(Number(a.sort));e=null;f=!1;a.sidx&&(e=a.sidx);a.tailGb&&(e="1",f=!0);a.cidx&&
(e=a.cidx,f=!0);null!=e&&j.setDefaultLiterally(e,f);(e=a.itemId||a.hId)&&j.setHighlightId(e);a.mode&&j.setHighlightMode(a.mode);f=!!a.panoid||!!a.urlX||!!a.urlY||!!a.rv;h=function(a,b,c){a?j.setKeywordWithoutJump(b,c):j.setKeyword(b,c)};if("true"==a.currentBound)jQuery("#search\\.keyword\\.query").val(a.q),j.setTrackBounds(!0);else if(a.tab){var l=a.tab,p=a.q,e="Y"==a.addrTab?z.ADDRESS:l;if("review"===l||a.b_srcid)e=null;l===z.PLACE&&"dangol"==a.service&&(i={},["cate_id","region_code","service"].forEach(function(b){a[b]&&
(i[b]=a[b])}),j.setKeywordParams(i),e&&x.logSearchIn(e+"_tab"));h(f,p,e)}else h(f,a.q);a.page&&this.keywordSearchController.setDefaultPage(a.page);n.click("morningstar","start",{param1:a.q})}a.thememap&&(j=this.keywordSearchController,e=j.themeMapController_,e.setHideActive(!0),a.thememapId&&(a.itemId&&e.setSelectedThememapId(a.itemId),a.urlX&&a.urlY?e.setThememapId(a.thememapId):e.setThememapIdWithJump(a.thememapId)),j.changeActive_());a.busnumsrch&&(this.busSearchController.setActive(!0),e="",a.gname&&
(e+=a.gname+" "),this.busSearchController.findName(e+a.busnumsrch));a.busfavoritesrch&&(this.busSearchController.setActive(!0),this.busSearchController.reset(),this.busSearchController.findOneByCode(a.busfavoritesrch));a.busrgnsrch&&(this.busSearchController.setActive(!0),this.busSearchController.findRegion(a.busrgnsrch));a.busstopsrch&&(this.busSearchController.setActive(!0),e="",a.gname&&(e+=a.gname+" "),this.busSearchController.findStop(e+a.busstopsrch));a.busInfoId&&(this.busSearchController.setActive(!0),
this.busSearchController.findByOne(a.busInfoId));switch(a.target){case "subway":if(!mb.isReady()){this.subwaySearchController.controller.alertToRefresh();return}if(!a.REGION){f=mb.regionList.length;for(e=0;e<f;e++)if(mb.regionList[e].cityid===a.STARTID.substr(0,3)){a.REGION=mb.regionList[e].id;break}}e=this.subwaySearchController.searchController.REGION_CODE;f=this.subwaySearchController.searchController.REGION_ID.indexOf(a.REGION);-1===f&&(f=e.indexOf(a.REGION||"SES"));this.subwaySearchController.setRegion(f);
this.subwaySearchController.setActive(!0);if(a.STARTID&&a.ENDID||a.STARTNAME&&a.ENDNAME){if(a.routingType||a.dailyType||a.time)this.subwaySearchController.setBoxOptions({routingType:a.routingType||"",dailyType:a.dailyType||"",time:a.time||""});a.STARTNAME&&a.ENDNAME?this.subwaySearchController.findRouteByName(a.STARTNAME,a.ENDNAME,a.STARTID,a.ENDID):this.subwaySearchController.shareUrlParser(a)}break;case "traffic":e=a.transitBoundMode;f=a.transitOption;h=require("constants/transitRoute");if(a.busnumsrch||
a.busrgnsrch||a.busInfoId)break;if("2"==a.opt){j=this.busSearchController;j.setActive(!0);break}j=this.flagSearchController;j.setActive(!0);j.setDefaultModeTransit();switch(a.routeType){case "bus":e=h.BOUND_MODE.CITY;f=h.MODE.CITY.BUS;break;case "subway":e=h.BOUND_MODE.CITY;f=h.MODE.CITY.SUBWAY;break;case "busnsubway":e=h.BOUND_MODE.CITY;f=h.MODE.CITY.BUS_PLUS_SUBWAY;break;case "public_all":e=h.BOUND_MODE.CITY;f=h.MODE.CITY.RECOMMENDATION;break;case "intercity_bus":e=h.BOUND_MODE.INTERCITY;f=h.MODE.INTERCITY.INTERCITY_BUS;
break;case "intercity_train":e=h.BOUND_MODE.INTERCITY;f=h.MODE.INTERCITY.TRAIN;break;case "intercity_airplane":e=h.BOUND_MODE.INTERCITY;f=h.MODE.INTERCITY.AIRPLANE;break;case "intercity_ferry":e=h.BOUND_MODE.INTERCITY;f=h.MODE.INTERCITY.FERRY;break;case "intercity_recommend":e=h.BOUND_MODE.INTERCITY;f=h.MODE.INTERCITY.RECOMMENDATION;break;default:e=e?h.BOUND_MODE.INTERCITY:h.BOUND_MODE.CITY,f||(f=e===h.BOUND_MODE.CITY?h.MODE.CITY.RECOMMENDATION:h.MODE.INTERCITY.RECOMMENDATION)}this.transitRouteSearchController.setBoundMode(e);
this.transitRouteSearchController.setModeIndex(f);break;case "car":j=this.flagSearchController;j.setActive(!0);switch(a.carOption){case "1":j.setDefaultOption(Ka.OPTIMAL);break;case "2":j.setDefaultOption(Ka.SHORTEST)}break;case "walk":j=this.flagSearchController;j.setActive(!0);j.setDefaultModeWalk();break;case "bike":case "bicycle":j=this.flagSearchController;j.setActive(!0);j.setDefaultModeBike();break;case "my":j=this.favoriteController;e=function(){j.setActive(true);this.authController.isLogin()&&
a.tab&&j.setMyTab(a.tab)}.bind(this);a.tab&&j.checkTab(a.tab,a.subtab);j.openLoginPopup(e)&&e();break;case "other":if((a.mapuserid||a.folderid)&&!a.panoid)j=this.favoriteController,a.tab&&j.checkTab(a.tab,a.subtab),j.showOtherFolder(a)}if(a.rt){j=this.flagSearchController;j.setActive(!0);for(var h=(a.rtIds||"").split(","),l=(a.rtTypes||"").split(","),o=new rb,f=a.rt.split(","),p=e=0;e<f.length;e+=2,++p){var s=a["rt"+(p+1)];o.waypoints[p]=null;f[e]?(o.waypoints[p]=new Lb(new daum.maps.Coords(f[e],
f[e+1]),s,h[p],p,l[p]),this.map.setCenter(new daum.maps.Coords(f[e],f[e+1]))):s&&z.findPosition(s,function(a,b,c){if(c){o.waypoints[a]=new Lb(c,b);j.setFlagSearch(o);j.setRoute()}else j.noResultPlace(a,b)}.bind(this,p,s))}if(a.panoid)if(o.isOriginDest()){var t=function(){c();j.onLoadedRoute.remove(t)};j.onLoadedRoute.add(t)}else c();j.setFlagSearch(o);j.setRoute()}a.confirmid&&ca.find(a.confirmid,function(b){this.map.setCenter(b.coords);if(a.rv=="on"){if(b.roadview){var c=b.roadview;this.roadviewController.setViewpointWithMarker(b,
0);Wb.find(b.coords,function(a){var d="";if(a&&a.hcode)d=a.hcode.code;x.logRoadview("qs_roadview",c.panoId,b.coords,d,{id:b.id})})}}else b&&this.infoWindowManager.createPlace(b)},this);a.panoid&&(a.rt||c());if(a.subwayId){var u=new bb;u.id=a.subwayId;u.fetchDetail(function(){this.map.setCenter(u.coords);this.infoWindowManager.createSubwayStation(u)},this)}a.SHOWMARK&&"false"!=a.SHOWMARK&&(g=D.createAddress(b),g.setMap(this.map));a.itemId&&(!a.q&&!a.thememap||a.q&&a.srcid&&a.srcid!=a.itemId)&&ca.findPlace(a.itemId,
function(b){if(b){this.map.setCenter(b.coords);var c=new daum.maps.Marker({zIndex:3,position:b.coords,image:new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/marker_spot.png",new daum.maps.Size(36,50),new daum.maps.Point(18,50)),clickable:true});c.setMap(this.map);this.infoWindowManager.createPlace(b,c);a.action==="addFavorite"&&setTimeout(function(){this.favoriteController.add(v.createFromPlace(b))}.bind(this),500);daum.maps.event.addListener(c,"click",function(){this.infoWindowManager.createPlace(b,
c)}.bind(this));this.keywordSearchController.itemIdMarker=c}},this);a.titag&&this.utilLib.alert(d.ERROR.DATA_NOT_FOUND);a.mapJson&&(new Rc(this.map)).parse(a.mapJson);a.rTarget&&(d=a.rTarget.split(",",2),e=(new daum.maps.LatLng(d[0],d[1])).toCoords(),this.roadviewController.showNearby(e,100));"REALTRAFFIC"==a.map_attribute&&this.mainMapController.setTrafficLineActive(!0);a.traffic_state&&(this.mainMapController.setTrafficActiveForState(a.traffic_state),a.traffic_cctvId&&this.mainMapController.setTrafficCctvId(a.traffic_cctvId));
a.busStopId&&setTimeout(function(){R.find(a.busStopId,function(b){this.map.setCenter(b.coords);if(a.busInfoId){Application.map.setLevel(3);Application.infoWindowManager.createBusStop(b,a.busInfoId)}else this.infoWindowManager.createBusStop(b)},this)}.bind(this),1E3);"on"===a.map_terrain&&this.mainMapController.setTerrain(!0);"on"===a.map_bicycle&&this.mainMapController.setBike(!0);if(a.airType||a.map_weather)d=a.airType||a.map_weather,(a.urlX||a.wx||a.x)&&"wea"!=d&&this.airMapTileController.setNoJump(),
-1<"wea khai ysand pm10 o3 no2 co so2".split(" ").indexOf(d)&&this.mainMapController.setWeather(!0,d);a.map_usedistrict&&this.mainMapController.setUsedistrict(!0,a.map_usedistrict);"on"===a.map_indoor&&(this.mainMapController.setIndoor(!0),this.map.setLevel(a.level||a.urlLevel||a.URLLEVEL||a.z||void 0))}}};lc.prototype.fixTitleBug=function(){if("ActiveXObject"in B)jQuery(document).on("mouseup","object",function(){document.title="\uce74\uce74\uc624\ub9f5"})};define("Application","options view/FrameDecorator manager/ViewLayout controller/WeatherWindowController map/InfoWindowManager controller/AuthController controller/MainMapController params controller/WindowController controller/LocalInfoController controller/BusLineController controller/FlagSearchController controller/KeywordSearchController controller/SubwaySearchController controller/BusSearchController controller/RoadviewController controller/HomeInfoController controller/FiyFrameController controller/FavoriteController controller/CarRouteSearchController controller/TransitRouteSearchController map/Map controller/IssueMapController controller/FlagController controller/SearchTabController controller/LocalPlatformAdController log/LogHistory manager/AoiManager facade/SearchTabFacade controller/RelatedAddressController controller/WhatsHereController controller/AirMapTileController controller/HistoryController controller/LayerProfileController controller/ProfileController view/RoutePoiControlView controller/ShareController model/Weather controller/LayerProfileEditController controller/CoachmarkController view/MapControlView controller/CctvController controller/W3wController controller/MapMenuController util/lib view/FlashSupportView const constants/messages constants/transitRoute".split(" "),
L(lc));define("const",function(){return{TIARA:{imagemap:{page:"imagemap",action:"2D\uc9c0\ub3c4_\uc870\ud68c"},search:{page:"search",action:"\uac80\uc0c9\uacb0\uacfc_\uc870\ud68c"},searchClick:{page:"searchClick",action:"\uac80\uc0c9\ud0ed_\uc870\ud68c"},routing_public:{page:"routing_public",action:"\uae38\ucc3e\uae30_\ub300\uc911\uad50\ud1b5\ud0ed_\uc870\ud68c"},routing_walk:{page:"routing_walk",action:"\uae38\ucc3e\uae30_\ub3c4\ubcf4\ud0ed_\uc870\ud68c"},routing_carSearch:{page:"routing_carSearch",
action:"\uae38\ucc3e\uae30_\uc790\ub3d9\ucc28\ud0ed_\uc870\ud68c"},routing_bike:{page:"routing_bike",action:"\uae38\ucc3e\uae30_\uc790\uc804\uac70\ud0ed_\uc870\ud68c"},carRouteClick:{page:"routeClick",action:"\uae38\ucc3e\uae30_\uc870\ud68c"},weather_temp:{page:"weather_temp",action:"\ub808\uc774\uc5b4_\ub300\uae30\uc124\uc815_\uae30\uc628_\uc870\ud68c"},weather_pm10:{page:"weather_pm10",action:"\ub808\uc774\uc5b4_\ub300\uae30\uc124\uc815_\ubbf8\uc138\uba3c\uc9c0_\uc870\ud68c"},weather_o3:{page:"weather_o3",
action:"\ub808\uc774\uc5b4_\ub300\uae30\uc124\uc815_\uc624\uc874_\uc870\ud68c"},weather_no2:{page:"weather_no2",action:"\ub808\uc774\uc5b4_\ub300\uae30\uc124\uc815_\uc774\uc0b0\ud654\uc9c8\uc18c_\uc870\ud68c"},weather_co:{page:"weather_co",action:"\ub808\uc774\uc5b4_\ub300\uae30\uc124\uc815_\uc77c\uc0b0\ud654\ud0c4\uc18c_\uc870\ud68c"},weather_so2:{page:"weather_so2",action:"\ub808\uc774\uc5b4_\ub300\uae30\uc124\uc815_\uc544\ud669\uc0b0\uac00\uc2a4_\uc870\ud68c"},weather_pm25:{page:"weather_pm25",
action:"\ub808\uc774\uc5b4_\ub300\uae30\uc124\uc815_\ucd08\ubbf8\uc138\uba3c\uc9c0_\uc870\ud68c"},weather_khai:{page:"weather_khai",action:"\ub808\uc774\uc5b4_\ub300\uae30\uc124\uc815_\ud1b5\ud569\ub300\uae30_\uc870\ud68c"},weather_ysand:{page:"weather_ysand",action:"\ub808\uc774\uc5b4_\ub300\uae30\uc124\uc815_\ud669\uc0ac_\uc870\ud68c"},bboundary:{page:"bboundary",action:"\ub808\uc774\uc5b4_\ubc95\uc815\uacbd\uacc4_\uc870\ud68c"},usedistrict:{page:"layer_usedistrict",action:"\ub808\uc774\uc5b4_\uc9c0\uc801\ud3b8\uc9d1\ub3c4_\uc870\ud68c"},
terrain:{page:"terrain",action:"\ub808\uc774\uc5b4_\uc9c0\ud615\ub3c4_\uc870\ud68c"},hboundary:{page:"hboundary",action:"\ub808\uc774\uc5b4_\ud589\uc815\uacbd\uacc4_\uc870\ud68c"},cctv:{page:"cctv",action:"\ub808\uc774\uc5b4_CCTV_\uc870\ud68c"},my_folder:{page:"my_favorite",action:"\ub9c8\uc774_\uc990\uaca8\ucc3e\uae30\ud0ed_\uc870\ud68c"},simplemap:{page:"simplemap",action:"\ub9c8\uc774_\uc990\uaca8\ucc3e\uae30\ud0ed_\ud3f4\ub354_\ucd94\uac00_\uc870\ud68c"},folder_edit:{page:"folder_edit",action:"\ub9c8\uc774_\uc990\uaca8\ucc3e\uae30\ud0ed_\ud3f4\ub354\uc218\uc815_\uc870\ud68c"},
folderinfo:{page:"folderinfo",action:"\ub9c8\uc774_\uc990\uaca8\ucc3e\uae30\ud0ed_\ud3f4\ub354\uc815\ubcf4_\uc870\ud68c"},add_folder:{page:"add_folder",action:"\ub9c8\uc774_\uc990\uaca8\ucc3e\uae30\ud0ed_\ud3f4\ub354\ucd94\uac00_\uc870\ud68c"},edit_home:{page:"edit_home",action:"\ub9c8\uc774_\uc9d1\ud68c\uc0ac_\uc9d1\uc218\uc815_\uc870\ud68c"},edit_company:{page:"edit_company",action:"\ub9c8\uc774_\uc9d1\ud68c\uc0ac_\ud68c\uc0ac\uc218\uc815_\uc870\ud68c"},my_review:{page:"my_review",action:"\ub9c8\uc774_\ud3c9\uac00\ud0ed_\uc870\ud68c"},
my_place:{page:"my_place",action:"\ub9c8\uc774_\uc9d1\ud68c\uc0ac\ud0ed_\uc870\ud68c"},add_company:{page:"add_company",action:"\ub9c8\uc774_\uc9d1\ud68c\uc0ac\ud0ed_\ud68c\uc0ac\ucd94\uac00_\uc870\ud68c"},bus_stop_result:{page:"bus_stop_result",action:"\ubc84\uc2a4_\uc815\ub958\uc7a5_\uacb0\uacfc_\uc870\ud68c"},busClick:{page:"busClick",action:"\ubc84\uc2a4_\uc870\ud68c"},bus_busHcodeSearchResult:{page:"bus_busHcodeSearchResult",action:"\ubc84\uc2a4_\uc9c0\uc5ed\ubcc4_\uc870\ud68c"},pastview:{page:"skyview_pastview",
action:"\uc2a4\uce74\uc774\ubdf0_\uacfc\uac70\uc0ac\uc9c4_\uc870\ud68c"},pastview_hybridoff:{page:"pastview_hybridoff",action:"\uc2a4\uce74\uc774\ubdf0_\ud558\uc774\ube0c\ub9ac\ub4dc_\ub054_\uc870\ud68c"},infowindow:{page:"infowindow",action:"\uc778\ud3ec\uc708\ub3c4\uc6b0_\uc870\ud68c"},theme:{page:"theme",action:"\uc8fc\ubcc0\ud0d0\uc0c9_\uc870\ud68c"},add_favorite2:{page:"add_favorite2",action:"\uc990\uaca8\ucc3e\uae30_\ucd94\uac00_\uc644\ub8cc\ud31d\uc5c5_\uc870\ud68c"},add_favorite1:{page:"add_favorite1",
action:"\uc990\uaca8\ucc3e\uae30_\ucd94\uac00_\ud3f4\ub354\uc120\ud0dd_\uc870\ud68c"},my_favoritelist:{page:"my_favoritelist",action:"\ub9c8\uc774_\uc990\uaca8\ucc3e\uae30\ud0ed_\ud3f4\ub354_\uc0c1\uc138_\uc870\ud68c"},navi_region:{page:"navi_region",action:"\uc9c0\uc5ed\ubcc0\uacbd_\uc870\ud68c"},subway_region_gwangju:{page:"subway_region_gwangju",action:"\uc9c0\ud558\ucca0_\ub178\uc120\ub3c4_\uad11\uc8fc_\uc870\ud68c"},subway_subwayLinemapSearchResult:{page:"subway_subwayLinemapSearchResult",action:"\uc9c0\ud558\ucca0_\ub178\uc120\ub3c4_\uae38\ucc3e\uae30\uacb0\uacfc_\uc870\ud68c"},
subway_region_daegu:{page:"subway_region_daegu",action:"\uc9c0\ud558\ucca0_\ub178\uc120\ub3c4_\ub300\uad6c_\uc870\ud68c"},subway_region_daejeon:{page:"subway_region_daejeon",action:"\uc9c0\ud558\ucca0_\ub178\uc120\ub3c4_\ub300\uc804_\uc870\ud68c"},subway_region_busan:{page:"subway_region_busan",action:"\uc9c0\ud558\ucca0_\ub178\uc120\ub3c4_\ubd80\uc0b0_\uc870\ud68c"},subway_region_seoul:{page:"subway_region_seoul",action:"\uc9c0\ud558\ucca0_\ub178\uc120\ub3c4_\uc11c\uc6b8_\uc870\ud68c"},subwayLinemapPrint:{page:"subwayLinemapPrint",
action:"\uc9c0\ud558\ucca0_\ub178\uc120\ub3c4_\uc778\uc1c4\ud558\uae30_\uc870\ud68c"},subwayClick:{page:"subwayClick",action:"\uc9c0\ud558\ucca0\ud0ed_\uc870\ud68c"},start_2d:{page:"start_2d",action:"\uc9c4\uc785_2D\uc9c0\ub3c4"},roadview_showViewer:{page:"roadview_showViewer",action:"\uc9c4\uc785_\ub85c\ub4dc\ubdf0"},start_skyview:{page:"start_skyview",action:"\uc9c4\uc785_\uc2a4\uce74\uc774\ubdf0"},profile:{page:"profile",action:"\ud504\ub85c\ud544_\uc870\ud68c"},cctvView:{page:"realtraffic_cctvView",
action:"unknown"},timetable:{page:"pubtrans_intercity_timetable",action:"\uc2e4\uc2dc\uac04\uc608\ub9e4\uc815\ubcf4_\uc870\ud68c"},confirmRegion:{page:"confirmRegion",action:"unknown"},form:{page:"iptargeting_form",action:"\uc811\uc18d\uc9c0\uc5ed_\uc624\ub958\uc2e0\uace0_\ud31d\uc5c5_\uc870\ud68c"},snb:{page:"snb",action:"\uc0ac\uc774\ub4dc\uba54\ub274_\uc870\ud68c"},other_folder:{page:"favorite_folder_list_share_enter\t",action:"\uc9c4\uc785_\uc990\uaca8\ucc3e\uae30_\ud3f4\ub354\ub9ac\uc2a4\ud2b8_\uacf5\uc720\ub9c1\ud06c"},
other_favoritelist:{page:"favorite_list_share_enter",action:"\uc9c4\uc785_\uc990\uaca8\ucc3e\uae30_\ub9ac\uc2a4\ud2b8_\uacf5\uc720\ub9c1\ud06c"},indoor:{page:"indoor_enter",action:"\uc9c4\uc785_\uc2e4\ub0b4\uc9c0\ub3c4"},add_homelist:{page:"favorite_add_homelist",action:"\uc990\uaca8\ucc3e\uae30_\ud648\ubaa9\ub85d\ucd94\uac00\ud31d\uc5c5_\uc870\ud68c"},favorite_edit:{page:"favorite_edit",action:"\uc990\uaca8\ucc3e\uae30_\uc218\uc815\ud31d\uc5c5_\uc870\ud68c"},profile_edit:{page:"profile_edit",action:"\ud504\ub85c\ud544_\uc218\uc815\ud31d\uc5c5_\uc870\ud68c"},
search_roadview:{page:"search_roadview",action:"\uc9c4\uc785_\uac80\uc0c9\uacb0\uacfc_\ub85c\ub4dc\ubdf0"},add_home:{page:"add_home",action:"\ub9c8\uc774_\uc9d1_\ub4f1\ub85d\ud31d\uc5c5_\uc870\ud68c"},other_review:{page:"review_share_enter",action:"\uc9c4\uc785_\ud3c9\uac00_\uacf5\uc720\ub9c1\ud06c"},bicycle:{page:"bicycle",action:"\ub808\uc774\uc5b4_\uc9c0\ub3c4\uc124\uc815_\uc790\uc804\uac70_\uc870\ud68c"},accident:{page:"accident",action:"\ub808\uc774\uc5b4_\uc9c0\ub3c4\uc124\uc815_\uc0ac\uace0\uacf5\uc0ac_\uc870\ud68c"},
realtraffic:{page:"realtraffic",action:"\ub808\uc774\uc5b4_\uc9c0\ub3c4\uc124\uc815_\uad50\ud1b5\uc815\ubcf4_\uc870\ud68c"},weather_so2:{page:"weather_so2",action:"\ub808\uc774\uc5b4_\ub300\uae30\uc124\uc815_\uc544\ud669\uc0b0\uac00\uc2a4_\uc870\ud68c"},skyview_hybridoff:{page:"skyview_hybridoff",action:"\uc2a4\uce74\uc774\ubdf0_\ud558\uc774\ube0c\ub9ac\ub4dc\ub044\uae30_\uc870\ud68c"},skyview:{page:"skyview",action:"\uc2a4\uce74\uc774\ubdf0_\uc870\ud68c"},profileedit:{page:"profile_edit",action:"\ud504\ub85c\ud544_\uc218\uc815\ud31d\uc5c5_\uc870\ud68c"},
bus_number_result:{page:"bus_number_result",action:"\ubc84\uc2a4_\ubc88\ud638_\uacb0\uacfc_\uc870\ud68c"}}}});"use strict";define("main",["jquery","module","server"],function(a,b){var c=b.config();define("params",[],c.params);define("options",[],c.options);define("themeKeywords",[],c.options.themeSearch);B.__daumISSUE="Y"==c.options.event_notice;var d=c.options;require("url").LOGOUT=d.logoutUrl+B.location.origin;document.referrer.split("?")[0]===d.loginUrl.split("?")[0]&&(1===d.isLogin&&0===d.isMapUser)&&
(B.location.href=require("url").SIGNUP);require("Application util/nohash controller/MapappController map/MiniMapTypeControl map/MiniZoomControl map/MapTileManager controller/AoiController".split(" "),function(b,d){B.Application=b;var h=a(document);d.load(h);c.params.special&&require(["controller/SpecialController"])});!c.params.target&&(!c.params.store&&"ROADVIEW"!=c.params.map_attribute&&!c.params.panoid&&!c.params.special&&"content"!=c.params.guide&&!c.params.rv&&!c.params.airType)&&require(["controller/TriangleNoticeController"]);
jQuery(".Outgoing a").click(function(){n.click("navi","related_services")})});"use strict";Object.keys||(Object.keys=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b});Object.create||(Object.create=function(a,b){function c(){}console.assert(!b,"Object.create is emulated: no second argument support.");c.prototype=a;return new c});Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"});Array.prototype.indexOf||(Array.prototype.indexOf=
function(a,b){var c=this.length>>>0,b=Number(b)||0,b=b<0?Math.ceil(b):Math.floor(b);for(b<0&&(b=b+c);b<c;b++)if(b in this&&this[b]===a)return b;return-1});Array.prototype.filter||(Array.prototype.filter=function(a,b){for(var c=this.length>>>0,d=[],e=0;e<c;e++)if(e in this){var f=this[e];a.call(b,f,e,this)&&d.push(f)}return d});Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=this.length>>>0,d=0;d<c;d++)d in this&&a.call(b,this[d],d,this)});Array.prototype.every||(Array.prototype.every=
function(a,b){for(var c=this.length>>>0,d=0;d<c;d++)if(d in this&&!a.call(b,this[d],d,this))return false;return true});Array.prototype.some||(Array.prototype.some=function(a,b){for(var c=0,d=this.length>>>0;c<d;c++)if(c in this&&a.call(b,this[c],c,this))return true;return false});Array.prototype.map||(Array.prototype.map=function(a,b){for(var c=this.length>>>0,d=Array(c),e=0;e<c;e++)e in this&&(d[e]=a.call(b,this[e],e,this));return d});Array.prototype.reduce||(Array.prototype.reduce=function(a,b){var c=
this.length>>>0,d=0;if(arguments.length<2){do{if(d in this){b=this[d++];break}if(++d>=c)throw new TypeError;}while(1)}for(;d<c;d++)d in this&&(b=a.call(null,b,this[d],d,this));return b});Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a,b){var c=(this.length>>>0)-1;if(arguments.length<2){do{if(c in this){b=this[c--];break}if(--c<0)throw new TypeError;}while(1)}for(;c>=0;c--)c in this&&(b=a.call(null,b,this[c],c,this));return b});Array.prototype.includes||Object.defineProperty(Array.prototype,
"includes",{value:function(a,b){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),d=c.length>>>0;if(d===0)return false;for(var e=b|0,e=Math.max(e>=0?e:d-Math.abs(e),0);e<d;){if(c[e]===a||typeof c[e]==="number"&&typeof a==="number"&&isNaN(c[e])&&isNaN(a))return true;e++}return false}});Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(a,b){if(this==null)throw new TypeError('"this" is null or not defined');var c=Object(this),d=c.length>>>
0;if(typeof a!=="function")throw new TypeError("predicate must be a function");for(var e=0;e<d;){var f=c[e];if(a.call(b,f,e,c))return f;e++}},configurable:!0,writable:!0});Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Eb(arguments,1);return function(){return b.apply(a,c.concat(Eb(arguments)))}});Date.now||(Date.now=function(){return+new Date});"undefined"==typeof console&&(console={});["log","info","warn","assert","debug"].forEach(function(a){console[a]||(console[a]=Function())});
String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")});String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/,"")});B.location.origin||(B.location.origin=B.location.protocol+"//"+B.location.host);"use strict";require.attach=function(){throw new URIError("no defined module: "+url);};"SANDBOX"!==B.ENV&&(B.console={},["log",
"info","warn","assert","debug"].forEach(function(a){console[a]=Function()}));define("server",["jquery","url"],function(a,b){function c(a,b){var c={};c[a]=b;return c}var d=location.pathname.replace(/[^\/]+$/,""),e={};a.each({searchTheme:{url:b.LOCAL_SEARCH_DAUM_NET+"/theme.daum?output=json&category=Y",dataType:"jsonp"},searchBusStopWithBounds:{url:b.LOCAL_SEARCH_DAUM_NET+"/search_bus.daum?output=json&category=Y",dataType:"jsonp"},searchBus:{url:b.LOCAL_SEARCH_DAUM_NET+"/search_bus.daum?type=bus",dataType:"jsonp"},
search:{url:b.LOCAL_SEARCH_DAUM_NET+"/map.daum",dataType:"jsonp"},searchAddress:{url:b.LOCAL_SEARCH_DAUM_NET+"/search_addr.daum",dataType:"jsonp"},searchBusStop:{url:b.LOCAL_SEARCH_DAUM_NET+"/search_bus.daum?type=busStop",dataType:"jsonp"},searchOpenhour:{url:b.SEARCH_OPENHOUR,dataType:"json"},reverseGeocoding:{url:b.RAPI_WEATHER+"?inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&version=2&service=map.daum.net",dataType:"json",timeout:1E3},reverseGeoHcoding:{url:b.RAPI_HCODE+"?format=normal&inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&service=map.daum.net",
dataType:"json",timeout:1E3},reverseGeoBcoding:{url:b.RAPI_BCODE+"?format=normal&inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&service=map.daum.net",dataType:"json",timeout:1E3},whatsHere:{url:b.COORDINATE_ADDRESS+"?inputCoordSystem=wcongnamul",dataType:"json"},regionCode:{url:b.RAPI_CHILD_CODES+"?service=map.daum.net",dataType:"json"},weather:{url:"weather/info",paramKey:"hcode",dataType:"jsonp"},weatherList:{url:"weather/list",traditional:true,dataType:"jsonp"},weatherDetail:{url:b.WEATHER_DETAIL,
dataType:"json"},placeById:{url:"/api/place/info?output=json",paramKey:"confirmId",dataType:"jsonp"},searchPlaceById:{url:b.LOCAL_SEARCH_DAUM_NET+"/srcid.daum",paramKey:"id",dataType:"jsonp"},poi:{url:b.MAP2_DAUM_NET+"/map/ndmpoidata.service?COORDSTM=WCONGNAMUL&FORMAT=NDMPOIPLACEJSON",dataType:"jsonp"},stationInfo:{url:"subway/station.json",paramKey:"stationId",dataType:"jsonp"},realestate:{url:"etc/houseAreaInfo.json",paramKey:"danjiid",dataType:"json"},realestateAgency:{url:"etc/houseAgencyInfo.json",
paramKey:"confirmid",dataType:"jsonp"},houseBunyang:{url:"etc/houseBunyangInfo.json",paramKey:"id",dataType:"jsonp"},blogReview:{url:"etc/reviewSource",paramKey:"url",dataType:"xml"},roadviewData:{url:b.STV_MAPS_DAUM_NET+"/node",dataType:"json",addParamStr:true},roadviewSmart:{url:b.STV_MAPS_DAUM_NET+"/near-node",dataType:"json",addParamStr:true},roadviewBuildingInfo:{url:b.BUILDING_INFO,dataType:"json"},route:{url:"route/route.json",traditional:true,dataType:"jsonp"},carRoute:{url:"route/car.json?roadside=ON",
traditional:true,dataType:"jsonp"},carSetRoute:{url:"route/carset.json?roadside=ON",traditional:true,dataType:"jsonp",addParamStr:true},transitRoute:{url:"route/publictrans.json",traditional:true,dataType:"jsonp"},transitRoute2:{url:"route/pubtrans.json?inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&service=map.daum.net",traditional:true,dataType:"jsonp"},walkRoute:{url:"route/walk.json",traditional:true,dataType:"jsonp"},walkSetRoute:{url:"route/walkset.json",traditional:true,dataType:"jsonp"},
bikeSetRoute:{url:"route/bikeset.json",traditional:true,dataType:"jsonp"},busInfo:{url:"bus/info.json?output=json",paramKey:"busline",dataType:"jsonp"},busLineStop:{url:"bus/stopbus.json",dataType:"jsonp"},busStop:{url:"bus/stop.json",paramKey:"busstopid",dataType:"jsonp"},transitBusStop:{url:"bus/stop.json",dataType:"jsonp"},transitMutiBusStop:{type:"POST",url:"/api/busstop/realtime-multi",dataType:"json",contentType:"application/json"},busStopGroup:{url:"bus/overlapbusstop.json",paramKey:"groupBusStopId",
dataType:"jsonp"},busStopsInBounds:{url:"bus/search/busregion.json",dataType:"jsonp"},busLinesInBounds:{url:"search/busscreen.json",dataType:"jsonp"},placesInBounds:{url:b.PLACE_IN_BOUNDS+"/ndmclick/poi.json?place=true&address=true&publictraffic=true&inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&service=map.daum.net",dataType:"jsonp"},traffic:{url:b.R_MAPS_DAUM_NET+"/realtraffic/getRealTrafficInfo.service?output=JSON&service=map.daum.net",dataType:"jsonp"},accident:{url:"traffic/accident.json",
dataType:"jsonp",scriptCharset:"EUC-KR"},cctv:{url:"traffic/cctvListInBox",dataType:"jsonp"},cctvById:{url:"/api/cctvs/",addParamStr:true,dataType:"json"},cctvUrl:{url:"/api/cctvs/url",addParamStr:true,dataType:"json"},transitMultiSubway:{type:"POST",url:"/api/subway/realtime",dataType:"json",contentType:"application/json"},subwayRoute:{url:b.SUBWAY_SEARCH,dataType:"json",isSubwayRoute:true},subwayStation:{url:"subway/searchSubwayStationName.json?outputCoordSystem=WCONGNAMUL",dataType:"jsonp"},subwayStationInfo:{url:"subway/subwayStationInfo",
paramKey:"stationId",dataType:"popup",width:690,height:665},intercityBus:{url:"pubtrans/intercity/timetable",dataType:"popup",width:900,height:597,options:{noscroll:true,resizable:true}},ferry:{url:"pubtrans/intercity/timetable",dataType:"popup",width:900,height:597,options:{noscroll:true,resizable:true}},island:{url:"pubtrans/intercity/timetable",dataType:"popup",width:900,height:597,options:{noscroll:true,resizable:true}},interCityTimetable:{url:"pubtrans/intercity/timetable",dataType:"popup",width:900,
height:597,options:{noscroll:true,resizable:true}},busTerminalAt:{url:"pubtrans/search/BusTerminalByXY.json",dataType:"json"},profileInfo:{url:"profile/info.json",dataType:"json"},profileUpdate:{url:"profile/update.json",dataType:"json",addParamStr:true,type:"POST"},favoriteFolderInfo:{url:"folder/info.json",dataType:"json"},favoriteFolderList:{url:"folder/list.json",dataType:"json"},favoriteFolderAdd:{type:"POST",url:"folder/add.json",dataType:"json",contentType:"application/json"},favoriteFolderDelete:{type:"POST",
url:"folder/delete.json",dataType:"json",contentType:"application/json"},favoriteFolderUpdate:{type:"POST",url:"folder/update.json",dataType:"json",contentType:"application/json"},favoriteFolderAddView:{type:"POST",url:"folder/addview.json",dataType:"json",contentType:"application/json"},favoriteFolderSubscribe:{type:"POST",url:"folder/subscribe.json",dataType:"json",contentType:"application/json"},favoriteList:{url:"favorite/list.json",dataType:"json"},favoriteAdd:{type:"POST",url:"favorite/add.json",
dataType:"json",contentType:"application/json"},favoriteDelete:{type:"POST",url:"favorite/delete.json",dataType:"json",contentType:"application/json"},favoriteUpdate:{type:"POST",url:"favorite/update.json",dataType:"json",contentType:"application/json"},favoriteHomeList:{url:"favorite/home.json",dataType:"json"},favoriteHomeEdit:{type:"POST",url:"favorite/homeedit.json",dataType:"json",contentType:"application/json"},favoriteRouteKey:{type:"POST",url:"favorite/routekey.json",dataType:"json",contentType:"application/json"},
myPlaceList:{url:"favorite/myplace/list.json",dataType:"json"},myPlaceAddUpdate:{type:"POST",url:"favorite/myplace/addupdate.json",dataType:"json",contentType:"application/json"},myPlaceDelete:{type:"POST",url:"favorite/myplace/delete.json",dataType:"json",contentType:"application/json"},favoriteSyncBusline:{type:"PUT",url:"/api/favorite/buslines/sync",dataType:"json",contentType:"application/json"},favoriteAddBusline:{type:"POST",url:"favorite/busline/add.json",dataType:"json",contentType:"application/json"},
favoriteDeleteBusline:{type:"POST",url:"favorite/busline/delete.json",dataType:"json",contentType:"application/json"},reviewList:{url:"review/list.json",dataType:"json"},reviewLike:{type:"POST",url:"review/like.json",dataType:"json",addParamStr:true},reviewDelete:{type:"POST",url:"review/delete.json",dataType:"json",addParamStr:true},join:{type:"POST",url:"/user/join.json",dataType:"json",addParamStr:true},agree:{type:"POST",url:"/user/agree.json",addParamStr:true,dataType:"json"},leave:{type:"POST",
url:"/user/leave.json",dataType:"json"},favoriteMigrationInfo:{url:"/favorite/migrationInfo.json",dataType:"json"},favoriteCopy:{url:"favorite/kakao/copy2kakao",paramKey:"seq",dataType:"json"},favoriteUser:{url:"favorite/user",dataType:"json"},favoriteViewAllToggle:{url:"favorite/toggle/daum_view_poi",dataType:"json"},favoriteSelect:{type:"POST",url:"favorite/select",dataType:"json"},favoriteDaumList:{url:"/favorite/kakao/list?service=DAUM",dataType:"json"},favoriteHometoggle:{type:"POST",url:"favorite/kakao/hometoggle",
dataType:"json"},afterLogin:{url:d+"afterLogin.jsp",dataType:"popup",width:400,height:600,options:{name:"LOGIN",noscroll:true}},shortUrl:{url:"/shorturl/create.json",dataType:"json"},placeLineList:{url:"etc/lineGeoData",processData:false,dataType:"json"},issue:{url:"contents/issue.daum",dataType:"json"},thememapList:{url:b.THEME_PLACE_DAUM_NET+"/theme/list.json",dataType:"jsonp",cache:false},thememapPlaceList:{url:b.THEME_PLACE_DAUM_NET+"/theme/placelist.json",dataType:"jsonp",cache:false},thememapInfo:{url:b.THEME_PLACE_DAUM_NET+
"/theme/info.json",dataType:"jsonp",cache:false},thememapPlaceTipList:{url:b.THEME_PLACE_DAUM_NET+"/api/tipList.json",dataType:"jsonp",cache:false},thememapPlaceVote:{url:b.THEME_PLACE_DAUM_NET+"/theme/place/votegood.json",dataType:"jsonp",cache:false},getHcodeShape:{url:b.RAPI_AREA_HCODE+"?outputCoordSystem=WCONGNAMUL&service=map.daum.net",dataType:"json"},getBcodeShape:{url:b.RAPI_AREA_BCODE+"?outputCoordSystem=WCONGNAMUL&service=map.daum.net",dataType:"json"},getAddressShape:{url:"/etc/areaAddressInfo.json?output=JSON&inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL",
dataType:"json"},getRealestateShape:{url:"/etc/houseShapeInfo.json",dataType:"json"},roadviewVideoView:{url:"https://rvroute.map.daum.net/route.daum",dataType:"jsonp"},indoorPolygon:{url:"/etc/indoor/polygon.json",dataType:"json"},suggestPubTran:{url:b.SUGGEST_PUBTRAN,dataType:"json"},w3wAddress:{url:"/api/w3w/location/",addParamStr:true,dataType:"json"},w3wSearch:{url:"/api/w3w/keyword/",addParamStr:true,dataType:"json"},currentLogin:{url:"/user/checkLogin.json",dataType:"json"}},function(b,d){e[b]=
function(b,e,f){var j=a.extend({},d);j.paramKey&&b!=null&&(b=c(j.paramKey,b));if(j.dataType=="popup"){var i=j.url,i=i+(/\?/.test(i)?"&":"?"),i=i+a.param(b||{});console.info("popup: "+i);jb(i,j.width,j.height,j.options)}else{j.contentType=="application/json"&&(b=JSON.stringify(b));if(j.isSubwayRoute){i=b.url;j=a.extend({},j,{url:i});b=b.queryParameters}if(j.addParamStr){j=a.extend({},j,{url:j.url+b.addParamData});b=b.params}if(f&&typeof f=="function")j.error=f;a.ajax(a.extend({timeout:j.timeout||5E3,
cache:true,dataType:"jsonp",data:b,success:function(a){if(console.groupCollapsed){console.groupCollapsed("server: "+j.url);console.dir(b);console.dir(a);console.groupEnd()}e(!("dataType"in j)||/json/.test(j.dataType)?new Ga(a):j.dataType=="xml"?new Ac(a):a)}},j))}}});return e});define("url",function(){var a={MAP_DAUM_NET:"https://map.kakao.com",DMAPS:"https://dmaps.kakao.com",R_MAPS_DAUM_NET:"https://r.maps.daum-img.net",STV_MAPS_DAUM_NET:"https://rv.map.kakao.com/roadview-search/v2",MAP2_DAUM_NET:"https://map2.daum.net",
THEME_PLACE_DAUM_NET:"https://place.map.kakao.com",SUBWAY_ROUTER_HOST:"https://ssl.daumcdn.net/subwayroute.map",PLACE_IN_BOUNDS:"https://ssl.daumcdn.net/click.map.daum.net",TILE_AIR_INFO:"https://airinfo.map.kakao.com",TILE_SEARCH_IMG_NET:"https://tilesrch.map.daum.net",LOCAL_SEARCH_DAUM_NET:"https://search.map.kakao.com/mapsearch",SUGGEST:"/api/dapi/suggest/hub?service=local-suggest",SUGGEST_ROUTE:"/api/dapi/suggest/hub?service=local-route-suggest",SUGGEST_PUBTRAN:"/api/dapi/suggest/public-traffic-v2",
SEARCH_OPENHOUR:"/api/dapi/overall",COORDINATE_ADDRESS:"/api/dapi/point/convert-v2",WEATHER_DETAIL:"/api/dapi/weather?extra=air&_caller1=ver_map_141",RAPI_AREA_HCODE:"/api/dapi/shape",RAPI_AREA_BCODE:"/api/dapi/shape",RAPI_HCODE:"/api/dapi/point/hcode-shape",RAPI_BCODE:"/api/dapi/point/bcode-shape",RAPI_CHILD_CODES:"/api/dapi/child-code",RAPI_WEATHER:"/api/dapi/point/weather",SUBWAY_SEARCH:"/api/subway/routes",BUILDING_INFO:"https://rv.map.kakao.com/roadview-search/v2/kidbuildingmap",FIY_SERVER_URL:"//fiy.kakao.com/fiy/",
NEW_FIY_SERVER_URL:"//fiyboot.kakao.com/",EMBED_ROUGHMAP_URL:"//place.map.kakao.com/roughmap/pcRoughMap.daum",DAUM_PLACE:"https://place.map.kakao.com/",POSTCODE_MAP_DAUM_NET:"http://postcode.map.daum.net",DMAPS_DISPATCH:"http://dmaps.kr",FLASH_SUPPORT:"https://kakaomap.tistory.com/326",TENTH_THUMB:"//t1.daumcdn.net/thumb/",CONNECT_ACCOUNT:"https://member.daum.net/kakaoaccount/linkform.daum?url="+B.location.href,MMAP:"https://m.map.kakao.com",SIGNUP:B.location.protocol+"//"+B.location.host+"/user/signup",
DAUM_MAIL:"//mail.daum.net/goto/compose"};typeof __overrideURL=="function"&&__overrideURL(a);return a});define("constants/address",function(){return{DATA_TYPE:{JIBUN_ADDRESS:"1",REGION_CODE:"2",ROAD_NAME:"3",ROAD_JIBUN_INDEX:"4",ROAD_ADDRESS:"5"}}});define("constants/messages",function(){return{GUIDE_TO_USE_APP:{COMMON:"\uce74\uce74\uc624\ub9f5 \uc571\uc5d0\uc11c \uc81c\uacf5\ub429\ub2c8\ub2e4.",MAP_3D:"3D\uc9c0\ub3c4\ub294 \uce74\uce74\uc624\ub9f5 \uc571\uc5d0\uc11c \uc81c\uacf5\ub429\ub2c8\ub2e4.",
SAFE_DRIVING:"\uc548\uc804\uc8fc\ud589\ubaa8\ub4dc\ub294 \uce74\uce74\uc624\ub9f5 \uc571\uc5d0\uc11c \uc81c\uacf5\ub429\ub2c8\ub2e4.",MAP_THEME:"\ud14c\ub9c8\uc9c0\ub3c4\ub294 \uce74\uce74\uc624\ub9f5\uc571\uc5d0\uc11c \uc81c\uacf5\ub429\ub2c8\ub2e4."},FAVORITE:{PRIVACY_NEW:"\uadf8\ub8f9\uc744 \uacf5\uac1c\ub85c \uc0dd\uc131\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\uadf8\ub8f9 \uacf5\uac1c \uc2dc \ub2e4\ub978 \uc0ac\uc6a9\uc790\uac00 \ubcfc \uc218 \uc788\uace0 \uad6c\ub3c5\ud560 \uc218 \uc788\uc73c\ub2c8 \ubbfc\uac10 \uc815\ubcf4\uac00 \ub178\ucd9c\ub418\uc9c0 \uc54a\ub3c4\ub85d \uc8fc\uc758\ud574\uc8fc\uc138\uc694.",
PRIVACY_CHANGE:"\uadf8\ub8f9\uc744 \uacf5\uac1c\ub85c \ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?\n\uadf8\ub8f9 \uacf5\uac1c \uc2dc \ub2e4\ub978 \uc0ac\uc6a9\uc790\uac00 \ubcfc \uc218 \uc788\uace0 \uad6c\ub3c5\ud560 \uc218 \uc788\uc73c\ub2c8 \ubbfc\uac10 \uc815\ubcf4\uac00 \ub178\ucd9c\ub418\uc9c0 \uc54a\ub3c4\ub85d \uc8fc\uc758\ud574\uc8fc\uc138\uc694."},ERROR:{DATA_NOT_FOUND:"\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",STOREVIEW_TERMINATION:"\uc2a4\ud1a0\uc5b4\ubdf0 \uc11c\ube44\uc2a4\ub294 \uc885\ub8cc\ub418\uc5b4 \ub354 \uc774\uc0c1 \ud655\uc778\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}}});
define("constants/popup",function(){return{REPORT:{URL:"/report/popup",FEATURE:"width=412,height=518"}}});define("constants/subway",function(){return{ROUTING_TYPE:{TIME_BASE:"TimeBase",ARR_TIME_BASE:"ArrTimeBase",FIRST_TRAIN:"FirstTrain",LAST_TRAIN:"LastTrain",NON_TIME_BASE:"NonTimeBase"},DAY_TYPE:{WEEKDAY:"WEEKDAY",SATURDAY:"SATURDAY",HOLIDAY:"HOLIDAY"}}});define("constants/tiaraFavoriteLabels",function(){return{ACTION:{FAVORITE_TAB:"\uc990\uaca8\ucc3e\uae30\ud0ed_\ud074\ub9ad",FOLDER_DETAIL:"\ud3f4\ub354_\uc0c1\uc138_\ud074\ub9ad"},
CLICK:{SORT_TEXT:"\uc18c\ud305",FILTER:{ALL:"\uc804\uccb4",FOLDER:"\ud3f4\ub354",THEME:"\ud14c\ub9c8",PLACE:"\uc7a5\uc18c",BUS:"\ubc84\uc2a4",ROADVIEW:"\ub85c\ub4dc\ubdf0",ROUTE:"\uae38\ucc3e\uae30"},SORT:{CREATE_AT:"\ub4f1\ub85d\uc21c",DISPLAY1:"\uc774\ub984\uc21c"},MORE:"\ub354\ubcf4\uae30"}}});define("constants/transitRoute",function(){return{BOUND_MODE:{CITY:0,INTERCITY:1},MODE:{CITY:{BUS:0,SUBWAY:1,BUS_PLUS_SUBWAY:2,RECOMMENDATION:3},INTERCITY:{INTERCITY_BUS:0,TRAIN:1,AIRPLANE:2,FERRY:3,RECOMMENDATION:4}}}});
dc.prototype.infomarkers_=[];dc.prototype.activate=function(){if(!this.zoomHandler_){Kb.findAll(this.loadAll_,this);this.zoomHandler_=this.updateVisibility.bind(this);daum.maps.event.addListener(this.map_,"zoom_changed",this.zoomHandler_)}};dc.prototype.updateVisibility=function(){var a=this.map_.getLevel();this.infomarkers_.forEach(function(b){b.updateVisibility(a)})};dc.prototype.loadAll_=function(a){this.onTimestamp.notify(a.timestamp);this.infomarkers_=a.map(dc.createInfoMarker.bind(this));this.updateVisibility()};
dc.createInfoMarker=function(a){a=new Ce(a,"realtraffic","alert");a.setMap(this.map_);return a};dc.disposeInfoMarker=function(a){a.setMap(null)};dc.prototype.deactivate=function(){daum.maps.event.removeListener(this.map_,"zoom_changed",this.zoomHandler_);delete this.zoomHandler_;Application.infoWindowManager.closeToType("accident");this.infomarkers_.forEach(dc.disposeInfoMarker);delete this.infomarkers_};define("controller/AccidentController",["map/Map"],L(dc));$c.AIRTILES="airinfo_khai airinfo_pm10 airinfo_pm25 airinfo_ysnd airinfo_o3 airinfo_no2 airinfo_co airinfo_so2".split(" ");
$c.AIRTYPE="khai pm10 pm25 ysand o3 no2 co so2".split(" ");define("controller/AirMapTileController","options map/Map map/MapTileManager view/LayerLegendView controller/LocalInfoController controller/WeatherWindowController controller/WeatherMarkerController const".split(" "),L($c));Z.prototype.TYPE={PLACE:1,ADDRESS:2};Z.prototype.onLineOver=function(a,b){var c=this.getPanels(),d=a.model,e=b.aoiManager_,f=b.miniTooltipManager_;if(c){c.overlayLayer.style.cursor="pointer";d.aoiLineCoords=e.getMouseCoords();
f.createAoiLine(d);f.open()}};Z.prototype.onLineOut=function(a){var b=this.getPanels(),c=a.miniTooltipManager_;if(b)b.overlayLayer.style.cursor="";c.close();a.mousedownSearchResult=null};Z.prototype.onLineDown=function(a){this.mousedownSearchResult=a};Z.prototype.registerSearchResult=function(a){this.searchResultMap_[a.model.id]=a};Z.prototype.disablePolylineEvent=function(){this.polylineEventDisabled=true};Z.prototype.enablePolylineEvent=function(){this.polylineEventDisabled=false};Z.prototype.handleClick=
function(){this.miniTooltipManager_.close();if(this.mousedownSearchResult!==null){this.onAoiMousedown.notify(this.mousedownSearchResult);this.mousedownSearchResult=null;return true}return false};Z.prototype.callAfterLoad=function(a){this.doAfterLoad_=a};Z.prototype.setMapEvent=function(){this.removeMapEvent();daum.maps.event.addListener(this.map_,"idle",this.onIdle)};Z.prototype.removeMapEvent=function(){daum.maps.event.removeListener(this.map_,"idle",this.onIdle)};Z.prototype.initModel_=function(){this.aoiMap_=
{};this.searchResultMap_={}};Z.prototype.find=function(a){ca.findPath(a,this.load_.bind(this,this.TYPE.PLACE),this);this.onFind.notify(this)};Z.prototype.findAddress=function(a){this.load_(this.TYPE.ADDRESS,Ta.getAoiModel(a));this.onFind.notify(this)};Z.prototype.loadCache_=function(a){if(a){this.aoiMap_[a.id]=a;a.resetMarkerPosition&&a.resetMarkerPosition();this.drawLine_(a.id);this.doAfterLoad_&&this.doAfterLoad_();this.doAfterLoad_=null}};Z.prototype.load_=function(a,b){var c,d;if(b){d=b.id;c=
this.searchResultMap_[d];if(this.aoiMap_[d]){var e=this.aoiMap_[d];e.clearLineOverlay();if(e.endMarker){e.endMarker.start.setMap(null);e.endMarker.end.setMap(null);this.aoiMap_[d]=null}}this.aoiMap_[d]=new this.Aoi_(b,c,a);this.drawLine_(d);this.delayAfterLoad.trigger()}};Z.prototype.getAoi=function(){return this.aoiMap_[cid]};Z.prototype.setMarker=function(a){var b=this.aoiMap_[a],a=b.getVisibleMarkerPosition(),b=(b=b.searchResult)?b.marker:null;a&&b&&b.setPosition(a)};Z.prototype.getMarkerPosition=
function(a){return(a=this.aoiMap_[a])&&a.markerPosition?a.markerPosition:null};Z.prototype.getCoordsBounds=function(a){return this.aoiMap_[a]?this.aoiMap_[a].getCoordsBounds():null};Z.prototype.setAllMarker=function(){for(var a in this.aoiMap_)this.aoiMap_[a].id&&this.setMarker(a)};Z.prototype.drawLine_=function(a,b){var c=this.aoiMap_[a],d=this.map_.getLevel(),e=this.map_.getBounds(),f={zIndex:-1,strokeColor:"#F267B2",strokeOpacity:1,strokeWeight:10};c.clearLineOverlay();d=c.getSimplePaths(d);if(e.intersects(c.getCoordsBounds())){b&&
jQuery.extend(f,b);d.forEach(function(a){f.path=a;a=new daum.maps.Polyline(f);this.setPolylineEvent_(a,c.searchResult,c.type);c.overlay.add(a)},this);this.setEndMarker_(a,!!b&&!!b.highlight)}};Z.prototype.setPolylineEvent_=function(a,b){if(!this.polylineEventDisabled&&b){daum.maps.event.addListener(a,"mousedown",this.onLineDown.bind(this,b));daum.maps.event.addListener(a,"mouseover",this.onLineOver.bind(a,b,this));daum.maps.event.addListener(a,"mouseout",this.onLineOut.bind(a,this))}};Z.prototype.setEndMarker_=
function(a,b){var c=this.aoiMap_[a],d=c.startPoint,e=c.endPoint,f=['<div class="AoiStartEnd"></div>','<div class="AoiStartEnd selected"></div>'];if(c.endMarker)if(b){c.endMarker.start.setContent(f[1]);c.endMarker.end.setContent(f[1])}else{c.endMarker.start.setContent(f[0]);c.endMarker.end.setContent(f[0])}else c.endMarker={start:new daum.maps.Billboard({content:f[0],position:d,xAnchor:0.5,yAnchor:0.5}),end:new daum.maps.Billboard({content:f[0],position:e,xAnchor:0.5,yAnchor:0.5})};c.endMarker.start.setMap(this.map_);
c.endMarker.end.setMap(this.map_)};Z.prototype.setEndMarkerZIndex_=function(a,b){var c=this.aoiMap_[a].endMarker;if(c){c.start.setZIndex(b);c.end.setZIndex(b)}};Z.prototype.highlightEndMarker_=function(a){this.setEndMarkerZIndex_(a,3)};Z.prototype.resetEndMarker_=function(a){this.setEndMarkerZIndex_(a,0)};Z.prototype.redrawLines=function(){var a=this.selectedItem_?this.DIMMED_LINE_OPTION:null,b;for(b in this.aoiMap_)if(this.selectedItem_==b){this.drawLine_(b,this.HIGHLIGHT_LINE_OPTION);this.highlightEndMarker_(b)}else{this.drawLine_(b,
a);this.resetEndMarker_(b)}};Z.prototype.highlight=function(a){for(var b in this.aoiMap_)if(a==b){this.drawLine_(a,this.HIGHLIGHT_LINE_OPTION);this.highlightEndMarker_(b)}else{this.drawLine_(b,this.DIMMED_LINE_OPTION);this.resetEndMarker_(b)}};Z.prototype.getId=function(){return this.id_};Z.prototype.show=function(){if(this.isBounds_&&this.bounds_){this.roadviewController_.close();this.map_.setBounds(this.bounds_)}this.resetMarkerPositions();this.redrawLines();this.setAllMarker()};Z.prototype.hide=
function(){for(var a in this.aoiMap_)this.hideThis(a)};Z.prototype.hideThis=function(a){var a=this.aoiMap_[a],b=a.searchResult;(b=b?b.marker:null)&&b.getMarker().setMap(null);a.hideLineOverlay();if(a.endMarker){a.endMarker.start.setMap(null);a.endMarker.end.setMap(null)}};Z.prototype.getAoi=function(a){return this.aoiMap_[a]};Z.prototype.clear=function(){for(var a in this.aoiMap_)this.clearThis(a);this.initModel_();this.selectedItem_=null;this.onClear.notify()};Z.prototype.clearAddress=function(){for(var a in this.aoiMap_)a&&
a.search("addr")>-1&&this.clearThis(a);this.selectedItem_=null};Z.prototype.clearThis=function(a){var b=this.aoiMap_[a],c=b.searchResult,c=c?c.marker:null;this.aoiMap_[a]=null;c&&c.getMarker().setMap(null);b.clearLineOverlay();if(b.endMarker){b.endMarker.start.setMap(null);b.endMarker.end.setMap(null)}delete this.aoiMap_[a]};Z.prototype.clickListItem=function(a){this.clickMarker(a);this.aoiMap_[a]&&this.aoiMap_[a].resetMarkerPosition()};Z.prototype.clickAddressItem=function(a,b){this.clearAddress();
b?this.callAfterLoad(function(){this.clickListItem(a.id)}.bind(this)):this.callAfterLoad(function(){var b=this.getCoordsBounds(a.id);b&&this.map_.setBounds(b);this.clickListItem(a.id)}.bind(this));this.findAddress(a)};Z.prototype.clickMarker=function(a){this.selectedItem_=null;this.highlight(a);this.selectedItem_=a};Z.prototype.setHighlightMode=function(a){this.clickMarker(a)};Z.prototype.resetMarkerPositions=function(){var a,b,c;for(c in this.aoiMap_){b=this.aoiMap_[c];(a=(a=b.searchResult)?a.marker:
null)&&a.setPosition(b.markerPosition)}};Z.prototype.dimAll=function(){this.highlight(-1)};define("controller/AoiController",[],L(Z));define("controller/AreaSearchController",["map/Map","constants/address"],function(a,b){return new function(a,b){var e;function f(a,b,c){t[a]=c;c.id=a;c.markerCoords=b;var d=c.bounds.getNorthEast(),e=c.bounds.getSouthWest(),f=c.markerCoords.getX(),b=c.markerCoords.getY(),g=Math.abs(d.getX()-f),d=Math.abs(d.getY()-b),h=Math.abs(e.getX()-f),e=Math.abs(e.getY()-b);if(Math.sqrt(Math.pow(g,
2)+Math.pow(d,2))>Math.sqrt(Math.pow(h,2)+Math.pow(e,2))){f=f-g;b=b-d}else{f=f+h;b=b+e}c.bounds.extend(new daum.maps.Coords(f,b));if(m[a])m[a]();m[a]=null}function h(b){var d=a.getBounds(),e=d.getSouthWest(),d=d.getNorthEast(),e=d.getX()-e.getX()+(d.getY()-e.getY()),d=b.bounds.getSouthWest(),b=b.bounds.getNorthEast();return b.getX()-d.getX()+(b.getY()-d.getY())>=e}function g(b,d){var f=b==e?t[u]:t[b];if(f){a.getLevel();var g={strokeWeight:3,strokeColor:" #F267B2",strokeOpacity:1},j=n[f.id],k=j.wasFull=
h(f);if(j){if(q)if(q==f.id&&d){g.fillColor="#F267B2";g.fillOpacity=0.18}else g.fillOpacity=0.01;if(k)g.fillOpacity=0;j.setOptions(g)}}}function k(){var a=h(t[u]);(!n[u].wasFull&&a||n[u].wasFull&&!a)&&g(u)}function l(b,d,e){if(b=t[b]){if(b.path.length){var f=false;a.getBounds();var h=n[b.id];p();if(!d){b.isJibun?a.setLevel(3):a.setBounds(b.bounds);a.setCenter(b.markerCoords);f=true}h.setPath(b.path);h.setMap(a);g(b.id);i();A=!e;u=b.id;d=f}else d=false;return d}return false}function j(a){for(id in t)t[id]instanceof
Va&&n[id]&&n[id].setMap(null);if(!a)w=q=u=""}function i(){p();daum.maps.event.addListener(a,"zoom_changed",k)}function p(){daum.maps.event.addListener(a,"zoom_changed",k);daum.maps.event.removeListener(a,"zoom_changed",k)}function o(a){var c=a.id,g=t[c],h=f.bind(this,c,a.coords);if(g!=null)h(g);else{if(!n[c]){n[c]=new daum.maps.Polygon;n[c].isOver=false;n[c].wasFull=false;daum.maps.event.addListener(n[c],"mouseover",function(){n[c].isOver=true;s(c,true)});daum.maps.event.addListener(n[c],"mouseout",
function(){n[c].isOver=false;s(e,true)})}a instanceof ca||a instanceof Fc?Va.fetchByCid(a.id,h):a.dataType===b.DATA_TYPE.REGION_CODE?a.bhtype.search("B")>-1?Va.fetchByBCode(a.bcode,h):Va.fetchByHCode(a.hcode,h):a.dataType===b.DATA_TYPE.JIBUN_ADDRESS?Va.fetchByJibunCoords(a.coords.getX(),a.coords.getY(),h):a.dataType===b.DATA_TYPE.ROAD_ADDRESS&&Va.fetchByRoadCoords(a.coords.getX(),a.coords.getY(),h)}}function s(a,b){b?q=a:w=q=a;g(q,b)}e=1;var t={},u="",q="",w="",m={},n={},A=true;this.renderById=function(a,
b,c){return l(a,b,c)};this.clearMap=function(a){return j(a)};this.setMapEvent=function(){return i()};this.clearMapEvent=function(){return p()};this.fetch=function(a){return o(a)};this.focus=function(a,b){return s(a,b)};this.blurAll=function(a){s(e,a)};this.restoreFocus=function(){s(w)};this.onSearchTabChange=function(a){j(A);p();a===0&&l(u)};this.callAfterLoad=function(a,b){m[a]=b};this.getAreaSearch=function(a){return t[a]};this.cacheJibun=function(a,b){var c=new Va(b,true);c.id=a;t[a]=c;n[a]||(n[a]=
new daum.maps.Polygon)}}(a,b)});"use strict";define("controller/AuthController",["options"],L(function(a){var b=!!a.isLogin,c=!!a.isMapUser,d=!!a.needAgreements;this.request=function(a){require("server").currentLogin({},function(b){b=b.text("status.code");if(b==="SUCCESS"&&a){this.setLoggedIn();this.updateProfile({isLogin:1,isMapUser:1});a()}else if(b==="NOT_AUTHORIZED")B.location.href=require("url").SIGNUP;else{this.setLoggedOff();this.updateProfile({isLogin:0,isMapUser:0});require("server").afterLogin()}}.bind(this),
function(){alert("\uc77c\uc2dc\uc801\uc778 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")});B.__setLogin=function(d){d=d||{};b=!!d.isLogin;c=!!d.isMapUser;if(this.isLogin()){a&&a();this.updateProfile(d)}else B.location.href=require("url").SIGNUP}.bind(this)};this.updateProfile=function(a){Application.homeInfoController.updateLoginProfile(a);Application.profileController.loadInfo()};this.isLogin=function(){return b&&c};this.needSignUp=
function(){return d||!c};this.setLoggedIn=function(){c=b=true};this.setLoggedOff=function(){c=b=false}}));define("controller/BikeRouteSearchController",["map/Map","controller/RoadviewController","controller/WindowController","log/Tiara","const"],L(function(a,b,c,d,e){function f(a){var b=a.seq,c={index:1,sub:null};F.points.some(function(a,d){if(a.seq==b){c.index=d;return true}if(a.points)return a.points.some(function(a,e){if(a.seq==b){c.index=d;c.sub=e;return true}})});ua.setItemActive(c,true);T.setItemActive(c,
true)}function h(){T.setClickable(false)}function g(){T.setClickable(true)}function k(){var a=fc();wa.show();var b=Application.flagSearchController.getWaypoints();Cb.find(b,function(b){Application.aoiManager.clearAll();a.dispose();if(S!==b&&(!S||!b||!b.error)){S=b;ka=true;z&&c.updateHeight()}$.notify();var d=Application.flagSearchController.getWaypoints();b.error||Application.historyController.addRoute(Application.historyController.TYPE_LIST.BIKE,d);x.log("search_path_bike",d.map(function(a){return a.name+
"_"+a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0)+"_"+(a.pointType=="PLACE"?a.id:"")}),b.error?{cnt:0,mode:b.resultErrorCode}:{cnt:1,mode:""})},function(b){Application.aoiManager.clearAll();a.dispose();if(b.status===500){N.show();$.notify()}});var d=v.createBikeFromWaypoints(b);v.findRouteKey(d,function(a){if(a.text("status.code")===v.RESULT_CODE.SUCCESS)d.key=a.text("result");Y.updateFav(d)}.bind(this))}function l(a,b){var c=a.index,d=a.sub;if(d!=null){d=d+b;if(!F.points[c].points[d]){c=
c+b;d=null}}else c=c+b;F.points[c]instanceof Qc&&d==null&&(d=b>0?0:F.points[c].points.length-1);return F.points[c]==null?null:{index:c,sub:d}}function j(a){var b=a.sub,c=F.points[a.index];c instanceof Qc&&(c=c.points[b]);Application.map.setCenter(c.coords);var d={x:0,y:11},b=null;if(c.seq=="start"||c.seq=="goal"||c.seq=="through"){d={x:27,y:27};b=Application.infoWindowManager.createStartEndPointInfo(c,{x:20,y:21});b.onCloseBtn.add(function(){Application.infoWindowManager.closeWithoutNotify()})}else b=
Application.infoWindowManager.createBikePointInfo(c,d);b.onPrev.add(r,this);b.onNext.add(r,this);c=l(a,-1);a=l(a,1);b.setButtons(c,a)}function r(a){if(a){ua.setItemActive(a,true);ua.setHighlight(a,true);T.setItemActive(a,true);j(a)}}function p(){w();Application.infoWindowManager.close();if(S&&z){if(S.error){T.setData(null);var a=ma.getNoBikeResultByType(S.resultErrorCode);K.setTitle(a.text);K.setDesc(a.desc);K.setLink(a.link);K.setBikeFiyData(S);K.show()}else{G(true);ua.setData(S);o();s();ka&&C();
t(true);u(0,true);ua.initHover()}d.log(e.TIARA.routing_bike)}}function o(){var a=Application.flagSearchController.getWaypoints(),b=a[0].coords,c=a[a.length-1].coords;S.bikeRoutes.forEach(function(a){var d=[],e=Cb.getModeLineColor(a.routeMode),f=Cb.getModeOutLineColor(a.routeMode);a.sectionPoints.forEach(function(a){d=d.concat(a)});a=new daum.maps.Polyline({strokeWeight:10,strokeColor:f,strokeOpacity:0.9,additionalStyles:[{strokeWeight:"6",strokeOpacity:"1",strokeColor:e}],path:d});ja.push(a);a=d[d.length-
1];e=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:[b,d[0]]});Ba.push(e);a=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:[a,c]});X.push(a)})}function s(){S.bikeRoutes.forEach(function(a){var b=[],c="",d=[];a.sectionPoints.forEach(function(e,f){e.forEach(function(g,h){var j=a.sectionPointTypes[f][h],k=e.length-1==h;if(c!=""&&c!=j||k){d.push(g);b.push(new daum.maps.Polyline({strokeWeight:10,strokeColor:"#ffffff",strokeOpacity:1,
additionalStyles:[{strokeWeight:8,strokeOpacity:1,strokeColor:c=="BIKE"?"#EE63AE":"#3396ff"},{strokeStyle:"longdash",strokeWeight:1,strokeColor:"#ffffff",strokeOpacity:1}],path:d.splice(0)}))}d.push(g);c=j})});V.push(b)})}function t(b){if(b){ja.forEach(function(b){b.setMap(a)});Ba.forEach(function(b){b.setMap(a)});X.forEach(function(b){b.setMap(a)});ka&&C()}else{ja.forEach(function(a){a.setMap(null)});Ba.forEach(function(a){a.setMap(null)});X.forEach(function(a){a.setMap(null)});V.forEach(function(a){a.forEach(function(a){a.setMap(null)})})}}
function u(b,c){var d=ja[b],e=V[b],f=Ba[b],g=X[b];if(f&&g){f.setMap(null);g.setMap(null)}if(F){if(S.bikeRoutes.indexOf(F)!=b&&d)if(c){d.setMap(a);f.setMap(a);g.setMap(a)}else d.setMap(null)}else if(d&&e){if(c){d.setMap(null);e.forEach(function(b){b.setMap(a)})}else{d.setMap(a);e.forEach(function(a){a.setMap(null)})}f.setMap(a);g.setMap(a)}}function q(c){F=null;ua.initDetailedItem();T.setData(null);Ea.clear();G(true);F=S.bikeRoutes[c];ua.setDetailedItem(c);T.setData(F);var d=[];F.points.forEach(function(a){if(a instanceof
Qc){var b=[];a.points.forEach(function(a){b.push(a.coords)});d.push(b)}else d.push(a.coords)});F.sectionPoints.length<6&&F.sectionPoints.forEach(function(b,c){var e=new sc(c,a,b,d);e.onCoords.add(y);Ea.add(e)});K.hide();ka&&C();F&&F.hasRoadviewInfo?b.setRouteData("bike",F.raw):b.setRouteData("bike",null)}function w(){ua.setData(null);T.setData(null);K.hide();Ea.clear();G(false);b.setRouteData("bike",null);V.forEach(function(a){a.forEach(function(a){a.setMap(null)})});V.length=0;ja.forEach(function(a){a.setMap(null)});
ja.length=0;Ba.forEach(function(a){a.setMap(null)});Ba.length=0;X.forEach(function(a){a.setMap(null)});X.length=0}function y(a){E.notify(a)}function M(){b.setRouteData("bike",null);b.onCheckpoint.remove(function(a){z&&f(a)});z=false;O.hide();wa.hide();ua.setData(null);T.setData(null);K.hide();N.hide();Ea.clear();G(false);V.forEach(function(a){a.forEach(function(a){a.setMap(null)})});ja.forEach(function(a){a.setMap(null)});Ba.forEach(function(a){a.setMap(null)});X.forEach(function(a){a.setMap(null)})}
function A(c,d){var e=F.points[c].coords,f=pc.RADIUS[a.getLevel()],g=c===0||c===F.points.length-1,h=null;b.client_.getNearestPanoId(e,f,function(a){h=a===null||g?null:{panoId:a,coords:e};F.points[c].roadview=h;d&&d(h,F.points[c])}.bind(this))}function J(){jb("etc/print_car.jsp?type=bike",680,870)}function Q(a){if(a)Application.favoriteController.add(a,"bike_route_results");else if(a=Application.flagSearchController.getWaypoints()){var b=v.createWalkFromWaypoints(a);v.findRouteKey(b,function(a){if(a.text("status.code")===
v.RESULT_CODE.SUCCESS)b.key=a.text("result");Application.favoriteController.add(b,"bike_route_results")}.bind(this))}}function C(){Application.roadviewController.getActive()&&Application.roadviewController.close();F?Application.map.setBounds(F.bounds):Application.map.setBounds(S.bounds)}function G(a){a?Y.getPane().show():Y.getPane().hide();c.updateHeight()}if(!(this instanceof arguments.callee))return new arguments.callee(a);var O=jQuery("#info\\.bikeRoute"),F=null,S=null,ja=[],V=[],Ba=[],X=[],z=
false,D=this.onSearchBtnClick=new m,E=this.onAddStop=new m,$=this.onResult=new m,ka=true,ua=zf(O),T=sf(a),L=i.$("moreGroupview"),Y=this.toolbar_=xf();Y.onClick.add(function(a){switch(a.id){case "print":n.click("route","go_bike_print");J();break;case "favorite":n.click("favorite",["go_bike","route_results"]);Q(a.fav);break;case "alook":n.click("route","go_bike_once_view");C()}});Y.getPane().hide();zb.addChild(Y.getPane());var I=setInterval(function(){if(B.Application&&Application.favoriteController){Application.favoriteController.onChangeItem.add(function(){this.toolbar_.updateFav()}.bind(this));
clearInterval(I)}}.bind(this),500),wa=H("BikeRouteLegend");jQuery("#view\\.map").append(wa);ua.onItemHover.add(function(a){u(a.index,a.hover)});ua.onItemDetail.add(function(a){if(a.detail){t(false);q(a.index);Application.mainMapController.tool.onClickTool.remove(h);Application.mainMapController.tool.onComplete.remove(g);Application.mainMapController.tool.onClickTool.add(h);Application.mainMapController.tool.onComplete.add(g)}else{F=null;ua.initDetailedItem();T.setData(null);Ea.clear();t(true);u(a.index,
true);Application.mainMapController.tool.onClickTool.remove(h);Application.mainMapController.tool.onComplete.remove(g)}});ua.onBikePoint.add(function(c){b.close();a.getLevel()>3&&a.setLevel(3);A(c.index);c.sub!=null?a.setCenter(F.points[c.index].points[c.sub].coords):a.setCenter(F.points[c.index].coords);ua.setItemActive(c,true);T.setItemActive(c,true);j(c)});ua.onBikePointMouseover.add(function(a){T.setHighlight(a,true)});ua.onBikePointMouseout.add(function(a){T.setHighlight(a,false)});ua.onRoadview.add(function(a){A(a,
function(a,c){b.show(a);a&&x.logRoadview("route_bicycle_rv",a.panoId,c.coords,Application.localInfoController.getHCodeForLog())});n.click("route","go_bike_roadview")});ua.onBikePointDetail.add(function(b){a.setLevel(3);a.setCenter(F.points[b.index].points[0].coords);ua.setItemActive({index:b.index,sub:0},true);T.setItemActive({index:b.index,sub:0},true);j({index:b.index,sub:0})});ua.onSearchBtnClick.add(function(a){D.notify(a)});ua.onDestination.add(function(){a.setCenter(F.points.slice(-1)[0].coords);
Application.keywordSearchController.setActive(true);Application.keywordSearchController.findSurround();n.click("route","go_bike_nearplace");ka=false});T.onClick.add(function(a){L.hide();ua.setItemActive(a,true);ua.setHighlight(a,true);j(a)});T.onMouseover.add(function(a){ua.setHighlight(a,true);if(a.sub!=null){var a=ua.getItem(a.index),b=a.getGroupInfo();if(!b.detailActive){b=a.getGroupInfo();if(b.pos.top>97){L.setPosition(b.pos.left+260,b.pos.top-12);L.show()}}}});T.onMouseout.add(function(a){ua.setHighlight(a,
false);L.hide()});T.onClickWithZoomIn.add(function(b){ua.setItemActive({index:b.index,sub:0},true);T.setItemActive({index:b.index,sub:0},true);j({index:b.index,sub:0});a.setLevel(3);a.setCenter(F.points[b.index].points[0].coords)});this.find=function(){k()};var K=ma.createBike();K.onSearchBtnClick.add(function(a){D.notify(a)});K.hide().appendTo(O);var N=ma.showError();N.onSearchBtnClick.add(function(a){D.notify(a)});N.hide().appendTo(O);var Ea=new va(a);this.setActive=function(a){if(a){b.onCheckpoint.add(function(a){z&&
f(a)});z=true;O.show();wa.show();if(F){ua.show();a=S.bikeRoutes.indexOf(F);q(a)}else p()}else M();c.updateHeight();return this};this.clearRoute=function(){S=F=null;M()};this.getActive=function(){return z};this.getRoute=function(){return S};this.printRoute=function(){return F||S.bikeRoutes[0]};this.print=J;this.adjustMap=function(){C()};c.onHeightChange.add(function(){if(this.getActive()&&ua.goToTopBtn){var a=i.$("info.body").getElement();a.scrollHeight>a.clientHeight?ua.goToTopBtn.show():ua.goToTopBtn.hide()}},
this)}));Vb.prototype.activate=function(){this.view_.setActive(true);this.view_.clickSelf_();this.click_()};Vb.prototype.click_=function(){if(!this.busLine_&&!this.loading_){ba.findBusLine(this.id_,this.load_,this);this.loading_=true}else this.view_.setData(this.busLine_)};Vb.prototype.load_=function(a){this.busLine_=a;this.overlays_.add(new daum.maps.Polyline({strokeColor:"#ffffff",strokeOpacity:1,strokeWeight:12,additionalStyles:[{strokeWeight:"8",strokeOpacity:"1",strokeColor:"#3396ff"},{strokeStyle:"longdash",
strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:a.linePath_}));var b=new daum.maps.CoordsBounds;a.linePath_.forEach(b.extend,b);this.bounds_=b;this.view_.setData(this.busLine_);this.show()};Vb.prototype.show=function(){if(this.view_.getActive()&&this.bounds_){Application.roadviewController.close();Application.roadviewController.removeLastMarker();Application.map.setBounds(this.bounds_);this.overlays_.show()}};Vb.prototype.hide=function(){this.overlays_.hide();this.view_.setActive(false)};
Vb.prototype.getId=function(){return this.id_};Vb.prototype.setDetail=function(){};ib.displayFlag=!0;ib.prototype.setData=function(a,b){ib.displayFlag=true;this.busline=a;this.tiaraBusLayer_=b||false;ba.findBusLine(this.busline,this.load_,this)};ib.prototype.setDataWithLoad=function(a){this.busline=a.id;this.tiaraBusLayer_=ib.displayFlag=true;this.load_(a)};ib.prototype.setBusStop=function(a,b,c){this.view_.setSpot(a,b,c)};ib.prototype.update_=function(){ib.displayFlag&&ba.findBusLine(this.busline,
this.loadVehicles_,this);this.tiaraBusLayer_?n.click("businfo","bus_tooltip_update"):n.click("route","go_public_buslayer_update")};ib.prototype.changeActive_=function(){if(this.getActive()){this.view_.show();require("log/Tiara").log(require("const").TIARA.infowindow)}else{this.view_.hide();ib.displayFlag=false}};ib.prototype.closeLayer=function(){this.setActive(false);ib.displayFlag=false};ib.prototype.load_=function(a){this.data_=a;this.view_.setTiaraFlag(this.tiaraBusLayer_);this.view_.setData(a);
this.view_.idx=a.idx;this.setActive(true);this.view_.appendTo(jQuery("#view\\.map"));this.view_.highlightView_&&this.view_.highlightToBusStop();this.view_.scrollView_&&this.scrollToBusStop();B.Application&&Application.historyController.addBusLine(Application.historyController.TYPE_LIST.BUS_LINE,a)};ib.prototype.scrollToBusStop=function(){this.view_.scrollToBusStop()};ib.prototype.busLineItemViewClick_=function(a){Application.infoWindowManager.close();var b=a.order||0,c=a.idx||"1/1";R.find(a.id,function(a){Application.map.setLevel(3);
Application.map.panTo(a.coords);setTimeout(function(){Application.infoWindowManager.createBusStop(a,this.busline,b,null,c)}.bind(this),250)},this);this.tiaraBusLayer_?n.click("businfo","bus_tooltip_busstop"):n.click("route","go_public_buslayer_busstop")};ib.prototype.totalPath=function(){this.closeLayer();var a=Application.busSearchController;a.setActive(true);a.findByOne(this.data_.id);n.click("businfo","bus_tooltip_entire_route")};ib.prototype.loadVehicles_=function(a){this.view_.setVehicles(a.vehicles,
a.busStops,a.realtimeState)};define("controller/BusLineController",["view/BusLineView"],L(ib));da.prototype.regionList=[{id:"11",name:"\uc11c\uc6b8\ud2b9\ubcc4\uc2dc",label:"\uc11c\uc6b8",code:"seoul"},{id:"26",name:"\ubd80\uc0b0\uad11\uc5ed\uc2dc",label:"\ubd80\uc0b0",code:"pusan"},{id:"27",name:"\ub300\uad6c\uad11\uc5ed\uc2dc",label:"\ub300\uad6c",code:"daegu"},{id:"28",name:"\uc778\ucc9c\uad11\uc5ed\uc2dc",label:"\uc778\ucc9c",code:"incheon"},{id:"29",name:"\uad11\uc8fc\uad11\uc5ed\uc2dc",label:"\uad11\uc8fc",
code:"kwangju"},{id:"30",name:"\ub300\uc804\uad11\uc5ed\uc2dc",label:"\ub300\uc804",code:"daejeon"},{id:"31",name:"\uc6b8\uc0b0\uad11\uc5ed\uc2dc",label:"\uc6b8\uc0b0",code:"ulsan"},{id:"36",name:"\uc138\uc885\ud2b9\ubcc4\uc790\uce58\uc2dc",label:"\uc138\uc885",code:"sejong"},{id:"41",name:"\uacbd\uae30\ub3c4",label:"\uacbd\uae30",code:"kyonggi"},{id:"42",name:"\uac15\uc6d0\ub3c4",label:"\uac15\uc6d0",code:"kangwon"},{id:"43",name:"\ucda9\uccad\ubd81\ub3c4",label:"\ucda9\ubd81",code:"chungbook"},
{id:"44",name:"\ucda9\uccad\ub0a8\ub3c4",label:"\ucda9\ub0a8",code:"chungnam"},{id:"45",name:"\uc804\ub77c\ubd81\ub3c4",label:"\uc804\ubd81",code:"jeonbuk"},{id:"46",name:"\uc804\ub77c\ub0a8\ub3c4",label:"\uc804\ub0a8",code:"jeonnam"},{id:"47",name:"\uacbd\uc0c1\ubd81\ub3c4",label:"\uacbd\ubd81",code:"kyungbook"},{id:"48",name:"\uacbd\uc0c1\ub0a8\ub3c4",label:"\uacbd\ub0a8",code:"kyungnam"},{id:"50",name:"\uc81c\uc8fc\ub3c4",label:"\uc81c\uc8fc",code:"jeju"}];da.prototype.regionMap={};da.prototype.createMap_=
function(){this.regionList.forEach(function(a){this.regionMap[a.id]=a;a.subregion&&a.subregion.forEach(function(a){this.regionMap[a.id]=a},this)},this)};da.prototype.createElements_=function(){var a,b,c=document.getElementById("info.bus.region.subLocal.button"),d=document.getElementById("search.busLocal");this.regionList.forEach(function(e){a=document.createElement("li");a.id="search.busLocal."+e.code;a.innerHTML=e.label;d.appendChild(a);if(e.subregion){b=document.createElement("ul");b.id="search."+
e.code+"Local";b.className="BusSubLocal HIDDEN";c.appendChild(b);e.subregion.forEach(function(c){a=document.createElement("li");a.id="search.busLocal."+c.id;a.innerHTML=c.name;b.appendChild(a)})}})};da.prototype.result=[];da.prototype.inBounds_=!1;da.prototype.isInBounds=function(){return this.inBounds_};da.prototype.changeActive_=function(){if(this.getActive()){i.$("info.bus").setVisible(true);i.$("info.bus.searchBoxNumber").setVisible(true);this._viewLayout.setMapOnly();this.map_.setKeyboardShortcuts(true);
if(this.result_&&this.result_[0]){this.panel_.show();if(this.activeController_){this.activeItemView_.setActive(true);this.activeController_.show();this.landmarkMarkers_.show();Application.busLineController.setData(this.activeController_.getId(),true)}}else this.loadView_()}else if(this.activeController_){this.landmarkMarkers_.hide();this.activeController_.hide()}};da.prototype.changeTab_=function(a){if(!this.setUrlFlag_){this.reset();Application.infoWindowManager.close();a<3&&n.click("businfo",["bus_navi",
["busname","busstop","region"][a]])}};da.prototype.showBusLocalBox_=function(){var a=i.$("info.bus.region.local.button");if(a.hasClass("buslocal-ACTIVE"))fa.$("search.busLocal").hide();else{fa.$("search.busLocal").show();a.addClass("buslocal-ACTIVE");fa.$("search.busLocal").noCloseUIPanel(a)}};da.prototype.showBusSubLocalBox_=function(){var a=this.regionMap[this.busLocal.getValue()].code+"Local",b=i.$("info.bus.region.subLocal.button");if(jQuery(".BusSubLocal:not(.HIDDEN)").length===0){fa.$("search."+
a).show();b.addClass("busSublocal-ACTIVE");fa.$("search."+a).noCloseUIPanel(b)}else fa.$("search."+a).hide()};da.prototype.busTypeChanged_=function(a){this.busTab_.setIndex(a)};da.prototype.subLocalChanged_=function(a){this.scode=a.value;i.$("info.bus.region.subLocal").setText(a.text);for(var b in this.regionMap)if(this.regionMap[b].subregion){fa.$("search."+this.regionMap[b].code+"Local").hide();i.$("info.bus.region.subLocal").setClass("melt",true)}this.submitRegion_()};da.prototype.busLocalChanged_=
function(a){this.hcode=a.value;var b=this.regionMap[this.hcode];this.scode=a.subregionId||b.defaultSubregionId||0;if(b.subregion&&b.subregion.length>1){i.$("info.bus.region").addClass("subregion");fa.$("search.busLocal").addClass("INSUB");i.$("info.bus.region.subLocal").setClass("melt",true);if(!this.regionMap[this.scode])this.scode=b.subregion[0].id}else{i.$("info.bus.region").removeClass("subregion");fa.$("search.busLocal").removeClass("INSUB");if(!this.regionMap[this.scode]&&b.subregion)this.scode=
b.subregion[0].id;delete b.subregion}this.submitRegion_();i.$("info.bus.region.local").setText(a.text);i.$("info.bus.region.subLocal").setVisible(b.subregion).setText(this.scode===0?"\uc2dc/\uad70\uc744 \uc120\ud0dd\ud558\uc138\uc694":this.regionMap[this.scode].name);fa.$("search.busLocal").hide();i.$("info.bus.region.local").setClass("melt",true)};da.prototype.setPanel_=function(){this.panel_.show()};da.prototype.setRegionName=function(a){this.regionName_=a;this.setUrlFlag_=true};da.prototype.submit_=
function(){i.$("info.route.searchBox.number.name").removeClass("BUSSEARCH-ACTIVE");Application.busLineController.closeLayer();var a=this.setUrlFlag_?this.regionName_:null;this.setUrlFlag_=false;this.regionInfo_={};this.typeInfo_={};this.landmarkMarkers_.clear();if(this.guideSelected_)this.guideSelected_=false;else this.qaTypeForBusStop_=this.qaTypeForBusNumber_=null;this.inBounds_=false;var b=this.busTab_.getIndex();this.busNumber_=b==0?i.$("info.route.searchBox.number.name").getValue():i.$("info.route.searchBox.stop.name").getValue();
if(!this.busNumber_){b==0?alert("\ubc84\uc2a4\ubc88\ud638\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694!"):alert("\ubc84\uc2a4\uc815\ub958\uc7a5\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!");return false}var c=this.regionInfo_.id,d=this.typeInfo_.id;this.dssBusObj={pg:1,regionname:a,regionid:c,typeid:d,mkey:this.createMKey()};switch(b){case 0:this.mode_="number";this.preNumber_=i.$("info.route.searchBox.number.name").getValue();this.dssBusObj.qatype=this.qaTypeForBusNumber_;ba.findAll(this.busNumber_,
1,{regionName:a,regionId:c,typeId:d,qaType:this.qaTypeForBusNumber_},this.loadNumberData,this);n.click("businfo","num_search",{param1:this.busNumber_});break;case 1:this.mode_="stop";this.preStop_=i.$("info.route.searchBox.stop.name").getValue();this.dssBusObj.qatype=this.qaTypeForBusStop_;R.findAllByName(this.busNumber_,1,{regionName:a,regionId:c,typeId:d,qaType:this.qaTypeForBusStop_},this.loadStopData_,this);n.click("businfo","busstop_search",{param1:this.busNumber_});break;default:assert("Invalid mode: "+
this.mode_)}this.paginationView_.setPage(1);i.$("info.bus.searchBox.number.submit").focusAndSelect();i.$("info.bus.searchBox.stop.submit").focusAndSelect();Application.mainMapController.clearThemePoiControlView()};da.prototype.findName=function(a){this.setUrlFlag_=true;i.$("info.route.searchBox.number.name").setValue(a);this.busTypeChanged_(0);this.submit_()};da.prototype.findStop=function(a){this.setUrlFlag_=true;i.$("info.route.searchBox.stop.name").setValue(a);this.busTypeChanged_(1);this.submit_()};
da.prototype.findOneByCode=function(a){this.findBus_=this.favoriteBus_=a;this.mode_="number";this.inBounds_=false;ba.findBusLine(a,this.loadBusLineData_,this)};da.prototype.loadBusLineData_=function(a){i.$("info.bus.filter").removeAllChildren();this.busMessageView_.setVisible(false);var b;b=[];b.push(a);this.loadData_(b)};da.prototype.findByOne=function(a){this.busTypeChanged_(0);this.findBus_=a;require("server").busInfo(a,this.findByOne_.bind(this))};da.prototype.findByOne_=function(a){this.mode_=
"number";this.inBounds_=false;this.busNumber_=a.text("name");i.$("info.route.searchBox.number.name").setValue(this.busNumber_);ba.findOne(this.busNumber_,this.findBus_,this.loadNumberData,this);this.paginationView_.setPage(1)};da.prototype.submitRegion_=function(){n.click("businfo","region_search");this.landmarkMarkers_.clear();this.regionInfo_={};this.typeInfo_={};this.qaTypeForBusStop_=this.qaTypeForBusNumber_="";i.$("info.bus.list").removeAllChildren();this.paginationView_.getPanel().hide();var a=
this.regionMap[this.hcode].subregion?true:false;if(a&&!this.scode){alert("\uc9c0\uc5ed \uc120\ud0dd\uc744 \ud655\uc778\ud558\uc138\uc694");return false}var b=!a?this.hcode:this.scode,c=this.regionMap[this.hcode].name;a&&(c=c+(" "+this.regionMap[this.scode].name));i.$("info.bus.filter").removeAllChildren();this.busMessageView_.setData("",{guideType:"bus_tab_region",keyword:c});this.busMessageView_.setVisible(true);this.mode_="region";this.regionCode_=b;ba.findAllInRegion(b,1,this.loadData,this);this.paginationView_.setPage(1);
Application.mainMapController.clearThemePoiControlView();require("log/Tiara").log(require("const").TIARA.bus_busHcodeSearchResult)};da.prototype.setMessage=function(a,b,c){i.$("info.bus.title").setVisible(!(a.count===0&&a.regions.length===1&&a.types.length===1));this.loadBusMessage_(a);i.$("info.bus.count").removeAllChildren().addChild(new i("em","cnt",a.count||""));var d=i.$("info.bus.filter");d.removeAllChildren();var e=["BUS-REGION","BUS-TYPE"];if(a.types.length>2){var f=a.types.map(function(a){return a.name}),
f=Bd(f),h=this.typeInfo_.name?this.typeInfo_.name:a.types[0].name;f.setLabel(h);h=f.getPane();h.addClass("BusFilterSelectBoxView-"+e.pop());d.addChild(h);f.onSelect.add(function(d){this.typeInfo_=a.types[d];d=a.qaType;x.log("search_q_type",this.busNumber_,{typeid:"filter",tab:this.mode_=="number"?"busname_realbus":"busstop_realbus",regionid:this.regionInfo_.id,bustypeid:this.typeInfo_.id});this.mode_=="number"?this.qaTypeForBusNumber_=d:this.qaTypeForBusStop_=d;this.paginationView_.setPage(1);this.dssBusObj=
{pg:1,regionname:this.regionName_,regionid:this.regionInfo_.id,typeid:this.typeInfo_.id,qatype:d,mkey:this.createMKey()};b(this.busNumber_,1,{regionName:this.regionName_,regionId:this.regionInfo_.id,typeId:this.typeInfo_.id,qaType:d,mkey:this.createMKey()},c,this)},this)}if(a.regions.length>2){f=a.regions.map(function(a){return a.name});f=Bd(f);h=this.regionName_?this.regionName_:this.regionInfo_.name?this.regionInfo_.name:a.regions[0].name;f.setLabel(h);h=f.getPane();h.addClass("BusFilterSelectBoxView-"+
e.pop());d.addChild(h);f.onSelect.add(function(d){this.regionInfo_=a.regions[d];d=a.qaType;x.log("search_q_type",this.busNumber_,{typeid:"filter",tab:this.mode_=="number"?"busname_realbus":"busstop_realbus",regionid:this.regionInfo_.id,bustypeid:this.typeInfo_.id});this.mode_=="number"?this.qaTypeForBusNumber_=d:this.qaTypeForBusStop_=d;this.dssBusObj={pg:1,regionname:this.regionName_,regionid:this.regionInfo_.id,typeid:this.typeInfo_.id,qatype:d,mkey:this.createMKey()};this.paginationView_.setPage(1);
b(this.busNumber_,1,{regionName:this.regionName_,regionId:this.regionInfo_.id,typeId:this.typeInfo_.id,qaType:d,mkey:this.createMKey()},c,this)},this)}d.addChild(new i("span","bar_area"));this.paginationView_.setTotal(a.pageCount/15)};da.prototype.loadBusMessage_=function(a){this.busMessageView_.setVisible(true);this.busMessageView_.setData(a.originalKeyword,a.currentGuide,a.nextGuide)};da.prototype.loadNumberData=function(a){this.loadData_(a.buses);this.setMessage(a,ba.findAll,this.loadNumberData);
this.sendDssLog(this.dssSearchInType||"search_bus_number",this.busNumber_,{cnt:a.count||0});this.regionName_=this.dssSearchInType="";require("log/Tiara").log(require("const").TIARA.bus_number_result)};da.prototype.loadStopData_=function(a){this.loadData_(a.busStops);this.setMessage(a,R.findAllByName,this.loadStopData_);this.sendDssLog(this.dssSearchInType||"search_bus_station",this.busNumber_,{cnt:a.count||0});this.regionName_=this.dssSearchInType="";require("log/Tiara").log(require("const").TIARA.bus_stop_result)};
da.prototype.loadData_=function(a){this.result_=a;this.loadView_()};da.prototype.loadView_=function(){var a=this.result_;Application.roadviewController.close();Application.roadviewController.removeLastMarker();i.$("info.bus.search").show();i.$("info.bus.title").hide();var b=i.$("info.bus.list");if(this.activeController_){this.activeController_.hide();this.activeController_=null}if(a&&a[0]){this.setPanel_();this.noBusView_.hide();b.show();b.removeAllChildren();this.itemTotalLength=a.length;(this.items=
a.map(this.mode_==="stop"?this.createStopItemView_:this.createItemView_,this)).forEach(b.addChild,b);i.$("info.noBus").hide()}else if(a){b.hide();if(this.mode_=="number"){this.noBusView_.show();this.noBusNameView_.hide()}else if(this.mode_=="stop"){this.noBusView_.hide();this.noBusNameView_.show()}i.$("info.noBus").show()}else this.introView_.show();this.findBus_=null;this.paginationView_.setTotal(0)};da.prototype.loadData=function(a){this.hcode=this.hcode.toString();this.setPanel_(true);this.loadData_(a.buses);
this.paginationView_.setTotal(a.count/15);this.paginationView_.getPanel().show();x.log("search_bus_region",this.regionMap[this.hcode].name,{cnt:a.count||0})};da.prototype.reset=function(){if(this.activeController_){this.activeController_.hide();this.activeController_=null}i.$("info.bus.region.local").setClass("melt",false);i.$("info.bus.region.subLocal").setClass("melt",false);i.$("info.bus.region").removeClass("subregion");fa.$("search.busLocal").removeClass("INSUB");i.$("info.route.searchBox.number.name").setValue("");
i.$("info.route.searchBox.stop.name").setValue("");i.$("info.bus.region.local").setText("\uc9c0\uc5ed\uc744 \uc120\ud0dd\ud558\uc138\uc694");i.$("info.bus.region.subLocal").setText("\uc2dc/\uad70\uc744 \uc120\ud0dd\ud558\uc138\uc694").hide();jQuery("#info\\.bus\\.searchBox\\.number\\.submit, #info\\.bus\\.searchBox\\.stop\\.submit").removeClass("active");this.landmarkMarkers_.clear();this.preStop_=this.preNumber_=this.favoriteBus_=this.result_=null;this.regionInfo_={};this.typeInfo_={};this.qaTypeForBusStop_=
this.qaTypeForBusNumber_=null;this.guideSelected_=false;this.dssBusObj=null;this.dssSearchInType="";this.getActive()&&this.introView_.show()};da.prototype.findRegion=function(a){this.setUrlFlag_=true;var b={text:"\uc9c0\uc5ed\ubcc4",value:2};this.busTypeChanged_(2);if(this.regionMap[a.substring(0,2)]){this.hcode=a.substring(0,2);b.text=this.regionMap[this.hcode].label;b.value=this.hcode;this.busLocal.setText_(b.text);this.busLocal.setValue_(b.value);b.subregionId=a==this.hcode?this.regionMap[a].defaultSubregionId:
a;this.busLocalChanged_(b)}};da.prototype.openBusStop_=function(a){Application.infoWindowManager.close();var b=a.order||0;R.find(a.id,function(a){Application.map.setLevel(3);Application.map.panTo(a.coords);setTimeout(function(){Application.infoWindowManager.createBusStop(a,this.busLineId_.id,b)}.bind(this),250)}.bind(this))};da.prototype.setPage=function(a){var b=this.regionName_||null,c=this.regionInfo_.id||"",d=this.typeInfo_.id||"";this.dssBusObj={pg:a,regionname:b,regionid:c,typeid:d,mkey:this.createMKey()};
switch(this.mode_){case "number":this.dssSearchInType="search_bus_number_paging";this.dssBusObj.qatype=this.qaTypeForBusNumber_;ba.findAll(this.busNumber_,a,{regionName:b,regionId:c,typeId:d,qaType:this.qaTypeForBusNumber_},this.loadNumberData,this);break;case "bounds":ba.findInBounds(this.bounds_,a,this.loadInBounds_,this);break;case "region":ba.findAllInRegion(this.regionCode_,a,this.loadData,this);break;case "stop":this.dssSearchInType="search_bus_station_paging";this.dssBusObj.qatype=this.qaTypeForBusStop_;
R.findAllByName(this.busNumber_,a,{regionName:b,regionId:c,typeId:d,qaType:this.qaTypeForBusStop_},this.loadStopData_,this);break;default:assert(false)}i.$("info.body").scrollTo(0)};da.prototype.createItemView_=function(a,b,c){var d=new le(this.buttonFactory_);d.setData(a);var e=new Vb(a.id,d);d.onClick.add(function(){Application.busLineController.setActive(false);this.landmarkMarkers_.clear();this.createLandmark_(a.landmarks);this.busLineId_=a;var c=this.activeController_;if(c!=e){c&&c.hide();this.activeController_=
e;this.activeItemView_=d;e.show();Application.busLineController.setData(a.id,true);this.landmarkMarkers_.show();Application.historyController.addBusLine(Application.historyController.TYPE_LIST.BUS_LINE,a);n.click("businfo","bus_number");if(this.mode_==="number")this.sendDssLog("search_bus_number_click",this.busNumber_,{name:this.busLineId_.name,addr:this.busLineId_.region,cpg:","+this.itemTotalLength+","+(b+1)});else if(this.mode_==="region"){c=this.regionMap[this.hcode].name;c=c+(this.regionMap[this.hcode].subregion?
" "+this.regionMap[this.scode].name:"");x.log("search_bus_region_click",c,{name:this.busLineId_.name,addr:this.busLineId_.region,cpg:","+this.itemTotalLength+","+(b+1)})}}else Application.busLineController.setData(a.id,true)},this);if(this.findBus_===a.id||c.length==1){e.activate();this.busLineId_=a;this.activeController_=activeController=e;this.activeItemView_=d;Application.busLineController.setData(a.id,true);Application.historyController.addBusLine(Application.historyController.TYPE_LIST.BUS_LINE,
a)}return d.getPane()};da.prototype.createStopItemView_=function(a,b){var c=new me(this.buttonFactory_,true);c.setData(a);c.onClick.add(function(){R.find(a.id,function(a){Application.map.setCenter(a.coords);Application.map.setLevel(3);Application.infoWindowManager.createBusStop(a)});n.click("businfo","busstop");this.sendDssLog("search_bus_station_click",this.busNumber_,{name:a.name,addr:a.region,cpg:","+this.itemTotalLength+","+(b+1)})},this);c.onFlagClick.add(function(b){this.onFlagClick.notify({type:b,
item:a})},this);return c.getPane()};da.prototype.createLandmark_=function(a){a&&a.forEach(function(a){this.landmarkMarkers_.add(D.createLandmark(a.coords));var c=new Bc;c.setData("BUSLANDMARK",a.coords,'<span class="name">'+a.name+"</span>");this.landmarkMarkers_.add(c)},this)};da.prototype.getBusNumberKeyword=function(){return i.$("info.route.searchBox.number.name").getValue()};da.prototype.getBusStopKeyword=function(){return i.$("info.route.searchBox.stop.name").getValue()};da.prototype.getMode=
function(){return this.mode_};da.prototype.getFavoriteBus=function(){return this.favoriteBus_};da.prototype.getRegionCode=function(){return this.regionCode_};da.prototype.getRegionName=function(){return this.regionName_};da.onSuggestParseItem=function(a){var b=a[0];switch(a[0]){case "BI":b=a[1];a=String.format('%s <span style="color:#ddd">|</span> <span style="color:#aaa">%s</span>',a[1],a[2]);break;case "BN":b=a[2];default:a=String.format("%h",b)}return[a,b]};da.prototype.sendDssLog=function(a,b,
c){c=jQuery.extend({},this.dssBusObj,c||{});c.regionname=c.regionname||"";c.regionid=c.regionid||"";c.bustypeid=c.typeid||"";c.qatype=c.qatype||"";if(c.cpg)c.cpg=c.pg+c.cpg;x.log(a,b,c)};da.prototype.createMKey=function(){return+new Date+"_"+Math.ceil(Math.random()*32767)};define("controller/BusSearchController","map/Map manager/ViewLayout factory/ButtonFactory manager/MapSuggest options controller/HistoryController".split(" "),L(da));ea.prototype.stopMousedownPropagation=function(a){a.stopPropagation()};
ea.prototype.hasErrorWhileInit=function(){if(!this.viewer_()||!mvp.supportWebGL()){n.click("roadview",["fail","crash"]);alert("\uc77c\uc2dc\uc801\uc73c\ub85c \ub85c\ub4dc\ubdf0\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\ube0c\ub77c\uc6b0\uc800 \uc0c8\ub85c\uace0\uce68 \ud6c4 \uc7ac\uc2dc\uc791\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");return true}return false};ea.prototype.getNearestPanoId=function(a,b,c){if(!this.hasErrorWhileInit()){this.runRender||this.startRoadviewRender();this.viewer_().getNearestPanoId(a.getX(),
a.getY(),b,function(a,b,f){b=this.xyToCoords({x:b,y:f});c(a,b)}.bind(this))}};ea.prototype.startRoadviewRender=function(){if(!this.runRender){this.runRender=true;this.rafId=requestAnimationFrame(this.frame_)}};ea.prototype.stopRoadviewRender=function(){this.runRender=false;cancelAnimationFrame(this.rafId)};ea.prototype.frame_=function(a){mvp.render(this.viewer_(),a);if(this.runRender)this.rafId=requestAnimationFrame(this.frame_)};ea.prototype.xyToCoords=function(a){return new daum.maps.Coords(a.x,
a.y)};ea.prototype.addEventForLog=function(a){a.on("spot_moved",function(){n.click("roadview",["control","move","arrow"])});a.on("keyboard_moved",function(){n.click("roadview",["control","move","keyboard"])});a.on("keyboard_moved_continue",function(){n.click("roadview",["control","move","keyboard_continue"])});a.on("keyboard_moved_continue",function(){n.click("roadview",["control","move","keyboard_continue"])});a.on("back_moved",function(){n.click("roadview",["control","move","goback"])});a.on("smart_moved",
function(){n.click("roadview",["control","smart_move","shot_road"])});a.on("smart_moved_far",function(){n.click("roadview",["control","samrt_move","long_road"])});a.on("smart_moved_far_wall",function(){n.click("roadview",["control","smart_move","long_wall"])});a.on("quality_type",function(a,c){var d=c.type,e="";d=="LOW"?e="normal":d=="HIGH"&&(e="high");n.click("roadview",["option","preview_quality",e])})};ea.prototype.createRoadview_=function(){var a=null;try{a=new mvp.Panorama("view.roadview",{pan:0,
tilt:0,zoom:0});a.on("init",function(){this.roadviewMarkerPool=new Sc(a);this.roadviewHeaderView=new Df(a);this.storeviewHeaderView=new Hf(a);this.diffHeaderView=new Cf(a);this.storeviewHeaderView.onNearRoadview.add(function(a){this.close();this.setViewpointWithMarker(a)},this);this.storeviewHeaderView.onClose.add(this.close,this);this.roadviewHeaderView.onClose.add(this.close,this);this.diffHeaderView.onBackToRoadview.add(this.closeDiffView,this);this.diffHeaderView.onChangePast.add(this.roadviewHeaderView.updatePastThumb,
this.roadviewHeaderView);this._windowController.onHeightChange.add(this.roadviewHeaderView.updatePastViewVisibility,this.roadviewHeaderView);this._frameDecorator.onResize.add(this.roadviewHeaderView.updatePastViewVisibility,this.roadviewHeaderView);this.roadviewHeaderView.onDiffView.add(this.openDiffView,this);for(var b=null;b=this.initTask.pop();)b.call(this)}.bind(this));this.addEventForLog(a);a.on("panoid_move",function(){if(require("util/KakaoAgent").isBrowserIE){var a=this.xyToCoords(this.viewer_().getPosition());
this.walker_.setPosition(a);this.map_.setCenter(a)}}.bind(this));a.on("panoid_left",function(){this.roadviewMarkerPool.collectAll();this.tooltipBoard=this.selectedBuildingBoard=this.selectedBuildingMarker=this.selectedBuildingInfo=null}.bind(this));a.on("context_lost",function(){n.click("roadview",["fail","ctx_lost"])});a.on("capture",function(){n.click(this.viewer_().getPanoramaData().type.toLowerCase(),["control","function","capture"])}.bind(this));a.on("motion_type",function(a,b){n.click("roadview",
["option","motion_type",b.type===0?"on":"off"])});a.on("viewpoint_changed",this.panChanged_.bind(this));a.on("panoid_changed",this.onChangePanoId.bind(this));a.on("building_detected",this.onDetectBuilding.bind(this));a.on("panoid_empty",this.onPanoIdEmpty.bind(this))}catch(b){a=null}finally{return a}};ea.prototype.closeDiffView=function(){this.roadviewHeaderView.show();this._viewLayout.restoreFromDiffView();this.roadviewHeaderView.relayoutPastThumbView();this.map_.relayout()};ea.prototype.openDiffView=
function(a){if(this.diffHeaderView.show(a)){this.roadviewMarkerPool.collectAll();this.tooltipBoard=this.selectedBuildingBoard=this.selectedBuildingMarker=this.selectedBuildingInfo=null;this.roadviewHeaderView.hide();this._viewLayout.setDiffView()}};ea.prototype.onPanoIdEmpty=function(a){alert("\ub85c\ub4dc\ubdf0\uac00 \uc81c\uacf5\ub418\uc9c0 \uc54a\ub294 \uacf3\uc785\ub2c8\ub2e4.");this.close();console.log(a)};ea.prototype.viewer_=function(){return this.normalRoadview_};ea.prototype.active_=!1;ea.prototype.getActive=
function(){return this.active_};ea.RADIUS=[30,40,50,70,100,150,250,350,450,900,1800,3600,7200,14400,28800];ea.prototype.drawStoreMarker=function(){for(var a=this.viewer_().getPanoramaData().spots,b=[],c=a.length,d=0;d<c;d++)(a[d].heightStep<3||a[d].spotType==="warp")&&b.push(a[d]);b.forEach(function(a){var b=a.heightStep*180,c=0,c=null;if(a.spotType==="warp"){c=this.roadviewMarkerPool.getImageMarker("greyStair",{x:a.position.x,y:a.position.y,z:a.position.z},{x:0,y:b-20});c.on("click",function(){this.viewer_().setStoreId(a.storeId,
a.storePanoId,false,false);n.click("storeview",["control","move","warp"])}.bind(this));c.on("mouseover",function(b){b.setSource(this.roadviewMarkerPool.getSource("stair"));d.setSource(this.roadviewMarkerPool.getSource(a.label+"_hover"))}.bind(this));c.on("mouseout",function(b){b.setSource(this.roadviewMarkerPool.getSource("greyStair"));d.setSource(this.roadviewMarkerPool.getSource(a.label))}.bind(this));c=80}else{c=this.roadviewMarkerPool.getImageMarker("storeGreyPin",{x:a.position.x,y:a.position.y,
z:a.position.z},{x:10,y:b});c.on("mouseover",function(b){b.setSource(this.roadviewMarkerPool.getSource("storePin"));d.setSource(this.roadviewMarkerPool.getSource(a.label+"_hover"))}.bind(this));c.on("mouseout",function(b){b.setSource(this.roadviewMarkerPool.getSource("storeGreyPin"));d.setSource(this.roadviewMarkerPool.getSource(a.label))}.bind(this));c.on("click",function(){n.click("storeview",["control","move","node"]);this.viewer_().setStoreId(a.storeId,a.storePanoId,true,false)}.bind(this));c=
115}var d=this.roadviewMarkerPool.getTextMarker({text:a.label},{x:a.position.x,y:a.position.y,z:a.position.z},{x:0,y:b+c})},this)};ea.prototype.onDetectBuilding=function(){var a=this.viewer_().getBuildingInfo();if(!(a===null||a.kid===""||this.selectedBuildingInfo&&this.selectedBuildingInfo.kid===a.kid&&this.selectedBuildingMarker)){this.roadviewMarkerPool.collect(this.selectedBuildingMarker);this.roadviewMarkerPool.collect(this.selectedBuildingBoard);this.selectedBuildingInfo=jQuery.extend(true,{},
a);a=this.viewer_().getProjection().unproject(this.selectedBuildingInfo.point);this.selectedBuildingMarker=this.roadviewMarkerPool.getImageMarker("building",{x:a.x,y:a.y,z:a.z});this.selectedBuildingMarker.on("click",function(a){require("server").roadviewBuildingInfo({kid:this.selectedBuildingInfo.kid,SERVICE:"pc_map_web"},function(c){n.click("roadview",["building_info","tooltip","open"]);this.roadviewMarkerPool.collect(this.selectedBuildingBoard);this.roadviewMarkerPool.collect(this.tooltipBoard);
var d=a.getPosition(),e=c.object("buildingmap");this.tooltipBoard=null;this.selectedBuildingBoard=this.roadviewMarkerPool.getBillboard();c=new Qe(this.viewer_(),this.selectedBuildingBoard,e);c.onClose.add(function(){this.roadviewMarkerPool.collect(this.selectedBuildingBoard)},this);c.onFindWay.add(function(c){var d=e.text("bdname").trim(),d=d?d:e.text("newaddr"),g=a.getPosition();this.onWaypoint.notify({type:c,coords:new daum.maps.Coords(g.x,g.y),name:d});this.close();Application.windowController.getCollapse()&&
Application.windowController.setCollapse(false)},this);this.selectedBuildingBoard.setContent(c.pane.getElement());this.selectedBuildingBoard.setPosition({x:d.x,y:d.y,z:d.z});this.selectedBuildingBoard.setMargin({top:0,left:-30})}.bind(this))}.bind(this))}};ea.prototype.onChangePanoId=function(){if(this.active_){document.body.className=document.body.className+" ";var a=this.viewer_().getPanoramaData(),b=this.xyToCoords(this.viewer_().getPosition());this.walker_.setPosition(b);this.map_.setCenter(b);
if(a.type==="STOREVIEW"){this.drawStoreMarker();this.storeName_=this.viewer_().getPanoramaData().place}else for(a=null;a=this.panoChangeTasks.pop();)a();this.moved_()}};ea.prototype.showNearby=function(a,b){if(!this.hasErrorWhileInit()){this.walker_.setPosition(a);this.walker_.getState()&&this.walker_.release();this.client_.getNearestPanoId(a,b||ea.RADIUS[this.map_.getLevel()]||ea.RADIUS[0],this.jump_.bind(this,a));this.lastMarkerVisibleState_=3}};ea.prototype.onESCClose=function(a){a.keyCode===27&&
(this.diffHeaderView&&this.diffHeaderView.isActive()?this.diffHeaderView.closeDiffView():this.close())};ea.prototype.openRoadview_=function(a){if(!mvp.supportGPUAcceleration()&&!this.isShowSWRenderAlert)if(confirm("\ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc18c\ud504\ud2b8\uc6e8\uc5b4 \ub80c\ub354\ub9c1 \ubaa8\ub4dc\ub97c \uc0ac\uc6a9 \uc911\uc785\ub2c8\ub2e4.\n\ub85c\ub4dc\ubdf0\ub294 \ud558\ub4dc\uc6e8\uc5b4 \uac00\uc18d \ubaa8\ub4dc\ub97c \uc0ac\uc6a9 \uc2dc \ub354 \ub098\uc740 \uc131\ub2a5\uc744 \uacbd\ud5d8\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")){this.isShowSWRenderAlert=
true;jQuery.cookie(this.SW_RENDER_ALERT_KEY,this.isShowSWRenderAlert,{expires:7300});n.click("roadview",["fail","browser_setup","y"])}else n.click("roadview",["fail","browser_setup","n"]);this.profileView.hide();this.miniZoomControl.syncZoomBtnStatus();Application.infoWindowManager.close();i.$("view").addClass("View-ACTIVE");if(this.active_){this.isStoreView_=false;this._doRoadviewLayout()}else{jQuery("body").on("keyup",this.onESCClose);this.mapView.on("mousedown",this.stopMousedownPropagation);this.lastRoadviewTileFlag=
this.mapTileManager.get("roadview");if(!this.utilMenu){this.utilMenu=new Ff(this.viewer_());this.roadviewHeaderView.onShow.add(this.utilMenu.setRoadviewMenu,this.utilMenu);this.diffHeaderView.onShow.add(this.utilMenu.setDiffViewMenu,this.utilMenu);this.storeviewHeaderView.onShow.add(this.utilMenu.setStoreviewMenu,this.utilMenu)}this.active_=true;this.startRoadviewRender();if(a){this.lastCenter_=this.map_.getCenter();this.lastLevel_=this.map_.getLevel()}this._lastMarker.set(null);this.isStoreView_||
Application.mainMapController.setRoadviewLineActive(true);this.panel_.removeClass("roadview-HIDDEN");this.panel_.show();this._doRoadviewLayout();this._windowController.setRoadviewWindow();Application.busLineController.closeLayer();this.onShow.notify();this.escapeZoomLevel=this.map_.getLevel();this.map_.setLevel(3);this.viewer_().relayout();require("log/Tiara").log(require("const").TIARA.roadview_showViewer);this.walker_.walkerTracker.run()}var b=Application.carRouteSearchController.route_;Application.carRouteSearchController.getActive()&&
b&&this.panoChangeTasks.push(function(){var a={list:[b.raw],resultSummaryCode:"ROUTE_RESULT_SUCCESS"};this.viewer_().addRoute(a)}.bind(this))};ea.prototype._doRoadviewLayout=function(){if(this.isStoreView_){this._viewLayout.setRoadviewOnly();this.storeviewHeaderView&&this.storeviewHeaderView.show()}else{this._viewLayout.setRoadviewWithMiniMap();this.roadviewHeaderView&&this.roadviewHeaderView.show()}this.map_.setKeyboardShortcuts(false);this.walker_.setFloat(false)};ea.prototype.panChanged_=function(){this.getActive()&&
this.walker_.setPan(this.viewer_().getViewpoint().pan)};ea.prototype.isActivated=function(){return this.panel_.getVisible()};ea.prototype.closeRoadview_=function(){if(this.active_){jQuery("body").off("keyup",this.onESCClose);this.mapView.off("mousedown",this.stopMousedownPropagation);this.diffHeaderView.hide();this.utilMenu.exitFullScreen();this.roadviewHeaderView.hide();this.roadviewHeaderView.hidePastView();this.storeviewHeaderView.hide();this.mapTileManager.set("roadview",this.lastRoadviewTileFlag);
this.viewer_().removeRoute();this.roadviewMarkerPool.collectAll();this.tooltipBoard=this.selectedBuildingBoard=this.selectedBuildingMarker=this.selectedBuildingInfo=null;var a=this.walker_.getPosition();this._viewLayout.setMapOnly();this.map_.setKeyboardShortcuts(true);this.searchBarEl.removeClass("HIDDEN");i.$("localInfo").show();this.walker_.setFloat(true);Application.mainMapController.setRoadviewLineActive(false);this.onCloseRoadview.notify();this.success=this.active_=false;this.stopTimer_=null;
if(this.viewer_().getPanoramaData()!==null)if(this.viewer_().getPanoramaData().type==="STOREVIEW"){var b=null;this.lastData_=this.viewer_().getPanoramaData();a=b=this.xyToCoords(this.lastData_.originPosition)}else if(!Application.mainMapController.isRoadviewActive()&&this.lastMarkerVisibleState_==3){this.lastData_=this.viewer_().getPanoramaData();a=b=this.xyToCoords(this.viewer_().getPosition());this._lastMarker.set(b);this._lastMarker.setTitle(this.isStoreView_?"\uc774\uc804 \uc2a4\ud1a0\uc5b4\ubdf0 \uc9c0\uc810":
"\uc774\uc804 \ub85c\ub4dc\ubdf0 \uc9c0\uc810");this.walker_.setPosition(b)}this.lastMarkerVisibleState_=0;this.map_.setLevel(this.escapeZoomLevel);this.walker_.walkerTracker.stop();Application.windowController.updateHeight();if(this.lastCenter_){this.map_.setCenter(this.lastCenter_);this.map_.setLevel(this.lastLevel_);this.lastCenter_=null}else this.map_.setCenter(a);this.stopRoadviewRender();this.viewer_().release()}};ea.prototype.jump_=function(a,b){if(!this.hasErrorWhileInit()){this.showStartLog_&&
x.logRoadview("start_roadview",b||0,a,Application.localInfoController.getHCodeForLog());this.showStartLog_=false;if(b){var c=function(){this.openRoadview_();this.viewer_().setPanoId(b)};this.viewer_().isEngineInit()?c.call(this):this.initTask.push(c)}else if(this.getActive())this.walker_.setPosition(this.xyToCoords(this.viewer_().getPosition()));else if(this.walker_.getVisible()){this.walker_.setFloat(true);this.map_.panTo(a)}}};ea.prototype.moved_=function(){switch(this.lastMarkerVisibleState_){case 2:this.lastMarkerVisibleState_=
3;break;case 0:this.lastMarkerVisibleState_=this.isStoreView_?1:2;break;case 1:if(this.active_)this.lastMarkerVisibleState_=2}if(this.getActive()){var a=this.xyToCoords(this.viewer_().getPosition());this.map_.setCenter(a);this.walker_.setFloat(false);this.walker_.setPosition(a)}};ea.prototype.showWithRoute=function(a){this.show(a)};ea.prototype.show=function(a,b){if(a){if(!this.hasErrorWhileInit()){var c=function(){this.nodeClickLog=false;this.openRoadview_();b&&this._viewLayout.setRoadviewOnly();
this.viewer_().setPanoId(a.panoId);var c=null,c=a.coords instanceof daum.maps.Coords?a.coords:this.xyToCoords(a.position);if(a.tilt||a.zoom||a.pan){var e=this.viewer_().getViewpoint();e.tilt=a.tilt||e.tilt;e.zoom=a.zoom||e.zoom;e.pan=a.pan||e.pan;this.viewer_().setViewpoint(e)}this.walker_.release();this.walker_.show();this.walker_.setFloat(false);this.walker_.setPosition(c);this.map_.setCenter(c)};this.viewer_().isEngineInit()?c.call(this):this.initTask.push(c)}}else alert("\ub85c\ub4dc\ubdf0\uac00 \uc81c\uacf5\ub418\uc9c0 \uc54a\ub294 \uacf3\uc785\ub2c8\ub2e4.")};
ea.prototype.close=function(){this.panoChangeTasks=[];this.closeRoadview_();this.isStoreView_=false};ea.prototype.removeLastMarker=function(){this._lastMarker&&this._lastMarker.set(null)};ea.prototype.copy=function(){this.copyOpen_()};ea.prototype.setUrl=function(a){if(this.viewer_().getPanoramaData().type==="STOREVIEW"){var b=this.viewer_().getStoreId(),c=this.viewer_().getStorePanoId();a.store=b+"_"+c}else a.panoid=this.viewer_().getPanoId();b=this.viewer_().getViewpoint();a.pan=b.pan.toFixed(1);
a.tilt=b.tilt.toFixed(1);a.zoom=b.zoom};ea.prototype.setWalkerVisible=function(a,b,c){c||Application.infoWindowManager.close();a?b?this.walker_.hold():this.walker_.show():this.walker_.hide();this.walker_.setFloat(true)};ea.prototype.showTooltip=function(){var a=i.$("roadviewInfoBox.tool.info");if(this.viewer_().getTooltip()){a.removeClass("infoActive");a.addClass("info");this.viewer_().setTooltip(false)}else{a.removeClass("info");a.addClass("infoActive");this.viewer_().setTooltip(true)}n.click("roadview",
"viewer_poi_onoff")};ea.prototype.updateFavorites=function(){this.viewer_()&&this.viewer_().send("refreshBookmark")};ea.prototype.setViewpointWithMarker=function(a,b,c){if(!this.hasErrorWhileInit()){b=function(){var b=a.ad,e=a.index,f=a.roadview,h=f.pan,g=f.tilt,k=f.zoom;this.openRoadview_(c);this.lastMarkerVisibleState_=this.viewer_().getPanoId()==f.panoId?2:0;var l=f.coords;this.viewer_().setPanoId(f.panoId||0,l.getX(),l.getY(),false);this.viewer_().setViewpoint({pan:h,tilt:g,zoom:k});this.panoChangeTasks.push(function(){var c=
new Re(a);this.tooltipBoard=this.roadviewMarkerPool.getBillboard({content:c.pane.getElement(),pos:{x:a.coords.getX(),y:a.coords.getY(),z:0},margin:{left:0,top:-60},evt:{attached:function(){c.alignCenter()}}});c.onClose.add(function(){this.roadviewMarkerPool.collect(this.tooltipBoard);this.tooltipBoard=null},this);c.onFindWay.add(function(a){this._windowController.setCollapse(false);this.onWaypoint.notify({type:"dest",coords:a.coords,name:a.name});this.close()},this);c.onStoreview.add(function(a){this.showStoreView(a.storeview)},
this);var f="pin";e!==void 0&&(f=b?e-1+"":String.fromCharCode(65+e-1));this.viewer_().getPosition();this.roadviewMarkerPool.getImageMarker(f,{x:a.coords.getX(),y:a.coords.getY(),z:0}).on("click",function(){if(this.tooltipBoard&&this.tooltipBoard.isAttached()){this.roadviewMarkerPool.collect(this.tooltipBoard);this.tooltipBoard=null}else{this.tooltipBoard=this.roadviewMarkerPool.getBillboard();this.tooltipBoard.setContent(c.pane.getElement());this.tooltipBoard.setPosition({x:a.coords.getX(),y:a.coords.getY(),
z:0});this.tooltipBoard.setMargin({left:0,top:-60})}}.bind(this))}.bind(this));this.walker_.show();this.walker_.setFloat(false);this.walker_.setPosition(l);this.walker_.setPan(h);l.getX()!=0&&l.getY()&&l&&this.map_.setCenter(l)};this.viewer_().isEngineInit()?b.call(this):this.initTask.push(b)}};ea.prototype.changePan_=function(){var a=this.viewer_().getViewpoint();a.pan=this.walker_.getPan();this.viewer_().setViewpoint(a)};ea.prototype.tiara_=function(a,b){switch(a){case "i_flash_player_version":a=
a+b.replace(/\s+/g,"").replace(/,/g,"_");break;case "i_smartJump_FPHS":a=a.replace("FPHS",b)}n.click("roadview",a)};ea.prototype.setRouteData=function(a,b){if(b||!(this.routingData_&&this.routingData_.type!=a)){var c=b?{timestamp:Date.now(),type:a,data:b}:null;this.routingData_=c;if(this.viewer_()&&this.viewer_().getBridge)this.viewer_().getBridge().getFindwayData=function(){return c};this.routing_=!!b}};ea.prototype.checkpoint_=function(a){if(this.nodeClickLog){var b=this.xyToCoords(this.viewer_().getPosition()),
c=this.viewer_().getPanoId();x.logRoadview("node_click_rv",c,b,Application.localInfoController.getHCodeForLog(),{route_type:this.routingData_.type})}this.nodeClickLog=true;this.onCheckpoint.notify(a)};ea.prototype.showStoreView=function(a,b,c,d,e){if(!this.hasErrorWhileInit()){var f=function(){this.isStoreView_=true;this.openRoadview_(d);this._viewLayout.setRoadviewOnly();this.viewer_().setStoreId(a,b||0);c&&this.viewer_().setViewpoint(c);this.lastMarkerVisibleState_=e?3:0;this.map_.setLevel(3)};
this.viewer_().isEngineInit()?f.call(this):this.initTask.push(f)}};ea.prototype.getLastLevel=function(){return this.lastLevel_};ea.prototype.restore_=function(){var a=this.lastData_;if(a.type==="STOREVIEW")this.showStoreView(a.storeId,a.storePanoId,{pan:a.pan,tilt:a.tilt,zoom:0});else{this.lastMarkerVisibleState_=2;this.show(a)}};ea.prototype.showByDblClick=function(a){this.showStartLog_=this.dbClickActive_=true;this.showNearby(a)};ea.prototype.setDbClickActive=function(a){this.dbClickActive_=a};
ea.prototype.getDbClickActive=function(){return this.dbClickActive_};ea.args="map/Map manager/ViewLayout view/FrameDecorator map/LastRoadviewMarker params controller/WindowController controller/FiyFrameController controller/AuthController controller/ShareController map/MapTileManager map/MiniZoomControl view/LayerProfileView".split(" ");Id.args=["controller/WindowController"];ia.prototype.find=function(){if(!this.mode_)this.mode_=W.REALTIME;if(!this.option_)this.option_=W.OPTION_NONE;this.find_()};
ia.prototype.getRoute=function(){return this.routeset_};ia.prototype.clearRoute=function(){this.routeset_=this.route_=null;this.hideRoute_()};ia.prototype.clearDetailRoute=function(){this.route_=null;this.panel_.initDetailedItem();this.hideDetailRoute_()};ia.prototype.hideRoute_=function(){this.hideDetailRoute_();this.routePoiControlView.hide();this.panel_&&this.panel_.hide();this.noResultView_&&this.noResultView_.hide();this.errorView_&&this.errorView_.hide()};ia.prototype.hideDetailRoute_=function(){this.infoWindowManager_.close();
this.accidentMarkers_.hide();this.cctvMarkers_.hide();this.gasStationMarkers_.hide();this.restAreaMarkers_.hide();this.themePoiControlView_.setRouteControlView(false);this.controlView_.getTraffic()&&!this.mapTypeControl_.isTrafficActive()&&this.layerLegend_.setLegend("traffic",false);this.checkpoints_.hide();this.overlays_.hide();this.trafficLines_.hide();this.noticeLine_.hide();this.wholeLine_&&this.wholeLine_.setMap(null);this.panel_&&this.panel_.initDetailedItem();this.roadviewController_.setRouteData("car",
null);this.setToolBarVisible(false);this.setExtraCopyright(false);this.previewLines.forEach(function(a){a.setMap(null)});this.previewHoverLines.forEach(function(a){a.setMap(null)});this.previewStartLines.forEach(function(a){a.setMap(null)});this.previewEndLines.forEach(function(a){a.setMap(null)})};ia.prototype.find_=function(a){this.route_=null;var b=Application.flagSearchController.getWaypoints();b?W.find(b,this.mode_,this.option_,function(b){Application.aoiManager.clearAll();var d=Application.flagSearchController.getWaypoints();
if(!b&&(this.option_==W.OPTION_FREEWAY||this.option_==W.OPTION_BIKE)){this.routeset_&&this.routeset_.option?this.panel_.setOptionPanel(this.routeset_.method,this.routeset_.option):this.panel_.setOptionPanel(W.REALTIME,W.OPTION_NONE);alert("\uc120\ud0dd\ud55c \uc635\uc158\uc5d0 \ud574\ub2f9\ud558\ub294 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")}else{b.resultCode==""&&Application.historyController.addRoute(Application.historyController.TYPE_LIST.CAR,d);this.routeset_=b;this.dirty_=true;a?this.load_():
this.onResult.notify();d=Application.flagSearchController.getWaypoints();x.log("search_path_car",d.map(function(a){return a.name+"_"+a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0)+"_"+(a.pointType=="PLACE"?a.id:"")}),b.error?{cnt:0,mode:b.resultCode}:{cnt:1,mode:""})}},function(a){if(a.status===500){this.errorView_&&this.errorView_.detach();this.errorView_=ma.showError();i.$("info.flagsearch").addChild(this.errorView_);this.panels_.add(null,this.errorView_);this.errorView_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},
this);this.errorView_.setVisible(true);this.routePoiControlView.hide();Application.flagSearchController.flagSearchResultController.howTo.hide();this.onResult.notify()}},this):this.load_(null)};ia.prototype.isLoaded=function(){return!!this.routeset_};ia.prototype.clearData_=function(){this.checkpoints_.clear();this.overlays_.clear();this.trafficLines_.clear();this.noticeLine_.clear();this.wholeLine_&&this.wholeLine_.setMap(null);this.accidentMarkers_.clear();this.cctvMarkers_.clear();this.gasStationMarkers_.clear();
this.restAreaMarkers_.clear();this.route_=null;this.previewHoverLines.forEach(function(a){a.setMap(null)});this.previewHoverLines.length=0;this.previewLines.forEach(function(a){a.setMap(null)});this.previewLines.length=0;this.previewStartLines.forEach(function(a){a.setMap(null)});this.previewStartLines.length=0;this.previewEndLines.forEach(function(a){a.setMap(null)});this.previewEndLines.length=0;this.roadviewRoute_=null};ia.prototype.load_=function(){var a=this.routeset_;if(a){this.infoWindowManager_.close();
Application.windowController.showInfoAndTop();this.clearDetailRoute();this.clearData_();this.panel_.setDaumNotice(false);this.panel_.setNoResult(false);require("log/Tiara").log(require("const").TIARA.routing_carSearch);if(a.error){this.noResultView_&&this.noResultView_.detach();this.noResultView_=ma.createCar(a.resultCode,a);i.$("info.flagsearch").addChild(this.noResultView_);this.panels_.add(null,this.noResultView_);this.noResultView_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},
this);this.noResultView_.setVisible(true);this.toolBar_&&this.setToolBarVisible(false);this.panel_.setNoResult(true);this.routePoiControlView.hide();Application.flagSearchController.flagSearchResultController.howTo.hide()}else{this.roadviewRoute_=a.carRoutes[0];this.panel_.setData(a);this.panel_.show();this.toolBar_.show();this.setPreviewHoverLine(0,true);this.panel_.initHover()}}};ia.prototype.setDetailRoute=function(a){this.clearDetailRoute();this.checkpoints_.clear();this.overlays_.clear();this.trafficLines_.clear();
this.noticeLine_.clear();this.wholeLine_&&this.wholeLine_.setMap(null);this.accidentMarkers_.clear();this.cctvMarkers_.clear();this.gasStationMarkers_.clear();this.restAreaMarkers_.clear();this.route_=this.routeset_.carRoutes[a];this.panel_.setDetailedItem(a);(a=this.route_)&&a.hasRoadviewInfo?this.roadviewController_.setRouteData("car",a.raw):this.roadviewController_.setRouteData("car",null);this.themePoiControlView_.setRouteControlView(a.accidents!==null);if(!this.toolBar_){Application.favoriteController.onChangeItem.add(function(){this.toolBar_.updateFav()}.bind(this));
var b=this.toolBar_=new pd;b.onClick.add(this.handleToolbar_,this);zb.addChild(b)}this.setToolBarVisible(true);var b=Application.flagSearchController.getWaypoints(),c=v.createCarFromWaypoints(b,this.mode_==W.REALTIME?"realtime":this.mode_==W.SHORTEST?"dist":"time");v.findRouteKey(c,function(a){if(a.text("status.code")===v.RESULT_CODE.SUCCESS)c.key=a.text("result");this.toolBar_.updateFav(c)}.bind(this));var d=[],b=W.getSourceLineColor(a.source);a.checkpoints.forEach(function(a){d=d.concat(a.points)});
a.checkpoints.forEach(this.createTrafficLine_,this);this.wholeLine_=new daum.maps.Polyline({strokeWeight:10,strokeColor:"#004997",strokeOpacity:1,additionalStyles:[{strokeWeight:"8",strokeOpacity:"1",strokeColor:b},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:d});var e=d[0],f=d[d.length-1],b=Application.flagSearchController.getWaypoints(),h=b[b.length-1].coords;this.noticeLine_.add(new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,
path:[b[0].coords,e]}));this.noticeLine_.add(new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:[f,h]}));var g=[];a.checkpoints.forEach(function(a){a.coords&&g.push(a.coords)});a.sectionPoints.length<6&&a.sectionPoints.forEach(function(a,b){this.createEditableRoute_(a,b,g)},this);a.checkpoints.forEach(this.createNumber_,this);this.noticeLine_.show();this.fitRouteInMap_();if(a.accidents){this.themePoiControlView_.setRouteControlView(true);this.loadRoadside_(a)}else{this.trafficLines_.hide();
this.wholeLine_&&this.wholeLine_.setMap(this.map_);this.themePoiControlView_.setRouteControlView(false)}this.layerLegend_.setClickableLabel(true);this.layerLegend_.setLegend("traffic",this.controlView_.getTraffic());this.routePoiControlView.show()};ia.prototype.loadPreviewLines=function(){var a=new daum.maps.CoordsBounds,b=Application.flagSearchController.getWaypoints(),c=b[0].coords,d=b[b.length-1].coords;this.routeset_.carRoutes.forEach(function(b){var f=[],h=W.getSourceLineColor(b.source),g=W.getSourceOutLineColor(b.source);
b.checkpoints.forEach(function(a){f=f.concat(a.points)});f.forEach(function(b){a.extend(b)});this.previewLines.push(new daum.maps.Polyline({strokeWeight:10,strokeColor:g,strokeOpacity:1,additionalStyles:[{strokeWeight:"6",strokeOpacity:"1",strokeColor:h}],path:f}));b=f[f.length-1];this.previewStartLines.push(new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:[c,f[0]]}));this.previewEndLines.push(new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,
path:[b,d]}))},this);this.previewLinesBounds=a};ia.prototype.loadPreviewHoverLines=function(){this.routeset_.carRoutes.forEach(function(a){var b=[],c=W.getSourceLineColor(a.source);a.checkpoints.forEach(function(a){b=b.concat(a.points)});this.previewHoverLines.push(new daum.maps.Polyline({strokeWeight:7,strokeColor:"#000",strokeOpacity:1,additionalStyles:[{strokeWeight:"5",strokeOpacity:"1",strokeColor:c},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:b}))},
this)};ia.prototype.setPreviewLines=function(a){if(a){this.previewLines.forEach(function(a){a.setMap(this.map_)},this);this.previewStartLines.forEach(function(a){a.setMap(this.map_)},this);this.previewEndLines.forEach(function(a){a.setMap(this.map_)},this);this.map_.setBounds(this.previewLinesBounds)}else{this.previewLines.forEach(function(a){a.setMap(null)});this.previewStartLines.forEach(function(a){a.setMap(null)},this);this.previewEndLines.forEach(function(a){a.setMap(null)},this);this.previewHoverLines.forEach(function(a){a.setMap(null)})}};
ia.prototype.setPreviewHoverLine=function(a,b){var c=this.previewLines[a],d=this.previewHoverLines[a],e=this.previewStartLines[a],f=this.previewEndLines[a];if(e&&f){e.setMap(null);f.setMap(null)}if(this.route_){if(this.routeset_.carRoutes.indexOf(this.route_)!=a&&c)if(b){c.setMap(this.map_);e.setMap(this.map_);f.setMap(this.map_)}else c.setMap(null)}else if(c&&d){if(b){c.setMap(null);d.setMap(this.map_)}else{c.setMap(this.map_);d.setMap(null)}e.setMap(this.map_);f.setMap(this.map_)}};ia.prototype.loadRoadside_=
function(a){a.accidents.forEach(this.createAccident_,this);var b=!!a.accidents[0];this.controlView_.setAccident(this.map_.getLevel()<7&&b);this.controlView_.accidentClickable(b);a.cctvs.forEach(this.createCctv_,this);b=!!a.cctvs[0];this.controlView_.setCctv(this.map_.getLevel()<7&&b);this.controlView_.cctvClickable(b);this.gasStationLoaded_=false;this.controlView_.setGas(false);this.controlView_.gasClickable(!!a.gasStations[0]);a.restAreas.forEach(this.createRestArea_,this);this.controlView_.setService(false);
this.controlView_.serviceClickable(!!a.restAreas[0])};ia.prototype.accidentInfoClickHandler_=function(a){this.accidentMarkers_.markers_.forEach(function(b){if(a==b.accident_.id){this.controlView_.setAccident(true);this.map_.setCenter(b.getMarker().getPosition());b.clickMarker()}},this)};ia.prototype.createAccident_=function(a){this.accidentMarkers_.add(new Ce(a,"route","go_car_accident_get"))};ia.prototype.createCctv_=function(a){this.cctvMarkers_.add(new gd(a,this.miniTooltipManager_,"route","go_car_CCTV_get"))};
ia.prototype.createGasStation_=function(a){var b=D.createGasStation(a.coords);daum.maps.event.addListener(b,"click",function(){ca.find(a.id,function(a){a&&this.infoWindowManager_.createPlace(a,b)},this);n.click("route","go_car_gas_station_get")}.bind(this));this.gasStationMarkers_.add(b)};ia.prototype.createRestArea_=function(a){var b=D.createRestArea(a.coords);daum.maps.event.addListener(b,"click",function(){ca.find(a.id,function(a){a&&this.infoWindowManager_.createPlace(a,b)},this);n.click("route",
"go_car_service_station_get")}.bind(this));this.restAreaMarkers_.add(b)};ia.prototype.createTrafficLine_=function(a){console.assert(Array.isArray(a.points));if(a.points[0]){var b;switch(a.traffic){case K.LIGHT:b="#10bf00";break;case K.MODERATE:b="#ffce00";break;case K.MEDIUM:b="#ff7200";break;case K.HEAVY:b="#ff223d";break;default:b="#a8a8a8"}this.trafficLines_.add(new daum.maps.Polyline({strokeWeight:10,strokeColor:"#004997",strokeOpacity:0.7,additionalStyles:[{strokeWeight:8,strokeColor:b,strokeOpacity:1},
{strokeWeight:1,strokeColor:"#ffffff",strokeOpacity:1,strokeStyle:"longdash"}],path:a.points,pathHint:a.hints}))}};ia.prototype.createEditableRoute_=function(a,b,c){a=new sc(b,this.map_,a,c);a.onCoords.add(this.addStop_,this);this.overlays_.add(a)};ia.prototype.createNumber_=function(a,b){var c=new $b(a.seq,a.coords,2),d=this.panel_.getCheckpoints()[b];d instanceof Xc&&d.setMarker(c);c.onClick&&c.onClick.add(function(){this.setRoadviewData(b,this.openFlagInfoWindow_.bind(this));this.panel_.setIndex(b)},
this);this.checkpoints_.add(c)};ia.prototype.changeActive_=function(){if(this.getActive())if(this.route_){this.panel_.show();this.setDetailRoute(this.routeset_.carRoutes.indexOf(this.route_))}else this.load_();else this.hideRoute_();Application.windowController.onHeightChange.notify()};ia.prototype.fitRouteInMap_=function(){var a=this.route_;if(a){this.roadviewController_.getActive()&&Application.roadviewController.close();var b=a.bounds,b=new daum.maps.CoordsBounds(b.getSouthWest(),b.getNorthEast()),
c=a.origin.coords;c&&b.extend(c);(a=a.dest.coords)&&b.extend(a);this.map_.setBounds(b)}};ia.prototype.setTraffic=function(a){this.controlView_.setTraffic(a)};ia.prototype.handleMethod_=function(){this.mode_=this.panel_.getMode();this.option_=this.panel_.getOption();switch(this.mode_){case W.REALTIME:n.click("route","go_car_realtraffic");break;case W.OPTIMAL:n.click("route","go_car_suggest");break;case W.SHORTEST:n.click("route","go_car_minimum");break;default:console.assert(false)}switch(this.option_){case W.OPTION_FREEWAY:n.click("route",
"go_car_free");break;case W.OPTION_BIKE:n.click("route","go_car_except")}this.find_(true)};ia.prototype.doFavorite_=function(a){if(a)Application.favoriteController.add(a,"car_route_results");else if(a=Application.flagSearchController.getWaypoints()){var b=v.createCarFromWaypoints(a,this.mode_==W.REALTIME?"realtime":this.mode_==W.SHORTEST?"dist":"time");v.findRouteKey(b,function(a){if(a.text("status.code")===v.RESULT_CODE.SUCCESS)b.key=a.text("result");Application.favoriteController.add(b,"car_route_results")}.bind(this))}};
ia.prototype.print=function(){jb("etc/print_car.jsp",680,870);n.click("route","go_car_print")};ia.prototype.activateMarker_=function(a){a=this.checkpoints_.at(a);a.setActive&&a.setActive(true);return a};ia.prototype.nearbyButtonClick_=function(a){a=this.route_.checkpoints.indexOf(a);this.setRoadviewData(a,this.openFlagInfoWindowAndZoom_.bind(this));this.panel_.setIndex(a)};ia.prototype.showStartEndInfo=function(a){return Application.infoWindowManager.createStartEndPointInfo(a,{x:20,y:21})};ia.prototype.openFlagInfoWindow_=
function(a){var b=this.route_.checkpoints[a],c=this.activateMarker_(a),d=null;if(b.seq=="start"||b.seq=="through"||b.seq=="goal"){d=this.showStartEndInfo(b);d.onCloseBtn.add(function(){infoWindowManager.closeWithoutNotify()})}else d=this.infoWindowManager_.createCarInfoInfo(b,c);d.setButtons(this.route_.checkpoints[a-1],this.route_.checkpoints[a+1]);d.onPrev.add(function(){this.nearbyButtonClick_(this.route_.checkpoints[a-1])},this);d.onNext.add(function(){this.nearbyButtonClick_(this.route_.checkpoints[a+
1])},this);c&&c.setActive&&d.onClose.add(function(){c.setActive(false)});n.click("route","go_car_mappoint")};ia.prototype.openFlagInfoWindowAndZoom_=function(a){this.roadviewController_.close();var b=this.route_.checkpoints[a],c=this.activateMarker_(a),d=null;if(b.seq=="start"||b.seq=="through"||b.seq=="goal"){d=this.showStartEndInfo(b);d.onCloseBtn.add(function(){this.infoWindowManager_.closeWithoutNotify()}.bind(this))}else d=this.infoWindowManager_.createCarInfoInfo(b,c);d.setButtons(this.route_.checkpoints[a-
1],this.route_.checkpoints[a+1]);this.map_.setCenter(b.coords);d.onPrev.add(function(){this.nearbyButtonClick_(this.route_.checkpoints[a-1])},this);d.onNext.add(function(){this.nearbyButtonClick_(this.route_.checkpoints[a+1])},this);n.click("route","go_car_tooltip_move")};ia.prototype.addStop_=function(a){this.onAddStop.notify(a)};ia.prototype.removeStop_=function(){this.mode_=W.REALTIME;this.option_=W.OPTION_NONE;this.find_()};ia.prototype.handleToolbar_=function(a){switch(a.id){case "print":this.print();
break;case "alook":n.click("route","go_car_once_view");this.fitRouteInMap_();break;case "favorite":n.click("favorite",["go_car","route_results"]);this.doFavorite_(a.fav);break;case "delete":n.click("route","go_car_route_delete");Application.flagSearchController.reset();break;default:console.assert(false)}};ia.prototype.transitRoutesCount_=0;ia.prototype.handleControlView_=function(){if(this.getActive()){this.infoWindowManager_.close();if(this.controlView_.getTraffic()){this.trafficLines_.show();this.wholeLine_&&
this.wholeLine_.setMap(null);this.layerLegend_.setDate(new Date);this.layerLegend_.setClickableLabel(true);this.layerLegend_.setLegend("traffic",true)}else{this.trafficLines_.hide();this.wholeLine_&&this.wholeLine_.setMap(this.map_);this.layerLegend_.setClickableLabel(false);this.layerLegend_.setLegend("traffic",false)}this.controlView_.getAccident()?this.accidentMarkers_.show():this.accidentMarkers_.hide();this.controlView_.getCctv()?this.cctvMarkers_.show():this.cctvMarkers_.hide();if(this.controlView_.getGas()){if(!this.gasStationLoaded_){this.route_.gasStations.forEach(this.createGasStation_,
this);this.gasStationLoaded_=true}this.gasStationMarkers_.show()}else this.gasStationMarkers_.hide();this.controlView_.getService()?this.restAreaMarkers_.show():this.restAreaMarkers_.hide()}};ia.prototype.handleRoadviewCheckpoint_=function(a){this.route_.checkpoints.some(function(b,c){if(b.seq==a.seq){this.panel_.setIndex(c);return true}},this)};ia.prototype.setExtraCopyright=function(a){a?this.map_.setAdditionalCopyrights(["HYUNDAI MnSOFT"]):this.map_.setAdditionalCopyrights([])};ia.prototype.getMethod=
function(){switch(this.mode_){case W.OPTIMAL:return 1;case W.SHORTEST:return 2}return 0};ia.prototype.setToolBarVisible=function(a){if(this.toolBar_){a?this.toolBar_.setVisible(true):this.toolBar_.setVisible(false);Application.windowController.updateHeight()}};ia.prototype.setMode=function(a){this.mode_=a};ia.prototype.setRoadviewData=function(a,b){var c=this.route_.checkpoints[a].coords,d=pc.RADIUS[this.map_.getLevel()],e=a===0||a===this.route_.checkpoints.length-1,f=null;this.roadviewController_.client_.getNearestPanoId(c,
d,function(d){f=d===null||e?null:{panoId:d,coords:c};this.route_.checkpoints[a].roadview=f;b(a)}.bind(this))};define("controller/CarRouteSearchController","map/Map view/LayerLegendView view/ThemePoiControlView map/InfoWindowManager map/MiniTooltipManager controller/RoadviewController view/CarRouteResultView map/MapTypeControl controller/WindowController view/RoutePoiControlView controller/FlagSearchController".split(" "),L(ia));Na.prototype.infomarkers_=[];Na.prototype.setId=function(a){this.id=a};
Na.prototype.activate=function(a){if(!this.zoomHandler_){this.zoomHandler_=this.updateVisibility.bind(this);this.idleHandler_=hb(20,this.fetch_.bind(this)).trigger;if(a!==void 0)this.id=a;this.id!==void 0?Pa.get(function(a){this.map_.setCenter(a.coords);this.fetch_(this.id);this.id=void 0},this,{addParamData:this.id}):this.fetch_();this.setMapEvent()}};Na.prototype.fetch_=function(a){var b=this.map_.getBounds(),c=b.getSouthWest(),b=b.getNorthEast(),c={level:this.map_.getLevel(),minX:c.getX(),maxX:b.getX(),
minY:c.getY(),maxY:b.getY()};a!==void 0?Pa.findAll(function(b){this.loadAll_(b);this.findId(a)},this,c):Pa.findAll(this.loadAll_,this,c)};Na.prototype.updateVisibility=function(){var a=this.map_.getLevel();this.infomarkers_.forEach(function(b){b.updateVisibility(a)})};Na.prototype.loadAll_=function(a){this.infomarkers_.forEach(Na.disposeInfoMarker);this.cctvs_=a;this.infomarkers_=a.map(Na.createInfoMarker,this);this.updateVisibility();this.feedback_()};Na.prototype.feedback_=function(){if(this.callback_&&
this.cctvs_){this.callback_();this.callback_=null}};Na.prototype.findId=function(a){this.callback_=function(){this.cctvs_.some(function(b,c){if(b.id==a){this.infomarkers_[c].clickMarker();return true}},this)};this.fetch_()};Na.createInfoMarker=function(a){a=new gd(a,this.miniTooltipManager_,"realtraffic","cctvbutton");a.setMap(this.map_);return a};Na.disposeInfoMarker=function(a){a.setMap(null)};Na.prototype.deactivate=function(){this.removeMapEvent();delete this.zoomHandler_;delete this.idleHandler_;
Application.infoWindowManager.closeToType("cctv");this.infomarkers_.forEach(Na.disposeInfoMarker);delete this.infomarkers_;this.cctvs_=null};Na.prototype.setMapEvent=function(){daum.maps.event.addListener(this.map_,"zoom_changed",this.zoomHandler_);daum.maps.event.addListener(this.map_,"idle",this.idleHandler_)};Na.prototype.removeMapEvent=function(){daum.maps.event.removeListener(this.map_,"zoom_changed",this.zoomHandler_);daum.maps.event.removeListener(this.map_,"idle",this.idleHandler_)};define("controller/CctvController",
["map/Map","map/MiniTooltipManager"],L(Na));define("controller/CoachmarkController",["map/InfoWindowManager","controller/FlagSearchController"],L(function(a,b){function c(a,c){var d=new Ca(a),g=function(){if(b.getActive()){d.show();jQuery.cookie(c,true,{expires:3650})}};d.onClose.add(function(){b.onActive.remove(g)});b.onActive.add(g)}function d(b,c){var d=new Ca(b),g=function(a){var b=a.infoWindow;setTimeout(function(){var a=jQuery(b.getPane()).find(".InfoWindowToolbar .fav").offset(),e=-1;if(b instanceof
Md)e=115;else if(b instanceof te){var g=b.getPane().find(".InfoWindowToolbar > a").length;g===2?e=90:g===3&&(e=53)}else if(b instanceof ye||b instanceof Ae){g=b.getPane().find(".InfoWindowToolbar > a").length;g===2?e=115:g===3&&(e=69)}if(e!==-1){d.setButtonWidth(e);d.show(a);jQuery.cookie(c,true,{expires:3650})}},a.delay)};d.onClose.add(function(){a.onShow.remove(g)});a.onShow.add(g)}this.regist=function(a){for(var b=0;b<Ca.TYPE_LIST.length;b++){var h=Ca.TYPE_LIST[b],g="coachmark:"+h;if(!jQuery.cookie(g)||
a)if(h===Ca.TYPE_LAYER){(new Ca(h)).show();jQuery.cookie(g,true,{expires:3650})}else h===Ca.TYPE_FIND_WAY?c(h,g):h===Ca.TYPE_BOOKMARK&&d(h,g)}}}));define("controller/FavoriteController","map/Map manager/ViewLayout controller/AuthController controller/FavoriteRegisterController map/InfoWindowManager controller/RoadviewController controller/KeywordSearchController controller/MainMapController controller/BusLineController controller/SubwaySearchController view/FavoriteManageView view/FavoriteListView view/FavoriteStaticManageView log/Tiara manager/AoiManager controller/HistoryController controller/AreaSearchController controller/ProfileController controller/ReviewController util/Storage util/DateFormat controller/ShareController controller/W3wController map/MapTypeControl util/lib const constants/messages constants/popup".split(" "),
L(function(a,b,c,d,e,f,h,g,k,l,j,r,p,o,s,t,u,q,w,y,M,A,J,Q,C,G,O,F){var S,ja,V,Ba,X,z,E,H;function $(){Xa?Ib=Sb.scrollTop():sb=Nb.scrollTop()}function ka(a){if(!Oa){if(a&&a.text("mapUserId")&&pb!==a.text("mapUserId")){pb=a.text("mapUserId");Fb=a.bool("migrationFlag");jb=a.bool("cp");j.setMaxFolderCount(jb?Ob:Rb);y.getItem(v.VIEW_ON_MAP_PRIFIX+pb)||oa(0,true);Xb?typeof Xb==="function"?Xb(T):Xb instanceof Array&&Xb.forEach(function(a){typeof a==="function"&&a(T)}):Y(T);Wf(pb);Ea()}else Xb&&typeof Xb===
"function"&&Xb();Bb()}Oa=true;Xb=null}function ua(a){c.isLogin()&&q.loadInfo(function(b){typeof a==="function"&&a(b)})}function T(a){var b=a&&a instanceof Array;if(Da!==v.VIEW_MODE.DETAIL||b){var c=qb();if(b)L(a,true);else{var d=c.length>0;v.findAll(function(a){if(a&&a.list){var b=d?a.list.map(function(a){if(ob[a.folderId]){a.icon=ob[a.folderId];if(a.icon.toString()==="11")a.color="06"}return a}):[];L(b);Pa=a.favIdMap||{};Fd.notify();Fa(a.homeList)}},{folderIds:c.length>0?c:[0],type:v.FOLDER_TYPE.MY})}}}
function L(b,c){var d=b||[];ic();ma(true);var e=new daum.maps.CoordsBounds,f=[];c||qb().forEach(function(a){Ab[a]||(Ab[a]=[])});e.isEmpty()||a.setBounds(e,70);C.asyncWork(function(){for(var a=0,b=d.length;a<b;a++){var g=d[a],h=g.status===Ba,j=g.status===X&&Xa,k=Wb.indexOf(g.type)!==-1;if(!h&&!j&&k){if(!g.marker){hc="fav";g.marker=ia(g)}f.push(g.marker);Ab[g.folderId]||(Ab[g.folderId]=[]);Ab[g.folderId].push(g);c&&e.extend(new daum.maps.Coords(g.x,g.y))}}});C.asyncWork(function(){f.length>0&&gc.setMarkers(f)})}
function Y(a){var b=v.findFolder,c={sort:Cb.folder},d=Da===v.VIEW_MODE.FOLDER;if(d){if(Xa)c.mapUserId=xb}else{b=v.findAll;c={folderIds:[tb.folderId],type:Xa?S:ja}}b(function(b){if(b&&!b.status){if(zb===v.VIEW_MODE.FOLDER&&Da===v.VIEW_MODE.DETAIL&&tb.status!==V&&tb.folderId>0){tb.viewCount++;require("server").favoriteFolderAddView({folderId:tb.folderId},function(){})}I(b,a)}else if(!d&&["NOT_AUTHORIZED","NO_KAKAO_LOGIN"].indexOf(b.status)===-1){C.alert("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uadf8\ub8f9\uc785\ub2c8\ub2e4.");
ib()}},c)}function K(a){var b={folderIds:[a],type:Xa?S:ja};v.findFolder(function(c){c&&!c.status&&v.findAll(function(b){if(b&&!b.status){var d=c.list.find(function(b){return b.folderId===a});d.isMyFolder=d.mapUserId===pb;d.isFixed=qb().includes(a);if(!d.isMyFolder)d.isSubscribe=Wa.includes(d.folderId);qa(d);I(b,function(){L(b.list,true)})}},b)},{sort:Cb.folder})}function I(a,b){var c=Da===v.VIEW_MODE.FOLDER;ma(true);ub=a.list;if(c){pb||ub.some(function(a){if(a.folderType===ja&&a.folderId===0){pb=
a.mapUserId;return true}});if(ub[0]&&ub[0].folderId===0){if(pb!==ub[0].mapUserId){C.alert("\ub85c\uadf8\uc778 \uc815\ubcf4\uac00 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");Oa=false;ua();return}ea(ub)}}if(a.favIdMap){Pa=a.favIdMap||{};Fd.notify()}$b===H&&Xa?$b="":N();zb=Da;typeof b==="function"?b(a):b instanceof Array&&b.forEach(function(b){typeof b==="function"&&b(a)})}function N(a){if(Zc||Xa){a||(a=Kb[Da]);ub=ub||[];var b,c,d,e={},f=Da===v.VIEW_MODE.FOLDER;if(f){c=["all","folder","theme"];b={folder:{name:"\uadf8\ub8f9",
list:[ja,S],count:0},theme:{name:"\ud14c\ub9c8",list:[V],count:0}};var g=qb();d=jQuery.grep(ub,function(c){var d=a==="all"||b[a].list.indexOf(c.folderType)!==-1;if(c.folderType===V)c.icon="11";c.isMyFolder=c.mapUserId===pb;c.isFixed=g.indexOf(c.folderId)!==-1;if(!c.isMyFolder)c.isSubscribe=Wa.indexOf(c.folderId)!==-1;Object.keys(b).some(function(a){if(b[a].list.indexOf(c.folderType)!==-1){b[a].count++;return true}});return d});e={viewOnMapFolderIds:g};if(Xa){e.prevScrollPos=Ib||0;Ib=0}else{e.prevScrollPos=
sb||0;sb=0}}else{c=["all","place","route","bus","roadview"];b={place:{name:"\uc7a5\uc18c",list:["point","place","address","subwaystation"],count:0},route:{name:"\uae38\ucc3e\uae30",list:["route_car","route_pubtrans","route_walk","route_bicycle","route_subway"],count:0},bus:{name:"\ubc84\uc2a4",list:["busstop","busline"],count:0},roadview:{name:"\ub85c\ub4dc\ubdf0",list:["roadview","storeview"],count:0}};d=jQuery.grep(ub,function(c){var d=a==="all"||b[a].list.indexOf(c.type)!==-1;Object.keys(b).some(function(a){if(b[a].list.indexOf(c.type)!==
-1){b[a].count++;return true}});if(tb.folderType===V){tb.icon="11";c.color="06"}return d});if(Cb[v.VIEW_MODE.DETAIL]===v.DISPLAY1)d.sort(function(a,b){return a.display1<b.display1?-1:a.display1>b.display1?1:0});else{d.sort(function(a,b){return a.seq>b.seq?-1:a.seq<b.seq?1:0});d.sort(function(a,b){return a.createdAt>b.createdAt?-1:a.createdAt<b.createdAt?1:0})}g=qb();tb.isMyFolder=tb.mapUserId===pb;tb.isFixed=g.indexOf(tb.folderId)!==-1;if(!tb.isMyFolder)tb.isSubscribe=Wa.indexOf(tb.folderId)!==-1;
e={folderInfo:tb}}if(d.length===0&&a!=="all")Aa("all");else{var h=[];d=jQuery.grep(d,function(a){var b=a.status===z||a.status===Ba;b&&h.push(a);return!b});d=d.concat(h);if(Xa)T(ub);else if(zb!==Da)if(f)T();else{T(ub);ub.length===0&&(Ab[tb.folderId]=[])}b.all={name:"\uc804\uccb4",count:ub.length};var j={sortName:Cb[Da]===v.DISPLAY1?"\uc774\ub984\uc21c":"\ub4f1\ub85d\uc21c",selected:{name:b[a].name,count:b[a].count},opts:[]};c.forEach(function(c){var d=b[c];d.count>0&&j.opts.push({type:c,name:d.name,
count:d.count,selected:c===a})});if(Xa){c=hb[hb.length-1];e.selectInfo=c?c.item:{}}jQuery.extend(e,{filterData:j,isOtherPage:Xa,mapUserId:pb,isMigration:Fb,type:a});r.setList(Da,d,e);Kb[Da]=a;P()}}}function P(){var a=Ye(),a=a.pageType+"_"+a.viewFakeType,b=Ub;if(!b||b!==a){require("log/Tiara").log(G.TIARA[a]);Ub=a}}function Ea(){require("server").myPlaceList({},function(a){if(v.isSuccess(a)){var b={};a.find("result").forEach(function(a){a=a.raw();b[a.type.toLowerCase()]=a});Ia(b)}})}function Ia(a){Db=
{};if(a.home){Db.home=de(a.home,"home");r.setStaticData("home",Db.home);Gd.notify({mode:"home",data:Db.home})}if(a.company){Db.company=de(a.company,"company");r.setStaticData("company",Db.company);Gd.notify({mode:"company",data:Db.company})}Bb()}function Ja(a){v.findHome(function(b){Fa(b);typeof a==="function"&&a(b)})}function Fa(a){if(!Za||!gb(a)){Za=a;Bb()}}function gb(a){return a.length===Za.length?!a.some(function(a,b){var c=Za[b];if(a.seq===c.seq)return a.type==="busstop"?a.buslines!==c.buslines:
false}):false}function Bb(){var a=[];Db=Db||{};a.push(Db.home||{myplace_type:"HOME"});a.push(Db.company||{myplace_type:"COMPANY"});Za&&Za.length>0&&(a=a.concat(Za));d.setData(a);da();ma()}function ha(a,b){if(kb()){var c=a.folderIds,d=a.folderInfo||{};!c&&d.folderId&&(c=[d.folderId]);require("server").favoriteFolderSubscribe({folderIds:c,onOff:a.onOff},function(e){if(v.isSuccess(e)){if(a.onOff){Wa=Wa.concat(c);if(qb().length<v.MAX_VIEW_ON_MAP_COUNT&&d.folderId){ob[d.folderId]=d.icon;oa(d.folderId)}if(!b&&
confirm("\uadf8\ub8f9 \uad6c\ub3c5\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc9c0\uae08 \ud655\uc778\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){sb=0;cb();if(!Zc){Xf.setActive(true);return}}}else{b||C.alert("\uadf8\ub8f9 \uad6c\ub3c5\uc774 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");c.forEach(function(a){Wa.splice(Wa.indexOf(a),1);yb(a)})}$();Y()}else{var e=e.text("status.code"),f="",g=false;if(e===v.RESULT_CODE.OVER_MAX_COUNT)f="\uad6c\ub3c5\uc744 \ud3ec\ud568, \uc990\uaca8\ucc3e\uae30 \uadf8\ub8f9\uc740 \ucd5c\ub300 "+
(jb?Ob:Rb)+"\uac1c\uae4c\uc9c0 \ubcf4\uc720\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.";else if(e===v.RESULT_CODE.NOT_EXIST_ITEM){f="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uadf8\ub8f9\uc785\ub2c8\ub2e4.";g=true}!b&&f&&C.alert(f);Ma(g)}})}else n.click("login",["other",(a.isCP?"theme":"folder")+"_follow"])}function qb(){return!pb?[]:JSON.parse(y.getItem(v.VIEW_ON_MAP_PRIFIX+pb))||[]}function oa(a,b){if(pb&&a===parseInt(a)){var c=qb();if(c.indexOf(a)===-1){if(c.length>=v.MAX_VIEW_ON_MAP_COUNT)C.alert("\uc9c0\ub3c4 \uc704\uc5d0 \ud45c\uc2dc\ud560 \uadf8\ub8f9\uc740 \ucd5c\ub300 "+
v.MAX_VIEW_ON_MAP_COUNT+"\uac1c\uae4c\uc9c0 \uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");else{c.unshift(a);c=c.splice(0,v.MAX_VIEW_ON_MAP_COUNT);y.setItem(v.VIEW_ON_MAP_PRIFIX+pb,JSON.stringify(c))}b||T()}}}function sa(a,b){pb&&a===parseInt(a)&&Ab[a].forEach(function(c,d){if(parseInt(c.seq)===b){na(c);Ab[a].splice(d,1);fb();return true}})}function yb(a){if(pb&&a===parseInt(a)){var b=qb(),c=b.indexOf(a);if(c!==-1){b.splice(c,1);y.setItem(v.VIEW_ON_MAP_PRIFIX+pb,JSON.stringify(b));if(Da===
v.VIEW_MODE.FOLDER&&Ab[a]){Ab[a].forEach(function(a){na(a)});Ab[a]=null;fb()}}}}function ic(){Object.keys(Ab).forEach(function(a){Ab[a]&&Ab[a].forEach(function(a){na(a)})});Ab={};fb()}function fb(){var a=[];Object.keys(Ab).forEach(function(b){Ab[b]&&Ab[b].forEach(function(b){b.marker&&a.push(b.marker)})});gc.setMarkers(a)}function Ra(){console.log("showItemFailAlert");setTimeout(function(){C.alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")},100)}function U(a){if(a.type===
"storeview")C.alert(O.ERROR.STOREVIEW_TERMINATION);else{ma();a.type!=="route_subway"&&l.getActive()&&h.setActive(true);k.closeLayer();e.close();g.setRoadviewLineActive(false);g.mapTypeControl_.setRoadview(false);u.clearMap(true);u.clearMapEvent();f.getActive()&&f.close();var b=dc[a.type];b?b.show(a):console.assert(false)}}function W(a,b,c){var d=null;if(a){if(Pa[a]&&b&&Pa[a][b]){d=Pa[a][b].length>0?Pa[a][b]:null;c>0&&d&&d.some(function(a){if(a.seq===c){d=a;return true}})}}else d=Pa;return d}function ba(a,
b,c){var d=b.buslines,e=b.type,f=b.key,g=b.seq,h=b.folderId;if(e&&f&&parseInt(g)===g){var j=e==="busstopline";j&&(e="busstop");var b=W(e,f),k=j||c;switch(a){case "U":var l=false,i={folderId:h,seq:g};if(k)i.busLines=d;if(b){b.forEach(function(a){if(a.seq===g){l=true;if(j&&a.busLines){var b=C.parseArray(a.busLines),b=jQuery.grep(b,function(a){return d!=a});b.push(d);i.busLines=b.join(",")}jQuery.extend(a,i)}});l||b.push(i)}else{Pa[e]||(Pa[e]={});Pa[e][f]||(Pa[e][f]=[]);Pa[e][f].push(i)}break;case "D":k?
b.some(function(a,b){if(a.seq===g){Pa[e][f][b].busLines=c?d:jQuery.grep(C.parseArray(a.busLines),function(a){return d!=a}).join(",");return true}}):b.some(function(a,b){a.folderId===h&&Pa[e][f].splice(b,1)})}}}function ea(a){if(a instanceof Array){var b=[];ob={};Wa=a.map(function(a){([X,Ba,z].indexOf(a.status)!==-1||a.status===E&&a.folderType===S)&&b.push(a.folderId);ob[a.folderId]=a.folderType===V?"11":a.icon||v.DEFAULT_ICON;return a.folderId});qb().forEach(function(a){(Wa.indexOf(a)===-1||b.indexOf(a)!==
-1)&&yb(a)})}}function fa(a){var b,c={},d=a.type==="busstopline";b=W(d?"busstop":a.type,a.key);if(!b||!(b instanceof Array))return null;b.forEach(function(b){if(d){if(b.busLines&&C.parseArray(b.busLines).includes(a.buslines))c[b.folderId]=b.seq}else c[b.folderId]=b.seq});return Object.keys(c).length===0?null:jQuery.extend({},a,{count:b.length,folderIdMap:c})}function aa(a){!(a instanceof v)&&!a.myplace_type&&(Qb=a)}function da(){Pb.forEach(function(a){a.setMap(null)});Pb=[];Object.keys(Db).forEach(function(b){var c=
Db[b];if(c){if(!c.marker){c.marker=D.createStatic(new daum.maps.Coords(c.x,c.y),c.myplace_type);daum.maps.event.addListener(c.marker,"click",function(){hc="static";Application.roadviewController.getActive()&&setTimeout(function(){Q.setRoadview(true,true)},0);U(c)})}c.marker.setMap(a);Pb.push(c.marker)}})}function ia(b){var c,d=typeof b.x==="number"&&typeof b.y==="number"?new daum.maps.Coords(b.x,b.y):b.model.coords;if(hc=="fav"){c=b.icon||ob[b.folderId]||v.DEFAULT_ICON;if(tb&&tb.icon)c=tb.icon;var e=
jQuery('<div class="FavoriteMarkerTooltip">    <div class="marker_fav type'+b.color+'">        <span class="marker_fav_ico '+v.ICON_MAP[c]+'"></span>    </div></div>');c=D.createFavorite(d,e.getElement());if(b.display1){var f=new Bc(a);e.on("mouseover",function(){a.setCursor("pointer");f.setData("FAVORITE",d,'<span class="name">'+String.format("%h",b.display1)+"</span>");f.show();ac=f});e.on("mouseout",function(){a.setCursor(null);f.hide()})}e.on("click",function(){b.display1&&f.hide();Application.roadviewController.getActive()&&
setTimeout(function(){Q.setRoadview(true,true)},0);n.click(Xa&&Da==v.VIEW_MODE.DETAIL?"other":"my",["favorite","poi_click",b.type]);Na(b)})}else if(hc==="static"){da();c=b.marker}else{c=D.createHere(d);daum.maps.event.addListener(c,"click",function(){U(b)})}return c}function Z(b){var c=Xa&&b.status===X||b.status===Ba||Application.isLoadingViewShow===true,d=!!b.marker||Xa&&hc==="review",f=!!b.marker;b.marker=f?b.marker:ia(b);aa(b);ma();var g=b.marker;if(c)g.setMap(null);else{a.setCenter(g.getPosition());
d&&g.setMap(a)}if(!c){c=d?b.marker:null;switch(b.type){case "place":e.createPlace(b.model,c);break;case "point":case "address":e.createAddress(b.model,c);break;case "subwaystation":e.createSubwayStation(b.model,c);break;case "busstop":e.createBusStop(b.model,null,null,c);break;case "busstopline":e.createBusStop(b.model,b.lineid,null,c,b.idx)}}if(!f)b.marker=null}function la(a){u.callAfterLoad(a.model.id,function(){u.focus(a.model.id);u.renderById(a.model.id,true,true)});u.fetch(a.model)}function ma(a){Qb&&
(!a||Qb instanceof v)&&na(Qb)}function na(a){a.marker&&a.marker.setMap(null);a.model&&kc.getAoi(a.model.id)&&kc.clearThis(a.model.id)}function ra(a,b){typeof b==="function"&&v.findFolder(function(c){var d=[],e=[],f=[],g=qb(),h=null,j=[],k=null;if(a instanceof Array)k=a[0].folderId;else if(a.type==="busstopline"){if(h=W("busstop",a.key)){j=[];h.forEach(function(b){b.busLines&&C.parseArray(b.busLines).indexOf(a.buslines)!==-1&&j.push(b.folderId)})}}else(h=W(a.type,a.key))&&(j=h.map(function(a){return a.folderId}));
c.list.forEach(function(a){a.isSelected=k===a.folderId;a.isSaved=j.indexOf(a.folderId)!==-1;a.isFixed=g.indexOf(a.folderId)!==-1;a.icon=a.folderType===V?"11":a.icon||v.DEFAULT_ICON;a.folderType===ja?f.push(a):e.push(a)});d=d.concat(f).concat(e);b(d)},{})}function za(a){var b=jb?Ob:Rb;!a&&ub.length>b?C.alert("\ucd5c\ub300 "+b+"\uac1c\uae4c\uc9c0 \uc0dd\uc131 \uac00\ub2a5\ud569\ub2c8\ub2e4."):kb()&&j.showAddFolderView(a,{viewOnMapCount:qb().length})}function Zd(a,b){kb()&&ra(a,function(c){j.showFolderSelectView(a,
c,b)})}function pa(a){var b=jQuery("#info\\.my");b.find("#info\\.my\\.intro").toggle(a);b.find(".favorite_interlock, .FavoriteMethodType").toggle(!a)}function $d(){var a=jQuery("#info\\.my\\.footer");if(Zc=this.getActive()){i.$("info.my").setVisible(true);var d=jQuery("#info\\.my");b.setMapOnly();if(c.isLogin()){d=function(b){pa(false);if(Yb.getIndex()===0){a.show();Xa&&cb();Da===v.VIEW_MODE.DETAIL?Y(function(a){T(a.list)}):Y(b)}};Oa?d():Xb=d}else{a.hide();pa(true);d.on("click",".link_my",function(){n.click("login",
["menu_my","empty_page"]);kb($d.bind(this))}.bind(this))}}else{Da===v.VIEW_MODE.DETAIL&&T();a.hide()}Application.windowController.updateHeight()}function kb(a){if(c.isLogin())return true;c.request(function(){ua(function(b){pa(false);d.callbackLogin();Ea();a=a?[a,T]:T;if(Xa){Xa=false;var c=Da;if(xb===b.text("mapUserId")){Tb.hide();B.Application&&Application.favoriteController.setActive(true)}else{$b=r.getSelectedTab();Da=v.VIEW_MODE.FOLDER;Y(function(){Xa=true;Da=c;Y(a)})}}else Y(a)})});return false}
function qa(a){Da=(tb=a||null)?v.VIEW_MODE.DETAIL:v.VIEW_MODE.FOLDER}function Aa(a){Kb[Da]=a;N(a)}function ya(a,b,c){var a=a.raw(),d=[],e=[];if(bc[c]){d=bc[c].statusList||[];e=bc[c].req||[]}if(Array.isArray(a.req)){e=jQuery.merge(e,a.req);d=jQuery.merge(d,a.statusList)}else{e=jQuery.merge(e,[a.req]);b.type="busstop";d.push({status:a.status.code,favoriteInfo:b[0]})}bc[c]=Vb?jQuery.extend(bc[c],a):a;bc[c].req=e;bc[c].statusList=d;Eb[c]=jQuery.merge(Eb[c],b)}function va(a){Zb[a]=0;bc[a]=null;Eb[a]=[]}
function Ua(a,b){var c=[],d=[];a.forEach(function(a){a.buslines=$a(a.buslines);if(a.type==="busstop"){var e=W("busstop",a.key),f=null,g=false;(g=Array.isArray(e)?e.some(function(c){if(c.folderId===b){c.busLines=c.busLines||[];var d=C.parseArray(c.busLines),e=C.parseArray(a.buslines);if(e.length>0){e.forEach(function(a){d.includes(a)||d.push(a)});c.busLines=d.join(",");c.isEditedBusline=true;f=jQuery.extend({},a,c);return true}return false}}):e.folderId===b)?d.push(f):c.push(a)}else c.push(a)});return{copy:c,
sync:d}}function Ya(a,b){if(a===b)return[];var c=C.parseArray(a);return C.parseArray(b).filter(function(a){return!c.includes(a)})}function $a(a){var b={};C.parseArray(a).forEach(function(a){b[a]=true});return Object.keys(b).join(",")}function La(a){if(a){var b=[],c=[];if(a instanceof Array)a.forEach(function(a){b.push(a);c.push(a)});else{var d=a.type==="busstopline",e=a.isEditedBusline;db=function(){j.showResultView("add")};if(d||e){var f=(e=d?fa({type:"busstop",key:a.key}):a)?e.seq||e.folderIdMap[a.folderId]:
false;if(e&&f){a=jQuery.extend({},a,{seq:f});v.addBusline({seq:a.seq,buslines:d?ta(a):C.parseArray(a.busLines)},function(a){return function(b){Zb.add--;ya(b,a,"add");if(Zb.add<1){ab(new Ga(bc.add),Eb.add,true);va("add")}}}([a]))}else{d=jQuery.extend({},a,{type:"busstop"});v.favCUD("C",[d],function(a){return function(b){Zb.add--;ya(b,a,"add");if(Zb.add<1){ab(new Ga(bc.add),Eb.add);va("add")}}}([a]))}}else{b.push(a);c.push(a)}}b.length>0?v.favCUD("C",b,function(a){return function(b){Zb.add--;ya(b,a,
"add");if(Zb.add<1){ab(new Ga(bc.add),Eb.add);va("add")}}}(c)):Array.isArray(a)||n.click("fav",a.type+"like_favorite")}}function ta(a){var b=Array.isArray(a.buslines)?a.buslines[0]:a.buslines,c=a.key,d=a.folderId,e=[],f;Application.favoriteController.getFavoriteIdMap().busstop[c].some(function(a){var b=d===a.folderId;b&&(f=jQuery.extend({},{busLines:[]},a));return b});if(f){(a=C.parseArray(f.busLines))&&a.forEach(function(a){e.push(a)});a=e.indexOf(b);a>-1?e.splice(a,1):e.push(b)}return e}function ab(a,
b,c){var d=a.text("status.code"),e=v.deduplicationStatus(a),f=v.isSuccess(a),e=e.indexOf(v.RESULT_CODE.SUCCESS)!==-1,g=Da===v.VIEW_MODE.FOLDER,c=c||false,h="";if(f||e){c=a.find("req");c.length===0&&(c=[a.object("req")]);c.forEach(function(a,c){b[c].seq=a.number("seq")});var j=0;b.forEach(function(a){if(!(a.seq<=0)){var b=a.type==="busstopline",c=b?"busstop":a.type,d=a.folderId;if(!a.isEdit)a.createdAt=M.now("yyyy-MM-dd HH:mm:ss");ba("U",a);if(!g&&parseInt(tb.folderId)===d){var e=W(c,a.key,a.seq),
f=ub.some(function(c,d){if(c.seq===a.seq){b?c.buslines=e.busLines:v.ALLOW_UPDATE_FIELD_ARR.forEach(function(b){ub[d][b]=a[b]});return true}});if(!f){a=jQuery.extend({},a,{type:c});f=new v(new Ga(a));if(b)f.buslines=e.busLines;ub.push(f)}N()}else if(g){f=ub.some(function(a){if(a.folderId===d){a.favoriteCount++;return true}});N()}if(Ab[d]){sa(d,a.seq);if(Wb.indexOf(c)!==-1){a.type=c;f=new v(new Ga(a));hc="fav";f.marker=ia(f);Ab[d].push(f);fb()}}j++}});Fd.notify();h="\uc990\uaca8\ucc3e\uae30\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";
if(j>0){f||T();Ja()}else h="\uc990\uaca8\ucc3e\uae30 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \uc7ac\uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."}else h=d===v.RESULT_CODE.DUPLICATE_ITEM?"\uc774\ubbf8 \uc990\uaca8\ucc3e\uae30\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4":d===v.RESULT_CODE.OVER_FAVORITE_MAX_COUNT||d===v.RESULT_CODE.OVER_MAX_COUNT?b[0].type==="busstopline"&&c?"\ud55c \uc815\ub958\uc7a5\uc5d0\ub294 \ucd5c\ub300 10\uac1c\uc758 \ubc84\uc2a4\ub178\uc120\uc744 \uc990\uaca8\ucc3e\uae30\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.":
"\uc990\uaca8\ucc3e\uae30\ub294 \ucd5c\ub300 "+v.MAX_FAVORITE_COUNT_ON_FOLDER+"\uac1c\uae4c\uc9c0 \uc800\uc7a5 \uac00\ub2a5\ud569\ub2c8\ub2e4.":["NOT_AUTHORIZED","NO_KAKAO_LOGIN"].indexOf(d)!==-1?"":a.text("message")||a.text("status.message");typeof Hb==="function"?Hb(a,b):f&&typeof db==="function"?db(a,b):h&&C.alert(h);db=Hb=null}function Qa(a){var b=false;if(a instanceof Array?!a[0].seq:!a.seq)(b=confirm("\uc120\ud0dd\ud55c \uadf8\ub8f9\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc0ad\uc81c\uc2dc \uadf8\ub8f9\uc5d0 \uc800\uc7a5\ud55c \uc990\uaca8\ucc3e\uae30\ub3c4 \ud568\uaed8 \uc0ad\uc81c\ub429\ub2c8\ub2e4."))&&
Va(a);else{var c=[],d=[],a=Array.isArray(a)?a:[a];a.forEach(function(a){a.isEditedBusline&&a.isBuslines?d.push(a):c.push(a)});Vb.remove=c.length>0&&d.length<2;Zb.remove=d.length+(c.length>0?1:0);d.forEach(function(a){Jc(a)});Jc(c)}return b}function Va(a){var b=[],c=[];a instanceof Array||(a=[a]);a.forEach(function(a){var d=a.folderId;if(d){b.push(d);c.push(a)}});b.length>0&&v.folderCUD("D",{folderIds:b},function(a){return function(b){lb(b,a)}}(c))}function lb(a,b){var c=v.deduplicationStatus(a),d=
v.isSuccess(a),e=c.indexOf(v.RESULT_CODE.SUCCESS)!==-1;if(d||e){d||c.forEach(function(a){a.text("status")!==v.RESULT_CODE.SUCCESS&&b.some(function(c,d){c&&a.number("folderInfo.folderId")===c.folderId&&(b[d]=null)})});var f=0;b.forEach(function(a){if(a){yb(a.folderId);f++}});Da=v.VIEW_MODE.FOLDER;Y();c="\uadf8\ub8f9\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";if(f>0){if(!d){T();c="\uc77c\ubd80 \uadf8\ub8f9 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \uc7ac\uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."}Ja()}else c=
"\uadf8\ub8f9 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \uc7ac\uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.";C.alert(c)}Hb=null}function Jc(a){var b=[],c=[];if(a instanceof Array)a.forEach(function(a){var d=a.seq||a.folderIdMap[a.folderId];if(d){b.push(d);a.seq=d;c.push(a)}});else{var a=fa(a),d=a.seq||a.folderIdMap[a.folderId],e=a.type=="busstopline",f=a.isEditedBusline;if(d)if(e||f){if(f=e?fa({type:"busstop",key:a.key}):a){a=jQuery.extend({},a,{seq:f.folderIdMap[a.folderId]});
a.buslines=C.parseArray(a.buslines);v.removeBusline({seq:d,buslines:e?ta(a):a.buslines},function(a){return function(b){Zb.remove--;ya(b,a,"remove");if(Zb.remove<1){vb(new Ga(bc.remove),Eb.remove);va("remove")}}}([a]))}}else{b.push(d);a.seq=d;c.push(a)}}b.length>0&&v.favCUD("D",{seqs:b},function(a){return function(b){Zb.remove--;ya(b,a,"remove");if(Zb.remove<1){vb(new Ga(bc.remove),Eb.remove);va("remove")}}}(c))}function vb(a,b){var c=v.deduplicationStatus(a),e=v.isSuccess(a),f=c.indexOf(v.RESULT_CODE.SUCCESS)!==
-1,g=Da===v.VIEW_MODE.FOLDER;if(e||f){e||c.forEach(function(a){a.text("status")!==v.RESULT_CODE.SUCCESS&&b.some(function(c,d){c&&a.number("favoriteInfo.seq")===c.seq&&(b[d]=null)})});var h=0;if(b){b.forEach(function(a){if(a){var b=a.type,c=b==="busstopline",e=a.isEditedBusline,f=a.seq,j=a.folderId,k=W(c?"busstop":b,a.key,a.seq);!c&&!e&&d.remove(f);ba("D",a,e);if(!g&&parseInt(tb.folderId)===j)ub.forEach(function(c,d){if(parseInt(c.seq)===f)switch(b){case "busstopline":c.buslines=k.busLines;break;case "busstop":var g=
a.removeTarget;if(a.isPartialUpdated||g==="busline")c.buslines=k.busLines;else if(!e||g==="busstop"){na(c);ub.splice(d,1)}break;default:na(c);ub.splice(d,1)}});else if(g)(c=ub.find(function(a){return a.folderId===j}))&&c.favoriteCount--;Ab[j]&&sa(j,a.seq);h++}});N()}Fd.notify();c="";if(h>0){if(e)db=function(){j.showResultView("remove",null)};else{T();c="\uc77c\ubd80 \uc990\uaca8\ucc3e\uae30 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \uc7ac\uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."}Ja()}else c=
"\uc990\uaca8\ucc3e\uae30 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \uc7ac\uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.";e&&typeof db==="function"?db():c&&C.alert(c)}db=null}function xa(a){require("server").favoriteHomeEdit(a,function(b){Ha(b,a)})}function Ha(a,b){if(v.isSuccess(a)){if(Da===v.VIEW_MODE.DETAIL&&parseInt(tb.folderId)===b.folderId){ub.some(function(a){if(a.seq===b.seq){a.isHome=!!b.onOff;return true}});N()}if(Mb)xa(Mb);else{C.alert(b.onOff?"\ud648 \ubaa9\ub85d\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":
"\ud648 \ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");Ja()}}else a.text("status.code")===v.RESULT_CODE.OVER_MAX_COUNT&&Ja(function(a){j.showAddHomeView({selectedList:a,addData:b})});Mb=null}function cb(){Xa=false;hb=[];xb=null;qa(null);Kb[Da]="all";Cb[Da]=v.CREATE_AT}function Ze(){qa();Y()}function ib(a){a=a||{};if(a.isClose){Sa();ic();ma();c.isLogin()&&(Zc?Y():T())}else{var b=hb.pop();if(!a.item||b&&b.item.folderId===a.item.folderId)b=hb.pop();if(b){Ib=b.scrollPos||0;Na(b.item,
b.isTargetUser,true)}else r.otherPageClose()}}function Ma(a){a?Xa&&Da===v.VIEW_MODE.DETAIL?ib():Ze():Y()}function Sa(){if(Xa){cb();Tb.hide()}}function eb(a){var b=this,c="";Y(function(d){typeof profileInitCallback==="function"&&profileInitCallback();d.list.some(function(d){if(d.folderId===a){if(Xa)d.status===Ba||d.status===X?c="\uc2e0\uace0 \ucc98\ub9ac\ub41c \uadf8\ub8f9\uc785\ub2c8\ub2e4.":Na(d,false);else if(d.status===Ba)c="\uc2e0\uace0 \ucc98\ub9ac\ub41c \uadf8\ub8f9\uc785\ub2c8\ub2e4.";else{qa(d);
b.setActive(true)}return true}})||(c="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uadf8\ub8f9\uc785\ub2c8\ub2e4.");if(c){ib.call(b,{isClose:true});C.alert(c)}fc.disposeAll()})}function Ca(a){Na(a,true)}function Na(a,b,c){if(a)if(a.seq){hc="fav";U(a)}else{Kb={folder:"all",detail:"all"};Cb={folder:v.CREATE_AT,detail:v.CREATE_AT};xb=(Xa=a.mapUserId!==pb)?a.mapUserId:null;qa(!b?a:null);!Xa&&!Zc&&B.Application?Application.favoriteController.setActive(true):Y();if(Xa){var d=hb.pop();if(d){if(!c&&d.viewMode===
v.VIEW_MODE.FOLDER)d.scrollPos=Sb.scrollTop();hb.push(d)}else sb=Nb.scrollTop();hb.push({item:a,isTargetUser:!!b,viewMode:Da})}else{Da===v.VIEW_MODE.DETAIL&&(sb=Nb.scrollTop());hb=[]}}}function wb(a){if(r.hasStaticData(a.staticMode)){hc="static";U(a.data)}else if(kb()){p.setIdentity(a.staticMode);p.showAddView(false,null)}else n.click("login",["home","register_"+(a.data.myplace_type==="HOME"?"home":"company")])}function Yf(a){require("server").myPlaceAddUpdate({poi_id:a.data.key,poi_type:a.data.type.toLowerCase(),
myplace_type:a.staticMode=="home"?"HOME":"COMPANY",display1:a.data.display1,x:a.data.x,y:a.data.y},function(b){if(v.isSuccess(b)){Db[a.staticMode]=de(a.data,a.staticMode);r.setStaticData(a.staticMode,Db[a.staticMode]);Gd.notify({mode:a.staticMode,type:"update",data:a.data});Bb();C.alert(a.staticMode==="home"?"\uc9d1 \uc8fc\uc18c\uac00 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\ud68c\uc0ac \uc8fc\uc18c\uac00 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}else p.showAddView()})}function de(a,b){return{key:a.key||
a.poiId,type:a.poiType?a.poiType.toLowerCase():a.type,myplace_type:b=="home"?"HOME":"COMPANY",display1:a.display1,x:a.x,y:a.y}}function Ye(a){var a=a||{},b={pageType:Xa?"other":"my",viewType:Da===v.VIEW_MODE.FOLDER?"folder":"favorite",viewFakeType:Da===v.VIEW_MODE.FOLDER?"folder":"favoritelist"};if(a.sortType)b.sortType=a.sortType===v.CREATE_AT?"by_createdtime":"by_name";return b}function Wf(a){a&&["migrationBanner_","favoriteBanner_"].forEach(function(b,c){jQuery.cookie(b[c]+a,null,{path:"/"})})}
ga(this,ec);this.onActive.add($d,this);this.favoriteListView=r;var Fd=this.onChangeItem=new m,Gd=this.onChangeMyPlace=new m,kc=s.getController(s.KEY.SEARCH),Xf=this,Zc=false,Oa=false,pb=null,jb=false,Fb=false,Da=v.VIEW_MODE.FOLDER,zb=v.VIEW_MODE.FOLDER,tb=null,Pa={},Wa=[],ob={},Xa=false,hb=[],xb=null,Ib=0,sb=0,Nb=jQuery("#info\\.my [data-id=list]"),Sb=jQuery("#info\\.other [data-id=body]"),Tb=jQuery("#info\\.other"),Mb=null,ub=null,Db=null,Pb=[],Za=null,Kb={folder:"all",detail:"all"},Cb={folder:v.CREATE_AT,
detail:v.CREATE_AT},Wb=["place","point","address","subwaystation","busstop"],Hb=null,db=null,Xb=null,Ub="",dc={point:{show:function(a){aa(a);a.model?Z(a):require("server").getAddressShape({x:a.x,y:a.y},function(b){address=new Ta(b);address.type="point";address.oldname=b.text("old.name");address.otherName=b.text("old.name");a.model=address;Z(a)})}},address:{show:function(a){aa(a);if(a.model){Z(a);la(a)}else require("server").searchAddress({docid:a.key},function(b){if(b.number("total_count")>0){b=new Ta(b.find("List")[0]);
a.model=b;Z(a);la(a)}else Ra()})}},place:{show:function(a){aa(a);if(a.model){Z(a);kc.getAoi(a.model.id)&&kc.setHighlightMode(a.model.id)}else ca.findPlace(a.key,function(b){if(b){if(b.pointExtension)if(kc.getAoi(b.id)){kc.setHighlightMode(b.id);searchBoxSelectedId=null}else{kc.callAfterLoad(function(){kc.setHighlightMode(b.id)});kc.find(b.id);searchBoxSelectedId=b.id}a.model=b;Z(a)}else Ra()})}},w3w:{show:function(a){J.search(a.key,function(a){a&&J.showTooltipByW3w(a)})}},busstop:{show:function(a){aa(a);
a.model?Z(a):R.find(a.key,function(b){if(b.id){a.model=b;Z(a)}else Ra()}.bind(this))}},busstopline:{show:function(a){var b=a.key.split("@"),c=b[0],b=b[1],d=a.refStop;if(d){a.idx=a.idx||(a.buslines?a.buslines.split(":")[1]:"1/1");a.marker=a.marker||d.marker;a.color=a.color||d.color;a.icon=a.icon||d.icon;a.seq=a.seq||d.seq;d.x=d.x||a.x;d.y=d.y||a.y;!a.marker&&!d.marker&&ia(d);aa(d);if(a.model)Z(a);else{a.marker=d.marker;a.lineid=b;R.find(c,function(b){if(b.id){a.model=b;Z(a)}else Ra()}.bind(this))}}else Ra()}},
busline:{show:function(a){k.setData(a.key,true)}},subwaystation:{show:function(a){aa(a);if(!a.model){var b=new bb(new Ga(a));a.model=b}Z(a)}},roadview:{show:function(a){var b=a.key||0,c=a.pan||0,d=a.tilt||0,e=a.zoom||0;nb.exists(b,function(g){if(g){g=new daum.maps.Coords(a.x,a.y);f.show({coords:g,panoId:b,pan:c,tilt:d,zoom:e});x.logRoadview("favorite_rv",b,g,Application.localInfoController.getHCodeForLog())}else if(a.x&&a.y){f.showNearby(new daum.maps.Coords(a.x,a.y),100);g=new daum.maps.Coords(a.x,
a.y);x.logRoadview("favorite_rv",b,g,Application.localInfoController.getHCodeForLog())}})}},storeview:{show:function(a){f.showStoreView(a.key,a.spot_id,{pan:a.pan||0,tilt:a.tilt||0,zoom:a.zoom||0})}},route_car:{show:function(a){var b=require("controller/FlagSearchController");b.setActive(true);b.reset();b.setDefaultModeCar();var c=[];(a.route_form||null).forEach(function(a,b){c.push(new Lb(new daum.maps.Coords(a.x,a.y),a.name,a.key,b,a.poi_type))});a=new rb;a.waypoints=c;b.setFlagSearch(a);b.setDefaultOption(Ka.REALTIME);
b.setRoute()}},route_pubtrans:{show:function(a){var b=require("controller/FlagSearchController");b.setActive(true);b.reset();b.setDefaultModeTransit();var c=[];(a.route_form||null).forEach(function(a,b){c.push(new Lb(new daum.maps.Coords(a.x,a.y),a.name,a.key,b,a.poi_type))});a=new rb;a.waypoints=c;b.setFlagSearch(a);b.setRoute()}},route_walk:{show:function(a){var b=require("controller/FlagSearchController");b.setActive(true);b.reset();b.setDefaultModeWalk();var c=[];(a.route_form||null).forEach(function(a,
b){c.push(new Lb(new daum.maps.Coords(a.x,a.y),a.name,a.key,b,a.poi_type))});a=new rb;a.waypoints=c;b.setFlagSearch(a);b.setRoute()}},route_bicycle:{show:function(a){var b=require("controller/FlagSearchController");b.setActive(true);b.reset();b.setDefaultModeBike();var c=[];(a.route_form||null).forEach(function(a,b){c.push(new Lb(new daum.maps.Coords(a.x,a.y),a.name,a.key,b,a.poi_type))});a=new rb;a.waypoints=c;b.setFlagSearch(a);b.setRoute()}},route_subway:{show:function(a){var b,c;if(a.route_form&&
a.route_form.length==2){b=a.route_form[0].key.substring(0,3);a.subwayRegion=mb.cityId[b];a.startName=a.route_form[0].name;a.endName=a.route_form[1].name;b=a.route_form[0].key;c=a.route_form[1].key}l.searchController.setRegionId(a.subwayRegion);l.searchController.setPrefixKeyword();var d=l.searchController.REGION_ID.indexOf(a.subwayRegion);l.setRegion(d);l.setActive(true);l.findRouteByName(a.startName,a.endName,b,c)}}};H="review";var Ob=500,Rb=100;E="P";z="D";X="T";Ba="A";ja="M";S="S";V="T";var Zb=
{add:0,remove:0},bc={add:null,remove:null},Eb={add:[],remove:[]},Vb={add:false,remove:false},$b="",hc=null,Qb={},Ab={},gc=new Pd(a,[],{pixelBufferSize:20,minLevel:3}),ac=null;kakao.maps.event.addListener(a,"zoom_changed",function(){if(ac){a.setCursor(null);ac.hide()}});j.onAddFolderClick.add(function(a){var b="C",c={title:a.title,memo:a.memo,icon:a.icon,status:a.status},d=parseInt(a.folderId)===a.folderId,e=a.status==="O",e=d?a.isStatusChanged&&e:e,f=d?O.FAVORITE.PRIVACY_CHANGE:O.FAVORITE.PRIVACY_NEW;
if(d){b="U";c.folderId=a.folderId}["\uae30\ubcf8 \uadf8\ub8f9","default group"].indexOf(a.title.toLowerCase())!==-1?C.alert("\ub3d9\uc77c\ud55c \uadf8\ub8f9\uba85\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4."):(!e||confirm(f))&&v.folderCUD(b,c,function(b){var c=b.text("status.code"),d=v.deduplicationStatus(b),e=v.isSuccess(b),f=d.indexOf(v.RESULT_CODE.SUCCESS)!==-1,g="",g=parseInt(a.folderId)===a.folderId,d=true;if(e||f){b=a.folderId||b.number("req.folderId");a.viewOnMap?oa(b):yb(b);Da===v.VIEW_MODE.FOLDER&&
Y(T);Da===v.VIEW_MODE.DETAIL&&K(a.folderId);g=g?"\uadf8\ub8f9\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uadf8\ub8f9\uc774 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";if(a.referer&&a.referer.type==="folderSelect"){Zd(a.referer.fav,a.referer.fav.type==="busstopline");g=""}}else if(c===v.RESULT_CODE.NO_DAUM_LOGIN)g="\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.";else if(c===v.RESULT_CODE.DUPLICATE_ITEM){g="\ub3d9\uc77c\ud55c \uadf8\ub8f9\uba85\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4.";
d=false}else g=c===v.RESULT_CODE.OVER_MAX_COUNT?"\ucd5c\ub300 "+(jb?Ob:Rb)+"\uac1c\uae4c\uc9c0 \uc0dd\uc131 \uac00\ub2a5\ud569\ub2c8\ub2e4.":["NOT_AUTHORIZED","NO_KAKAO_LOGIN"].indexOf(c)!==-1?"":b.text("message")||b.text("status.message");g&&C.alert(g);d&&j.hide()})});j.onCopySelectFolder.add(function(a){var b=a.favItems[0].folderId,c=a.folderInfo.folderId,a=Ua(a.favItems,c),d=a.copy.map(function(a){a=jQuery.extend({},a,{folderId:c});return v.createFromFav(a)});Hb=function(a){return function(b){var c=
v.deduplicationStatus(b),d=v.isSuccess(b),e=c.indexOf(v.RESULT_CODE.SUCCESS)===-1,f=[],g=false,h=false,j=false;c.forEach(function(a){switch(a){case v.RESULT_CODE.OVER_MAX_COUNT:g=true;break;case v.RESULT_CODE.DUPLICATE_ITEM:h=true;break;default:v.RESULT_CODE.SUCCESS||(j=true)}});g&&f.push("- \ud3f4\ub354\uc758 \ucd5c\ub300 \uc800\uc7a5 \uac1c\uc218 \ucd08\uacfc");h&&f.push("- \ub3d9\uc77c\ud55c \uc990\uaca8\ucc3e\uae30 \uc911\ubcf5");j&&f.push("- \uc54c \uc218 \uc5c6\ub294 \uc624\ub958");if(e)C.alert("\uc990\uaca8\ucc3e\uae30 \ubcf5\uc0ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.\n"+
f.join("\n"));else{c="\uc77c\ubd80 \ud56d\ubaa9\uc774 \ubcf5\uc0ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.\n"+f.join("\n")+"\n\n\ubcf5\uc0ac\ud55c \uc6d0\ubcf8\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?";d&&(c="\uc990\uaca8\ucc3e\uae30 \ubcf5\uc0ac\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ubcf5\uc0ac\ud55c \uc6d0\ubcf8 \uc990\uaca8\ucc3e\uae30\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?");var k=[],l=[];b.find("statusList").forEach(function(b){if(b.text("status")===
v.RESULT_CODE.SUCCESS){var c=new v(b.object("favoriteInfo")),d=b.text("favoriteInfo.removeTarget"),e=fa(c),c=jQuery.extend({},c,{folderId:a,seq:e.folderIdMap[a]});if(e.type==="busstop"){var b=b.text("favoriteInfo.busLines"),f=W("busstop",e.key).filter(function(b){return b.folderId===a})[0].busLines||"",b=Ya(b,f),f=b.length>0;d==="busline"||f?l.push(jQuery.extend({},e,{folderId:a,seq:e.folderIdMap[a],buslines:b.join(","),isEditedBusline:true,isPartialUpdated:true,removeTarget:d})):k.push(c)}else k.push(c)}});
if(confirm(c)){va("remove");Vb.remove=k.length>0&&l.length<2;Zb.remove=l.length+(k.length>0?1:0);l.forEach(function(a){Jc(a)});Jc(k)}else Y()}}}(b);va("add");Vb.add=d.length>0&&a.sync.length<2;Zb.add=a.sync.length+(d.length>0?1:0);La(d);a.sync.forEach(function(a){La(a)})});j.onAddClick.add(La);j.onEditClick.add(function(a){db=function(){j.showResultView("edit",{fav:a,folderInfo:tb})};a.isEdit=true;v.favCUD("U",{seq:a.seq,display1:a.display1,display2:a.display2,color:a.color,memo:a.memo},function(b){ab(b,
[a])})});j.onRemoveClick.add(Jc);j.onRegisterSelected.add(function(a){Mb=a.addItem;xa(a.removeItem)});j.onClickProfile.add(Ca);j.onClickFolderName.add(Na);r.onClickFilter.add(Aa);r.onClickSort.add(function(a){var b=Da===v.VIEW_MODE.FOLDER;Cb[Da]=a;b?Y():N()});r.onRemoveItem.add(Qa);r.onRemoveFavoriteItem.add(Jc);r.onReportItem.add(function(a){kb()?B.open(F.REPORT.URL+a.querystring,"favorite_report",F.REPORT.FEATURE):n.click("login",["other",a.type+"_report"])});r.onRemoveSelectedItem.add(function(a){var b=
Da===v.VIEW_MODE.FOLDER,c=[],d=[];b?a.forEach(function(a){b&&[S,V].indexOf(a.folderType)!==-1?d.push(a.folderId):c.push(a)}):c=a;var a=c.length>0,e=true;a&&(e=Qa(c));e&&(b&&d.length>0)&&ha({onOff:false,folderIds:d},a)});r.onCopySelectedItem.add(Zd);r.onEditItem.add(function(a,b){b&&(Hb=b);if(Da===v.VIEW_MODE.FOLDER){var c=qb();a.viewOnMap=c.indexOf(a.folderId)!==-1;za(a)}else kb()&&j.showAddFavoriteView(a,tb)});r.onShare.add(function(a){a.status===E?a.folderId===0?C.alert("\uae30\ubcf8\uadf8\ub8f9\uc740 \ube44\uacf5\uac1c \uadf8\ub8f9\uc73c\ub85c \uacf5\uc720\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):
C.alert("\ube44\uacf5\uac1c \uadf8\ub8f9\uc740 \uacf5\uc720\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uacf5\uac1c \uc124\uc815\uc744 \ubcc0\uacbd\ud574\uc8fc\uc138\uc694."):A.show({folderId:a.folderId})});r.onFolderInfo.add(function(a){if(a.folderId===0){a.isMyFolder=a.mapUserId===pb;j.showFolderInfoView(a)}else require("server").favoriteFolderInfo({folderId:a.folderId},function(a){var b="";if(v.isSuccess(a)){a=a.object("result").raw();if(a.status===Ba||a.status===X)b="\uc2e0\uace0 \ucc98\ub9ac\ub41c \uadf8\ub8f9\uc785\ub2c8\ub2e4.";
else if(a.status===E&&a.mapUserId!==pb)b="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uadf8\ub8f9\uc785\ub2c8\ub2e4.";else{a.isMyFolder=a.mapUserId===pb;j.showFolderInfoView(a)}}else{a=a.text("status.code");a===v.RESULT_CODE.INTERNAL_PROBLEM?b="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uadf8\ub8f9\uc785\ub2c8\ub2e4.":a===v.RESULT_CODE.NOT_EXIST_ITEM&&(b="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uadf8\ub8f9\uc785\ub2c8\ub2e4.")}if(b){C.alert(b);Ma(true)}})});r.onOtherPage.add(Ca);r.onAddFolder.add(za);r.onViewOnMap.add(function(a){a.onOff?
oa(a.folderId):yb(a.folderId);$();N()});r.onSubscribe.add(ha);r.onRegisterItem.add(xa);r.onClickTab.add(Y);r.onClickItem.add(function(a,b,c){if(a.seq){var d=Ye();n.click(d.pageType,["favorite","list_click",a.type])}Na(a,b,c)});r.onClickBack.add(Ze);r.onHistoryBack.add(ib.bind(this));r.onReviewTabClick.add(function(a){if(a){w.setMapUserId(a);w.refreshList()}});d.onClick.add(function(a){hc=a.myplace_type?"static":"fav";if(hc==="static")wb({staticMode:a.myplace_type.toLowerCase(),data:a});else{U(a);
Qb=a}});t.onClick.add(function(a){hc="history";U(a);n.click("history",a.type)});w.onClick.add(function(a){hc="review";U(a)});r.onStaticRegistClick.add(function(a){var b=!(!Db||!Db[a.staticMode]);if(a.staticMode=="home"){p.setIdentity("home",b);p.showAddView(r.hasStaticData(a.staticMode),a.data)}else if(a.staticMode=="company"){p.setIdentity("company",b);p.showAddView(r.hasStaticData(a.staticMode),a.data)}});r.onStaticRemoveClick.add(function(a){require("server").myPlaceDelete({myplace_type:a.staticMode==
"home"?"HOME":"COMPANY"},function(b){if(v.isSuccess(b)){r.setStaticData(a.staticMode,null);Gd.notify({mode:a.staticMode});Db[a.staticMode]=null;C.alert(a.staticMode==="home"?"\uc9d1 \uc8fc\uc18c\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\ud68c\uc0ac \uc8fc\uc18c\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");Bb()}})});r.onStaticItemClick.add(wb);r.onRegistStaticFromFavorite.add(function(a){p.setIdentity(a.staticMode);p.showAddView(r.hasStaticData(a.staticMode),a.data)});p.onUpdate.add(function(a){Yf({staticMode:a.staticMode,
data:{key:a.data.key||a.data.id,type:a.data.type,display1:a.data.display1||a.data.nameOrigin,x:a.data.x||0,y:a.data.y||0}})});A.onFail.add(function(a){var b="";a.status===v.RESULT_CODE.INTERNAL_PROBLEM||a.status===v.RESULT_CODE.NOT_EXIST_ITEM?b="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uadf8\ub8f9\uc785\ub2c8\ub2e4.":a.status===v.RESULT_CODE.REPORT_ITEM&&(b="\uc2e0\uace0 \ucc98\ub9ac\ub41c \uadf8\ub8f9\uc785\ub2c8\ub2e4.");if(b){C.alert(b);Ma(true)}});var Yb=new Gb;Yb.add(i.$("my.subtab.favorite"),
i.$("my.favorite"));Yb.add(i.$("my.subtab.static"),i.$("my.static"));Yb.add(i.$("my.subtab.review"),i.$("my.review"));w.onFail.add(function(){Yb.setIndex(0);$d()});Yb.onChange.add(function(a){if(pb&&Yb.getIndex()===a){a<3&&n.click("my",["folder","home_company","review"][a]);switch(a){case 0:var b=G.TIARA.my_folder;Y();require("log/Tiara").log(b);Ub=b;break;case 1:Ea();require("log/Tiara").log(G.TIARA.my_place);break;case 2:w.setMapUserId();w.refreshList()}jQuery("#info\\.my\\.footer").toggle(a===
0)}w.setActive(a===2);Application.windowController.updateHeight()});q.onChange.add(ka);c.isLogin()||ka(null);this.setList=N;this.getShareInfo=function(){return r.getShareInfo()};this.hasFavorite=function(a){return!!fa(a)};this.findFavorite=function(a){return fa(a)};this.add=function(a,b){if(kb()){a=fa(a)||a;Zd(a)}else b&&n.click("login",[b,"add_favorite"])};this.remove=function(a){fa(a)&&Qa(a)};this.removeInstantMarker=ma;this.reset=function(){ma();cb();Zc&&Yb.setIndex(Yb.getIndex())};this.getTabIndex=
function(){return Yb.getIndex()};this.getMyPlaces=function(){return Db};this.checkTab=function(a,b){var c=false,d={review:["liked"]};["photo","report"].includes(a)&&(c=true);if(b)for(var e in d){var f=d[e];a===e&&f.includes(b)&&(c=true)}c&&C.alert("\uce74\uce74\uc624\ub9f5 \uc571\uc5d0\uc11c \uc81c\uacf5\ub429\ub2c8\ub2e4.")};this.setMyTab=function(a){var b={favorites:0,myplaces:1,review:2};cb();Oa?Yb.setIndex(b[a]||0):Xb=Xb?[Xb,function(){Yb.setIndex(b[a]||0)}]:function(c){Y(function(){typeof c===
"function"&&c();Yb.setIndex(b[a]||0)})}};this.getViewMode=function(){return Da};this.getFavoriteIdMap=W;this.openLoginPopup=kb;this.showOtherFolder=function(a){var b=fc(),d=this;jQuery("#search\\.keyword\\.query").blur();var e=function(e){if(a.folderid){var f=parseInt(a.folderid);if(f===0)if(a.map_attribute==="ROADVIEW")b.dispose();else if(c.isLogin()&&pb===a.mapuserid)eb.call(d,0);else{C.alert("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uadf8\ub8f9\uc785\ub2c8\ub2e4.");b.dispose()}else require("server").favoriteFolderInfo({folderId:f},
function(a){if(v.isSuccess(a)){xb=(Xa=a.text("result.mapUserId")!==pb)?a.text("result.mapUserId"):null;eb.call(d,f)}else{var c="";a.text("status.code")===v.RESULT_CODE.NOT_EXIST_ITEM&&(c="\uc791\uc131\uc790\uc5d0 \uc758\ud574 \ube44\uacf5\uac1c \ucc98\ub9ac\ub418\uac70\ub098 \uc0ad\uc81c\ub41c \uadf8\ub8f9\uc785\ub2c8\ub2e4.");c&&C.alert(c);b.dispose()}})}else{xb=(Xa=a.mapuserid!==pb)?a.mapuserid:null;require("server").profileInfo({mapUserId:a.mapuserid},function(c){if(v.isSuccess(c)){hb.push({item:{profileImage:c.text("result.thumbnailImage"),
nickName:c.text("result.nickName"),mapUserId:a.mapuserid,profileStatus:c.text("result.profileStatus"),cp:c.bool("result.cp")},isTargetUser:true});Y(function(){typeof e==="function"&&e();Xa||d.setActive(true);switch(a.tab){case "review":Xa?r.setOtherPageTab("review"):Yb.setIndex(2)}b.dispose()})}})}};Oa?e():Xb=function(a){Y([a,e,function(){b.dispose()}])}};this.isOtherPageOpen=function(){return Xa};this.closeOtherPage=Sa;this.addFavorite=La;this.removeFavorite=Jc}));"use strict";define("controller/FavoriteRegisterController",
["controller/AuthController"],L(he));"use strict";define("controller/FiyFrameController","jquery url map/Map map/MapTileManager controller/ShareController controller/AuthController".split(" "),L(function(a,b,c,d,e,f){var h,g,k;function l(a){if(G){var b=+a.width,a=+a.height;b>jQuery(B).width()&&(b=jQuery(B).width());a>jQuery(B).height()-50&&(a=jQuery(B).height()-50);var c=G.$("frame");G.css({width:b,height:a||C});c.css({width:b,height:a||C})}}function j(a){if(!a||!a.type||!A[a.type])return A.general;
var b=A[a.type];a.type!="roadview"&&a.rawInfo&&a.rawInfo.roadviewFrom?b=b+("?id="+a.rawInfo.id):a.type=="updatePlace"&&(b=b+a.rawInfo.confirmId);return b=b+((b.indexOf("?")>=0?"&":"?")+"serviceName=kakaomap&agentType=PC")}function i(b){var c=0;a(J).each(function(a,d){if(d.name===b)c=d.id});return c}function p(){var a=c.getCenter(),b=a.getX().toFixed(0),a=a.getY().toFixed(0),f=c.getLevel(),g=c.isRoadmap()?"MAPTYPE_MAP":"MAPTYPE_SKYVIEW",h=c.getMapTypeId()==daum.maps.MapTypeId.HYBRID,j=location.href.replace(/([?#].*)?$/,
"?"+e.getShareQueryString()),k=location.href,l=c.getMapTypeId(),i="",u;for(u in daum.maps.MapTypeId)daum.maps.MapTypeId[u]===l&&(i=u);b={x:b,y:a,level:f,mapType:g,isHybrid:h,copyurl:j,accessurl:k,tile:{mapTypeName:i,airType:Application.airMapTileController.getAirTileName(),poiTileInfo:Application.mainMapController.poiTileController.getTileInfo(),terrain:d.get("terrain"),overlay:d.get("overlay"),air:d.get("air"),roadview:d.get("roadview"),traffic:d.get("traffic"),bicycle:d.get("bicycle"),bicyclehybrid:d.get("bicyclehybrid"),
themespring:d.get("themespring"),themefall:d.get("themefall"),theme:d.get("theme"),usedistrict:d.get("usedistrict"),bboundary:d.get("bboundary"),hboundary:d.get("hboundary"),indoor:d.get("indoor")},userQuery:Application.keywordSearchController.getKeyword()||""};if(b.tile.bboundary&&b.tile.hboundary){u=d.getOverlayIndex("hboundary");a=d.getOverlayIndex("bboundary");b.tile.lastAddBound=u>a?"hbound":"bbound"}return b}function o(){clearTimeout(M);M=setTimeout(function(){m.contentWindow.postMessage({messageType:h},
"*")},w)}function s(){G.removeClass("HIDDEN");u.removeClass("HIDDEN");O[0].onload=null}function t(a){f.request(function(){var b=j(a);a.mapInfo=p();q=a;if(b){c.setKeyboardShortcuts(false);G.addClass("Forefront");jQuery(B).on("resize",o);a.type!="newPlace"&&a.type!="generalExternal"&&G.addClass("wideFrame");O=G.$("frame");var d=b.indexOf(require("url").NEW_FIY_SERVER_URL)>-1;if(a.channel)var e=i(a.channel),b=b+("&channelId="+(d?e+Q:e));e=a.rawInfo;a.type==="newPlace"&&(e&&e.x&&e.y)&&(b=b+("&wx="+e.x+
"&wy="+e.y));var e=g,f=k;l(d?e:f);s();O.attr("src",b);O[0].onload=s;G.on("scroll",function(){G.scrollTop(0)})}})}var u=a("#dimmedLayer"),q={};k={width:950,height:575};g={width:400,height:650};var w=250;h="resizeFIYPopup";var m={},M={};B.addEventListener("message",function(a){if(a.origin.includes(".kakao.com")){var b=a.data.messageType;if(a.data.serviceName==="fiy")if(b==="onClose"){jQuery(B).off("resize",o);c.setKeyboardShortcuts(true);O[0].onload=null;u.addClass("HIDDEN");G.addClass("HIDDEN");O.attr("src",
"")}else if(b==="onSizeChanged")l(a.data.params);else if(b==="getFiyData"){m=document.querySelector(".FiyFrame iframe");a.source.postMessage({messageType:"postFiyData",fiyData:q},a.origin)}}});var A={newPlace:b.NEW_FIY_SERVER_URL+"place/create",updatePlace:b.NEW_FIY_SERVER_URL+"place/",general:b.FIY_SERVER_URL+"map/CsGeneral.kakao",map:b.FIY_SERVER_URL+"map/CsMap.kakao",roadview:b.FIY_SERVER_URL+"map/CsRoadview.kakao",route:b.FIY_SERVER_URL+"map/CsRoute.kakao",subway:b.FIY_SERVER_URL+"map/CsTransportSubway.kakao",
bus:b.FIY_SERVER_URL+"map/CsTransportBus.kakao",busStop:b.FIY_SERVER_URL+"map/CsTransportBus.kakao"},J=[{name:"CLICK_RIGHT",id:101},{name:"ICON_NEWPLACE",id:102},{name:"SEARCH_NORESULT",id:103},{name:"SEARCH_LIST_BOT",id:104},{name:"ROUTE_NORESULT",id:105},{name:"ROUTE_LIST_BOT",id:106},{name:"TOOLTIP_PLACE",id:107},{name:"DETAIL_PLACE",id:108},{name:"LABEL_TOP",id:109},{name:"LABEL_OTHER_POPUP",id:110},{name:"DEFAULT",id:112},{name:"DETAIL_PLACE_PHOTO",id:115},{name:"TOOLTIP_ETC",id:117},{name:"TOOLTIP_ADDR",
id:130},{name:"TOOLTIP_BUSSTOP",id:162},{name:"TOOLTIP_SUBWAYSTATION",id:163},{name:"DETAIL_BUS",id:164},{name:"DETAIL_SUBWAYSTATION",id:165},{name:"FROM_ROADVIEW",id:166},{name:"DETAIL_PLACE_SUBWAYSTATION",id:168},{name:"ROUTE_LIST_SUBWAYSTATION",id:171},{name:"SIDEBAR_NEWPLACE",id:172},{name:"SIDEBAR_MODIFYMAP",id:173},{name:"SEARCH_MIDDLE_NEWPLACE",id:174},{name:"SEARCH_MIDDLE_MODIFYMAP",id:175},{name:"SEARCH_BOTTOM_NEWPLACE",id:176},{name:"SEARCH_BOTTOM_MODIFYMAP",id:177}],Q=100,C=575,G=null,
G=H("FiyFrame");G.addClass("HIDDEN");a("body").append(G);var O=G.$("frame");this.open=function(a){t(a)};this.openCsGeneralFromEvent=function(){t({type:"general",channel:"LABEL_TOP"});n.click("control","fiy")};this.openCustomerRequest=function(a){var a=a||{},b={};if(a.address){b.type="general";b.rawInfo={x:a.coords.getX(),y:a.coords.getY(),address:a.address,relatedAddress:a.relatedAddress,relatedPrefixAddress:a.relatedPrefixAddress,zipcode:a.zipcode,zonenum:a.zonenum,hcode:a.hcode,bcode:a.bcode,code:a.code}}else if(a.type)b.type=
a.type;else if(a.confirmId){b.type="updatePlace";b.rawInfo={confirmId:a.confirmId}}else if(a.busStopId){b.type="busStop";b.rawInfo=a.rawData.raw()}else if(a.subwayId){b.type="subway";b.rawInfo={subwayId:a.subwayId,subwayLineId:a.subwayLineId,name:a.name}}else b.type=a.category=="D"?"general":"map";if(a.coords){b.rawInfo=b.rawInfo||{};b.rawInfo.x=a.coords.getX();b.rawInfo.y=a.coords.getY()}b.channel=a.channel||"LABEL_TOP";t(b)};this.isActivated=function(){return!G.hasClass("HIDDEN")}}));Ya.prototype.visible_=
!1;Ya.prototype.setFlagSearch=function(a){var b=a.waypoints,c=b.length-1;this.mapFlagList_.forEach(function(a){a.setMap(null)},this);b.forEach(function(a,b){var f=null,f=this.mapFlagList_[b]?this.mapFlagList_[b]:new Aa;f.setVisible(true);f.setMap(this.map_);this.mapFlagList_[b]=f;a!=null?this.mapFlagList_[b].setPosition(a.coords):this.mapFlagList_[b].setMap(null);this.mapFlagList_[b].onChange.clear();this.mapFlagList_[b].onRemoveFlag.clear();this.mapFlagList_[b].onChange.add(this.changeFlag_,this);
this.mapFlagList_[b].onRemoveFlag.add(this.removeFlag_,this);b==0?this.mapFlagList_[b].setType("origin"):b==c?this.mapFlagList_[b].setType("dest"):this.mapFlagList_[b].setType("via"+b)},this);this.setViaFlagCnt(a);this.mapFlagList_.length=b.length;this.viaScout_.setEnabled(b.slice(1,-1).filter(Boolean).length<5)};Ya.prototype.setViaFlagCnt=function(a){a=a.getViaCount();this.viaCount_=Math.max(1,a)};Ya.prototype.changeFlag_=function(a){var b=a.getCoords();this.onChange.notify({index:this.getIndex_(a),
coords:b})};Ya.prototype.getIndex_=function(a){return idx=this.mapFlagList_.indexOf(a)==-1?a==this.originFlag_?0:this.mapFlagList_.length-1:this.mapFlagList_.indexOf(a)};Ya.prototype.addViaFlag_=function(a){this.onAdd.notify(a.getCoords())};Ya.prototype.removeFlag_=function(a){this.onRemove.notify(this.mapFlagList_.indexOf(a))};Ya.prototype.show=function(a){this.panel_.setClass("Fold",!a);this.setVisibleFlagPanel_(true);this.isFindWay_=a;this.setVisibleFlags_(a)};Ya.prototype.addExpandEvent_=function(){this.panel_.onEnter.add(this.expand_,
this);this.panel_.onLeave.add(this.fold_,this)};Ya.prototype.expand_=function(){if(!this.expanded_&&!this.isFindWay_){this.timeout=null;this.timeout=setTimeout(function(a){return function(){a.expandAnimate_();a.expanded_=true;clearTimeout(a.timeout)}}(this),200)}};Ya.prototype.fold_=function(){this.timeout&&clearTimeout(this.timeout);if(this.expanded_&&!this.floating_&&!this.isFindWay_){this.foldAnimate_();this.floating_=this.expanded_=false}};Ya.prototype.expandAnimate_=function(){var a=this.panel_;
a.addClass("FlagAnimating");var b=jQuery(this.wrapPanel_.getElement());b.find(".viaWrap").animate({top:38},this.ANIMATE_SPEED_,function(){jQuery(this).removeAttr("style")});b.find(".destWrap").animate({top:76},this.ANIMATE_SPEED_,function(){jQuery(this).removeAttr("style");a.removeClass("Fold FlagAnimating")})};Ya.prototype.foldAnimate_=function(){var a=this.panel_,b=jQuery(this.wrapPanel_.getElement());b.find(".viaWrap").animate({top:3},this.ANIMATE_SPEED_,function(){jQuery(this).removeAttr("style")});
b.find(".destWrap").animate({top:3},this.ANIMATE_SPEED_,function(){jQuery(this).removeAttr("style");a.addClass("Fold")})};Ya.prototype.hide=function(){this.visible_=false;this.setVisibleFlagPanel_(false);this.setVisibleFlags_(false)};Ya.prototype.setVisibleFlagPanel_=function(a){(this.visible_=a)?this.wrapPanel_.show():this.wrapPanel_.hide()};Ya.prototype.setVisibleFlags_=function(a){var b=this.mapFlagList_.length-1;this.mapFlagList_.forEach(function(c,d){d!=0&&d!=b?c.setVisible(a&&this.viaVisible_):
c.setVisible(a)},this)};Ya.prototype.setViaVisible=function(a){a?this.panel_.removeClass("Flag-noVia"):this.panel_.addClass("Flag-noVia");this.viaVisible_=a&&this.visible_;this.viaFlag_.setVisible(a);var b=this.mapFlagList_.length-1;this.mapFlagList_.forEach(function(a,d){d!=0&&d!=b&&a.setVisible(this.viaVisible_)},this)};Ya.prototype.getViaVisible=function(){return!this.panel_.hasClass("Flag-noVia")};Ya.prototype.setOrigin=function(a,b){if(a){this.originFlag_.setMap(this.map_);this.originFlag_.setCoords(a,
b)}else this.originFlag_.setMap(null)};Ya.prototype.setDest=function(a,b){if(a){this.destFlag_.setMap(this.map_);this.destFlag_.setCoords(a,b)}else this.destFlag_.setMap(null)};Ya.prototype.setVia=function(a,b){this.viaFlag_.setMap(this.map_);this.viaFlag_.setCoords(a,b)};Ya.prototype.resetOrigin=function(){this.originFlag_.setMap(null)};Ya.prototype.resetDest=function(){this.destFlag_.setMap(null)};Ya.prototype.resetVia=function(){this.viaFlag_.setMap(null)};Ya.prototype.setCollapseToggleEvent=function(){Application&&
Application.windowController.onCollapseToggle.add(function(a){var b=a?420:30;this.originFlagPoint=new daum.maps.Point(b,48);this.destFlagPoint=new daum.maps.Point(b,this.viaVisible_?120:84);this.viaFlagPoint=new daum.maps.Point(b,84);if(Application.flagSearchController.active_){this.show(!a);this.setVisibleFlags_(true)}}.bind(this))};define("controller/FlagController",["map/Map"],L(Ya));N.prototype.flagClickHandler=function(a){this.flagSearchResultController.clear();this.setWaypointWithoutRoute(a.type,
a.item);this.findAoi(a.item);this.setActive(true)};N.prototype.findAoi=function(a){if(a.pointExtension||a.lineData){this.aoiController_.clear();this.aoiController_.callAfterLoad(function(){this.aoiController_.setHighlightMode(a.id);this.map_.setBounds(this.aoiController_.getCoordsBounds(a.id))}.bind(this))}a.pointExtension?this.aoiController_.find(a.id):a.lineData&&this.aoiController_.findAddress(a)};N.ORIGIN_WHICH_="Origin";N.VIA_WHICH_="Via";N.DEST_WHICH_="Dest";N.prototype.which_=N.ORIGIN_WHICH_;
N.prototype.changeActive_=function(){if(this.getActive()){i.$("info.route").setVisible(true);i.$("info.route.searchBox").setVisible(true);if(!this.withRoadview_){this._viewLayout.setMapOnly();this.withRoadview_=false;this.map_.setKeyboardShortcuts(true)}this.notifyFlagSearch_();this.handleRoute_();this.flagSearchResultController.show()}else{fc.disposeAll();this.flagSearchResultController.hide();this.carRouteSearchController.setActive(false);this.transitRouteSearchController.setActive(false);this.walkRouteSearchController.setActive(false);
this.bikeRouteSearchController.setActive(false)}};N.prototype.setFlagSearch=function(a){this.flagSearch_=a;this.notifyFlagSearch_()};N.prototype.setWaypointWithoutRoute=function(a,b){var c="",d="";if(b instanceof R){d="BUSSTOP";c=b.id}else if(b instanceof bb||b.subway&&b.subway.id){d="SUBWAYSTATION";c=b.subway.id}else if(b instanceof Ta){d="ADDRESS";c=b.docid}else{d="PLACE";c=b.placeid||b.id}c=new Lb(b.coords,b.name,c,null,d);a==N.ORIGIN_WHICH_?this.flagSearch_.setWaypoint(0,c):this.flagSearch_.setWaypoint(this.flagSearch_.getLastIndex(),
c);this.methodView_.clearEstimateTime();this.notifyFlagSearch_();this.resetWaypoint();this.keywordSearchController.mainMapController.clearThemePoiControlView()};N.prototype.notifyFlagSearch_=function(){this.methodView_.setActive(this.flagSearch_.getValuableWaypoints().length>=2);this.flagController_.setFlagSearch(this.flagSearch_);this.waypointSearchBoxController_.setFlagSearch(this.flagSearch_)};N.prototype.addDragViaStop_=function(a){var b=a.index+1;Lb.findByCoords(a.position||null,function(a){this.flagSearch_.addWaypoint(b,
a);this.flagSearch_.setWaypoints(this.flagSearch_.getValuableWaypoints());this.clearAllRoute_();this.setRoute()},this)};N.prototype.addViaFlag_=function(a){this.clearAoi();this.findByWaypoint_(a,null,null,null)};N.prototype.removeFlag_=function(a){a==0||a==this.flagSearch_.getLastIndex()?this.flagSearch_.setWaypoint(a,null):this.flagSearch_.removeWaypoint(a);this.notifyFlagSearch_();if(this.flagSearch_.isOriginDest()){this.clearAllRoute_();this.setRoute()}else this.resetRoute_()};N.prototype.changeFlag_=
function(a){var b=a.index,a=a.coords;this.onChangeFlag.notify();this.findByWaypoint_(a,null,null,b);this.aoiController_.clear()};N.prototype.addWaypointViaBox_=function(){this.flagSearch_.addWaypoint(this.flagSearch_.getLastIndex(),null);this.notifyFlagSearch_()};N.prototype.removeWaypointBox_=function(a){this.flagSearch_.removeWaypoint(a);this.notifyFlagSearch_();a=this.flagSearch_.isViaEmpty();if(this.flagSearch_.isOriginDest()&&!a){this.clearAllRoute_();this.setRoute()}};N.prototype.changeWaypointBox_=
function(a){var b=a.from,a=a.to;this.flagSearch_.isViaEmpty();this.flagSearch_.addWaypoint(a,this.flagSearch_.removeWaypoint(b));this.notifyFlagSearch_();if(this.hashMap[this.lastMethod_].getRoute()){this.clearAllRoute_();this.setRoute()}};N.prototype.resetWaypoint=function(){this.home_.show();this.clearAllRoute_();Application.infoWindowManager.close()};N.prototype.searchWaypointBox_=function(a){var b=a.index;this.flagSearch_.activeIndex=b;var a=a.keyword,c=N.VIA_WHICH_;if(b==0)c=N.ORIGIN_WHICH_;
else if(b==this.flagSearch_.getLastIndex())c=N.DEST_WHICH_;this.keywordSearchController.mainMapController.clearThemePoiControlView();this.roadviewController.close();this.flagSearchResultController.setKeyword(a,c)};N.prototype.loadFlagResult_=function(){this.methodView_.clearEstimateTime();this.flagSearch_.getValuableWaypoints().length>=2&&this.methodView_.setActive(true);this.clearAllRoute_();Application.roadviewController.close();Application.windowController.updateHeight();Application.roadviewController.removeLastMarker()};
N.prototype.setCoords_=function(a){var b=a.coords||null,c=this.flagSearch_.activeIndex,a=new Lb(b,a.name||null,a.id||null,null,a.pointType||null);this.flagSearch_.setWaypoint(c,a);Application.map.setCenter(b);Application.map.setLevel(3);this.notifyFlagSearch_();this.flagSearch_.getValuableWaypoints().length>=2&&this.methodView_.setActive(true).clearEstimateTime()};N.prototype.clearAllRoute_=function(){this.carRouteSearchController.clearRoute();this.transitRouteSearchController.clearRoute();this.walkRouteSearchController.clearRoute();
this.bikeRouteSearchController.clearRoute();this.carRouteSearchController.setActive(false);this.transitRouteSearchController.setActive(false);this.walkRouteSearchController.setActive(false);this.bikeRouteSearchController.setActive(false)};N.prototype.setRoute=function(){var a=true;Application&&Application.favoriteController.removeInstantMarker();var b=this.flagSearch_.getValuableWaypoints();if(b.length>=2){b.forEach(function(b){if(a){var d=b.coords,b=d.getX(),d=d.getY();a=(!!b||b===0)&&(!!d||d===
0)}});if(a){this.flagSearch_.setWaypoints(b);this.notifyFlagSearch_();this.flagSearchResultController.hide();this.methodView_.setActive(false).setActive(true).setEstimateTime();i.$("info.noFlagPlace").setVisible(false);i.$("info.noW3w").setVisible(false);i.$("info.flagsearch").show().addClass("Flagsearch-result");this.home_.hide();this.methodView_.setIndex(this.lastMethod_);this.infoWindowManager_.close();switch(this.lastMethod_){case "car":this.carRouteSearchController.find();break;case "transit":this.transitRouteSearchController.find();
break;case "walk":this.walkRouteSearchController.find();break;case "bike":this.bikeRouteSearchController.find()}this.aoiController_.clear();this.aoiController_.callAfterLoad(this.aoiController_.clear)}else alert("\ucd9c\ubc1c\uc9c0/\uacbd\uc720\uc9c0/\ub3c4\ucc29\uc9c0\ub97c \ud655\uc778 \ud6c4 \ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694")}};N.prototype.loadRoute_=function(){this.setMethodView_();this.onLoadedRoute.notify()};N.prototype.reset=function(){this.flagSearch_=rb.create();this.methodView_.setActive(false);
this.notifyFlagSearch_();this.flagSearchResultController.clear();Application.infoWindowManager.close();this.reset_();this.home_.show();this.isSelectFlagBtn=false};N.prototype.resetRoute_=function(){this.clearAllRoute_();this.methodView_.clearEstimateTime();this.getActive()&&i.$("info.route").setVisible(true);Application.windowController.updateHeight()};N.prototype.reset_=function(){this.waypoints_=null;this.methodView_.setActive(false);this.resetRoute_();this.aoiController_.clear()};N.prototype.getWaypoints=
function(){return this.flagSearch_.getValuableWaypoints()};N.prototype.setDefaultOption=function(a){this.carRouteSearchController.setMode(a)};N.prototype.setOrigin=function(a,b,c,d){this.findByWaypoint_(a,b,c,0,d)};N.prototype.setVia=function(a,b,c,d,e){d=d||null;if(this.flagSearch_.getViaCount()>=5){alert("\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4.");return false}this.findByWaypoint_(a,b,c,d,e);return true};N.prototype.setDestination=
function(a,b,c,d){this.findByWaypoint_(a,b,c,this.flagSearch_.getLastIndex(),d)};N.prototype.findByWaypoint_=function(a,b,c,d,e){b==="\uc8fc\uc18c\ub97c \uc81c\uacf5\ud558\uc9c0 \uc54a\ub294 \uc9c0\uc5ed"?alert("\uc8fc\uc18c\uac00 \uc5c6\ub294 \uacbd\uc6b0 \uae38\ucc3e\uae30\uac00 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4."):b?this.setWaypoint_(new Lb(a,b,c,null,e),d):Lb.findByCoords(a,function(a){if(a.name)this.setWaypoint_(a,d);else{this.flagController_.setFlagSearch(this.flagSearch_);alert("\uc8fc\uc18c\uac00 \uc5c6\ub294 \uacbd\uc6b0 \uae38\ucc3e\uae30\uac00 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4.")}},
this)};N.prototype.clearAoi=function(){this.aoiController_.clear()};N.prototype.setWaypoint_=function(a,b){b!==null?this.flagSearch_.setWaypoint(b,a):this.flagSearch_.addFirstEmptyViaWaypoint(a);this.keywordSearchController.mainMapController.clearThemePoiControlView();this.notifyFlagSearch_();if(this.flagSearch_.isOriginDest()){this.clearAllRoute_();this.setRoute()}};N.prototype.isComplete=function(){return this.flagSearch_.isOriginDest()};N.prototype.getViaVisible=function(){return this.flagSearch_.getViaCount()>
0};N.prototype.closeRoadview_=function(){Application.roadviewController.close()};N.prototype.clickMethod_=function(a){this.methodView_.setIndex(a);this.handleRoute_();i.$("info.body").scrollTo(0)};N.prototype.handleRoute_=function(){this.lastMethod_=this.methodView_.getIndex()||this.lastMethod_;if(this.hashMap[this.lastMethod_].getRoute()){this.methodView_.setIndex(this.lastMethod_);this.setMethodView_();this.flagSearch_.getValuableWaypoints()}else this.setRoute()};N.prototype.showValidCondition_=
function(){if(this.flagSearch_.getWaypoints().length>=2&&!this.flagSearch_.getWaypoints()[0]){alert("\ucd9c\ubc1c\uc9c0\ub97c \uc815\ud655\ud788 \uc9c0\uc815\ud574\uc8fc\uc138\uc694.");this.waypointSearchBoxController_.setFocus(0)}else{alert("\ub3c4\ucc29\uc9c0\ub97c \uc815\ud655\ud788 \uc9c0\uc815\ud574\uc8fc\uc138\uc694.");this.waypointSearchBoxController_.setFocus(this.flagSearch_.getWaypoints().length-1)}};N.prototype.setMethodView_=function(){Application.infoWindowManager.close();Application.roadviewController.close();
Application.roadviewController.removeLastMarker();this.flagSearchResultController.clear();i.$("info.flagsearch").addClass("Flagsearch-result");switch(this.lastMethod_){case "car":this.transitRouteSearchController.setActive(false);this.carRouteSearchController.setActive(true);this.walkRouteSearchController.setActive(false);this.bikeRouteSearchController.setActive(false);break;case "transit":this.carRouteSearchController.setActive(false);this.transitRouteSearchController.setActive(true);this.walkRouteSearchController.setActive(false);
this.bikeRouteSearchController.setActive(false);break;case "walk":this.carRouteSearchController.setActive(false);this.transitRouteSearchController.setActive(false);this.walkRouteSearchController.setActive(true);this.bikeRouteSearchController.setActive(false);break;case "bike":this.carRouteSearchController.setActive(false);this.transitRouteSearchController.setActive(false);this.walkRouteSearchController.setActive(false);this.bikeRouteSearchController.setActive(true);break;default:console.assert(false)}};
N.prototype.doQuickSearchOrigin=function(a){this.doQuickSearch_(N.ORIGIN_WHICH_,a)};N.prototype.doQuickSearchDest=function(a){this.doQuickSearch_(N.DEST_WHICH_,a)};N.prototype.doQuickSearchOriginDest=function(a,b){this.destKeyword_=b;var c=this.modelQuick_=new z;c.setSearchBusStop(true);c.onChange.add(this.loadQuickSearchOriginDest_,this);c.setKeyword(a)};N.prototype.loadQuickSearchOriginDest_=function(){var a=this.modelQuick_.addresses[0]||this.modelQuick_.places[0]||this.modelQuick_.reviews[0];
if(a){this.setOrigin(a.coords,a.name);this.doQuickSearchDest(this.destKeyword_)}};N.prototype.doQuickSearch_=function(a,b){var c=new z;c.setSearchBusStop(true);c.onChange.add(function(){var b=c.addresses[0]||c.places[0]||c.reviews[0];if(b)switch(a){case N.ORIGIN_WHICH_:this.setOrigin(b.coords,b.name);break;case N.DEST_WHICH_:this.setDestination(b.coords,b.name);break;default:console.assert(false)}},this);c.setKeyword(b)};N.prototype.setDefaultModeCar=function(){this.lastMethod_="car"};N.prototype.setDefaultModeTransit=
function(){this.lastMethod_="transit"};N.prototype.setDefaultModeWalk=function(){this.lastMethod_="walk"};N.prototype.setDefaultModeBike=function(){this.lastMethod_="bike"};N.prototype.buildParams=function(a){if(this.carRouteSearchController.getActive()||this.transitRouteSearchController.getActive()||this.walkRouteSearchController.getActive()||this.bikeRouteSearchController.getActive()){var b=this.getWaypoints();a.rt=b.map(function(a){return a&&a.coords?a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0):
","}).join(",");var c=b.length-1,d="",e="";b.forEach(function(b,h){if(b!=null){a["rt"+(h+1)]=b.name;d=d+((b.id?b.id:"")+(h!=c?",":""));e=e+((b.pointType&&b.pointType!="NORMAL"?b.pointType:"")+(h!=c?",":""))}});a.rtIds=d;a.rtTypes=e;if(this.carRouteSearchController.getActive()&&this.carRouteSearchController.getMethod())a.carOption=this.carRouteSearchController.getMethod();if(this.transitRouteSearchController.getActive()){a.target="traffic";if(b=this.transitRouteSearchController.getBoundModeIndex()){a.transitBoundMode=
b;a.transitOption=this.transitRouteSearchController.getInterModeIndex()}else a.transitOption=this.transitRouteSearchController.getModeIndex()}if(this.walkRouteSearchController.getActive())a.target="walk";if(this.bikeRouteSearchController.getActive())a.target="bicycle"}else if(this.getActive()){b=this.flagSearch_;if(b.isEmptyOriginDest()&&b.isViaEmpty()){b=Application.map.getCenter();a.urlX=b.getX()|0;a.urlY=b.getY()|0;a.urlLevel=Application.map.getLevel()}else{b=b.getWaypoints();a.rt=b.map(function(a){return a&&
a.coords?a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0):","}).join(",");c=b.length-1;e=d="";b.forEach(function(b,h){a["rt"+(h+1)]=b?b.name:"";d=d+((b&&b.id?b.id:"")+(h!=c?",":""));e=e+((b&&b.pointType&&b.pointType!="NORMAL"?b.pointType:"")+(h!=c?",":""))});a.rtIds=d;a.rtTypes=e}}};N.prototype.noResultPlace=function(a,b){this.searchWaypointBox_({index:a,keyword:b});this.waypointSearchBoxController_.setSearchBox(a,b)};N.prototype.initResultList=function(){this.flagSearchResultController.initResultList()};
define("controller/FlagSearchController","map/Map manager/ViewLayout controller/CarRouteSearchController controller/FlagSearchResultController controller/TransitRouteSearchController controller/WalkRouteSearchController controller/BikeRouteSearchController map/InfoWindowManager controller/FlagController controller/KeywordSearchController controller/RoadviewController manager/AoiManager controller/WaypointSearchBoxController controller/BusSearchController".split(" "),L(N));na.prototype.initHistroyView=
function(){this.histroyRouteView.init()};na.prototype.initResultList=function(){this.infoRoute.show();i.$("info.flagsearch").hide()};na.prototype.setCoords_=function(a){this.onCoords.notify(a)};na.prototype.setPage=function(a){this.model_.setPage(a)};na.prototype.setOption_=function(a){this.singleViewMode_=false;switch(a){case 0:this.model_.setAllMode();n.click("route",["search","all_option"]);break;case 1:this.findPlaces();x.logPathSearchIn("place_tab");break;case 2:this.findAddresses();x.logPathSearchIn("address_tab");
break;case 3:this.findBusStops();x.logPathSearchIn("bus_tab");break;default:console.assert(false)}};na.prototype.setKeyword=function(a,b){this.model_.clear();this.group_.setActiveWithoutFeedback(0);if(z.isW3wKeyword(a)){this.model_.clear();this.model_.keyword_=a;this.model_.onChange.notify(true)}else this.model_.setKeyword(a);this.flagViewType=b||this.flagViewType};na.prototype.findAddresses=function(){if(this.singleViewMode_){this.model_.setAddressMode(true);this.model_.setPage(2)}else this.model_.setAddressMode();
this.group_.setActiveWithoutFeedback(2);n.click("route",["search","address_option"])};na.prototype.clickAddress_=function(a){var b=this.model_.addresses[a],c=b.id;this.setCoords_({coords:b.coords,name:b.name,id:b.docid,pointType:"ADDRESS"});this.aoiController_.clear();if(b.lineData){this.aoiController_.callAfterLoad(function(){var a=this.aoiController_.getCoordsBounds(c);a&&this.map_.setBounds(a);this.aoiController_.clickMarker(c)}.bind(this));this.aoiController_.findAddress(b)}else!this.model_.hasBounds()&&
!this.model_.whatsHere&&this.map_.setCenter(b.coords);this.clickListView_(a,"ADDRESS");n.click("route","address")};na.prototype.findPlaces=function(){if(this.singleViewMode_){this.model_.setPlaceMode(true);this.model_.setPage(2)}else this.model_.setPlaceMode();this.group_.setActiveWithoutFeedback(1);n.click("route",["search","place_option"])};na.prototype.showMediumTooltip_=function(a,b){this.setCoords_({coords:a.coords,name:a.name,id:a.subway?a.subway.id:a.id,pointType:a.subway?"SUBWAYSTATION":"PLACE"});
this.infoWindowManager_.createPlaceWithMedium(a,b,false,"route").onClose.add(function(){this.activeItem_=null},this)};na.prototype.showRoadview_=function(a){this.roadviewController_.setViewpointWithMarker(a,0,this.model_.isThemeMode())};na.prototype.showStoreview=function(a){this.roadviewController_.showStoreView(a.storeview,0,null,this.model_.isThemeMode())};na.prototype.clickPlace_=function(a){console.assert(a>=0);this.clickListView_(a,"PLACE");var b=this.activeItem_=this.model_.places[a],a=this.placeMarkers_.at(this.placeMarkerIndex_[a]);
this.setMarkerActive_(a);this.setCoords_({coords:b.coords,name:b.name,id:b.subway?b.subway.id:b.id,pointType:b.subway?"SUBWAYSTATION":"PLACE"});this.showMediumTooltip_(b,a);!this.model_.hasBounds()&&!this.model_.whatsHere&&this.map_.setCenter(b.coords);this.aoiController_.clear();if(b.pointExtension){this.aoiController_.callAfterLoad(function(){this.aoiController_.clickMarker(b.id);this.map_.setBounds(this.aoiController_.getCoordsBounds(b.id))}.bind(this));this.aoiController_.find(b.id)}n.click("route",
"place_name")};na.prototype.setMarkerActive_=function(a){if(this.marker){this.marker.setZIndex(2);this.marker.setHover(false);this.marker.setActive(false)}if(a){a.setZIndex(3);a.setActive(true);this.marker=a}else this.marker=null};na.prototype.findBusStops=function(){if(this.singleViewMode_){this.model_.setBusStopMode(true);this.model_.setPage(2)}else this.model_.setBusStopMode();this.group_.setActiveWithoutFeedback(3);n.click("route",["search","busstop_option"])};na.prototype.clickBusStop_=function(a){var b=
this.model_.busStops[a];this.setCoords_({coords:b.coords,name:b.name,id:b.id,pointType:"BUSSTOP"});this.clickListView_(a,"BUSSTOP");n.click("route","busstop")};na.prototype.clickAddrSuggest_=function(a){this.setKeyword(a)};na.prototype.clear=function(){this.placeMarkers_.clear();this.activeItem_=null};na.prototype.clickListView_=function(a,b){this.infoWindowManager_.close();this.placeListView_.setIndex(-1);this.busStopListView_.setIndex(-1);this.addressListView_.setIndex(-1);var c=null;if(a!=null){switch(b){case "ADDRESS":c=
this.addressListView_;break;case "PLACE":c=this.placeListView_;break;case "BUSSTOP":c=this.busStopListView_}c.setIndex(a)}};na.prototype.updatePanelBeforeLoad=function(){i.$("info.flagsearch").show().removeClass("Flagsearch-result");i.$("info.flagsearch").removeClass("Flagsearch-Noresult");i.$("info.flagsearch.options").show();i.$("info.noFlagPlace").setVisible(false);i.$("info.noW3w").setVisible(false);this.infoRoute.hide()};na.prototype.load_=function(){this.infoWindowManager_.close();var a=this.model_,
b="";this.clear();this.resetSwap_();this.updatePanelBeforeLoad();Application.windowController.showInfoAndTop();a.isBusStopMode()?this.loadBusMessage_():this.loadMessage_();var c=this.spellcheckView_;if(a.spellCandidate[0]){i.$("info.flagsearch.spellcheck.titleText").show();i.$("info.flagsearch.spellcheck.title").setText(a.getKeyword());c.showCandidate(a.spellCandidate[0])}else{c.hide();this.checkAllHideInInfoFlagsearchDivided()}c="";a.isAllMode()?b=c="all":a.isPlaceMode()?b=c="place":a.isAddressMode()?
b=c="address":a.isBusStopMode()&&(b=c="bus");c={tab:c};c.in_map=a.hasBounds()?1:0;c.mkey=+new Date+"_"+Math.ceil(Math.random()*32767);c.sorttype=a.sort||0;c.analysis=a.analysis;if((a.isAllMode()||a.isPlaceMode())&&a.getCidx()!=null)c.cidx=a.getCidx();var d=new daum.maps.CoordsBounds;this.singleViewMode_=false;this.singleViewType_=null;if(a.isAllMode()){var e=0,f=["places","addresses","busStops"],h=0;f.forEach(function(b,c){if(a[b].length>0){e++;h=c}});if(e==1){this.singleViewMode_=true;this.singleViewType_=
f[h]}else e==0&&i.$("info.flagsearch.options").hide()}if(a.isAllMode()&&!this.singleViewMode_){a.places.splice(5);a.addresses.splice(3);a.busStops.splice(3)}a.isPlaceMode()&&a.places.length>0?i.$("info.flagsearch.addNewPlace").show():i.$("info.flagsearch.addNewPlace").hide();var g=this.addressListView_;g.clear();var k=jQuery.extend({},c,{cpg:a.page+","+a.addresses.length});i.$("info.flagsearch.address.cnt").setText(String.formatNumber(a.addressCount));a.addresses.forEach(function(b,c){var d=g.addItem(new wc(this.flagViewType,
b,a.inferredKeyword));d.setSeq(c);d.setDssAddressObj(k)},this);g.setCount(a.addresses.length,a.isAllMode()?a.addressCount:0);g=this.placeListView_;i.$("info.flagsearch.place.cnt").setText(String.formatNumber(a.placeCount));g.clear();var l=jQuery.extend({},c,{cpg:a.page+","+a.places.length}),j=[],r=[],p=[],o=new daum.maps.CoordsBounds;a.places.forEach(function(b,c){var e=g.addItem(new ta(this.flagViewType,b));p.push(b.id);d.extend(b.coords);e.setIndex(b.index);e.setCoords(b.coords);e.setName(String.cut(b.name,
20),a.inferredKeyword);e.setRoadview(b.roadview);e.setCategory(b.category);e.setPhone(b.phone[0]);e.setDssPlaceObj(l);if(b.newAddress){e.setAddress(b.newAddress);e.setSubAddress(b.address)}else e.setAddress(b.address);e.setDupData(b.dup_data);e.setConfirmId(b.id);e.setIntercity(b.intercity,b.intercityId,b.name);e.onDupDataClick.add(this.clickDupItem_,this);e.onOver.add(function(){f.setHover(true);if(this.activeItem_!=b){this.miniTooltipManager_.createPlace(b);this.miniTooltipManager_.open()}},this);
e.onOut.add(function(){f.setHover(false);this.miniTooltipManager_.close()},this);if(b.hasCoords()){var f;f=b.pointExtension?D.createLinecourse(b.index,b.coords):D.createPlace(b.index,b.coords);f.onClick.add(function(){this.clickPlaceMarker_(c);e.sendDssLog("_marker_place")},this);if(e){f.onClick.add(function(){e.getPanel().bringToTop()},this);f.onOver.add(function(){e.setHover(true);if(this.activeItem_!=b){this.miniTooltipManager_.createPlace(b);this.miniTooltipManager_.open()}},this);f.onOut.add(function(){e.setHover(false);
this.miniTooltipManager_.close()},this)}j[c]=r.length;r.push(f);o.extend(b.coords)}},this);for(this.placeMarkerIndex_=j.map(function(a){return r.length-1-a});r[0];)this.placeMarkers_.add(r.pop());g.setCount(a.places.length,a.isAllMode()?a.placeCount:0);g=this.busStopListView_;g.clear();a.busRecommend=="busstop"&&a.busRecommendTop&&this.swapAddressForBusStop_();var s=jQuery.extend({},c,{cpg:a.page+","+a.busStops.length});i.$("info.flagsearch.busstop.cnt").setText(String.formatNumber(a.busStopCount));
a.busStops.forEach(function(a,b){var c=g.addItem(new mc(this.flagViewType,a));c.setSeq(b);c.setDssBusStopObj(s);c.setCoords(a.coords);c.setTitle(a.name,a.direction);c.setRegion(a.region)},this);g.setCount(a.busStops.length,a.isAllMode()?a.busStopCount:0);this.paginationView_.setTotal(a.isAllMode()?0:(a.pageCount||a.addressCount||a.busStopCount)/15);this.paginationView_.setPage(a.page);this.model_.isHighway&&this.swapAddressForPlace_();if(a.busRecommend=="busstop"&&a.busRecommendTop&&this.model_.busStops[0])this.clickBusStop_(0);
else if(this.model_.addresses[0]&&!this.model_.isHighway){this.roadviewController_.close();this.clickAddress_(0)}else if(this.model_.places[0])this.clickPlace_(0);else if(this.model_.busStops[0])this.clickBusStop_(0);else{i.$("info.flagsearch.spellcheck.titleText").hide();this.noFlagPlace(a)}this.onLoad.notify();require("log/Tiara").log(require("const").TIARA.search);c=jQuery.extend({},c,{});if(!d.isEmpty())c.rbounds=d.getSouthWest().getX()+","+d.getSouthWest().getY()+","+d.getNorthEast().getX()+
","+d.getNorthEast().getY();if(a.trans_map_type){c.trans_map_type=a.trans_map_type;c.sq=a.spellCandidate[0]}if(this.result_click){c.result_click=this.result_click;this.result_click=null;c.oq=this.result_click_sq;this.result_click_sq=null;c.trans_map_type=this.trans_map_type}f="start";this.flagViewType==N.VIA_WHICH_?f="via":this.flagViewType==N.DEST_WHICH_&&(f="end");if(a.isAllMode()){c.cnt=[a.placeCount,a.addressCount,a.busesCount,a.busStopCount,a.placeAdCount||0].join();c.pg=a.page;c.cids=p.join(",");
x.logPathSearchWithType(a.getKeyword(),f,c)}else{c.pg=a.page;if(a.isPlaceMode())c.cids=p.join(",");x._path_type?x.logPathSearchKeyword(a.getKeyword(),c):x.logPathSearchWithType(a.getKeyword(),f,c)}jQuery("#info\\.flagsearch .search > div.lst").removeClass("lst");b==="all"?jQuery("#info\\.flagsearch .search > div").not(".HIDDEN").filter(":last").addClass("lst"):b==="place"?this.placeListView_.getPanel().addClass("lst"):b==="address"?this.addressListView_.getPanel().addClass("lst"):b==="bus"&&this.busStopListView_.getPanel().addClass("lst")};
na.prototype.clickDupItem_=function(a){ca.findPlace(a,function(a){this.dupMarker_?this.dupMarker_.setPosition(a.coords):this.dupMarker_=D.fakeMarker(a.coords);this.setCoords_({coords:a.coords,name:a.name,id:a.id,pointType:"PLACE"});this.showMediumTooltip_(a,this.dupMarker_)},this);this.clickListView_(null);this.setMarkerActive_(null)};na.prototype.clickPlaceMarker_=function(a){console.assert(a>=0);var b=this.activeItem_=this.model_.places[a],c=this.placeMarkers_.at(this.placeMarkerIndex_[a]);this.clickListView_(a,
"PLACE");this.setMarkerActive_(c);this.setCoords_({coords:b.coords,name:b.name,id:b.subway?b.subway.id:b.id,pointType:b.subway?"SUBWAYSTATION":"PLACE"});this.showPlaceInfowindow_(b,c);this.aoiController_.clear();if(b.pointExtension){this.aoiController_.callAfterLoad(function(){this.aoiController_.clickMarker(b.id);this.map_.setBounds(this.aoiController_.getCoordsBounds(b.id),200)}.bind(this));this.aoiController_.find(b.id)}};na.prototype.swapAddressForBusStop_=function(){jQuery("#info\\.flagsearch\\.busstop").insertBefore(jQuery("#info\\.flagsearch\\.address"))};
na.prototype.swapAddressForPlace_=function(){jQuery("#info\\.flagsearch\\.place").insertBefore(jQuery("#info\\.flagsearch\\.address"))};na.prototype.resetSwap_=function(){jQuery("#info\\.flagsearch\\.address").insertBefore(jQuery("#info\\.flagsearch\\.place"));jQuery("#info\\.flagsearch\\.busstop").insertAfter(jQuery("#info\\.flagsearch\\.place"))};na.prototype.showPlaceInfowindow_=function(a,b){if(a.hasCoords()){var c=this.infoWindowManager_.createPlace(a,b,"route");c.onClose.add(function(){this.activeItem_=
null},this);b&&b.setActive&&c.onClose.add(function(){b.setActive(false)})}else jb(a.getDaumPlaceUrl())};na.prototype.checkAllHideInInfoFlagsearchDivided=function(){var a=jQuery("#info\\.flagsearch\\.divided");a.height()===0?a.hide():a.show()};na.prototype.loadMessage_=function(){var a=this.model_;i.$("info.flagsearch.correction").setVisible(a.trans_map_type=="RESULT_JUNGDAP_REDIRECT");a.trans_map_type!="RESULT_JUNGDAP_REDIRECT"&&this.checkAllHideInInfoFlagsearchDivided();if(a.originalKeyword){var b=
a.getKeyword();if(a.guideMessage&&a.guideMessage.length){var c=a.guideMessage[0],d=c.region||"";d&&c.bunji&&(d=d+(" "+c.bunji));switch(c.type){case "global":case "user_location":b=c.keyword;break;case "location_only":b=d;break;case "located_query":case "near_by_query":case "located_branch":b=d+" \uc8fc\ubcc0 "+c.keyword}}i.$("info.flagsearch.correction.orig").setText(a.originalKeyword);i.$("info.flagsearch.correction.new").setText(b);i.$("info.flagsearch.correction.orig2").setText(a.originalKeyword)}b=
i.$("info.flagsearch.message");b.show();c=i.$("info.flagsearch.divided");if(a.homonyms[0]||a.guideMessage){this.messageView.setVisible(true);this.busMessageView.setVisible(false);this.messageView.setKeyword(a.getKeyword());this.messageView.setSubNumber(a.sn_query);this.messageView.setBound(a.retry);this.messageView.setGuideData(a.guideMessage,a.homonyms,null,a.premiumKeyword);b.addChild(this.messageView.getPane());c.show()}a.trans_map_type&&this.messageView.hideTitle();this.checkAllHideInInfoFlagsearchDivided()};
na.prototype.loadBusMessage_=function(){var a=this.model_;this.busMessageView.setVisible(true);this.messageView.setVisible(false);var b=i.$("info.flagsearch.message");b.show();this.busMessageView.setData(a.originalKeyword,a.currentGuide,a.nextGuide);b.addChild(this.busMessageView.getPane());this.checkAllHideInInfoFlagsearchDivided()};na.prototype.findLiterally=function(){this.model_.setLiteral(true)};na.prototype.findSnSelected=function(a){this.model_.setSnSelected(true,a)};na.prototype.noFlagPlace=
function(a){Application.flagSearchController.methodView_.setActive(false);i.$("info.flagsearch").addClass("Flagsearch-Noresult");z.isW3wKeyword(a.getKeyword())?i.$("info.noW3w").setVisible(true):i.$("info.noFlagPlace").setVisible(true);i.$("info.route.intro").setVisible(false);i.$("info.noFlagPlace.keyword").setText(a.getKeyword());jQuery("#info\\.noFlagPlace #info\\.noPlace\\.daum\\.link").attr("href","http://search.daum.net/search?w=tot&DA=54X&q="+a.getKeyword());this.onNoResult.notify(this.model_.getKeyword())};
na.prototype.show=function(){this.placeMarkers_.show()};na.prototype.hide=function(){this.placeMarkers_.hide()};na.prototype.setTransMapTypeLog=function(a){this.trans_map_type=a;this.result_click="Y";this.result_click_sq=this.model_.getKeyword()};define("controller/FlagSearchResultController","map/Map map/MiniTooltipManager map/InfoWindowManager controller/RoadviewController manager/AoiManager controller/HistoryController".split(" "),L(na));Sa.prototype.active_=!1;Sa.prototype.getActive=function(){return this.active_};
Sa.prototype.showNearby=function(a){this.show();this.walker_.setPosition(a);this.walker_.getState()&&this.walker_.release()};Sa.prototype.showWithRoute=function(){this.show()};Sa.prototype.show=function(a){a?this.flashSupportView.show():alert("\ub85c\ub4dc\ubdf0\uac00 \uc81c\uacf5\ub418\uc9c0 \uc54a\ub294 \uacf3\uc785\ub2c8\ub2e4.")};Sa.prototype.close=function(){this.flashSupportView.hide()};Sa.prototype.removeLastMarker=function(){};Sa.prototype.setUrl=function(){};Sa.prototype.setWalkerVisible=
function(a,b,c){c||Application.infoWindowManager.close();a?b?this.walker_.hold():this.walker_.show():this.walker_.hide();this.walker_.setFloat(true)};Sa.prototype.setViewpointWithMarker=function(){this.show()};Sa.prototype.setRouteData=function(){};Sa.prototype.showStoreView=function(){this.show()};Sa.prototype.getLastLevel=function(){return this.lastLevel_};Sa.prototype.showByDblClick=function(){this.show()};Sa.prototype.setDbClickActive=function(a){this.dbClickActive_=a};Sa.prototype.getDbClickActive=
function(){return this.dbClickActive_};Sa.args=["map/Map","view/FlashSupportView"];ke.args=[];define("controller/HistoryController",[],L(function(){function a(){try{B.localStorage.setItem("test","1");B.localStorage.removeItem("test");return!!B.localStorage&&!!B.JSON}catch(a){return false}}function b(a){a||(a="all");var b=Q+"disabled",b=G&&JSON.parse(localStorage.getItem(b));return jQuery.isArray(b)&&jQuery.inArray(a,b)!==-1}function c(a){var c=Q+a,a=jQuery.inArray(a,J.route)!==-1?s.ROUTE:s.LAYER;
return G&&!b(a)&&JSON.parse(localStorage.getItem(c))}function d(a,b){var c=Q+a;b.length>0?G&&localStorage.setItem(c,JSON.stringify(b)):G&&localStorage.removeItem(c)}function e(b){var c,d;if(a())for(c in t)if(t.hasOwnProperty(c)&&(!b||b==t[c])){d=Q+t[c];localStorage.removeItem(d)}}function f(a){var b=c(a.type);b.splice(a.idx,1);b.forEach(function(a,b){a.idx=b});d(a.type,b)}function h(a,b){a instanceof Array?a.some(function(c,d){var e=g(c),f=g(b);if(JSON.stringify(e)===JSON.stringify(f)){a.splice(d,
1);return true}}):a=[];a.unshift(b);a.splice(C);a.forEach(function(a,b){a.idx=b});return a}function g(a){var b=["type","key","route_form"],c={},d;for(d in a)if(a.hasOwnProperty(d)&&jQuery.inArray(d,b)!==-1)if(d=="route_form"){c[d]=[];a[d].forEach(function(a,b){var e={},f;for(f in a)a.hasOwnProperty(f)&&f!="name"&&(e[f]=a[f]);c[d][b]=e})}else c[d]=a[d];return c}function k(){var a,b,d,e=[],f=[],g=[];for(d in t)if(t.hasOwnProperty(d)){a=t[d];b=c(a);(O[a]=b)&&jQuery.inArray(a,y)!==-1&&(e=e.concat(b));
b&&jQuery.inArray(a,n)!==-1&&(f=f.concat(b));b&&jQuery.inArray(a,A)!==-1&&(g=g.concat(b))}a=function(a,b){return a.createTime<b.createTime?1:a.createTime>b.createTime?-1:0};e.sort(a);e.splice(C);O[u]=e;f.sort(a);f.splice(C);O[q]=f;g.sort(a);g.splice(C);O[w]=g;setTimeout(function(){p.notify()},1)}function l(a){if(a){if(a.key||a.route_form){var b=c(a.type),b=h(b,a);d(a.type,b)}k()}}function j(a){var b=J[a];a&&b?b.forEach(function(a){e(a)}):e();k()}function i(a,b){var c=null,d;if(d=G)a:{for(var e in t)if(t.hasOwnProperty(e)&&
a===t[e]){d=true;break a}d=false}d&&(c=jQuery.extend(true,{},{type:a,createTime:(new Date).getTime()},b));return c}var p=this.onChange=new m,o=this.onClick=new m,s=this.VIEW_TYPE={ALL:"all",LAYER:"layer",ROUTE:"route"},t=this.TYPE_LIST={BUS_STOP:"busstop",W3W:"w3w",PLACE:"place",ADDRESS:"address",SUBWAY_STATION:"subwaystation",SUBWAY_STATION_NAME:"subwaystationname",BUS_LINE:"busline",BUS_STOP_LINE:"busstopline",CAR:"route_car",TRANSIT:"route_pubtrans",WALK:"route_walk",BIKE:"route_bicycle",SUBWAY:"route_subway",
W3W:"w3w"},u=this.SEARCH_TYPE="search",q=this.POI_TYPE="pois",w=this.ROUTE_TYPE="route",y=[t.BUS_STOP,t.SUBWAY_STATION,t.PLACE,t.ADDRESS,t.BUS_LINE,t.W3W],n=[t.BUS_STOP,t.SUBWAY_STATION,t.PLACE,t.ADDRESS],A=[t.CAR,t.TRANSIT,t.WALK,t.BIKE],J={layer:[t.BUS_STOP,t.SUBWAY_STATION,t.PLACE,t.ADDRESS,t.BUS_LINE,t.SUBWAY_STATION_NAME,t.BUS_STOP_LINE,t.W3W],route:[t.CAR,t.TRANSIT,t.WALK,t.BIKE,t.SUBWAY]},Q="history_list_",C=50,G=a()&&!b(),O={};k();this.TYPE_LIST=t;this.SEARCH_TYPE=u;this.POI_TYPE=q;this.ROUTE_TYPE=
w;this.addPoi=function(a,b){var c=b.docid||b.id,c=i(a.toLowerCase(),{key:c.toString(),name:b.name,x:b.coords.getX(),y:b.coords.getY()});l(c)};this.addBusLine=function(a,b){var c=i(a,{key:b.id+"",name:b.name});l(c)};this.addRoute=function(a,b){if(b.length>1){var c=b[b.length-1],d=[];d.push(v.getRouteData(b[0]));a!==t.TRANSIT&&b.slice(1,-1).map(function(a){d.push(v.getRouteData(a))});d.push(v.getRouteData(c));c=i(a,{route_form:d});l(c)}};this.addSubwayRoute=function(a,b){var c=[];c.push({name:b.sfullname,
key:b.sid+"",x:0,y:0,poi_type:"SUBWAYSTATION"});c.push({name:b.efullname,key:b.eid+"",x:0,y:0,poi_type:"SUBWAYSTATION"});c=i(a,{startName:b.sname,endName:b.ename,subwayRegion:b.subwayRegion,route_form:c});l(c)};this.addSubwayStationName=function(a,b){var c=i(a,{name:b.name,key:b.stationId+"",regionId:b.regionId});l(c)};this.getHistory=function(a){return O[a]||[]};this.historyClick=function(a){a=jQuery(a.currentTarget).data();a.type&&(a=O[a.type][a.idx]||a);o.notify(a)};this.removeHistory=function(a){a.preventDefault();
a.stopPropagation();a=jQuery(a.currentTarget).data();f(a);k()};this.clearRouteHistory=function(){j(s.ROUTE)};this.clearLayerHistory=function(){j(s.LAYER)};this.disableHistory=function(b,c){if(a()){b=!!b;if(!c)c=s.ALL;var d=Q+"disabled",e=G&&JSON.parse(localStorage.getItem(d));if(jQuery.isArray(e)){var f=e.indexOf(c);f!==-1&&e.splice(f,1);b&&e.push(c)}else e=[c];localStorage.setItem(d,JSON.stringify(e));j(c);c==s.ALL&&(G=!b)}};this.getDisabled=b}));td.prototype.updateLoginProfile=function(a){var b=
jQuery(".tit_login"),c=jQuery("#btnProfile"),d=jQuery(".snb_map .xd").parent(),e=a.loginUrl?a.loginUrl:this.options.loginUrl;if(a.isLogin===1&&a.isMapUser===1&&!a.needAgreements){jQuery("body").addClass("LOGIN");b.hide();d.show();c.show();c.off();c.on("click",function(){if(this.layerProfileController.isShow())this.layerProfileController.hide();else{this.layerProfileController.show();n.click("profile","show_profile")}}.bind(this))}else if(a.isMapUser===0||a.needAgreements===1){b.show();d.hide();c.hide();
if(a.isLogin===1){b.find("a").text("\uc2dc\uc791\ud558\uae30");b.find("a").attr("href",require("url").SIGNUP)}else if(a.isLogin===0){b.on("click",function(){n.click("login",["map","login"]);B.location.href=e+encodeURIComponent(B.location.origin)});b.find("a").text("\ub85c\uadf8\uc778")}}};td.prototype.loadStory_=function(){jQuery("#info\\.main\\.notice\\.more").click(function(){n.click("left","notice_more")});jQuery("#info\\.main\\.notice\\.text1").click(function(){n.click("left","notice_1")});jQuery("#info\\.main\\.notice\\.text2").click(function(){n.click("left",
"notice_2")});jQuery("#info\\.main\\.notice\\.text3").click(function(){n.click("left","notice_3")})};td.prototype.noticeRolling_=function(){var a=jQuery(".noticeList > ul");a.children().length>1&&setInterval(function(){var b=a.find("li").filter(":first"),c=b.height(),d=setInterval(function(){var e=parseInt(a.css("top"),10);a.css("top",--e);if(Math.abs(e)>c){a.append(b);a.css("top",0);clearInterval(d)}},50)},5E3)};define("controller/HomeInfoController",["map/Map","options","controller/ProfileController",
"controller/LayerProfileController"],L(td));"use strict";define("controller/IndoorMapController",["map/Map","map/MapTypeControl","map/MapTileManager","controller/MapToolController"],L(function(a,b,c,d){var e,f,h,g,k;function l(a){daum.maps.event.addListener(a,"mousemove",function(){if(n)return false;!y&&!A&&a.setOptions(e)});daum.maps.event.addListener(a,"mouseout",function(){if(n)return false;!y&&!A&&a.setOptions(f)})}function j(a){for(var b=[],c=[],d=new daum.maps.CoordsBounds,a=a.split(","),e,
f,g=0;g<a.length;g=g+2){e=Number(a[g]);f=Number(a[g+1]);if(!isNaN(f)){c.push(e);c.push(f);e=new daum.maps.Coords(e,f);d.extend(e);b.push(e)}}return{shape:c,coords:b,bounds:d}}function i(b){var c=w||a.getLevel()>3||!a.isRoadmap(),b=!c&&!y&&b,d=h[a.getLevel()],e;A=false;for(var j in q)if(q.hasOwnProperty(j)){var k=q[j];if(c){A=true;e=g}else e=b?f:g;k.polygon.setOptions(e);k.polygon.setOptions({strokeWeight:d})}c&&u(false)}function p(){var b=a.getBounds(),c=[],d,e;for(e in q)if(q.hasOwnProperty(e)){d=
q[e];b.intersects(d.bounds)&&c.push(e)}return c}function o(a){var b;a:{if(a instanceof daum.maps.Coords){b=p();for(var c=a.getX(),a=a.getY(),d,e,f=0;d=b[f];f++){d=q[d];e=new sb.Polygon(d.shape);if(e.isContain(c,a)){b=d;break a}}}b=false}return!!b}function s(){return Object.keys(q).length===0?true:p().length>0?true:false}function t(b){if(y){b=b||1;a.getLevel()<b?a.setLevel(b,{animate:{complete:function(){u(false)},duration:100}}):u(false)}}function u(a){y=a;b.setIndoor(a)}k={fillColor:"#f0f6ff",strokeColor:"#7794b6",
strokeStyle:"solid"};f={fillOpacity:0.5,strokeOpacity:0.7};e={fillOpacity:0.7,strokeOpacity:0.9};g={fillOpacity:1.0E-4,strokeOpacity:1.0E-4};h={1:2,2:1.5,3:1.5};var q={},w=false,y=false,n=false,A=false,J=this.onOver=new m;(function(){Object.keys(q).length===0?require("server").indoorPolygon(null,function(b){var b=b||new Ga,b=b.find("value"),c,d,e,f,g,u,o=h[a.getLevel()];jQuery(b).each(function(b,h){c=j(h.text("coords"));g=c.coords;u=c.shape;if(h.text("hole")){d=j(h.text("hole"));u=u.concat(d.shape);
g=[c.coords,d.coords]}e=new daum.maps.Polygon({map:a,path:g});e.setOptions(k);e.setOptions({strokeWeight:o});l(e);f="p"+h.text("objectid");q[f]={shape:u,polygon:e,bounds:c.bounds}});i(true)}):i(true)})();daum.maps.event.addListener(a,"maptypeid_changed",function(){a.isRoadmap()||u(false);y=b.isIndoorActive();i(!y)});daum.maps.event.addListener(a,"zoom_changed",function(){y&&!s()?t():i(!y);var b=a.getLevel(),b=h[b];if(!y&&b)for(var c in q)q.hasOwnProperty(c)&&q[c].polygon.setOptions({strokeWeight:b})});
daum.maps.event.addListener(a,"dragend",function(){s()||t()});c.onOverlay.add(function(a){if(a!=="indoor"&&a!=="roadview"){w=c.get("bicycle")||c.get("usedistrict")||c.get("bboundary")||c.get("hboundary")||c.get("air")||c.get("traffic")||c.get("terrain")?true:false;u(false);i(true)}});d.onClickTool.add(function(){n=true});d.onComplete.add(function(){n=false});this.checkPolygonAreaContainPoint=o;this.handleClick=function(a){var b=false;if(n||A)return false;if(o(a)){b=true;Application.infoWindowManager.closeWithoutNotify();
y||u(true)}else y&&t();return b};this.compareRange=function(a){var b=false,a=o(a);!y&&a&&(b=true);J.notify(b);return a||b}}));nc.prototype.changeActive_=function(){this.getActive()&&this.placeMarkers_[0]?this.show():this.clear()};nc.prototype.clear=function(){this.placeMarkers_.forEach(function(a){a.setMap(null)})};nc.prototype.show=function(){this.placeMarkers_.forEach(function(a){a.setMap(this.map_)}.bind(this))};nc.prototype.loadIssuedMap_=function(){var a=this.model_;this.clear();i.$("info.issue.place.issueCnt").setText(a.places.length);
i.$("info.issue").show();var b=new daum.maps.CoordsBounds,c=this.issuePlaceListView_;a.places.forEach(function(a,e){var f;f=c.addItem();f.setName(a.name);f.setCoords(a.coords);f.setImage(a.imgUrl);f.setDesc(a.desc);if(a.hasCoords()){var h=null,h=e<15?D.createAddress(a.coords):D.issuePlace(a.coords);h.setMap(this.map_);h.setPosition(a.coords);daum.maps.event.addListener(h,"click",function(){this.infowindowManager_.createIssuedPlace(a,h)}.bind(this));this.placeMarkers_.push(h);b.extend(a.coords)}},
this);this.map_.setBounds(b)};nc.prototype.setIssue=function(a){this.model_.setIssue(a)};nc.prototype.clickPlace_=function(a){this.placeMarkers_.at(this.placeMarkerIndex_[a])};nc.prototype.getIssueMode=function(){return this.getActive()&&this.placeMarkers_.at(0)};define("controller/IssueMapController",["map/Map","controller/WindowController","map/InfoWindowManager"],L(nc));define("controller/KeywordBannerController",["controller/RoadviewController"],L(function(){function a(a){var b="pubtrans/intercity/timetable";
a&&(b=b+"?type=island");B.open(b,"_blank","width=900,height=597,scrollbars=no,resizable=yes")}var b=jQuery("#info\\.searchHeader\\.banner");b.on("click",".link_search",function(){switch(d){case "bus":a(false);break;case "ferry":a(true)}});var c={bus:{type:"bus",name:"\uace0\uc18d/\uc2dc\uc678\ubc84\uc2a4 \uc608\ub9e4"},intercityBus:{type:"bus",name:"\uace0\uc18d/\uc2dc\uc678\ubc84\uc2a4 \uc608\ub9e4"},ferry:{type:"ferry",name:"\uc5ec\uac1d\uc120 \uc608\ub9e4"},island:{type:"ferry",name:"\uc5ec\uac1d\uc120 \uc608\ub9e4"}},
d="";this.show=function(a){if(a){var a=c[a],f='<a href="#none" class="link_search'+(a.type==="ferry"?" ferry":"")+'">'+a.name+'<span class="ico_arr"></span></a>';b.removeClass().addClass("keywordBanner").html(f).show();d=a.type}};this.hide=function(){b.removeClass().hide()}}));I.prototype.redrawAoiIfActive_=function(){if(this.getActive()){this.aoiController_.redrawLines();this.areaSearchController_.restoreFocus()}};I.prototype.deselectMarkers_=function(){this.placeMarkers_.setMarkerActive(-1);this.busStopMarkers_.setMarkerActive(-1);
this.addressMarker_.setZIndex(2)};I.prototype.selectSubAddress_=function(a){var b=a.address,c=this.addressMarker_;c.setPosition(b.coords);c.setZIndex(5);c.setMap(null);c.id=b.id;this.deselectMarkers_();this.clickListView(this.model_.addresses.indexOf(b),"ADDRESS");this.activeItem_=b;this.relatedAddressMarker_.setMap(this.map_);this.relatedAddressMarker_.setPosition(a.coords);this.map_.panTo(a.coords);this.infoWindowManager_.close();var d=new Ta;jQuery.extend(d,a.address);b=a.model;d.infowindowSubAddress=
b;if(d.subBuildingList&&d.subBuildingList.length)d.infowindowSubBuilding=d.subBuildingList[a.index];if(d.relatedZipcode)d.zipcode=d.relatedZipcode[a.index]||d.zipcode;if(d.relatedZonenum)d.zonenum=d.relatedZonenum[a.index]||d.zonenum;d.coords=new daum.maps.Coords(b.x,b.y);d.id="id_"+b.x+b.y+d.regionId;this.infoWindowManager_.createAddress(d,this.relatedAddressMarker_,a.address);this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();if(a.model.type=="old"){a=function(){this.areaSearchController_.focus(d.id);
this.areaSearchController_.renderById(d.id,true)}.bind(this);if(this.areaSearchController_.getAreaSearch(d.id))a();else{this.areaSearchController_.fetch(d);this.areaSearchController_.callAfterLoad(d.id,a)}}};I.prototype.onSubAddressMarkerClick_=function(){};I.prototype.onSubAddressItemClick_=function(a){this.onSubAddressMarkerClick_=this.selectSubAddress_.bind(this,a);this.selectSubAddress_(a)};I.prototype.onPlaceMarkerClick=function(a,b){this.clickPlaceMarker_(a);this.miniTooltipManager_.close();
jQuery("body").hasClass("collapse")||b&&b.getPane().bringin();b&&b.dssClickHandler("marker_place")};I.prototype.onPlaceMarkerOver=function(a,b){a&&a.setHover(true);if(b.pointExtension){b.aoiCoords=this.aoiController_.getMarkerPosition(b.id)||b.coords;this.showMiniTooltip_(b,Ua.AOILINE);this.aoiController_.highlight(b.id)}else if(this.activeItem_!=b){this.showMiniTooltip_(b,Ua.PLACE);this.aoiController_.highlight(b.id)}this.areaSearchController_.blurAll(true)};I.prototype.onPlaceMarkerOut=function(a){a&&
a.setHover(false);this.miniTooltipManager_.close();this.aoiController_.redrawLines();this.areaSearchController_.restoreFocus()};I.prototype.setTransMapTypeLog=function(a){this.trans_map_type=a;this.result_click="Y";this.result_click_sq=this.model_.getKeyword()};I.prototype.submit_=function(){x.updateQIndex();this.whatsHereController_.clearCache();var a=this.queryPanel_.val();n.click("navi","menu_map_search",{param1:a});n.click("left_info",[jQuery("body").hasClass("collapse")?"close":"open","search"]);
if(a=="")alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");else{i.$("info.main").show();this.infoWindowManager_.close();this.mainMapController.tileClear();this.themeMapController_.setActive(false);this.bounds_||x.log("search_q_type",a,{typeid:"window"});this.queryBtn_.blur();this.queryPanel_.blur();this.suggestInstance_.hide();this.bounds_?this.model_.setBounds(this.map_.getBounds()):this.model_.setBounds(null);this.model_.setFilterId(void 0);this.setActive(true);this.setKeyword(a);
Application.favoriteController.reset();Application.roadviewController.close();Application.roadviewController.removeLastMarker()}};I.prototype.getKeyword=function(){return this.model_.loaded?this.model_.getKeyword():""};I.prototype.getThemeId=function(){return this.model_.themeId};I.prototype.getSelectedTab=function(){return this.selectedTab};I.prototype.getSelectedPage=function(){return this.model_.getPage()};I.prototype.setKeywordParams=function(a){this.model_.setKeywordParams(a)};I.prototype.setKeyword=
function(a,b){this.model_.setKeyword(a,false,b);this.selectedTab=b};I.prototype.setWhatsHereKeyword=function(a){if(this.themeMapController_.getActive()){this.themeMapController_.setActive(false);this.changeActive_()}x.log("search_q_type",a.name,{typeid:"here"});this.bounds_=false;this.setTrackBounds(false);this.model_.setWhatsHereKeyword(a)};I.prototype.setPage=function(a){if(this.model_.isBusTabMODE()){this.busRegion?this.model_.setBusRegionId(this.busRegion.id):this.model_.setBusRegionId(null);
this.busType?this.model_.setBusTypeId(this.busType.id):this.model_.setBusTypeId(null)}this.model_.setPage(a)};I.prototype.changePlaceSortOption_=function(){x.log("search_q_type",this.model_.getKeyword(),{typeid:"option",tab:this.model_.isPlaceMode()?"place":"all",sorttype:this.placeSortOptions_.getOption()});this.model_.setSort(this.placeSortOptions_.getOption());this.model_.isThemeMode()?this.model_.setPage(1):this.model_.setPlaceMode()};I.prototype.findAll=function(){this.model_.setAllMode()};I.prototype.findPlaces=
function(){this.initHighlight();if(this.singleViewMode_){this.model_.setPlaceMode(true);this.model_.setPage(2)}else this.model_.setPlaceMode()};I.prototype.findAddresses=function(){this.initHighlight();if(this.singleViewMode_){this.model_.setAddressMode(true);this.model_.setPage(2)}else this.model_.setAddressMode()};I.prototype.findBuses=function(){this.aoiController_.clear();this.busType=this.busRegion=null;this.initHighlight();if(this.singleViewMode_){this.model_.setBusMode(true);this.model_.setPage(2)}else this.model_.setBusMode()};
I.prototype.findBusStops=function(){this.initHighlight();this.aoiController_.clear();this.busType=this.busRegion=null;if(this.singleViewMode_){this.model_.setBusStopMode(true);this.model_.setPage(2)}else this.model_.setBusStopMode()};I.prototype.findSurround=function(){this.setTrackBounds(false);this.model_.setBounds(this.map_.getBounds());this.model_.setThemeId(12,null,"\uc8fc\ubcc0\uc815\ubcf4")};I.prototype.clickListView=function(a,b){this.infoWindowManager_.close();this.hideBusLine_();this.placeListView_.setIndex(-1);
this.busstopsListView_.setIndex(-1);this.addressListView_.setIndex(-1);this.highlightMode_=b?b.toLowerCase():null;var c=null;if(a!=null){switch(b){case "ADDRESS":c=this.addressListView_;break;case "PLACE":c=this.placeListView_;break;case "BUSSTOP":c=this.busstopsListView_}c&&c.setIndex(a)}};I.prototype.clickPlace_=function(a,b){var c=this.placeMarkerIndex_[a],d=this.activeItem_=this.model_.places[a];this.setMarkerActive_(this.placeMarkers_,c);this.miniTooltipManager_.close();this.landmarkMarkers_.clear();
n.click("mapsearch","place_name");this.clickListView(a,"PLACE");this.highlightId_=d.id;this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();if(d.pointExtension){if(this.aoiController_.getAoi(d.id)){var e=this.aoiController_.getCoordsBounds(d.id);e&&!this.model_.hasBounds()&&this.map_.setBounds(e);this.aoiController_.clickListItem(d.id)}else{this.renderAllAoi_();this.aoiController_.callAfterLoad(function(){var a=this.aoiController_.getCoordsBounds(d.id);a&&!this.model_.hasBounds()&&
this.map_.setBounds(a);this.aoiController_.clickListItem.bind(this.aoiController_,d.id)}.bind(this))}this.aoiController_.setMapEvent()}else{this.areaSearchController_.blurAll();this.aoiController_.clickListItem(d.id)}c=this.placeMarkers_.at(c);this.showMediumTooltip_(d,c,b);c=function(){this.areaSearchController_.focus(d.id);if(!this.areaSearchController_.renderById(d.id)){this.map_.setLevel(3);this.map_.setCenter(d.coords)}}.bind(this);d.hasArea?this.areaSearchController_.getAreaSearch(d.id)?c():
this.areaSearchController_.callAfterLoad(d.id,c):this.areaSearchController_.clearMapEvent()};I.prototype.showMediumTooltip_=function(a,b,c){if(a){if(!a.pointExtension&&!this.model_.hasBounds()){this.map_.setLevel(c?c:3);this.map_.setCenter(a.coords)}setTimeout(function(){this.infoWindowManager_.createPlaceWithMedium(a,b,true,"search").onClose.add(function(){this.activeItem_=null},this)}.bind(this),100)}};I.prototype.showRoadview_=function(a){this.roadviewController_.setViewpointWithMarker(a,0,this.model_.isThemeMode())};
I.prototype.showStoreview=function(a){this.roadviewController_.showStoreView(a.storeview,0,null,this.model_.isThemeMode())};I.prototype.clickPlaceMarker_=function(a){this.clickListView(a,"PLACE");var b=this.activeItem_=this.model_.places[a],a=this.placeMarkerIndex_[a];this.setMarkerActive_(this.placeMarkers_,a);a=this.placeMarkers_.at(a);this.showPlaceInfowindow_(b,a);this.highlightId_=b.id;this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();if(b.pointExtension&&!this.aoiController_.getAoi(b.id)){this.renderAllAoi_();
this.aoiController_.callAfterLoad(this.aoiController_.clickMarker.bind(this.aoiController_,b.id))}else b.hasArea&&this.areaSearchController_.getAreaSearch(b.id)?this.areaSearchController_.renderById(b.id):this.aoiController_.clickMarker(b.id)};I.prototype.onAoiMousedown_=function(a){if(a.model instanceof Fc)this.clickPlaceMarker_(a.index);else if(a.model instanceof Ta){var b=this.activeItem_=this.model_.addresses[a.index];this.deselectMarkers_();this.clickListView(a.index,"ADDRESS");a=this.addressMarker_;
a.setMap(this.map_);b.lineData&&this.aoiController_.clickAddressItem(b,true);this.infoWindowManager_.createAddressWithNoPan(b,a);this.relatedAddressMarker_.setMap(null)}};I.prototype.showPlaceInfowindow_=function(a,b){a.hasCoords()?b?this.infoWindowManager_.createPlace(a,b,"search").onClose.add(function(){this.activeItem_=null},this):this.infoWindowManager_.createPlace(a):jb(a.getDaumPlaceUrl())};I.prototype.clickBusStops_=function(a,b){n.click("mapsearch","busstop");this.clickListView(a,"BUSSTOP");
var c=this.activeItem_=this.model_.busStops[a],d=this.busStopMarkers_.at(a);this.highlightId_=c.id;this.setMarkerActive_(this.busStopMarkers_,a);R.find(c.id,function(a){if(a){this.roadviewController_.close();if(!b&&!this.model_.getBounds()&&!this.model_.whatsHere){this.map_.setLevel(3);this.map_.setCenter(a.coords)}this.infoWindowManager_.createBusStop(a,null,null,d)}},this);this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent()};I.prototype.clickBus_=function(a){n.click("mapsearch",
"bus");this.clickListView(null);this.landmarkMarkers_.clear();var b=this.activeItem_=this.model_.buses[a],a=this.busesListView_.getItemViews()[a];this.createLandmark_(b.landmarks);this.deselectMarkers_();this.highlightId_=b.id;this.highlightMode_="bus";this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();this.busLineController_.setData(b.id,true);this.busItemController_&&this.busItemController_.hide();this.busItemController_=b=new Vb(b.id,a);b.activate()};I.prototype.clickAddress_=
function(a){this.deselectMarkers_();this.landmarkMarkers_.clear();this.clickListView(a,"ADDRESS");var b=this.activeItem_=this.model_.addresses[a];this.highlightId_=b.id;b.bhtype&&b.bhtype.search("B")>-1?this.localInfoController_.setRegionCodeType("B"):this.localInfoController_.setRegionCodeType("H");var c=function(){this.areaSearchController_.focus(b.id);if(!this.areaSearchController_.renderById(b.id,!!this.oneTimeCoords)&&this.oneTimeCoords===null){this.map_.setLevel(3);this.map_.setCenter(b.coords)}this.oneTimeCoords=
null}.bind(this),d=this.addressMarker_;d.setImage(new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/marker_spot.png",new daum.maps.Size(36,50),new daum.maps.Point(18,50)));d.setMap(this.map_);d.setPosition(b.coords);d.setZIndex(5);d.id=b.id;var e=this.addressListView_.getItemViews();d.item=e[a];this.aoiController_.clear();this.aoiController_.removeMapEvent();if(b.lineData)this.aoiController_.clickAddressItem(b);else if(!this.model_.getBounds()&&!this.model_.whatsHere){this.map_.setLevel(3);
this.map_.setCenter(b.coords)}if(this.oneTimeCoords){level=this.oneTimeCoords.urlLevel;coords=new daum.maps.Coords(this.oneTimeCoords.urlX,this.oneTimeCoords.urlY);this.map_.setLevel(level);this.map_.setCenter(coords)}n.click("mapsearch","address");this.clickAddressMarker_=function(a){this.infoWindowManager_.createAddress(b,d,null,a,"search")}.bind(this);this.clickAddressMarker_(b.maybeAreaSearch);this.relatedAddressMarker_.setMap(null);this.areaSearchController_.clearMap();if(b.maybeAreaSearch)this.areaSearchController_.getAreaSearch(b.id)?
c():this.areaSearchController_.callAfterLoad(b.id,c);else{this.areaSearchController_.clearMapEvent();this.oneTimeCoords=null}};I.prototype.clickAddressMarker_=null;I.prototype.changeActive_=function(){if(this.getActive()){i.$("info.main").show();i.$("search.keyword").setVisible(true);if(!this.themeMapController_.getActive()){this._viewLayout.setMapOnly();this.map_.setKeyboardShortcuts(true)}if(this.model_.loaded&&!this.model_.coordinates){this.frontViews_.hide();this.map_.relayout();if((this.model_.isAllMode()||
this.model_.isAddressMode())&&!this.model_.target){var a=this.addressMarker_.getPosition();a&&(a.getX()&&a.getY())&&this.addressMarker_.setMap(this.map_)}this.placeMarkers_.show();this.busStopMarkers_.show();this.infoHeaderView_.show()}else{this.frontViews_.show();this.windowController_.showInfoAndTop();if(this.themeMapController_.getActive()){i.$("info.main").hide();this.themeMapController_.show()}else{this.themeMapController_.hide();(!this.queryPanel_.val()||this.model_.coordinates)&&this.model_.coordinates&&
this.addressMarker_.setMap(this.map_)}}i.$("info").scrollTo(0);this.issueMapController.setActive(true);this.mainMapController.showKeywordTile();this.itemIdMarker&&this.itemIdMarker.setMap(this.map_)}else{this.frontViews_.hide();this.infoHeaderView_.hide();this.addressMarker_.setMap(null);this.relatedAddressMarker_.setMap(null);this.placeMarkers_.hide();this.busStopMarkers_.hide();this.landmarkMarkers_.hide();this.issueMapController.setActive(false);this.mainMapController.hideKeywordTile();this.hideBusLine_();
this.themeMapController_.hide();this.itemIdMarker&&this.itemIdMarker.setMap(null)}jQuery("#titleSystemTooltip").hide();this.infoWindowManager_.close();this.windowController_.updateHeight()};I.prototype.hide=function(){this.addressMarker_.setMap(null);this.relatedAddressMarker_.setMap(null);this.placeMarkers_.hide();this.busStopMarkers_.hide();this.landmarkMarkers_.hide();this.mainMapController.hideKeywordTile()};I.prototype.hideBusLine_=function(){this.busItemController_&&this.busItemController_.hide();
this.busLineController_.setActive(false)};I.prototype.getActiveBoundsButton=function(){return this.bounds_&&this.boundsButton_.getActive()};I.prototype.toggleBounds_=function(){n.click("navi","navi_menu_map_inmapsearch");n.click("left_info",[jQuery("body").hasClass("collapse")?"close":"open","inmapsearch"]);this.setTrackBounds(this.bounds_=!this.bounds_)};I.prototype.setTrackBounds=function(a){this.boundsButton_.setActive(a);this.boundscheck.attr("checked",a);if(a){a=this.queryPanel_.val();this.model_.setBounds(this.map_.getBounds());
this.bounds_=true;if(a){if(this.themeMapController_.getActive()){this.themeMapController_.setActive(false);this.changeActive_()}this.setActive(true);this.setKeyword(a)}this.infoWindowManager_.close()}else this.model_.setBounds(null)};I.prototype.refresh_=function(){if((this.model_.isThemeMode()||this.bounds_&&this.model_.getKeyword()&&this.model_.hasBounds())&&!Application.roadviewController.getActive()&&this.getActive()&&!this.map_.getBounds().equals(this.model_.getBounds())){this.model_.setBounds(this.map_.getBounds(),
true);this.model_.setPage(1)}};I.prototype.findLiterally=function(){this.model_.setLiteral(true)};I.prototype.findSnSelected=function(a){this.model_.setSnSelected(true,a)};I.prototype.findSubKeyword_=function(a){this.setKeyword(a)};I.prototype.loadMessage_=function(){var a=this.model_,b=a.trans_map_type=="RESULT_EMPTY_REDIRECT";i.$("info.search.correction").hide();if(a.originalKeyword){var c=a.getKeyword();if(a.guideMessage&&a.guideMessage.length){var d=a.guideMessage[0],e=d.region||"";e&&d.bunji&&
(e=e+(" "+d.bunji));switch(d.type){case "global":case "user_location":c=d.keyword;break;case "location_only":c=e;break;case "located_query":case "near_by_query":case "located_branch":c=e+" \uc8fc\ubcc0 "+d.keyword}}d="'"+a.originalKeyword+"' \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc5b4 '"+c+"'(\uc73c)\ub85c \uac80\uc0c9\ud588\uc2b5\ub2c8\ub2e4.";i.$("info.search.correction.error").setText(d);if(b){i.$("info.search.correction")._pane.find(".desc_search").html("<em>"+c+"</em> \uac80\uc0c9\uacb0\uacfc");
i.$("info.search.correction.error").show()}else{i.$("info.search.correction")._pane.find(".desc_search").html("<em>"+a.originalKeyword+"</em>\uc5d0\uc11c <em>"+c+"</em>\uc73c\ub85c \uac80\uc0c9\ud55c \uacb0\uacfc");i.$("info.search.correction.error").hide()}i.$("info.search.correction.orig2").setText(a.originalKeyword);i.$("info.search.correction.goorig").show();i.$("info.searchHeader").show();i.$("info.search.correction").show()}b=i.$("info.searchHeader.message");b.show();if(a.homonyms[0]||a.guideMessage&&
a.guideMessage.length){this.messageView.setVisible(true);this.busMessageView.setVisible(false);this.messageView.setSubNumber(a.sn_query);this.messageView.setBound(a.retry);this.messageView.setGuideData(a.guideMessage,a.homonyms,a.hasBounds(),a.premiumKeyword);b.addChild(this.messageView.getPane());i.$("info.main.options").removeClass("noUnderline")}else b.hide();if(a.hasBounds()){a.guideMessage&&a.guideMessage.length&&this.messageView.hideTitle();i.$("info.searchHeader").show();i.$("info.search.boundsTitle").show();
i.$("info.search.boundsTitle.text").setText(a.getKeyword());i.$("info.search.correction")._pane.find(".desc_search").hide()}else{i.$("info.search.boundsTitle").hide();i.$("info.search.correction")._pane.find(".desc_search").show()}a.trans_map_type&&!this.bounds_&&this.messageView.hideTitle();i.$("info.searchHeader.spellcheck").hasClass("HIDDEN")||i.$("info.searchHeader").show()};I.prototype.loadBusMessage_=function(){var a=this.model_;this.busMessageView.setVisible(true);this.messageView.setVisible(false);
i.$("info.searchHeader").show();var b=i.$("info.searchHeader.message");b.show();this.busMessageView.setData(a.originalKeyword,a.currentGuide,a.nextGuide);b.addChild(this.busMessageView.getPane())};I.prototype.setOption_=function(a){Application.roadviewController.close();i.$("info.search").hide();i.$("info.noPlace").hide();i.$("info.search.noW3w").hide();this.model_.setSort(0);this.model_.setBusRegionId(null);this.model_.setBusTypeId(null);this.reviewTabMode_=false;this.selectedPage=1;this.singleViewMode_=
false;this.initHighlight();n.click("mapsearch","flag"+a,{param1:this.model_.getKeyword()});switch(a){case 0:this.findAll();break;case 1:this.findPlaces();x.logSearchIn("place_tab");break;case 2:this.findAddresses();x.logSearchIn("address_tab");break;case 3:this.findBuses();x.logSearchIn("bus_tab");break;case 4:this.findBusStops();x.logSearchIn("busstop_tab");break;default:console.assert(false)}};I.prototype.setTabActive_=function(a){switch(a){case "route":Application.flagSearchController.setActive(true);
break;case "bus":Application.busSearchController.setActive(true);break;case "subway":Application.subwaySearchController.setActive(true)}};I.prototype.hasAoi_=function(a,b){for(var c=false,d=0;d<b;d++)if(a[d].pointExtension||a[d].lineData){c=true;break}return c};I.prototype.renderAllAoi_=function(){for(var a=this.model_.isAllMode()?Math.min(5,this.model_.places.length):this.model_.places.length,b,c=0;c<a;c++){b=this.model_.places[c];b.pointExtension&&this.aoiController_.find(b.id)}};I.prototype.checkBusKeyword=
function(){var a=this.getKeyword().trim(),a=a.replace(/[-\ubc88]/g,"");return/^[0-9]+$/.test(a)};I.prototype.initHighlight=function(){this.highlightMode_=this.highlightId_=null};I.prototype.loadNativeAd=function(a){try{var b=this.nativeAdController.getNativeAdView(this.selectedTab),c=a.querySelector("li.AdItem");c&&c.remove();a.prepend(b)}catch(d){}};I.prototype.load_=function(){function a(a,b,c){return!a?false:a.some(function(a,d){if(a.id.toString()===b){a.pointExtension?this.aoiController_.callAfterLoad(c.bind(this,
d)):c(d);return true}},this)}if(this.getActive()){var b=this.model_;this.firstPlaces=this.model_.places;i.$("info.body").scrollTo(0);this.frontViews_.hide();this.addressMarker_&&this.addressMarker_.setPosition(new daum.maps.Coords(0,0));if(b.hasBounds()){b.addresses.length=0;b.addressCount=0;b.busesCount=0;b.buses.length=0;b.busStops.length=0;b.busStopCount=0}var c=b.getMode()==z.ALL;this.singleViewMode_=false;this.singleViewType_=null;if(b.isAllMode()){var d=0,e=["places","addresses","buses","busStops"],
f=[false,false,false,false],h=0;e.forEach(function(a,c){if(b[a].length>0){d++;h=c;f[c]=true}});if(d==1){this.singleViewMode_=true;this.singleViewType_=e[h]}else if(d==2&&f[2]&&f[3]){this.singleViewMode_=true;this.singleViewType_=b.busRecommend=="busname"?"buses":"busStops"}}if(b.isAllMode()&&!this.singleViewMode_){b.places.splice(5,15);b.addresses.splice(3,15);b.buses.splice(3,15);b.busStops.splice(3,15)}b.isPlaceMode()&&b.places.length>0?i.$("info.addNewPlace").setClass("info_addplace2",b.pageCount/
this.PAGE_SIZE<=1).show():i.$("info.addNewPlace").hide();var e=this.getKeyword(),g=e.indexOf("\uc6b0\ud3b8\ubc88\ud638")!=-1;if(g){this.postCodeMessageKeyword=e.replace(/\uc6b0\ud3b8\ubc88\ud638/g,"").trim();i.$("info.searchHeader").show();this.postCodeMessage.show()}else this.postCodeMessage.hide();this.aoiController_.clear();this.aoiController_.setMapEvent();this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();this.resetSwap_();this.themeMapSearchController_.reset();
this.onSearchLoad.notify();this.windowController_.updateHeight();this.miniTooltipManager_.close();var k=this.hasAoi_(b.places,b.isAllMode()?Math.min(b.places.length,5):b.places.length)||this.hasAoi_(b.addresses,b.addresses.length),l=false;this.bounds_||this.infoWindowManager_.close();this.infoHeaderView_.show();e="";if(b.isAllMode()){this.infoHeaderView_.setOption(0);e="all"}else if(b.isPlaceMode()){this.infoHeaderView_.setOption(1);e="place"}else if(b.isAddressMode()){this.infoHeaderView_.setOption(2);
e="address"}else if(b.isBusesMODE()){this.infoHeaderView_.setOption(3);e="bus"}else if(b.isBusstopsMODE()){this.infoHeaderView_.setOption(4);e="busstop"}this.selectedTab=b.mode_==="all"?null:b.mode_;e={tab:e};if((b.isAllMode()||b.isPlaceMode())&&b.getCidx()!=null)e.cidx=b.getCidx();if(b.isBusTabMODE()){if(b.getQaType())e.qatype=b.getQaType();if(b.getBusRegionId())e.regionid=b.getBusRegionId();if(b.getBusTypeId())e.bustypeid=b.getBusTypeId()}e.mkey=+new Date+"_"+Math.ceil(Math.random()*32767);e.in_map=
b.hasBounds()?1:0;if(b.category_){c=b.getMode()==z.ALL;e.cateid=b.category_;e.catedepth=b.categoryDepth_}e.sorttype=b.sort||0;e.analysis=b.analysis;if(b.dssSrcId)e.srcid=b.dssSrcId;i.$("info.search").show();this.loadNativeAd(i.$("info.search").getElement());jQuery("#titleSystemTooltip").hide();this.addressMarker_.setMap(null);this.relatedAddressMarker_.setMap(null);this.placeMarkers_.clear();this.busStopMarkers_.clear();this.landmarkMarkers_.clear();this.issueMapController.clear();i.$("search.keyword").show();
this.queryPanel_.val(b.getKeyword());var j=this.spellcheckView_;if(b.spellCandidate[0]){this.bounds_?i.$("info.searchHeader.spellcheck.titleresult").hide():i.$("info.searchHeader.spellcheck.titleresult").show();i.$("info.searchHeader.spellcheck.title").setText(b.getKeyword());j.showCandidate(b.spellCandidate[0])}else j.hide();b.isBusTabMODE()&&!b.isW3wSearch()?b.hasBounds()||this.loadBusMessage_():this.loadMessage_();this.relatedKeywordController_.hide();this.relatedKeywordController_.render(b);var r=
new daum.maps.CoordsBounds,p=new daum.maps.CoordsBounds,o=new daum.maps.CoordsBounds;this.loadPlaceCategories_();var j=jQuery("#info\\.search\\.buses"),s=jQuery("#info\\.search\\.busstops");this.busItemController_&&this.busItemController_.hide();this.busItemController_=null;this.busLineController_.setActive(false);var m=this.busesListView_;m.clear();var u=this.busstopsListView_;u.clear();if(b.busRecommend=="busname"){b.busRecommendTop?j.insertBefore(jQuery("#info\\.search\\.address")):j.insertAfter(jQuery("#info\\.search\\.place"));
var q=jQuery.extend({},e,{cpg:b.page+","+b.buses.length});i.$("info.search.buses.cnt").setText(String.formatNumber(b.busesCount));b.buses.forEach(function(a,b){var c=m.addItem();c.setSeq(b);c.setDssBusObj(q);c.setTiaraObj({isBusTab:this.model_.isBusesMODE()});c.onClick.add(this.clickBus_.bind(this,b));c.setData(a)},this);m.setCount(b.buses.length,b.isAllMode()?b.busesCount:0);this.model_.isBusesMODE()&&(b.busRegions.length>2||b.busTypes.length>2)&&m.setVisible(true,false)}else m.setCount(0);if(b.busRecommend==
"busstop"){b.busRecommendTop?s.insertBefore(jQuery("#info\\.search\\.address")):s.insertAfter(jQuery("#info\\.search\\.place"));var w=jQuery.extend({},e,{cpg:b.page+","+b.busStops.length});i.$("info.search.busstops.cnt").setText(String.formatNumber(b.busStopCount));b.busStops.forEach(function(a,b){var c=u.addItem();c.setData(a);c.setIcon(b);c.setDssBusStopObj(w);c.setTiaraObj({isBusStopTab:this.model_.isBusstopsMODE()});var d=D.createBusStop(b+1,a.coords);if(a){d.onClick.add(function(){this.miniTooltipManager_.close();
c&&c.getPane().bringin();this.clickBusStops_(b,true);this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();c.sendDssLog("marker_busstop")},this);d.onOver.add(function(){c&&c.setHover(true);this.activeItem_!=a&&this.showMiniTooltip_(a,Ua.BUSSTOP);this.aoiController_.dimAll();this.areaSearchController_.blurAll(true)},this);d.onOut.add(function(){c&&c.setHover(false);this.activeItem_!=a&&this.miniTooltipManager_.close();this.aoiController_.redrawLines();this.areaSearchController_.restoreFocus()},
this)}if(c){c.onClick.add(this.clickBusStops_,this);c.onOver.add(function(){this.setMarkerHover_(this.busStopMarkers_,b,true);this.activeItem_!=a&&this.showMiniTooltip_(a,Ua.BUSSTOP);this.areaSearchController_.blurAll(true)},this);c.onOut.add(function(){this.setMarkerHover_(this.busStopMarkers_,b,false);this.miniTooltipManager_.close()},this)}c.onFlagClick.add(function(b){this.onFlagClick.notify({type:b,item:a})},this);this.busStopMarkers_.add(d);p.extend(a.coords)},this);u.setCount(b.busStops.length,
b.isAllMode()?b.busStopCount:0);this.model_.isBusstopsMODE()&&(b.busRegions.length>2||b.busTypes.length>2)&&u.setVisible(true,false)}else u.setCount(0);j=i.$("info.search.buses.regions").removeAllChildren();s=i.$("info.search.busstops.regions").removeAllChildren();j=b.busRecommend=="busname"?j:s;s=["BUS-REGION","BUS-TYPE"];if(b.busTypes.length>2){var y=b.busTypes.map(function(a){return a.name}),n=new Bd(y),y=this.busType?this.busType.name:y[0];n.setLabel(y);y=n.getPane();y.addClass("BusFilterSelectBoxView-"+
s.pop());j.addChild(y);n.onSelect.add(function(a){this.busType=a==0?null:b.busTypes[a];x.log("search_q_type",b.getKeyword(),{typeid:"filter",tab:this.model_.isBusesMODE()?"busname":"busstop",regionid:this.busRegion?this.busRegion.id:"",bustypeid:this.busType?this.busType.id:""});this.model_.setRepeatFlag(true);this.setPage(1)},this)}else this.busType=null;if(b.busRegions.length>2){y=b.busRegions.map(function(a){return a.name});n=new Bd(y);y=this.busRegion?this.busRegion.name:y[0];n.setLabel(y);y=
n.getPane();y.addClass("BusFilterSelectBoxView-"+s.pop());j.addChild(y);n.onSelect.add(function(a){this.busRegion=a==0?null:b.busRegions[a];x.log("search_q_type",b.getKeyword(),{typeid:"filter",tab:this.model_.isBusesMODE()?"busname":"busstop",regionid:this.busRegion?this.busRegion.id:"",bustypeid:this.busType?this.busType.id:""});this.model_.setRepeatFlag(true);this.setPage(1)},this)}else this.busRegion=null;j.addChild(new i("span","bar_area"));var A=this.addressListView_;i.$("info.search.address.cnt").setText(String.formatNumber(b.addressCount));
j=jQuery("#info\\.search\\.address\\.retry");b.addressRetry?j.show():j.hide();A.clear();var J=jQuery.extend({},e,{cpg:b.page+","+b.addresses.length});b.addresses.forEach(function(a,c){var d=A.addItem();if(a.maybeAreaSearch&&this.drawPolygon){l=true;this.areaSearchController_.fetch(a)}d.setData(a,b.inferredKeyword);d.setSeq(c);d.setDssAddressObj(J);d.setTiaraObj({isAddressTab:this.model_.isAddressMode()});d.onFlagClick.add(function(b){this.onFlagClick.notify({type:b,item:a})},this);a.lineData?this.aoiController_.registerSearchResult({model:a,
index:c}):d.onOver.add(function(){this.aoiController_.highlight(-1)},this);d.onOver.add(function(){this.areaSearchController_.blurAll(true);this.areaSearchController_.focus(a.id,true)},this);d.onOut.add(function(){this.areaSearchController_.restoreFocus()},this)},this);A.setCount(b.addresses.length,b.isAllMode()?b.addressCount:0);b.isThemeMode()?b.themeId==7?this.placeSortOptions_.setOptions([{name:"\ud718\ubc1c\uc720 \ucd5c\uc800\uac00\uc21c",value:20},{name:"\uacbd\uc720 \ucd5c\uc800\uac00\uc21c",
value:22},{name:"LPG \ucd5c\uc800\uac00\uc21c",value:23}]):this.placeSortOptions_.setOptions([]):b.sortType=="gas"?b.gasType=="lpg"?this.placeSortOptions_.setOptions([{name:"\uac70\ub9ac\uc21c",value:0},{name:"LPG \ucd5c\uc800\uac00\uc21c",value:23}]):this.placeSortOptions_.setOptions([{name:"\uac70\ub9ac\uc21c",value:0},{name:"\ucd5c\uc800\uac00\uc21c",list:[{name:"\ud718\ubc1c\uc720",value:20},{name:"\uace0\uae09\ud718\ubc1c\uc720",value:21},{name:"\uacbd\uc720",value:22}]}]):this.placeSortOptions_.setOptions([{name:"\uc815\ud655\ub3c4\uc21c",
value:0},{name:"\uc778\uae30\ub3c4\uc21c",value:1}]);this.placeSortOptions_.setOption(b.sort);A=this.placeListView_;i.$("info.search.place.cnt").setText(String.formatNumber(b.placeCount));A.clear();var v=[],C=[];this.bannerController_.hide();var G=false,O=[],F=[],j=b.places.length;b.hasMapPlus&&j--;var S=jQuery.extend({},e,{cpg:b.page+","+j});b.places.forEach(function(a,c){var d;if(!G&&a.intercity){this.bannerController_.show(a.intercity);G=true;i.$("info.searchHeader").show()}if(a.level==2){d=new Kd;
var e=jQuery.extend(a.mapPlusData,{q:b.getKeyword()});d.setMapPlus(e);A.addItem(d)}else{d=A.addItem();F.push(a.id);o.extend(a.coords);d.setSeq(b.hasMapPlus?c-1:c);d.setKeyword(this.model_.getKeyword());d.setDssPlaceObj(S);d.setTiaraObj({isPlaceTab:this.model_.isPlaceMode(),isSubway:!!a.subway});d.setImage(a.level,a.imgsrc);if(a.pointExtension){d.setAoiIcon(a.level,a.index);d.setCategory(null);d.setAddress(null)}else{d.setIcon(a.level,a.index);d.setCategory(a.placeCategory);d.setCategoryType(a.categoryType);
d.setAddress(a.address,a.newAddress);d.setPhone(a.phone[0])}d.setCourseinfo(a.courseinfo);d.setCoords(a.coords);d.setOutLink(a);d.setContactItems(a);d.setRoadview(a.roadview,a.coords);d.setGas(a.gas);setTimeout(function(){d.setFavorite(a)},200);d.setDupData(a.dup_data);d.setTVShowInfo(a.tvshow_info);d.setRealEstates(a.outsrcId,a.realEstates);d.onFlagClick.add(function(b){this.onFlagClick.notify({type:b,item:a})},this);a.level==3&&d.setExactData(a.website);a.gas||d.setScoreReviewCheckin(a.displayRestrictType,
a.grade,a.vote,a.review);d.setName(a.name,b.inferredKeyword,a.ad);a.level>0&&(a.level<3&&a.noAdReview)&&d.noAdReview();a.placeCategory&&a.placeCategory.id&&d.onCategory.add(function(){x.log("search_q_type",this.model_.getKeyword(),{typeid:"category",tab:this.model_.isPlaceMode()?"place":"all",cateid:a.placeCategory.id});this.mainMapController.tileClear();b.setCategory(a.placeCategory);b.setCategoryType(a.categoryType)},this);if(a.hasArea){l=true;this.areaSearchController_.fetch(a)}d.onRoadViewWithCourse.add(function(){},
this);d.onRoadview.add(function(){this.clickListView(c,"PLACE")},this);d.onDupDataClick.add(function(a){this.setMarkerActive_(null);this.clickListView(null);ca.findPlace(a,this.showMediumTooltip_,this)},this);if(a.hasCoords()){if(a.pointExtension){e=a.index==0?D.createExactPlace(a.coords):D.createLinecourse(a.index,a.coords);this.aoiController_.registerSearchResult({model:a,index:c,marker:e});O.push(a)}else e=a.level==3?D.createExactPlace(a.coords):a.level==2?null:a.level==1?D.createPremiumPlace(a.index,
a.coords):D.createPlace(a.index,a.coords);B.__daumEVENT2&&(a.name&&a.name.indexOf("\uc5b4\ubca4\uc838\uc2a4")!=-1)&&e.setAvengersEvent();e.onClick.add(this.onPlaceMarkerClick.bind(this,c,d));e.onOver.add(this.onPlaceMarkerOver.bind(this,d,a));e.onOut.add(this.onPlaceMarkerOut.bind(this,d));v[c]=C.length;C.push(e);if(d){a.pointExtension?d.onOver.add(function(){this.setMarkerHover_(this.placeMarkers_,this.placeMarkerIndex_[c],true);if(this.activeItem_!=a){if(a.pointExtension){a.aoiCoords=this.aoiController_.getMarkerPosition(a.id)||
a.coords;this.showMiniTooltip_(a,Ua.AOILINE)}else this.showMiniTooltip_(a,Ua.PLACE);this.aoiController_.highlight(a.id)}else this.aoiController_.redrawLines();this.areaSearchController_.blurAll(true);this.areaSearchController_.focus(a.id,true)},this):d.onOver.add(function(){this.setMarkerHover_(this.placeMarkers_,this.placeMarkerIndex_[c],true);this.activeItem_!=a&&this.showMiniTooltip_(a,Ua.PLACE);this.aoiController_.highlight(a.id);this.areaSearchController_.blurAll(true);this.areaSearchController_.focus(a.id,
true)},this);d.onOut.add(function(){this.setMarkerHover_(this.placeMarkers_,this.placeMarkerIndex_[c],false);this.miniTooltipManager_.close();this.areaSearchController_.restoreFocus()},this)}r.extend(a.coords)}}},this);A.setCount(b.places.length,b.isAllMode()?b.placeCount:0);if(F&&F.length>0){j={confirmId:F.join(","),mode:"standard"};if(B.ENV!=="PROD"&&B.datetime)j.datetime=B.datetime;require("server").searchOpenhour(j,function(a){A.getItemViews().forEach(function(b){if(b.getId()){var c=a.object(b.getId().toString());
c&&b.setOpenhour(c)}})})}r.isEmpty()&&(r=p);for(this.placeMarkerIndex_=v.map(function(a){return C.length-1-a});C[0];)this.placeMarkers_.add(C.pop());!this.noJump_&&(b.places.length&&b.places[0].pointExtension&&(b.highlightedFirst&&b.places[0]&&b.places[0].level==0||b.places.length==1)&&!this.boundscheck.attr("checked"))&&this.aoiController_.callAfterLoad(this.clickPlace_.bind(this,0));i.$("info.noPlace").hide().removeClass("filtered");i.$("info.search.noW3w").hide();var ja=false;if(!b.coordinates&&
b.addresses.length==0&&b.buses.length==0&&b.busStops.length==0&&b.places.length==0){k=b.getKeyword();if(b.hasBounds()){g="http://search.daum.net/search?w=tot&DA=54X&q="+encodeURIComponent(k);i.$("info.noPlaceInBounds.keyword").setText(k);i.$("info.noPlaceInBounds.daum.link").setExternalLink(g);i.$("info.noPlaceInBounds").show();i.$("info.main.options").removeClass("noUnderline");if(b.isAllMode())this.prevKeyword_==k?x.log("search_q_empty_in_map_drag",k):this.prevKeyword_=k}else{i.$("info.noPlace.keyword").setText(k);
i.$("info.search.page").hide();!g&&this.setNoKeywordView(b,true)}b.isBusTabMODE()&&(b.busRegions.length>2||b.busTypes.length>2)&&i.$("info.noPlace").addClass("filtered")}else{i.$("info.search").show();this.paginationView_.setTotal(b.isAllMode()?0:(b.pageCount||b.addressCount||b.reviewCount)/this.PAGE_SIZE);this.paginationView_.setPage(b.page);if(b.coordinates){i.$("info.main.home").show();i.$("info.searchHeader.message").hide();this.infoHeaderView_.hide();i.$("info.search").removeClass("themeMode");
this.windowController_.updateHeight();g=this.addressMarker_;k=new Ta;k.name=b.coordinatesText;k.coords=b.coordinates;this.clickAddressMarker_=b.isW3wSearch()?this.infoWindowManager_.createW3w.bind(this,new xb({address:b.keyword_.substr(3,b.keyword_.length),coords:b.coordinates}),g):this.infoWindowManager_.createPoint.bind(this,k,g,true,!!this.model_.whatsHere_);g.setPosition(b.coordinates);g.setMap(this.map_);if(!this.model_.whatsHere_){this.map_.setCenter(b.coordinates);this.map_.setLevel(3)}e.qkind=
"latlng";this.clickAddressMarker_()}else if(this.noJump_){if(b.addresses[0]&&!b.isHighway&&this.drawPolygon&&!this.highlightId_){k=b.addresses[0];this.clickListView(0,"ADDRESS");this.activeItem_=k;g=this.addressMarker_;g.setMap(this.map_);g.setPosition(k.coords);g.setZIndex(5);g.id=k.id;k.lineData&&this.aoiController_.clickAddressItem(k,true);this.clickAddressMarker_=this.infoWindowManager_.createAddress.bind(this,k,g);this.clickAddress_(0)}}else if(!b.hasBounds()&&!(b.busRecommend=="busname"&&b.busRecommendTop)){g=
b.places.length;b.hasMapPlus&&g--;if(!b.isBusTabMODE()&&b.busRecommend=="busstop"&&b.busRecommendTop&&b.busStops[0])this.clickBusStops_(0);else if(b.addresses[0]&&!b.isHighway)b.isAllMode()&&this.clickAddress_(0);else if(b.places[0]&&b.places[0]&&b.places[0].level==3&&!k){this.clickPlace_(0,b.exposure_level);ja=true}else if(!k&&b.highlightedFirst&&!this.noJump_&&b.places[0]&&b.places[0].level==0||g==1){g=0;b.hasMapPlus&&g++;this.clickPlace_(g,b.exposure_level);ja=true}else if(b.isBusTabMODE()){if(b.busRecommend==
"busstop"){r=this.busStopMarkers_.getMarkerBounds();this.map_.setBounds(r,70)}}else if(!r.isEmpty()){this.map_.setBounds(r,70);this.map_.getLevel()<4&&this.map_.setLevel(4)}}}if(this.highlightId_){k=g=null;switch(this.highlightMode_||this.selectedTab){case "place":g=b.places;k=function(a){this.clickPlace_(a);b.pointExtension||(ja=true)}.bind(this);break;case "address":g=b.addresses;k=this.clickAddress_.bind(this);break;case "busstop":case "busstops":g=b.busStops;k=this.clickBusStops_.bind(this);break;
case "bus":case "buses":g=b.buses;k=this.clickBus_.bind(this)}a(g,this.highlightId_,k)}if(!ja&&O.length&&!l){this.aoiController_.enablePolylineEvent();O.forEach(function(a){this.aoiController_.find(a.id)}.bind(this));this.aoiController_.callAfterLoad(function(){this.aoiController_.setAllMarker();console.log(2)}.bind(this))}this.noJump_=false;this.filterId_=void 0;this.initHighlight();g=this.getTileParams_();k=jQuery.extend({},e,{});k.q=b.getKeyword();this.mainMapController.setKeywordTileDssObj(k);
this.mainMapController.setKeywordTile(g);this.mainMapController.showKeywordTile();b.hasBounds()||require("log/Tiara").log(require("const").TIARA.search);g=b.getKeyword();e=jQuery.extend({},e,{});if(!o.isEmpty())e.rbounds=o.getSouthWest().getX()+","+o.getSouthWest().getY()+","+o.getNorthEast().getX()+","+o.getNorthEast().getY();if(b.trans_map_type){e.trans_map_type=b.trans_map_type;e.sq=b.spellCandidate[0]||b.getKeyword();g=b.originalKeyword||b.getKeyword()}if(this.result_click){e.result_click=this.result_click;
this.result_click=null;e.oq=this.result_click_sq;this.result_click_sq=null;e.trans_map_type=this.trans_map_type;g=b.originalKeyword||b.getKeyword()}b.target&&this.setTabActive_(b.target);b.isHighway&&this.swapAddressForPlace_();if(b.hasBounds()){if(k=b.getBounds())e.tbounds=k.getSouthWest().getX()+","+k.getSouthWest().getY()+","+k.getNorthEast().getX()+","+k.getNorthEast().getY();this.map_.getCenter();e.tlvl=this.map_.getLevel()}if(c&&!x._type){e.pg=b.page;e.cids=F.join(",");e.cnt=[b.placeCount,b.addressCount,
b.busesCount,b.busStopCount,b.placeAdCount||0].join();x.logSearch(g,e)}else{e.pg=b.page;if(F.length)e.cids=F.join(",");x._type?x.logSearchKeyword(g,e):x.logSearch(g,e)}x._type="";this.isPageLoad=false;this.drawPolygon=true}};I.prototype.swapAddressForPlace_=function(){jQuery("#info\\.search\\.place").insertBefore(jQuery("#info\\.search\\.address"));this.isAddressPlaceSwap_=true};I.prototype.resetSwap_=function(){jQuery("#info\\.search\\.address").insertBefore(jQuery("#info\\.search\\.place"));this.isAddressPlaceSwap_=
false};I.prototype.setMarkerActive_=function(a,b){this.deselectMarkers_();if(a&&!a.isEmpty()){a.at(b).setMap(this.map_);a.setMarkerActive(b)}};I.prototype.createLandmark_=function(a){a&&a.forEach(function(a){this.landmarkMarkers_.add(D.createLandmark(a.coords));var c=new Bc;c.setData("BUSLANDMARK",a.coords,'<span class="name">'+a.name+"</span>");this.landmarkMarkers_.add(c)},this)};I.prototype.setMarkerHover_=function(a,b,c){a.setHover(b,c)};I.prototype.showMiniTooltip_=function(a,b){switch(b){case Ua.PLACE:this.miniTooltipManager_.createPlace(a);
break;case Ua.BUSSTOP:this.miniTooltipManager_.createBusStop(a);break;case Ua.AOILINE:this.miniTooltipManager_.createAoi(a)}this.miniTooltipManager_.open()};I.prototype.getTileParams_=function(){var a=null;if(this.model_.tileSearch){var b=this.model_.getCidx(),a={query:this.model_.getInferredKeyword()||this.model_.getKeyword()};if(b!=null)a.cidx=b;(b=this.model_.getCategory())&&(a={themeId:"c"+b})}return a};I.prototype.reset=function(){this.queryPanel_.val("");x.logSearchIn("");if(this.getActive()){i.$("info.main").show();
this.frontViews_.show()}i.$("info.main.home").show();i.$("info.noPlace").hide();i.$("info.search.noW3w").hide();i.$("info.searchHeader").hide();i.$("info.searchHeader.message").hide();i.$("info.search.boundsTitle").hide();i.$("info.search.correction").hide();i.$("info.addNewPlace").hide();jQuery("#titleSystemTooltip").hide();this.model_.clear();this.searchBtn.removeClass("active");this.infoHeaderView_.hide();i.$("info.search").removeClass("themeMode");this.toggleSearchInputBg(true);this.addressMarker_.setMap(null);
this.relatedAddressMarker_.setMap(null);this.placeMarkers_.clear();this.hideBusLine_();this.busStopMarkers_.clear();this.landmarkMarkers_.clear();Application.favoriteController.reset();this.bounds_=false;this.activeItem_=null;this.boundsButton_.setActive(false);this.boundscheck.attr("checked",false);this.reviewTabMode_=false;this.mainMapController.clearKeywordTile();this.windowController_.updateHeight();Application.infoWindowManager.close();this.bannerController_.hide();this.aoiController_.clear();
this.spellcheckView_.hide();this.relatedKeywordController_.hide();this.relatedAddressController_.init();this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();this.themeMapController_.setActive(false);this.postCodeMessage.hide();this.itemIdMarker&&this.itemIdMarker.setMap(null);this.itemIdMarker=null};I.prototype.loadPlaceCategories_=function(){var a=this.model_,b=this.mainMapController,c=i.$("info.search.place.breadcrumb");if(a.categoryPath[0]){c.setVisible(true);c.removeAllChildren();
a.categoryPath.forEach(function(d,e,f){e>0&&c.addText(" > ");var h=new i("a");e+1==f.length&&h.addClass("current");h.setText(d.name);h.onClick.add(function(){h.hasClass("current")||a.setSort(0);x.log("search_q_type",a.getKeyword(),{typeid:"category",tab:a.isPlaceMode()?"place":"all",cateid:d.id});b.tileClear();a.setCategory(d)});c.addChild(h)});if(a.categoryChildren[0]){c.addText(" > ");var d=this.categoryChildrenTrigger_=new i("div"),e=this.moreCategory_=new i("span","morecate");d.addClass("all");
d.addChild(new i("strong","screen_out","\uce74\ud14c\uace0\ub9ac \uc120\ud0dd\uc0c1\uc790"));d.addChild(new i("em","screen_out","\uc120\ud0dd\ub0b4\uc6a9 :"));var f=new i("a","allText","\uc804\uccb4");f.addChild(e);d.addChild(f);d.addChild(new i("em","screen_out","\uc120\ud0dd\uc635\uc158"));var h=this.createCategoryChildren_(a.categoryPath);d.onClick.add(function(){e.setClass("expand",h.toggle().is(":visible"));var a=c.getWidth()-h.offset().left,b=h.width();a<b?h.css("left",a-b):h.css("left",0)},
this);c.addChild(d)}}else c.setVisible(false)};I.prototype.createCategoryChildren_=function(a){var b=this.model_,c=this.mainMapController,d=this.categoryChildren_=jQuery('<ul class="CategoryChildren HIDDEN"></ul>');b.categoryChildren.forEach(function(e){jQuery('<li><a href="#">'+e.name+"</a></li>").click(function(){c.tileClear();if(a)e.depth=a.length+1;x.log("search_q_type",b.getKeyword(),{typeid:"category",tab:b.isPlaceMode()?"place":"all",cateid:e.id});b.setCategory(e);d.remove()}).appendTo(d)});
this.categoryChildrenTrigger_.toPane().append(d);return d};I.prototype.setNoKeywordView=function(a){var b=a.isReviewMode()||a.isAddressMode()||a.isBusTabMODE();if(a.isW3wSearch())i.$("info.search.noW3w").show();else{var c=a.getKeyword(),a="http://search.daum.net/search?w=tot&DA=54X&q="+encodeURIComponent(c);i.$("info.noPlace.keyword").setText(c);i.$("info.noPlace.daum.link").setExternalLink(a);jQuery(i.$("info.noPlace.daum.link").getElement()).on("click",function(){x.log("search_q_click_to_tot",c)});
jQuery(i.$("info.noPlace").getElement()).insertAfter(jQuery(i.$("info.search").getElement()));i.$("info.noPlace.register").setVisible(!b);b?i.$("info.noPlace").addClass("noPlace_type2"):i.$("info.noPlace").removeClass("noPlace_type2");i.$("info.noPlace").show()}};I.prototype.clickAddrSuggest_=function(a){this.setKeyword(a,this.model_.getMode())};I.prototype.setHighlightId=function(a){this.highlightId_=a};I.prototype.getHighlightId=function(){return this.highlightId_};I.prototype.getHighlightMode=
function(){return this.highlightMode_};I.prototype.setHighlightMode=function(a){this.highlightMode_=a};I.prototype.getSortOption=function(){return this.placeSortOptions_.getOption()};I.prototype.setKeywordWithoutJump=function(a,b){this.noJump_=true;this.setKeyword(a,b)};I.prototype.setFilterId=function(a){this.filterId_=a;this.model_.setFilterId(a)};I.prototype.setLocalCode=function(a){this.model_.setLocalCode(a)};I.prototype.setDefaultSort=function(a){this.model_.setDefaultSort(a)};I.prototype.setDefaultLiterally=
function(a,b){this.model_.setDefaultLiterally(a,b)};I.prototype.getLiterally=function(){return this.model_.getLiterally()};I.prototype.setDefaultPage=function(a){this.model_.setDefaultPage(a)};I.prototype.clickFavoriteSearch=function(a){this.activeItem_=a;this.deselectMarkers_();this.clickListView(null)};I.prototype.setOneTimeCoords=function(a){this.oneTimeCoords=!a.urlX||!a.urlY||!a.urlLevel?null:a};define("controller/KeywordSearchController","options map/Map manager/ViewLayout controller/IssueMapController controller/WindowController map/InfoWindowManager controller/MainMapController map/MiniTooltipManager controller/RoadviewController controller/BusLineController factory/ButtonFactory controller/KeywordBannerController controller/LocalInfoController url manager/AoiManager controller/RelatedKeywordController controller/RelatedAddressController controller/ThemeMapController controller/ThemeMapSearchController controller/AreaSearchController controller/WhatsHereController controller/FiyFrameController controller/MapToolController manager/MapSuggest controller/HistoryController params controller/W3wController util/searchSuggest controller/NativeAdController".split(" "),
L(I));dd.prototype.isShow=function(){return this.layerProfileView_.getVisible()};dd.prototype.show=function(){this.layerProfileView_.show()};dd.prototype.hide=function(){this.layerProfileView_.hide()};dd.prototype.getUserInfo=function(){};define("controller/LayerProfileController",["view/LayerProfileView"],L(dd));ud.prototype.toggle=function(){this.layerProfileEditView_.hasClass("HIDDEN")?this.layerProfileEditView_.show():this.layerProfileEditView_.hide()};ud.prototype.show=function(){this.layerProfileEditView_.show()};
ud.prototype.hide=function(){this.layerProfileEditView_.hide()};define("controller/LayerProfileEditController",["view/LayerProfileEditView"],L(ud));Pb.prototype.hasClass_=function(a,b){if(document.documentElement.classList)return a.classList.contains(b);if(a&&a.className){var c=a.className.match(/\S+/g);return c?c.indexOf(b)>=0:false}return false};Pb.prototype.mousedownHandler=function(a){a.preventDefault();var b=a.target;this.hasClass_(b,"WaypointBoxView")&&(b=jQuery(b).find(".dragArea").getElement());
if(this.hasClass_(b,"dragArea")||this.hasClass_(b.parentNode,"dragArea")){for(;b&&b.getAttribute&&b.getAttribute("sortId")==null;)b=b.parentNode;if(b&&b.getAttribute("sortId")!=null){this.targetSortId_=b.getAttribute("sortId");this.target_=this.listArr_[this.targetSortId_];this.startY_=a.clientY;this.target_.getElement().style.position="relative";jQuery(document).mousemove(this.mousemoveHandler_).one("mouseup",this.mouseupHandler.bind(this))}}};Pb.prototype.mousemoveHandler=function(a){a.preventDefault();
this.listArr_[this.targetSortId_].addClass("WaypointBoxView-Drag");var a=a.clientY,b=this.container_.getHeight(),c=this.container_.getPosition().y,a=Math.max(c,Math.min(c+b,a)),a=a-this.startY_;this.target_.setPosition(void 0,a);a=this.numberFromMove_(a);if(this.beforeMoveNum!=a){this.beforeMoveNum=a;this.rePositionPanel_(parseInt(this.targetSortId_,10),a)}};Pb.prototype.mouseupHandler=function(a){jQuery(document).off("mousemove",this.mousemoveHandler_);this.listArr_[this.targetSortId_].removeClass("WaypointBoxView-Drag");
a=this.numberFromMove_(a.clientY-this.startY_);a=Math.max(0,Math.min(this.listArr_.length-1,a));parseInt(this.targetSortId_,10)!=a?this.resortElementListArr_(parseInt(this.targetSortId_,10),a):this.listArr_[this.targetSortId_].setPosition(0,0)};Pb.prototype.numberFromMove_=function(a){a=Math.floor((a+this.CHILD_HEIGHT/2)/this.CHILD_HEIGHT);return parseInt(this.targetSortId_,10)+a};Pb.prototype.rePositionPanel_=function(a,b){this.listArr_.forEach(function(b,c){if(c!=a){b.getElement().style.position=
"relative";b.setPosition(0,0)}});b=Math.max(0,Math.min(this.listArr_.length-1,b));if(a>b)for(var c=b;c<a;c++){this.listArr_[c].getElement().style.position="relative";this.listArr_[c].setPosition(0,this.CHILD_HEIGHT)}else for(c=b;c>a;c--){this.listArr_[c].getElement().style.position="relative";this.listArr_[c].setPosition(0,-this.CHILD_HEIGHT)}};Pb.prototype.add=function(a,b){if(b==void 0)b=this.listArr_.length;this.listArr_.splice(b,0,a);this.resortElement_();return b};Pb.prototype.removeToNumber=
function(a){this.container_.removeChild(this.listArr_[a]);this.listArr_.splice(a,1);this.resortElement_()};Pb.prototype.resortElementListArr_=function(a,b){this.listArr_.splice(b,0,this.listArr_.splice(a,1)[0]);this.resortElement_();this.onChange.notify({from:a,to:b})};Pb.prototype.resortElement_=function(){this.listArr_.forEach(function(a,c){a.getElement().setAttribute("sortId",c);a.getElement().style.zindex="100";a.setPosition(0,0);a.getElement().style.position="relative";this.container_.addChild(a)},
this);var a=this.listArr_.length-1;this.listArr_[a]&&this.listArr_[a].setPosition(0,0)};"use strict";define("controller/LocalInfoController",["map/Map","model/Weather","controller/LocalPlatformAdController","const"],L(function(a,b,c,d){function e(){var b=a.getCenter();Wb.find(b,function(b){try{if(b){if(b.hcode)s=b.hcode.code;var c=t=="B"?b.bcode:b.hcode,d=c.name1,e=c.name2,g=c.name3,h=!d&&!e&&!g||a.getLevel()>12?true:false;if(c.code&&!(c.code==j&&h==i)){var k=j=c.code;i=h;o=k;p=c.regionId;w.toggleClass("shortaddr",
h);if(h){M=[];f(c.name0,"","")}else{M=[c.code1,c.code2,c.code3];f(d,e,g)}if(b.weather){C.show();var l=b.weather.temp,u=b.weather.desc;G.attr("src","//t1.daumcdn.net/localimg/localimages/07/2018/pc/weather/ico_weather"+b.weather.icon+".png");G.attr("title",u);G.attr("alt",u);G.attr("width",20);G.show();var q=parseInt(Number(l).toFixed(0)).toString();C.find(".temper").text(q+"\u2103")}else C.hide()}}}catch(A){console.log(A)}});q.removeClass("HIDDEN")}function f(a,b,c){[a,b,c].forEach(function(a,b){var c=
A[b];c.text(a);c.parent().toggle(!!a)});l.notify(a+" "+b+" "+c)}function h(b){var c=J[u].empty(),f=0,h=M[u];b||(b="0");require("server").regionCode({code:b,base_code:t},function(b){g();b.find("value").forEach(function(b){var g=jQuery('<li><span class="check"></span><a href=#>'+b.text("name")+"</a></li>").click(function(){t=b.text("type");c.hide();k();M.length==0&&a.getLevel()>12&&a.setLevel(3);a.setCenter(new daum.maps.Coords(b.number("x"),b.number("y")));require("log/Tiara").log(d.TIARA.navi_region);
e()}).appendTo(c);if(h==b.text("code")){g.addClass("list_active");f=g.position().top}g.hover(function(){jQuery(this).addClass("list_hover")},function(){jQuery(this).removeClass("list_hover")})});c.scrollTop(f-80)});c.show()}function g(){v[u].show();var a=A[u];a.addClass("box-ACTIVE");var b=u===0?8:0,a=a.offset().left-w.offset().left+q.position().left-b;v[u].setPosition(a)}function k(){for(var a=0,b=v.length;a<b;++a){A[a].removeClass("box-ACTIVE");v[a].hide()}}var l=this.onAddress=new m,j,i,p,o,s,
t="H",u,q=jQuery("#localInfo"),w=jQuery("#localInfo\\.map"),b=jQuery("#localInfo\\.map\\.province"),c=jQuery("#localInfo\\.map\\.county"),y=jQuery("#localInfo\\.map\\.town"),M=[],A=[b,c,y],J=[jQuery("#localInfoList\\.province\\.list"),jQuery("#localInfoList\\.county\\.list"),jQuery("#localInfoList\\.town\\.list")],v=[fa.$("localInfoList.province"),fa.$("localInfoList.county"),fa.$("localInfoList.town")];v.forEach(function(a,b){a.onHide.add(function(){A[b].removeClass("box-ACTIVE")});a.noClosePane(A[b])});
[b,c,y].forEach(function(a,b){a.click(function(){u=b;var a=null;switch(u){case 0:a=null;n.click("control","location_1");break;case 1:a=M[0];n.click("control","location_2");break;case 2:a=M[1];n.click("control","location_3");break;default:console.assert(false)}if(A[u].hasClass("box-ACTIVE"))k();else{k();h(a)}})});var C=jQuery("#localInfo\\.map\\.weather"),G=jQuery("#localInfo\\.map\\.weatherIcon");daum.maps.event.addListener(a,"idle",hb(200,e).trigger);setTimeout(function(){e()},0);this.getRegionId=
function(){return p};this.getCode=function(){return o};this.getHCodeForLog=function(){return s||o};this.getRegionCodeType=function(){return t};this.setRegionCodeType=function(a){t=a};this.get3DepthAddr=function(){var a=jQuery("#localInfo\\.map\\.province"),b=jQuery("#localInfo\\.map\\.county"),c=jQuery("#localInfo\\.map\\.town");return a.text()+" "+b.text()+" "+c.text()}}));define("controller/LocalPlatformAdController",["map/Map","model/LocalPlatformAd","map/InfoWindowManager","controller/RoadviewController"],
L(function(a,b,c,d){function e(b){var c=D.localPlatformMarker(b==0?"GLOBAL":"LOCAL");daum.maps.event.addListener(c,"mouseover",function(){c.setZIndex(5);g[b].thumb.billboard.setMap(a)});daum.maps.event.addListener(c,"mouseout",function(){c.setZIndex(b==0?3:2);g[b].thumb.billboard.setMap(null)});daum.maps.event.addListener(c,"click",function(){x.logAd("ad_marker_click",g[b].data[3]);setTimeout(function(){jb(g[b].data[2]?g[b].data[2]:"https://place.map.kakao.com/"+g[b].data[3])},100)});return c}function f(){j.hide();
g.forEach(function(a){a.thumb.billboard.setMap(null);a.marker.setMap(null)})}function h(){var a=g[0],b=g[1];j.$("wrapper").attr("class");if(!a.data&&!b.data)j.animate({opacity:0},400,function(){f()});else{var c=a.data&&b.data&&k&&l?"localAdBoth":"other",d=j.hasClass("HIDDEN")?"HIDDEN":"";j.removeClass().addClass("LocalAdBanner").addClass(d).addClass(c);c=a.data&&a.data[3];d=b.data&&b.data[3];(!j.is(":visible")||a.preConfirmId!=c||b.preConfirmId!=d)&&j.show().css("opacity",0).animate({opacity:1},400);
j.find(".banner").each(function(a){var b=g[a],c=!(!b.data||!(a==0?k:l));jQuery(this).toggle(c);if(c){c=b.data[10]?b.data[10]:null;jQuery(this).find("img").attr("src",c?c:"");c=b.data[2]?b.data[2]:"https://place.map.kakao.com/"+b.data[3];jQuery(this).find(".bannerHref").attr("href",c);var d="";b.hcode&&(d=a==0?b.hcode.name2:b.hcode.name3);jQuery(this).find(".tagText").text(d);jQuery(this).find(".btnHref").attr("href",c);a=b.data[8]&&b.data[8].length>5?b.data[8]:"#";jQuery(this).find(".where").attr("href",
a)}});a.preConfirmId=a.data?a.data[3]:null;b.preConfirmId=b.data?b.data[3]:null}}var g=[logical={marker:null,banner:null,data:null,code:null,hcode:null,visible:false,thumb:null},global={marker:null,banner:null,data:null,code:null,hcode:null,visible:false,thumb:null}];daum.maps.event.addListener(a,"zoom_changed",function(){f()});var k=true,l=true,c=jQuery("#view\\.map"),j=H("LocalAdBannerView"),i=true;j.$("globalClose").click(function(){k=false;h()});j.$("logicalClose").click(function(){l=false;h()});
c.append(j);j.find(".where").click(function(){var b=j.find(".where").index(this);if(jQuery(this).attr("href")=="#"){b=new daum.maps.Coords(g[b].data[0],g[b].data[1]);a.setCenter(b)}});j.find(".banner").hover(function(){var b=j.find(".banner").index(this);g[b].marker&&g[b].marker.setZIndex(5);g[b].thumb.billboard.setMap(a)},function(){var a=j.find(".banner").index(this);g[a].marker.setZIndex(a==0?3:2);g[a].thumb.billboard.setMap(null)});j.find(".bannerHref").click(function(){var a=j.find(".bannerHref").index(this);
x.logAd("ad_banner_click",g[a].data[3])});d.onShow.add(function(){l=k=false;j.hide()});d.onCloseRoadview.add(function(){l=k=true;j.show()});g.forEach(function(a,b){a.marker=e(b);var c=b==0,d=H("LocalAdThumbnailView"),c=new daum.maps.Billboard({zIndex:c?4:3,position:new daum.maps.Coords(0,0),content:d.get(0),clickable:true});a.thumb={billboard:c,pane:d}});this.show=function(c){if(i){var c=c||{},d=c.code||Application.localInfoController.getCode();if(d)if(a.getLevel()>9||!jQuery("#search\\.tab1").hasClass("keyword-ACTIVE"))f();
else{g.forEach(function(e,f){var g=e.data&&e.data[3],h=f==0?d.substring(0,5):d.substring(0,7);if(b.find(h)){e.data=b.find(h);var j;var k=e.data;isVisible=jQuery("#search\\.tab1").hasClass("keyword-ACTIVE");if(k){j=k&&k[7].toUpperCase()=="O"?true:false;var l=k[6],k=k[5].split("-"),i=l.split("-"),l=new Date(k[0],+k[1]-1,k[2]),k=(new Date(i[0],+i[1]-1,+i[2]+1)).getTime(),i=(new Date).getTime();j=!j||!(l<=i&&i<=k)?false:true}else j=false;e.visible=j;e.code=h;e.hcode=c}else{e.visible=false;e.code=null}if(e.visible){h=
new daum.maps.Coords(e.data[0],e.data[1]);e.marker.setPosition(h);e.marker.setMap(a);if(e.data[3]==null||e.data[3]!=g){g=e.thumb;h=e.data;g.billboard.setPosition(new daum.maps.Coords(h[0],h[1]));j=h[11]?h[11]:null;g.pane.$("thumbnail").attr("src",j?j:"");g.pane.$("name").text(String.cut(h[4],8))}}else{e.data=null;e.marker.setMap(null);e.thumb.billboard.setMap(null)}});h(d)}}else f()};this.hide=function(a){f(a)};this.clear=function(){g.forEach(function(a){a.thumb&&a.thumb.billboard.setMap(null)})};
this.setActive=function(a){i=a;!a&&f()}}));aa.prototype.getHistory=function(){return this.skyviewHistoryIndex_?this.YEAR[this.skyviewHistoryIndex_]:null};aa.prototype.getMap=function(){return this.map_};aa.prototype.dblclickMap_=function(a){var b=this.map_.getLevel(),c=this.map_.getMapTypeId();(b==0&&!this.map_.isRoadmap()||b==1&&c==daum.maps.MapTypeId.ROADMAP)&&!Application.roadviewController.getActive()&&Application.roadviewController.showByDblClick(a.coords)};aa.prototype.clickMap_=function(a){this.infoWindowManager_.close();
var b=a.coords,c=a.point;this.clickHandlers_.some(function(a){return a.handleClick(b,c)})};aa.prototype.isRoadviewActive=function(){return this.mapTypeControl_.isRoadviewActive()};aa.prototype.isTrafficActive=function(){return this.mapTypeControl_.isTrafficActive()};aa.prototype.isAccidentActive=function(){return this.mapTypeControl_.isAccidentActive()};aa.prototype.isCctvActive=function(){return this.mapTypeControl_.isCctvActive()};aa.prototype.isStoreviewActive=function(){};aa.prototype.setStoreviewActive=
function(){};aa.prototype.getUrlObject=function(){var a=this.map_.getCenter(),b=this.map_.getLevel();return{x:a.getX()|0,y:a.getY()|0,level:b,scale:0.3125*(1<<b),map_type:this.map_.isRoadmap()?"TYPE_MAP":"TYPE_SKYVIEW"}};aa.prototype.rightclickMap_=function(a){this.rightclickHandlers_.some(function(b){return b.handleRightclick(a)})};aa.prototype.setRoadviewLineActive=function(a){this.mapTypeControl_.overrideRoadview(a)};aa.prototype.setTrafficLineActive=function(a){this.mapControlView_.setTrafficActive(a)};
aa.prototype.deactivateTraffic=function(){this.mapControlView_.deactivateTraffic()};aa.prototype.setTrafficActiveForState=function(a){this.mapControlView_.setTrafficActiveForState(a)};aa.prototype.setTrafficCctvId=function(a){this.mapTypeControl_.setCctvId(a)};aa.prototype.showCctv=function(){this.mapControlView_.showCctv()};aa.prototype.showTraffic=function(){this.mapControlView_.showTraffic()};aa.prototype.toolHandler_=function(a){this.mapControlView_.deactivateAll();switch(a){case ya.DISTANCE:this.mapControlView_.setToolActive(a,
!this.tool.isDistance());this.tool.distance_();break;case ya.AREA:this.mapControlView_.setToolActive(a,!this.tool.isArea());this.tool.area_();break;case ya.RADIUS:this.mapControlView_.setToolActive(a,!this.tool.isRadius());this.tool.radius_();break;case ya.NEWPLACE:this.mapControlView_.setToolActive(a,!this.tool.isNewPlace());this.tool.newPlace_();break;case ya.CLEAR:this.tool.overlaysClear()}};daum.maps.MapTypeId.SKYVIEW__=daum.maps.MapTypeId.SKYVIEW;daum.maps.MapTypeId.HYBRID__=daum.maps.MapTypeId.HYBRID;
aa.COPYRIGHT=function(a){daum.maps.Tileset.JEJU_ISLAND=new daum.maps.CoordsBounds(new daum.maps.Coords(281515,157035),new daum.maps.Coords(531417.5,-133097.5));var b=[new daum.maps.TilesetCopyright("TerraMetrics","TerraMetrics",9)],c=[];if(a<16)c.push(new daum.maps.TilesetCopyright("Samah","Samah",0));else{a<18?c.push(new daum.maps.TilesetCopyright("Samah","Samah",7)):a==="18"&&c.push(new daum.maps.TilesetCopyright("\uc81c\uc8fc\ud2b9\ubcc4\uc790\uce58\ub3c4","Jeju",0,daum.maps.Tileset.JEJU_ISLAND));
c.push(new daum.maps.TilesetCopyright("\uad6d\ud1a0\uc9c0\ub9ac\uc815\ubcf4\uc6d0","NGII",0))}return b=b.concat(c)};"08 09 10 11 12 13 14 15 16 17 18 19 20".split(" ").forEach(function(a){aa["SKYVIEW"+a]=new daum.maps.Tileset(256,256,function(b,c,d){return"//map"+Math.abs(b%4)+".daumcdn.net/map_skyview_past/20"+a+"/L"+d+"/"+c+"/"+b+".jpg"},aa.COPYRIGHT(a),true,0,14);daum.maps.Tileset.add("SKYVIEW"+a,aa["SKYVIEW"+a]);daum.maps.Tileset.add("HYBRID"+a,aa["SKYVIEW"+a])});aa.prototype.handleHistory_=function(a){this.skyviewHistoryIndex_=
a;var b=this.map_.getMapTypeId()==daum.maps.MapTypeId.HYBRID,c=[void 0,"20","19","18","17","16","15","14","13","12","11","10","09","08"][a]||"__";if(!this.args.hdi&&!this.args.hdh){daum.maps.MapTypeId.SKYVIEW=daum.maps.MapTypeId["SKYVIEW"+c];daum.maps.MapTypeId.HYBRID=daum.maps.MapTypeId["HYBRID"+c]}this.map_.setMapTypeId(daum.maps.MapTypeId[b?"HYBRID":"SKYVIEW"]);this.mapTypeControl_.logMapTypeId(this.map_.getMapTypeId());this.historyLegendView_&&this.closeHistoryLegend_();b=this.YEAR=[void 0,2020,
2019,2018,2017,2016,2015,2014,2013,2012,2011,2010,2009,2008];c=[void 0,["\uc11c\uc6b8","\uacbd\uae30","\uc778\ucc9c","\uc138\uc885","\ub300\uc804","\uad11\uc8fc","\ucda9\uccad\ub3c4","\uc81c\uc8fc\ub3c4","\uc804\ub77c\ub3c4 \uc77c\ubd80","\uac15\uc6d0\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ub3c4 \uc77c\ubd80"],["\uc138\uc885","\uac15\uc6d0\ub3c4","\ucda9\uccad\ubd81\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ubd81\ub3c4","\uacbd\uc0c1\ub0a8\ub3c4","\uc804\ub77c\ub0a8\ub3c4 \uc77c\ubd80","\uc81c\uc8fc\ub3c4","\uc6b8\ub989\ub3c4/\ub3c5\ub3c4"],
["\uc11c\uc6b8","\uacbd\uae30","\uc778\ucc9c","\uc138\uc885","\ub300\uc804","\uad11\uc8fc","\ucda9\uccad\ub3c4","\uc81c\uc8fc\ub3c4","\uc804\ub77c\ub3c4 \uc77c\ubd80","\uac15\uc6d0\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ub3c4 \uc77c\ubd80"],["\uc138\uc885","\uac15\uc6d0\ub3c4","\ucda9\uccad\ubd81\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ubd81\ub3c4","\uacbd\uc0c1\ub0a8\ub3c4","\uc804\ub77c\ub0a8\ub3c4 \uc77c\ubd80","\uc81c\uc8fc\ub3c4","\uc6b8\ub989\ub3c4/\ub3c5\ub3c4"],["\uc11c\uc6b8","\uacbd\uae30","\uc778\ucc9c",
"\uc138\uc885","\ub300\uc804","\uad11\uc8fc","\ucda9\uccad\ub3c4","\uc804\ub77c\ub3c4 \uc77c\ubd80","\uac15\uc6d0\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ub3c4 \uc77c\ubd80"],["\uc11c\uc6b8","\uacbd\uae30","\uc778\ucc9c","\uc138\uc885","\ub300\uc804","\uad11\uc8fc","\ucda9\uccad\ub3c4","\uc804\ub77c\ub3c4 \uc77c\ubd80","\uac15\uc6d0\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ub3c4 \uc77c\ubd80"],["\uac15\uc6d0\ub3c4 \uc77c\ubd80","\uc804\ub77c\ub0a8\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ub3c4"],["\uc11c\uc6b8","\uc778\ucc9c",
"\uc81c\uc8fc\ub3c4","\uacbd\uae30\ub3c4 \uc77c\ubd80","\ucda9\uccad\ub0a8\ub3c4 \uc77c\ubd80","\uc804\ub77c\ub0a8\ub3c4 \uc77c\ubd80"],["\uac15\uc6d0\ub3c4","\uacbd\uc0c1\ubd81\ub3c4","\ucda9\uccad\ubd81\ub3c4","\ucda9\uccad\ub0a8\ub3c4","\uc804\ub77c\ubd81\ub3c4","\uc804\ub77c\ub0a8\ub3c4"],["\uc11c\uc6b8\ud2b9\ubcc4\uc2dc","\uc81c\uc8fc\ub3c4","6\ub300 \uad11\uc5ed\uc2dc","\uc804\ub77c\ub0a8\ub3c4 \uc77c\ubd80","\uacbd\uae30\ub0a8\ubd80","\uc804\ub77c\ubd81\ub3c4 \uc77c\ubd80","\ucda9\uccad\ubd81\ub3c4",
"\uacbd\uc0c1\ubd81\ub3c4 \ub0a8\ubd80","\ucda9\uccad\ub0a8\ub3c4","\uacbd\uc0c1\ub0a8\ub3c4 \uc77c\ubd80"],["\uc11c\uc6b8/\uacbd\uae30","6\ub300 \uad11\uc5ed\uc2dc","\uac15\uc6d0\ub3c4","\uacbd\uc0c1\ubd81\ub3c4","\uacbd\uc0c1\ub0a8\ub3c4","\ucda9\uccad\ubd81\ub3c4 \ub0a8\ubd80","\ucda9\uccad\ub0a8\ub3c4 \uc11c\ubd80","\uc804\ub77c\ubd81\ub3c4","\uc804\ub77c\ub0a8\ub3c4","\uc6b8\ub989\ub3c4"],["\uc11c\uc6b8/\uacbd\uae30","6\ub300 \uad11\uc5ed\uc2dc","\uac15\uc6d0 \ub3d9\ubd80","\uac15\uc6d0 \uc11c\ubd80",
"\ucda9\uccad\ubd81\ub3c4 \ubd81\ubd80","\ucda9\uccad\ub0a8\ub3c4","\uc804\ub77c\ubd81\ub3c4 \uc11c\ubd80","\uc804\ub77c\ub0a8\ub3c4","\uacbd\uc0c1\ubd81\ub3c4 \ub0a8\ubd80","\uacbd\uc0c1\ub0a8\ub3c4","\uc81c\uc8fc\ub3c4","\uc6b8\ub989\ub3c4/\ub3c5\ub3c4"],["\uc11c\uc6b8","6\ub300 \uad11\uc5ed\uc2dc","\uacbd\uae30\ub3c4","\uac15\uc6d0\ub3c4","\ucda9\uccad\ub0a8/\ubd81\ub3c4","\uc804\ub77c\ub0a8/\ubd81\ub3c4","\uacbd\uc0c1\ub0a8/\ubd81\ub3c4","\uc81c\uc8fc\ub3c4","\uc6b8\ub989\ub3c4/\ub3c5\ub3c4"]];
if(b[a]&&c[a]){a=this.historyLegendView_=new Ed(b[a],c[a]);this.frameDecorator_.onResize.add(a.handleMapFrame.bind(a));a.onClose.add(this.closeHistoryLegend_,this);a.onSwitch.add(this.resetSkyviewHistory_,this);this.panel.find(".SkyviewHistoryLegend").remove().end().append(a.getPanel().getElement())}};aa.prototype.closeHistoryLegend_=function(){if(this.historyLegendView_){this.panel.find(".SkyviewHistoryLegend").remove();this.historyLegendView_=null}};aa.prototype.resetSkyviewHistory_=function(){this.mapTypeControl_.setLatestSkyview()};
aa.prototype.tileClear=function(){this.keywordTileParams=null;this.clearThemePoiControlView()};aa.prototype.clearThemePoiControlView=function(){this.themePoiControlView.clearAll()};aa.prototype.setKeywordTile=function(a){this.keywordTileParams=a};aa.prototype.setKeywordTileDssObj=function(a){this.keywordTileDssObj=a};aa.prototype.showKeywordTile=function(){this.themePoiControlView.getActive()||this.setActiveKeywordTile()};aa.prototype.hideKeywordTile=function(){if(!this.themePoiControlView.getActive()){this.poiTileController.clearTile();
this.setTileExtenstion(false)}};aa.prototype.clearKeywordTile=function(){this.keywordTileDssObj=this.keywordTileParams=null;if(!this.themePoiControlView.getActive()){this.poiTileController.clearTile();this.setTileExtenstion(false)}};aa.prototype.setActiveKeywordTile=function(){if(this.keywordTileParams&&jQuery("#info\\.main").is(":visible")){var a=this.keywordTileParams;if(a.themeId){a.dimg="ns";this.poiTileController.setThemeTile(a);this.setTileExtenstion("theme")}else{this.poiTileController.setKeywordTileDssObj(this.keywordTileDssObj);
this.poiTileController.setKeywordTile(a);this.setTileExtenstion("keyword")}}else{this.poiTileController.clearTile();this.setTileExtenstion(false)}};aa.prototype.setTileExtenstion=function(a){if(a){this.mapControlView_.setExtensionVisible(true);this.mapControlView_.setKeywordTile(a)}else this.mapControlView_.setExtensionVisible(false)};aa.prototype.getThemePoiControlView=function(){return this.themePoiControlView};aa.prototype.setTerrain=function(a){this.mapTypeControl_.setTerrain(a);this.mapControlView_.layerButtonUpdate()};
aa.prototype.isTerrain=function(){return this.mapTypeControl_.isTerrainActive()};aa.prototype.setBike=function(a){this.mapTypeControl_.setBike(a);this.mapControlView_.layerButtonUpdate()};aa.prototype.isBike=function(){return this.mapTypeControl_.isBikeActive()};aa.prototype.isHybrid=function(){return this.mapTypeControl_.isHybridActive()};aa.prototype.setWeather=function(a,b){this.mapTypeControl_.setWeather(a,b);this.mapControlView_.layerButtonUpdate()};aa.prototype.getWeather=function(){return this.mapTypeControl_.getWeather()};
aa.prototype.isUsedistrict=function(){return this.mapTypeControl_.isUsedistrictActive()};aa.prototype.setUsedistrict=function(a,b){this.mapTypeControl_.setUsedistrictParam(a,b);this.mapControlView_.layerButtonUpdate()};aa.prototype.getUsedistrict=function(){return this.mapTypeControl_.getUsedistrictParam()};aa.prototype.setIndoor=function(a){this.mapTypeControl_.setIndoor(a)};aa.prototype.isIndoor=function(){return this.mapTypeControl_.isIndoorActive()};define("controller/MainMapController","map/Map manager/ViewLayout controller/RoadviewLineController controller/MapToolController controller/MapCursorController controller/PoiController controller/MapMenuController map/MapTypeControl view/MapControlView view/FrameDecorator controller/IndoorMapController view/ThemePoiControlView controller/ThemePoiMarkerController controller/PoiTileController controller/LocalPlatformAdController manager/AoiManager map/InfoWindowManager map/MiniTooltipManager params view/RoutePoiControlView".split(" "),
L(aa));define("controller/MapCursorController",["map/Map","controller/MapToolController","controller/PoiController","controller/PoiTileController","controller/IndoorMapController"],L(function(a,b,c,d,e){var f=false;e.onOver.add(function(b){if(f!=b){a.setCursor(b?"pointer":null);f=b}},this);var h=false;c.onOver.add(function(b){if(h!=b){a.setCursor(b?"pointer":null);h=b}},this);var g=false;d.onOver.add(function(b){if(g!=b){a.setCursor(b?"pointer":null);g=b}},this);var k="ActiveXObject"in B?"url(//t1.daumcdn.net/kakaomapweb/resource/closedhand.cur.ico), move":
"url(//t1.daumcdn.net/kakaomapweb/resource/closedhand.cur.ico) 7 5, url(//t1.daumcdn.net/kakaomapweb/resource/closedhand.cur.ico), move";daum.maps.event.addListener(a,"dragstart",function(){if(f||h||g){a.setCursor(k);g&&d.showMiniTooltip(false)}});daum.maps.event.addListener(a,"dragend",function(){if(f||h||g){a.setCursor("pointer");g&&d.showMiniTooltip(true)}});daum.maps.event.addListener(a,"mousemove",function(a){if(!b.isArea()&&!(b.isDistance()||b.isRadius()|b.isNewPlace())){var f=a.coords,g=a.point;
[e,d,c].some(function(a){return a.compareRange(f,g)},this)}})}));Oa.prototype.handleRightclick=function(a){if(this.roadviewController_.getActive())return false;this.coords_=a.coords;var a=a.point,b=i.$("view").getSize();this.pointMarker_.setPosition(this.coords_);this.pointMarker_.setMap(this.map_);this.panel_.toPane().css("cursor","default");this.panel_.show();this.panelParent_.setPosition(this.coords_);this.panelParent_.setMap(this.map_);var c=this.panel_.getSize();this.panel_.setClass("upContext",
a.y+c.height>b.height);this.panel_.setClass("leftContext",a.x+c.width>b.width);this.menu_via_.unbind("click");if(Application.transitRouteSearchController.getActive()){this.menu_via_.unbind("click");this.menu_via_.addClass("disabled")}else{this.menu_via_.click(this.viaDirection_.bind(this));this.menu_via_.removeClass("disabled")}return true};Oa.prototype.hide=function(){this.panelParent_.setMap(null);this.pointMarker_.setMap(null)};Oa.prototype.w3w_=function(){n.click("rightmenu",["w3w"]);this.hide();
this.w3wController_.showTooltipByCoords(this.coords_)};Oa.prototype.favorite_=function(){n.click("favorite",["point","rightmenu"]);this.hide();Ta.findWhatsHere(this.coords_,this.searchByAddressFavorite_,this)};Oa.prototype.searchByAddressFavorite_=function(a){a={type:"point",display1:a&&a.name||"",x:Math.round(this.coords_.getX()),y:Math.round(this.coords_.getY())};a.key=a.x+"|"+a.y;Application.favoriteController.add(a,"mouse_right_click")};Oa.prototype.startDirection_=function(){this.windowController_.setCollapse(false);
this.hide();Application.flagSearchController.setActive(true);Application.flagSearchController.clearAoi();Application.flagSearchController.setOrigin(this.coords_);n.click("rightmenu","select_start")};Oa.prototype.viaDirection_=function(){n.click("rightmenu","select_via");this.windowController_.setCollapse(false);this.hide();Application.flagSearchController.setActive(true);Application.flagSearchController.clearAoi();Application.flagSearchController.setVia(this.coords_)};Oa.prototype.endDirection_=function(){this.hide();
this.windowController_.setCollapse(false);Application.flagSearchController.setActive(true);Application.flagSearchController.clearAoi();Application.flagSearchController.setDestination(this.coords_);n.click("rightmenu","select_end")};Oa.prototype.showWhatsHereWindow=function(){this.whatsHereController_.fetch(this.coords_.getX(),this.coords_.getY(),this.loadWhatsHere_.bind(this))};Oa.prototype.whatsHere_=function(){this.hide();this.showWhatsHereWindow();n.click("rightmenu","what_here")};Oa.prototype.loadWhatsHere_=
function(a){var b=Application.keywordSearchController;this.windowController_.setCollapse(false);b.setActive(true);if(a)b.setWhatsHereKeyword(a);else{b.reset();this.windowController_.updateHeight();i.$("info.noSuchPlace").show()}};Oa.prototype.doZoom_=function(a,b,c){this.hide();var d=this.map_,e=d.getCenter(),f=this.coords_,b=new daum.maps.Coords(b*e.getX()+c*f.getX(),b*e.getY()+c*f.getY());d.setLevel(d.getLevel()+a);d.setCenter(b)};Oa.prototype.zoomIn_=function(){if(this.map_.getLevel()<=1){this.hide();
alert("\ub354 \uc774\uc0c1 \ud655\ub300\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4")}else this.doZoom_(-1,0.5,0.5)};Oa.prototype.zoomOut_=function(){if(this.map_.getLevel()>=ya.MAX_LEVEL){this.hide();alert("\ub354 \uc774\uc0c1 \ucd95\uc18c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4")}else this.doZoom_(1,2,-1)};Oa.prototype.strange_=function(){this.hide();Application.fiyFrameController.openCustomerRequest({type:"map",channel:"CLICK_RIGHT",coords:this.coords_});n.click("rightmenu","ndm_event")};Oa.prototype.newPlace_=
function(){this.hide();Application.fiyFrameController.openCustomerRequest({type:"newPlace",channel:"CLICK_RIGHT",coords:this.coords_});n.click("rightmenu","newplace")};define("controller/MapMenuController",["map/Map","controller/WindowController","controller/WhatsHereController","controller/W3wController","controller/RoadviewController"],L(Oa));ra.prototype.deactive_=function(){};ra.prototype.copylistToggle=function(){n.click("control","sharetool");var a=i.$("tool");if(this.copylist_.getVisible()){a.removeClass("ACTIVE");
this.copylist_.hide()}else{this.copylist_.show();a.addClass("ACTIVE")}};ra.prototype.onHidelist_=function(){i.$("tool").removeClass("ACTIVE")};ra.prototype.copyUrl=function(){var a=this.shareController.createParam();a.folderid!==void 0?this.shareController.show(a):this.shareController.show();this.copylist_.hide();n.click("control",["sharetool","url"])};ra.prototype.save_=function(a){this.copylist_.hide();this.deactive_();Application.saveMapImage=this.saveMap.bind(this);if(Application.subwaySearchController.getActive())Application.subwaySearchController.save_(a);
else{jb("etc/save.jsp",400,260,{noscroll:true});n.click("control",["sharetool","save"])}};ra.prototype.copyMap_=function(a){this.copylist_.hide();if(Application.subwaySearchController.getActive())Application.subwaySearchController.scrap_(a);else{var b=Application.mainMapController.getUrlObject(),c=this.map_.isRoadmap()?"TYPE_MAP":"TYPE_SKYVIEW",d=Application.weatherWindowController.getState(),e=this.map_.getMapTypeId()==daum.maps.MapTypeId.HYBRID,a=location.href.replace(/[?#].*/,"")+"?urlX="+b.x+
"&urlY="+b.y,a=a+("&urlLevel="+b.level+"&map_type="+c+"&map_hybrid="+e);d&&(a=a+"&weather=true");b=this.getStaticImageParams(504,310);c=require("url").MAP2_DAUM_NET+"/map";c=b.type==="hybrid"?c+"/skyviewmapservice?FORMAT=PNG&RDR=HybridRender":b.type==="skyview"?c+"/skyviewmapservice?FORMAT=PNG":c+"/mapservice?FORMAT=PNG";delete b.type;var a={baseUrl:a,imgUrl:c+"&"+jQuery.param(b)},f=H("ScrapMapFrame"),a="./etc/scrap.jsp?"+jQuery.param(a);f.$("frame").attr("src",a);this.forefront.create(f,{dimmed:true,
closer:".close",beforeClose:function(){f.$("frame").attr("src","")}});n.click("control",["sharetool","scrap"])}};ra.prototype.email_=function(){this.copylist_.hide();var a=this.map_.getCenter(),b=a.getX()|0,a=a.getY()|0,c=this.map_.getLevel(),b={BODY:'<a href="'+(require("url").MAP_DAUM_NET+"?urlX="+b+"&amp;urlY="+a+"&amp;urlLevel="+c)+'" target=_blank><img width=630 height=350 src="'+("https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&amp;logo=kakao_logo&amp;scale=2&amp;center="+b+","+
a+"&amp;lv="+c+"&amp;size=630x350&amp;service=pcmap")+'"></a><br>'};jb(require("url").DAUM_MAIL+"?"+jQuery.param(b),850,600,{resizable:"yes"});n.click("control",["sharetool","mail"])};ra.prototype.print_=function(a){this.copylist_.hide();if(Application.subwaySearchController.getActive())Application.subwaySearchController.print_(a);else if(Application.carRouteSearchController.getActive()&&Application.carRouteSearchController.route_)Application.carRouteSearchController.print();else if(Application.transitRouteSearchController.getActive()&&
Application.transitRouteSearchController.route_)Application.transitRouteSearchController.setRouteToPrint(null);else if(Application.flagSearchController.walkRouteSearchController.getActive()&&Application.flagSearchController.walkRouteSearchController.printRoute())Application.flagSearchController.walkRouteSearchController.print();else if(Application.flagSearchController.bikeRouteSearchController.getActive()&&Application.flagSearchController.bikeRouteSearchController.printRoute())Application.flagSearchController.bikeRouteSearchController.print();
else{var a=this.map_.getCenter(),b=this.map_.getMapTypeId(),c=b===daum.maps.MapTypeId.SKYVIEW?"s":b===daum.maps.MapTypeId.HYBRID?"h":"m";c!="m"&&["08","09","10","11","12","13","14","15","16","17","18"].some(function(a){if(daum.maps.MapTypeId.SKYVIEW==daum.maps.MapTypeId["SKYVIEW"+a]){c=c+a;return true}});a="etc/print.jsp?c="+a.getX()+","+a.getY()+","+this.map_.getLevel()+"&t="+c;jb(a,670,720);n.click("control",["sharetool","print"])}};ra.prototype.overlays_=[];ra.prototype.distanceTool_="";ra.prototype.areaTool_=
"";ra.prototype.radiusTool_="";ra.prototype.newPlaceTool_="";ra.prototype.newPlaceChannel_=null;ra.prototype.newPlaceQuery_=null;ra.prototype.distance_=function(){this.deactive_();var a=this.isDistance();if(this.workingTool_){this.workingTool_.close();this.workingTool_=null}if(a)this.onComplete.notify();else{a=new ge(this.map_);a.onClose.add(this.drawCheck.bind(this));a.activate();this.overlays_.push(a);this.workingTool_=a;n.click("control","length1");this.onClickTool.notify()}};ra.prototype.area_=
function(){this.deactive_();var a=this.isArea();if(this.workingTool_){this.workingTool_.close();this.workingTool_=null}if(a)this.onComplete.notify();else{a=this.areaTool_=new ee(this.map_);a.onClose.add(this.drawCheck.bind(this));a.activate();this.overlays_.push(a);this.workingTool_=a;n.click("control","area");this.onClickTool.notify()}};ra.prototype.radius_=function(a){this.deactive_();var b=this.isRadius();if(this.workingTool_){this.workingTool_.close();this.workingTool_=null}if(b)this.onComplete.notify();
else{b=this.radiusTool_=new pe(this.map_);b.onClose.add(this.drawCheck.bind(this));b.activate();this.overlays_.push(b);this.workingTool_=b;!a&&n.click("control","radius");this.onClickTool.notify()}};ra.prototype.newPlace_=function(){this.deactive_();var a=this.isNewPlace();if(this.workingTool_){this.workingTool_.close();this.workingTool_=null}if(a){this.newPlaceDeactive();this.onComplete.notify()}else{a=this.newPlaceTool_=new oe(this.map_,this.newPlaceChannel_,this.newPlaceQuery_);a.closeCallback(this.handleRightclick.bind(this));
a.activate();this.newPlaceActive();this.overlays_.push(a);this.workingTool_=a;n.click("control","newplace");this.onClickTool.notify()}};ra.prototype.isDistance=function(){return this.workingTool_ instanceof ge};ra.prototype.isArea=function(){return this.workingTool_ instanceof ee};ra.prototype.isRadius=function(){return this.workingTool_ instanceof pe};ra.prototype.isNewPlace=function(){return this.workingTool_ instanceof oe};ra.prototype.isToolActivate=function(){return!!this.workingTool_};ra.prototype.drawCheck=
function(){var a=false;this.overlays_.some(function(b){typeof b=="object"&&(b.isAlive&&b.isAlive())&&(a=true)});jQuery(".MapControlView .tools").toggleClass("tools-CLEAR",a)};ra.prototype.openNewPlaceByQuery=function(a,b){Application.fiyFrameController.open({type:"newPlace",channel:a?a:"ICON_NEWPLACE",rawInfo:{query:b||""}})};ra.prototype.newPlaceActive=function(){jQuery(".MapControlView .add_place").addClass("active_tool")};ra.prototype.newPlaceDeactive=function(){jQuery(".MapControlView .add_place").removeClass("active_tool")};
ra.prototype.clear=function(){this.deactive_();this.clear_();this.workingTool_=null};ra.prototype.clear_=function(){Application.roadviewController.close();Application.infoWindowManager.close();Application.keywordSearchController.getActive()&&Application.keywordSearchController.reset();Application.flagSearchController.getActive()&&Application.flagSearchController.reset();Application.busSearchController.getActive()&&Application.busSearchController.reset();Application.aoiManager.clearAll();Application.mainMapController.tileClear();
this.localPlatformAdController_.clear();this.onReset.notify(null)};ra.prototype.overlaysClear=function(){this.overlays_.forEach(function(a){a.close()});this.overlays_.length=0;this.workingTool_=null};ra.prototype.handleClick=function(a){if(this.workingTool_){this.newPlaceDeactive();this.workingTool_.handleClick(a);return true}return false};ra.prototype.handleUndoKeydown=function(){if(this.workingTool_&&this.workingTool_.undo){this.workingTool_.undo();return true}return false};ra.prototype.handleRightclick=
function(a){if(this.workingTool_){this.workingTool_.freeze(a);this.workingTool_=null;this.deactive_();this.newPlaceDeactive();this.onComplete.notify();this.drawCheck();return true}return false};ra.prototype.getStaticImageParams=function(a,b){var c=Application.mainMapController.getUrlObject(),d=this.map_.getCenter(),e=Application.mainMapController.getHistory(),f=Application.mainMapController.mapTypeControl_.isHybridActive(),h=d.getX()|0,d=d.getY()|0,c={SCALE:c.scale,MX:h,MY:d,type:this.map_.isRoadmap()?
"roadmap":f?"hybrid":"skyview",S:"0",IW:a,IH:b,LANG:"0",COORDSTM:"WCONGNAMUL",logo:"kakao_logo"};if(e)c.YEAR=e.toString().replace(/^\d\d/,"");return c};ra.prototype.saveMap=function(a,b){var c=null,d=null,c=typeof a!="undefined"?a:i.$("view.map").getWidth(),d=typeof b!="undefined"?b:i.$("view.map").getHeight();c>2048&&(c=2048);d>2048&&(d=2048);c="./saveMap.jsp?"+jQuery.param(this.getStaticImageParams(c,d));location.href=c};define("controller/MapToolController","map/Map controller/BusSearchController controller/FiyFrameController controller/LocalPlatformAdController dom/forefront controller/ShareController".split(" "),
L(ra));"use strict";define("controller/MapappController",["jquery","dom/forefront","core/PaneFactory"],function(a,b,c){var d=c.create("Mapapp");a("#mapapp").click(function(){b.create(d,{closer:".close"})})});ec.prototype.setActive=function(a){a=!!a;if(this.active_!=a){this.active_=a;this.onActive.notify(null)}return this};ec.prototype.getActive=function(){return this.active_};ed.prototype.getNativeAdView=function(a){a=this.getUnitId(a);this.setKakaoAccountId();return(new Of(a)).getPane()[0]};ed.prototype.setKakaoAccountId=
function(a){if(!this.alreadySetKakaoAccountId){a=(a=this.profileController.getInfo())?a.text("accountId"):"";AdfitNativeAds.setKakaoAccountId(a);this.alreadySetKakaoAccountId=true}};ed.prototype.isProdUnitId=function(){return B.ENV==="PROD"||B.ENV==="CBT"};ed.prototype.getUnitId=function(a){var b={all:"DAN-REdLpoq4d96cKAIY",place:"DAN-GfxE0yWqTj3gLIkO",address:"DAN-lq6fDQbjOyuWqVwP",buses:"DAN-YLRdfzayXzDCnLjF",busstops:"DAN-YTxTMT7VohACsbnu"},c={all:"DAN-PFNMQ1ofG0aZTP61",place:"DAN-GuEsyQEIPzxp5vQ0",
address:"DAN-IStnnFunHN9NwCf3",buses:"DAN-KuHyHczOId7ZAipT",busstops:"DAN-t5Wz0Zvh0nSmusjK"},a=a?a:"all";return this.isProdUnitId()?b[a]:c[a]};define("controller/NativeAdController",["controller/ProfileController"],L(ed));define("controller/NoticeController",["options","dom/forefront"],L(function(a,b){function c(a,b,c){var d=false;if(b==void 0)jQuery.cookie("noNotice"+a.id)!=1&&(d=true);else{c=c||1;b?jQuery.cookie("noNotice"+a.id,1,{expires:0}):jQuery.cookie("noNotice"+a.id,1,{expires:c});d=b}return d}
function d(){var a=H("noticePopup"),d=b.create(a);a.$("close").click(function(){c(e,false,14);d.hide()});a.appendTo("body");d.show()}var e={id:2};a.notice_popup=="Y"&&c(e)&&d()}));define("controller/PoiController",["map/Map","map/InfoWindowManager","map/MapTypeControl","controller/IndoorMapController"],L(function(a,b,c,d){function e(){var b=a.getBounds(),b={minx:b.getSouthWest().getX(),miny:b.getSouthWest().getY(),maxx:b.getNorthEast().getX(),maxy:b.getNorthEast().getY(),level:a.getLevel()};Gc.findAll(b,
h)}function f(b){var c=12&0.3125*(1<<a.getLevel());return sb(b.map(function(a){if(a.points)return a.points;var b=a.coords.getX(),d=a.coords.getY(),a=b-c,e=d-c,b=b+c,d=d+c;return[a,e,a,d,b,d,b,e]}))}function h(a){var b=a.places;if(b.length){u=b;q=f(b)}else{u.length=0;q=sb([])}b=a.addresses;if(b.length){w=b;y=f(b)}else{w.length=0;y=sb([])}b=a.busStops;if(b.length){M=b;A=f(b)}else{M.length=0;A=sb([])}a=a.subwayStations;if(a.length){J=a;v=f(a)}else{J.length=0;v=sb([])}}function g(e){var f=a.getMapTypeId(),
g=false;c.isIndoorActive()&&d.checkPolygonAreaContainPoint(e)&&(g=true);if(f!=daum.maps.MapTypeId.SKYVIEW&&!g||f==daum.maps.MapTypeId.SKYVIEW&&c.isHybridActive()){p=e;f=A.findAt(e.getX(),e.getY());if(f=M[f]){j(f);return true}f=v.findAt(e.getX(),e.getY());if(f=J[f]){e=new bb(new Ga(f));b.createSubwayStation(e);n.click("map","poiclick_subway");return true}f=q.findAt(e.getX(),e.getY());if(f=u[f]){k(f);return true}f=y.findAt(e.getX(),e.getY());if(f=w[f]){l(f);return true}}return false}function k(c){c.confirmid&&
ca.findPlace(c.confirmid,function(c){if(c){b.createPlace(c,p);n.click("map","poiclick");x.logMapLabel(c.coords,Application.localInfoController.getHCodeForLog(),c.id,{level:a.getLevel(),maptype:a.isRoadmap()?"MAP":"SKYVIEW"})}})}function l(){require("server").getAddressShape({x:p.getX(),y:p.getY()},function(a){var c=new Ta(a);c.oldname=a.text("old.name");c.otherName=a.text("old.name");c.key=a.text("docid");b.createAddress(c,p)});n.click("map","poiclick_address")}function j(a){if(a.id){if(a.grouped){var c=
new Je;c.id=a.id;c.coords=new daum.maps.Coords(a.x,a.y);b.createBusStopGroup(c)}else R.find(a.id,function(a){a.id&&b.createBusStop(a)});n.click("map","poiclick_busstop")}}function i(a,b){if(o==b.x&&s==b.y)return t;var c=[A,v,q,y].some(function(b){return!!(b.findAt(a.getX(),a.getY())>=0)});o=b.x;s=b.y;t=c;C.notify(c);return c}var p=null,o=0,s=0,t=false,u=[],q=sb([]),w=[],y=sb([]),M=[],A=sb([]),J=[],v=sb([]),C=this.onOver=new m;daum.maps.event.addListener(a,"idle",hb(250,e).trigger);e();this.handleClick=
function(a){return g(a)};this.compareRange=function(a,b){return i(a,b)}}));"use strict";define("controller/PoiTileController",["map/Map","map/InfoWindowManager","map/MiniTooltipManager","map/MapTileManager"],L(function(a,b,c,d){function e(a,b,c){var d=c,c=c+5;return d>=0&&-7488>>c<=a&&a<=68E4>>c&&-102176>>c<=b&&b<=635E3>>c}function f(){d.set("theme",true)}function h(){k();if(u){M=true;if(A){d.set("theme",false);C()}}else g()}function g(){M=false;y=u=null;A&&d.set("theme",false)}function k(){for(var a in B)B.hasOwnProperty(a)&&
delete B[a];B={}}function l(a){var b={};b.id=a.text("ID");b.name=a.text("NAME");b.category=a.text("CATE")||"";b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return b}function j(b){if(M&&A){var c=b.getX(),b=b.getY(),d=a.getLevel(),f=1<<d;V=f;var g=(b*3.2+48E4)/f,f=parseInt((c*3.2+24E4)/f/256,10),g=parseInt(g/256,10);if(f<0||g<0||!e(f,g,d))return false;var h=d+"_"+f+"_"+g;if(B[h])S=B[h];else if(G!=d||O!=f||F!=g){G=d;O=f;F=g;var j=require("url").TILE_SEARCH_IMG_NET+"/tmap/"+q+"/L"+d+"/"+
g+"/"+f+".png?output=jsonp";jQuery.ajax(j,{data:u,timeout:5E3,dataType:"jsonp",jsonpCallback:"L"+d+"_"+g+"_"+f,cache:true,success:function(a){B[h]=(new Ga(a)).array("value").map(l)}})}return s(c,b)}return false}function i(a){if(a&&z){b.createPlace(a);J=a}}function p(a){if(a&&z){b.createBusStop(a);J=a}}function o(a){$.setImage(a==="nb"?E:a==="nr"?D:H)}function s(b,c){var d=null;S.forEach(function(a){var e=a.coords.getX(),f=a.coords.getY(),g=1.8*V;b>e-g&&(b<e+g&&c>f-g&&c<f+g)&&(d=a)});if(d){if(!z||
z&&d.id!=z.id){$.setPosition(d.coords);$.setMap(a);z=d;t(true)}}else{$.setMap(null);z=null;t(false)}v.notify(!!d);return!!d}function t(a){if(a&&z){if(!J||+z.id!=+J.id){c.openDot();c.createDot(z)}}else c.closeDot()}var u="",q="",w="",y=null,M=false,A=true,J=null,v=this.onOver=new m;daum.maps.MapTypeId.THEME||daum.maps.Tileset.add("THEME",new daum.maps.Tileset(256,256,function(a,b,c){return!e(a,b,c)?"":require("url").TILE_SEARCH_IMG_NET+"/tmap/"+q+"/L"+c+"/"+b+"/"+a+".png?"+u}));d.setId("theme",daum.maps.MapTypeId.THEME);
var C=hb(500,f).trigger;this.setOptions=function(a){setOptions_(a)};this.setKeywordTile=function(a){a.dimg="ns";o(a.dimg);a=jQuery.param(a);if(u!==a){u=a;q="msearch";w="keyword";h()}};this.setThemeTile=function(a){if(a.dimg){o(a.dimg);u=jQuery.param(a);q=a.themeId==="busStop"?"bsearch":"msearch";w="theme";h()}};this.clearTile=function(){g()};this.setVisible=function(a){(A=a)&&M?f():d.set("theme",false)};this.setKeywordTileDssObj=function(a){y=a};var G=null,O=null,F=null,S=[],B={};daum.maps.event.addListener(a,
"zoom_changed",k);var V=0,z=null;b.onClose.add(function(){J=null});var X={offset:new daum.maps.Point(5,5),spriteSize:new daum.maps.Size(8,8),spriteOrigin:new daum.maps.Point(-1,-1)},D=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/exsearch-ico-red8_hover.png",new daum.maps.Size(10,10),X),E=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/exsearch-ico-blue8_hover.png",new daum.maps.Size(10,10),X),H=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/exsearch-ico-search-hover.png",
new daum.maps.Size(10,10),X),$=new daum.maps.Marker({position:null,image:D,clickable:false});this.compareRange=function(a,b){return j(a,b)};this.handleClick=function(){var a;if(z){if(q=="bsearch")R.find(z.id,p);else{ca.findPlace(z.id,i);if(w=="keyword"){n.click("control","dotsearch_dotclick");if(y){a={confirmid:z.id,tab:y.tab,in_map:y.in_map,sorttype:y.sorttype};if(y.cidx!=void 0)a.cidx=y.cidx;x.log("tile_circle_click",y.q,a)}}}n.click("dotsearch","dotclick");c.close();a=true}else a=false;return a};
this.showMiniTooltip=function(a){t(a)};this.getTileInfo=function(){return{imgPath:q,paramStr:u}}}));define("controller/ProfileController",["controller/AuthController"],L(function(a){var b=this.onChange=new m,c=null;b.add(function(a){c=a});this.loadInfo=function(d){a.isLogin()&&nd.getInfo(function(a){if(a.text("status.code")==="SUCCESS"){c=a.object("result");b.notify(c);typeof d==="function"&&d(c)}})};this.getInfo=function(){return c}}));Mb.prototype.add=function(a){this.buttons_.push(a);a.onClick.add(this.clickButton_,
this)};Mb.prototype.setActive=function(a){if(!this.buttons_[a].getActive()){this.setActiveWithoutFeedback(a);this.onChange.notify(a)}};Mb.prototype.clickButton_=function(a){var b=this.buttons_.indexOf(a.currentPanel);console.assert(b>=0);this.buttons_.forEach(function(a,d){d!=b&&a.setActive(false)});this.onChange.notify(b)};Mb.prototype.setActiveWithoutFeedback=function(a){console.assert(this.buttons_[a]);this.buttons_.forEach(function(b,c){b.setActive(c==a)})};Mb.prototype.getButtonLength=function(){return this.buttons_.length};
define("controller/RelatedAddressController",["jquery","model/RelatedAddress","view/RelatedAddressView"],function(a,b,c){function d(a,b,c){k[a]=k[a]||{};k[a][b]=c}function e(a){g.notify(a)}function f(){h.notify()}var h=new m,g=new m,k={};return{init:function(){k={}},newList:function(a,c){var e,f,g=c.dataType,h=[];if(g==1||g==2){e="new";f="\ub3c4\ub85c\uba85"}else{e="old";f="\uc9c0\ubc88"}var k=c.relatedPrefixAddress||"";a.split(";").forEach(function(a){h.push(new b(a,e,f,k))},this);d(c.id,"parent",
c);return h},renderItem:function(a,b){var g=new c(a,b);g.onItemClick.add(e);g.onFolderClick.add(f);d(b.id,"view",g);return g},onFolderClick:h,onItemClick:g}});define("controller/RelatedKeywordController",["jquery"],function(a){function b(){var b=a(this).data("keyword");j.notify(b);c({sub_q:b})}function c(b){b=a.extend({main_q:f},b);x.log("related_search_q",null,b)}function d(){k.show();l.hide();g.removeClass(e)}var e="showMore",f=null,h=[],g=a("#info\\.related\\.keyword"),k=g.find(".more.closed"),
l=g.find(".more.opened"),j=new m;k.on("click",function(){a(this).hide();l.show();g.addClass(e)});l.on("click",function(){d()});return{render:function(a){var d=a.relkey,e=g.find(".wrapKeywords"),j=[];if(d){f=a.getKeyword();c();h=d.split(",");h.forEach(function(a){j.push('<a href="#" data-keyword="'+a+'">'+a+"</a>")});j=j.join(", ");e.html(j);e.find("a").on("click",b);g.show();e.height()>38&&k.show()}else f=null},show:function(){g.show()},hide:function(){g.hide();d()},onSubClick:j}});define("controller/ReviewController",
["controller/AuthController","view/ReviewListView","const","constants/popup","url"],L(function(a,b,c,d){function e(a){if(!l){l=true;var b={order:o,onlyRevisitY:w};if(q)b.mapUserId=u;if(s===1)p=[];else if(a){p.splice(Math.floor((s-1)/j)*j*i);if(p.length>0)b.reviewIndex=p[p.length-1].reviewId}else if(s%j===1&&p.length%i===0)b.reviewIndex=p[p.length-1].reviewId;else{l=false;h();return}require("server").reviewList(b,f,function(){l=false})}}function f(a){if(v.isSuccess(a)){var b=a.find("result.reviews")?
a.find("result.reviews").map(function(a){return a.raw()}):[];p=p.concat(b);t=a.number("result.reviewCount");y=a.text("status.code");M=a.number("result.averageScore");h()}l=false}function h(){var a=p.slice((s-1)*i,s*i);b.setList(a,{pages:{total:t/i,index:s},filterData:{count:t,selectedSortType:o,onlyRevisitY:w,sortNameList:{UPDATE:"\uc5c5\ub370\uc774\ud2b8\uc21c",PLACE_NAME:"\uc774\ub984\uc21c",STAR_RATING:"\ud3c9\uc810\uc21c"}},averageScore:M,isOtherPage:q,isPrivate:y===v.RESULT_CODE.REVIEW_VIEW_PRIVATE});
require("log/Tiara").log(q?c.TIARA.other_review:c.TIARA.my_review)}ga(this,ec);this.onActive.add(function(){if(this.getActive())if(a.isLogin()){s=1;e()}else g.notify()},this);var g=this.onFail=new m,k=this.onClick=new m;b.onClickItem.add(function(a){k.notify(a)});b.onRemoveItem.add(function(a){a="?"+jQuery.param(a);require("server").reviewDelete({addParamData:a},function(a){if(v.isSuccess(a)){alert("\ud6c4\uae30\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");e(true)}})});b.onClickSort.add(function(a){n.click(q?
"other":"my",["review","sort",{UPDATE:"by_updatedtime",PLACE_NAME:"by_name",STAR_RATING:"by_score"}[a]]);o=a;s=1;e()});b.onClickPage.add(function(a){s=a;Math.ceil(p.length/i)<s?e():h()});b.onClickRevisited.add(function(a){w=a;s=1;e()});b.onLikeItem.add(function(b){if(a.isLogin()){var c="?"+jQuery.param(b.param);require("server").reviewLike({addParamData:c},function(a){v.isSuccess(a)&&typeof b.callback==="function"&&b.callback()})}else{n.click("login",["other","review_like"]);a.request()}});b.onReportItem.add(function(b){if(a.isLogin())B.open(d.REPORT.URL+
b.querystring,"review_report",d.REPORT.FEATURE);else{n.click("login",["other",b.type+"_report"]);a.request()}});var l=false,j=5,i=15,p=[],o="UPDATE",s=1,t=0,u=null,q=false,w=false,y="",M=0;this.refreshList=e;this.setMapUserId=function(a){q=!!a;u=a||null}}));var pc=null,pc=B.isFlashEnv?Sa:ea;define("controller/RoadviewController",pc.args,L(pc));vd.prototype.active_=!1;vd.prototype.setActive=function(a){if(this.active_!=a){this.active_=!!a;a?this.mapTileManager_.set("roadview",true):this.mapTileManager_.set("roadview",
false)}};vd.prototype.handleClick=function(a){if(this.active_){Application.roadviewController.showStartLog_=true;Application.roadviewController.showNearby(a);Application.roadviewController.getActive()?n.click("roadview",["mini_map","viewer_line"]):n.click("roadview","viewer_line");return true}return false};define("controller/RoadviewLineController",["map/MapTileManager"],L(vd));"use strict";define("controller/RoughMapFrameController",["dom/forefront","url","const"],L(function(a,b,c){B.addEventListener("message",
function(b){if(b.origin.includes(".kakao.com")){var c=b.data.messageType;if(b.data.serviceName==="place")if(c==="onClose"){a.close();e=null}else if(c==="onSizeChanged"){c=b.data.params;if(e){b=+c.width;b<600&&(b=600);b=b+52;b>jQuery(B).width()&&(b=jQuery(B).width());c=+c.height;c<300&&(c=300);c=c+227+4;c>jQuery(B).height()-50&&(c=jQuery(B).height()-50);var d=e.$("frame");e.css({width:b,height:c,marginLeft:-(b/2)});d.css({width:b,height:c});(d[0].contentWindow||{}).postMessage({messageType:"onUpdate"},
"*")}}}});var d=b.EMBED_ROUGHMAP_URL,e=null;this.open=function(b){e=H("RoughMapFrame");b=d+"?"+jQuery.param(b);e.$("frame").attr("src",b);a.create(e,{dimmed:true});require("log/Tiara").log(c.TIARA.simplemap)}}));Oc.prototype.showMap_=function(){Application.keywordSearchController.getActive()&&Application.keywordSearchController.reset();Application.keywordSearchController.setActive(true);n.click("navi","menu_mapsearch");require("log/Tiara").log(require("const").TIARA.searchClick)};Oc.prototype.showCarRoute_=
function(){Application.flagSearchController.getActive()&&Application.flagSearchController.reset();Application.flagSearchController.setActive(true);n.click("navi","menu_route");require("log/Tiara").log(require("const").TIARA.carRouteClick)};Oc.prototype.showBus_=function(){Application.busSearchController.getActive()&&Application.busSearchController.reset();Application.busSearchController.setActive(true);n.click("navi","menu_bus");require("log/Tiara").log(require("const").TIARA.busClick)};Oc.prototype.showSubway_=
function(){Application.subwaySearchController.getActive()&&Application.subwaySearchController.reset();Application.subwaySearchController.setActive(true);n.click("navi","menu_subway");require("log/Tiara").log(require("const").TIARA.subwayClick)};Oc.prototype.showFavorite_=function(){Application.favoriteController.getActive()&&Application.favoriteController.reset();Application.favoriteController.setActive(true);n.click("navi","menu_my")};define("controller/SearchTabController",[],L(Oc));Ob.prototype.add=
function(a,b,c){a.onClick.add(this.click_,this);a.onEnter.add(function(){a.setActive(true)});a.onLeave.add(function(){a.setActive(false)});this.buttons_.push(a);this.values_.push(b);this.texts_.push(c);if(this.values_.length==0)this.value_=b};Ob.prototype.click_=function(a){var b=this.buttons_.indexOf(a.currentPanel);this.setValue_(this.values_[b]);this.setText_(this.texts_[b]);this.notify_(a)};Ob.prototype.getText=function(){return this.text_};Ob.prototype.setText_=function(a){this.text_=a};Ob.prototype.getValue=
function(){return this.value_};Ob.prototype.setValue_=function(a){this.value_=a};Ob.prototype.notify_=function(a){this.onChange.notify({value:this.getValue(),text:this.getText(),event:a})};var cf={kakaotalk:"share_\uce74\ud1a1",kakaostory:"share_\uce74\uc2a4",facebook:"share_\ud398\ubd81",twitter:"share_\ud2b8\uc717",mail:"share_\uba54\uc77c"};qa.prototype.getVPPostfix=function(a){return a===0?"":a+1};qa.prototype.pcParamToAppScheme=function(a){Object.keys(a);var b="",c={};if(a.target&&a.rt){var b=
"route",d=a.rt.split(","),e=a.rtIds.split(","),f=a.rtTypes.split(","),h=(new daum.maps.Coords(d.slice(0,2)[0],d.slice(0,2)[1])).toLatLng();c.etype="";c.sp=h.getLat()+","+h.getLng();c.etype=c.etype+f[0].replace("POINT","");for(var h=(d.length-4)/2,g=0;g<h;g++){var k=(g+1)*2,k=(new daum.maps.Coords(d.slice(k,k+2)[0],d.slice(k,k+2)[1])).toLatLng(),l=this.getVPPostfix(g);c["vp"+l]=k.getLat()+","+k.getLng();c.etype=c.etype+(","+f[g+1].replace("POINT",""))}h=(new daum.maps.Coords(d.slice(d.length-2,d.length)[0],
d.slice(d.length-2,d.length)[1])).toLatLng();c.ep=h.getLat()+","+h.getLng();c.etype=c.etype+(","+f[f.length-1].replace("POINT",""));c.by=a.target;c.sn=a.rt1;c.en=a["rt"+d.length/2];if(e[0])c.sid=e[0];if(e[e.length-1])c.eid=e[e.length-1]}else if(a.itemId){b="place";c.id=a.itemId}else if(a.busnumsrch){b="search";c.q=a.busnumsrch}else if(a.busstopsrch){b="search";c.q=a.busstopsrch}else if(a.q){b="search";c.q=a.q}else if(a.map_attribute==="ROADVIEW"&&a.panoid){b="roadview";d=(new daum.maps.Coords(a.urlX,
a.urlY)).toLatLng();c.p=d.getLat()+","+d.getLng();c.id=a.panoid;c.pan=a.pan;c.tilt=a.tilt}else if(a.busStopId){b="transitInfo";c.type="busstop";c.id=a.busStopId}else if(a.subwayId){b="transitInfo";c.type="subway";c.id=a.subwayId}else if(a.thememapId){b="open";c.page="theme";c.themeid=a.thememapId}else if(a.folderid!==void 0){b="open";c.page="bookmark";c.folderid=a.folderid}else if(a.w3w){b="look";c.w3w=a.w3w}else{b="look";a=(new daum.maps.Coords(a.urlX,a.urlY)).toLatLng();c.p=a.getLat()+","+a.getLng()}return{action:b,
query:c}};qa.prototype.getReplaceSpaces=function(a){return a.replace(/\s/g,"+")};qa.prototype.createRouteLink=function(){var a=Application.infoWindowManager.getState(),b=this.param.urlX||"",c=this.param.urlY||"",d,e;if(a){b=a.data.coords.getX();c=a.data.coords.getY();d=this.getReplaceSpaces(a.data.name||"");if(a.data instanceof R){a=this.param.busStopId;e="BUSSTOP"}else if(a.data instanceof bb){a=this.param.subwayId;e="SUBWAYSTATION"}else{a=this.param.itemId||"";e="PLACE"}}else{d=this.getReplaceSpaces(Application.localInfoController.get3DepthAddr());
e=a=","}return"https://map.kakao.com/?map_type=TYPE_MAP&target=car&rt="+(",,"+b+","+c)+"&rt1=&rt2="+d+"&rtIds="+a+"&rtTypes="+e};qa.prototype.getMapInfo=function(a){var b=this.param.urlX,c=this.param.urlY,d=Application.localInfoController.get3DepthAddr(),e=Application.map.getLevel(),e="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:default_marker%7Clocation:"+b+","+c+"&scale=2&logo=kakao_logo&lv="+e+"&service=pcmap",f=this.createRouteLink();return{"${title}":d,
"${imageUrl}":e,"${EncodingLocationUrl}":"kakaomap://look?viewType=MAP_CENTER&ctype=wcong&p="+b+","+c,"${EncodingSearchUrl}":"kakaomap://route?en="+d+"&ectype=wcong&ep="+b+","+c+"&by=CAR","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${locationUrl}":a.pcUrl,"${searchUrl}":f,"${buttonText1}":"\uc8fc\uc18c \ubc14\ub85c\uac00\uae30","${buttonText2}":"\uae38\ucc3e\uae30"}};qa.prototype.getBusNumSearchInfo=function(a){var b="",c="",c=this.options.image,b=this.param.busnumsrch;return{"${title}":b+" \uac80\uc0c9\uacb0\uacfc",
"${imageUrl}":c,"${appSchemeUrl}":"kakaomap://search?viewType=LIST&q="+b,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\uac80\uc0c9\uacb0\uacfc \ubc14\ub85c\uac00\uae30"}};qa.prototype.getBusStopSearchInfo=function(a){for(var b="",c="",b=Application.busSearchController.result_,c=Math.min(b.length,5),d="",e=0;e<c;e++)d=d+("&markers=symbol:default_marker%7Clocation:"+b[e].coords.getX()+","+b[e].coords.getY());c=d?"https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&ctype=wcong&size=744x406&scale=2&logo=kakao_logo"+
d+"&service=pcmap":this.options.image;b=this.param.busstopsrch;return{"${title}":b+" \uac80\uc0c9\uacb0\uacfc","${imageUrl}":c,"${appSchemeUrl}":"kakaomap://search?viewType=LIST&q="+b,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\uac80\uc0c9\uacb0\uacfc \ubc14\ub85c\uac00\uae30"}};qa.prototype.getSearchInfo=function(a){var b=Application.keywordSearchController.dataForShare,c="",d="",c=0,d="";if(b.address&&b.address.length>0)for(var c=Math.min(b.address.length,3),e=0;e<c;e++)d=d+
("&markers=symbol:default_marker%7Clocation:"+b.address[e].coords.getX()+","+b.address[e].coords.getY());else if(b.place&&b.place.length>0)for(var c=Math.min(5,b.place.length),e=-1,f=0;;){e++;if(f>c||e>b.place.length-1)break;if(b.place[e].markerType!=="ad"){d=d+("&markers=symbol:default_marker%7Clocation:"+b.place[e].coords.getX()+","+b.place[e].coords.getY());f++}}else if(!(b.bus&&b.bus.length>0)&&b.busStop&&b.busStop.length>0){c=Math.min(b.busStop.length,5);for(e=0;e<c;e++)d=d+("&markers=symbol:default_marker%7Clocation:"+
b.busStop[e].coords.getX()+","+b.busStop[e].coords.getY())}d=d?"https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&ctype=wcong&size=744x406&scale=2&logo=kakao_logo"+d+"&service=pcmap":this.options.image;c=this.param.q;return{"${title}":c+" \uac80\uc0c9\uacb0\uacfc","${imageUrl}":d,"${appSchemeUrl}":"kakaomap://search?viewType=LIST&q="+c,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\uac80\uc0c9\uacb0\uacfc \ubc14\ub85c\uac00\uae30"}};qa.prototype.getAddressInfo=function(a){var b=
Application.keywordSearchController.dataForShare,c="",d="",c=void 0;b.address&&b.address.length>0&&(c="&markers=symbol:default_marker%7Clocation:"+b.address[0].coords.getX()+","+b.address[0].coords.getY());d=c?"https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&ctype=wcong&size=744x406&scale=2&logo=kakao_logo"+c+"&service=pcmap":this.options.image;c=this.param.q;return{"${title}":c+" \uac80\uc0c9\uacb0\uacfc","${imageUrl}":d,"${appSchemeUrl}":"kakaomap://search?viewType=LIST&q="+c,"${webUrl}":a.pcUrl,
"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\uac80\uc0c9\uacb0\uacfc \ubc14\ub85c\uac00\uae30"}};qa.prototype.getRegionInfo=function(a){var b=Application.infoWindowManager.getState().data,c=b.name,d="",e=this.createRouteLink();if(b.dataType==="2")d="https://ssl.daumcdn.net/map3/smap/"+(b.bcode?"bcode":"hcode")+"/"+(b.bcode||b.hcode)+"?size=744x406&logo=kakao_logo&service=pcmap";else var f=b.coords.getX(),h=b.coords.getY(),d="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:default_marker%7Clocation:"+
f+","+h+"&scale=2&logo=kakao_logo&service=pcmap";return{"${title}":c,"${imageUrl}":d,"${EncodingLocationUrl}":"kakaomap://search?q="+c+"&viewType=MAP_CENTER&ctype=wcong&p="+f+","+h,"${EncodingSearchUrl}":"kakaomap://route?en="+c+"&ectype=wcong&ep="+f+","+h+"&by=CAR","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${locationUrl}":a.pcUrl,"${searchUrl}":e,"${buttonText1}":"\uc8fc\uc18c \ubc14\ub85c\uac00\uae30","${buttonText2}":"\uae38\ucc3e\uae30"}};qa.prototype.getSubwayStationInfo=function(a){var b=
Application.infoWindowManager.getState().data,c=this.createRouteLink(),d="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:default_marker%7Clocation:"+b.coords.getX()+","+b.coords.getY()+"&scale=2&logo=kakao_logo&service=pcmap";return{"${title}":b.name+"\uc5ed","${description}":b.newAddress,"${reply}":b.review,"${imageUrl}":d,"${EncodingLocationUrl}":"kakaomap://transitInfo?id="+b.id+"&type=subway","${EncodingSearchUrl}":"kakaomap://route?eid="+b.id+"&en="+b.name+
"&ectype=wcong&ep="+b.coords.getX()+","+b.coords.getY()+"&by=CAR","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${searchUrl}":c,"${buttonText1}":"\uc7a5\uc18c \ubc14\ub85c\uac00\uae30","${buttonText2}":"\uae38\ucc3e\uae30"}};qa.prototype.getPlaceInfo=function(a){var b=Application.infoWindowManager.getState().data,c=b.courseinfo,d=this.createRouteLink(),e="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:default_marker%7Clocation:"+b.coords.getX()+","+b.coords.getY()+
"&scale=2&logo=kakao_logo&service=pcmap";return c&&c.origin&&c.dest?{"${title}":b.name,"${description}":c.origin+" \u2194 "+c.dest,"${imageUrl}":e,"${EncodingLocationUrl}":"kakaomap://place?id="+b.id,"${EncodingSearchUrl}":"kakaomap://route?eid="+b.id+"&en="+b.name+"&ectype=wcong&ep="+b.coords.getX()+","+b.coords.getY()+"&by=CAR","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${locationUrl}":a.pcUrl,"${searchUrl}":d,"${buttonText1}":"\uc7a5\uc18c \ubc14\ub85c\uac00\uae30","${buttonText2}":"\uae38\ucc3e\uae30"}:
{"${title}":b.name,"${description}":b.newAddress,"${reply}":b.review,"${imageUrl}":e,"${EncodingLocationUrl}":"kakaomap://place?id="+b.id,"${EncodingSearchUrl}":"kakaomap://route?eid="+b.id+"&en="+b.name+"&ectype=wcong&ep="+b.coords.getX()+","+b.coords.getY()+"&by=CAR","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${locationUrl}":a.pcUrl,"${searchUrl}":d,"${buttonText1}":"\uc7a5\uc18c \ubc14\ub85c\uac00\uae30","${buttonText2}":"\uae38\ucc3e\uae30"}};qa.prototype.getSubwayInfo=function(a){var b="",
c="",d="",e="",f=c=mb.regionList[this.param.nowRegionIdx].cityid;f==="SES"&&(f="SES_");if(!this.param.ENDID&&!this.param.STARTID){b=mb.regionList[this.param.nowRegionIdx].name;c="kakaomap://metro?type=subwaymap&id="+c;d=b+" \uc9c0\ud558\ucca0 \ub178\uc120\ub3c4";b="\ub178\uc120\ub3c4 \ubc14\ub85c\uac00\uae30"}else{d="\ub178\uc120\ub3c4 \uae38\ucc3e\uae30 \uacbd\ub85c";e=this.param.STARTNAME+" \u2192 "+this.param.ENDNAME;c="kakaomap://metro?type=route&depid="+this.param.STARTID+"&arrid="+this.param.ENDID+
"&routingtype="+this.param.routingType+"&dailytype="+this.param.dailyType+"&time="+this.param.time;b="\uae38\ucc3e\uae30 \uacbd\ub85c\ubcf4\uae30"}return{"${title}":d,"${description}":e,"${imageUrl}":"https://t1.daumcdn.net/localimg/localimages/07/2018/pc/subway/"+f+".png","${appSchemeUrl}":c,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":b}};qa.prototype.getBusLineInfo=function(a){var b=Application.busLineController.data_,c=this.options.image;return{"${title}":b.name,"${description}":b.region+
" "+b.rawData.text("routeDetailName")+" \ubc84\uc2a4","${imageUrl}":c,"${appSchemeUrl}":"kakaomap://transitInfo?id="+b.id+"&type=busline","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\ubc84\uc2a4 \ub178\uc120\ubcf4\uae30"}};qa.prototype.getBusStopInfo=function(a){var b=Application.infoWindowManager.getState().data,c="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:busstop_marker%7Clocation:"+b.coords.getX()+","+b.coords.getY()+"&scale=2&logo=kakao_logo&service=pcmap",
d=this.createRouteLink(),e=b.name,f=b.codenames,h="",g=f.length;if(g>1)for(var k=0;k<g;k++){h=h+f[k];k<g-1&&(h=h+", ")}else h=f[0]||"";return{"${title}":e,"${description}":"\ubc84\uc2a4\uc815\ub958\uc7a5 "+h,"${imageUrl}":c,"${EncodingLocationUrl}":"kakaomap://transitInfo?id="+b.id+"&type=busstop","${EncodingSearchUrl}":"kakaomap://route?eid="+b.id+"&en="+b.name+"&ectype=wcong&ep="+b.coords.getX()+","+b.coords.getY()+"&by=CAR","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${locationUrl}":a.pcUrl,
"${searchUrl}":d,"${buttonText1}":"\uc815\ub958\uc7a5 \ubc14\ub85c\uac00\uae30","${buttonText2}":"\uae38\ucc3e\uae30"}};qa.prototype.getFindWayInfo=function(a){var b=this.param.rt.split(",");this.param.rtIds.split(",");var c=this.param.rtTypes.split(","),d=this.param.target,e=[],f=[];e.push(b[0]);e.push(b[1]);f.push(this.param.rt1);var h=0;if(d!=="traffic"){h=(b.length-4)/2;for(d=0;d<h;d++){var g=(d+1)*2;e.push(b[g]);e.push(b[g+1]);f.push(this.param["rt"+(d+2)])}}e.push(b[b.length-2]);e.push(b[b.length-
1]);f.push(this.param["rt"+b.length/2]);for(var k,l=b="",d=0;d<f.length;d++){b=b+f[d];d<f.length-1&&(b=b+" \u2192 ")}var j="?by=";if(this.param.target==="traffic"){l="\ub300\uc911\uad50\ud1b5";j=j+"publictransit"}else if(this.param.target==="car"){j=j+"car";l="\uc790\ub3d9\ucc28"}else if(this.param.target==="bicycle"){j=j+"bicycle";l="\uc790\uc804\uac70"}else if(this.param.target==="walk"){j=j+"foot";l="\ub3c4\ubcf4"}j=j+("&sp="+e[0]+","+e[1]);j=j+"&sctype=wcong"+("&sn="+f[0]);j=j+("&stype="+c[0]);
k="http://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&scale=2&logo=kakao_logo&option:true&service=pcmap"+("&markers=symbol:route_start_marker%7Clocation:"+e[0]+","+e[1]);for(d=0;d<h;d++){var g=(d+1)*2,i=this.getVPPostfix(d),j=j+("&vp"+i+"="+e[g]+","+e[g+1]),j=j+("&vctype"+i+"=wcong"),j=j+("&vn"+i+"="+f[d+1]),j=j+("&vtype"+i+"="+c[d+1]);k=k+("&markers=symbol:route_via_marker%7Clocation:"+e[g]+","+e[g+1])}j=j+("&ep="+e[e.length-2]+","+e[e.length-1]);j=j+"&ectype=wcong"+("&en="+
f[f.length-1]);j=j+("&etype="+c[c.length-1]);k=k+("&markers=symbol:route_end_marker%7Clocation:"+e[e.length-2]+","+e[e.length-1]);return{"${title}":l+" \uae38\ucc3e\uae30 \uacbd\ub85c","${description}":b,"${imageUrl}":k,"${appSchemeUrl}":"kakaomap://route"+j,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\uae38\ucc3e\uae30 \uacbd\ub85c\ubcf4\uae30"}};qa.prototype.getStoreViewInfo=function(a){return{"${title}":"\uc2a4\ud1a0\uc5b4\ubdf0","${description}":Application.roadviewController.storeName_,
"${imageUrl}":"https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:storeview_marker%7Clocation:"+this.param.urlX+","+this.param.urlY+"&scale=2&logo=kakao_logo&service=pcmap","${appSchemeUrl}":"kakaomap://storeview?id="+this.param.store.split("_")[0]+"&pan="+this.param.pan+"&tilt="+this.param.tilt,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\uc2a4\ud1a0\uc5b4\ubdf0 \ubc14\ub85c\uac00\uae30"}};qa.prototype.getRoadViewInfo=function(a){var b="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:roadview_marker%7Clocation:"+
this.param.urlX+","+this.param.urlY+"&scale=2&logo=kakao_logo&service=pcmap";return{"${title}":"\ub85c\ub4dc\ubdf0","${description}":Application.localInfoController.get3DepthAddr(),"${imageUrl}":b,"${appSchemeUrl}":"kakaomap://roadview?id="+this.param.panoid+"&pan="+this.param.pan+"&tilt="+this.param.tilt+"&ctype=wcong&p="+this.param.urlX+","+this.param.urlY,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\ub85c\ub4dc\ubdf0 \ubcf4\uae30"}};qa.prototype.getFavShareInfo=function(a,b,
c,d){for(var e="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&scale=2&logo=kakao_logo&service=pcmap",c=c.folderid,f=0,h=0;h<d.length&&f<5;h++)if(d[h].type==="place"||d[h].type==="address"||d[h].type==="point"||d[h].type==="subwaystation"||d[h].type==="busstop"){e=e+("&markers=symbol:default_marker%7Clocation:"+d[h].x+","+d[h].y);f++}if(f===0)e=this.options.image;d=this.options.shortUrl;f=this.mWebUrl+"/scheme/"+this.appSchemeInfo.action+"?"+this.$.param(this.appSchemeInfo.query);
return{"${title}":a.replace(/\\n/g," "),"${description}":b.replace(/\\n/g," "),"${imageUrl}":e,"${appSchemeUrl}":"kakaomap://open?page=bookmark&folderid="+c,"${webUrl}":d,"${mobileWebUrl}":f,"${buttonText}":"\ud3f4\ub354 \ubc14\ub85c\uac00\uae30"}};qa.prototype.getProfilePage=function(){var a=this.param.mapuserid,b=this.profileController.getInfo();require("url");var c=this.options.image,d="",e="S";if(b&&b.text("mapUserId")===a){d=(b.text("nickName")||"")+"\uc758 \ud398\uc774\uc9c0";e=b.text("profileStatus")}else{d=
this.param.nickname+"\uc758 \ud398\uc774\uc9c0";e=this.param.profileStatus}e==="A"?d="\uc2e0\uace0\uc5d0 \uc758\ud574 \uc0ad\uc81c\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.":e==="T"&&(d="\uc2e0\uace0\uc5d0 \uc758\ud574 \uc784\uc2dc \uc870\uce58\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.");var c=c.indexOf("http")===0?c:"https:"+c,b=null,b=Application.favoriteController.favoriteListView.isVisible()?Application.favoriteController.favoriteListView.getSelectedTab():Application.favoriteController.getTabIndex(),
e=B.location.origin+"?target=other&mapuserid="+a,f=this.mWebUrl+"/scheme/open?page=other&mapuserid="+a;if(b===2||b==="review"){e=e+"&tab=review";f=f+"&tab=review"}return{"${title}":d,"${imageUrl}":c,"${appSchemeUrl}":"kakaomap://open?page=other&mapuserid="+a,"${webUrl}":e,"${mobileWebUrl}":f,"${buttonText}":"\ud504\ub85c\ud544 \ubc14\ub85c\uac00\uae30"}};qa.prototype.getW3wInfo=function(a){var b=Application.infoWindowManager.getState().data,c="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:default_marker%7Clocation:"+
b.coords.getX()+","+b.coords.getY()+"&scale=2&logo=kakao_logo&service=pcmap";return{"${title}":"///"+b.address,"${imageUrl}":c,"${appSchemeUrl}":"kakaomap://look?w3w="+b.address,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\ud574\ub2f9 \uc704\uce58 \ubc14\ub85c\uac00\uae30"}};qa.prototype.getShareType=function(a){if(this.param){var b=Application.infoWindowManager.getState();if(b&&b.data instanceof xb&&this.param.w3w)return{templateArgs:this.getW3wInfo(a),templateId:12122};if(Application.roadviewController.getActive()&&
this.param.panoid)return{templateArgs:this.getRoadViewInfo(a),templateId:12122};if(this.param.store)return{templateArgs:this.getStoreViewInfo(a),templateId:12122};if(this.param.itemId)return{templateArgs:this.getPlaceInfo(a),templateId:12029};if(this.param.subwayId)return{templateArgs:this.getSubwayStationInfo(a),templateId:12029};if(this.param.busStopId)return{templateArgs:this.getBusStopInfo(a),templateId:12029};if(this.param.busInfoId)return{templateArgs:this.getBusLineInfo(a),templateId:12122};
if(this.param.mapuserid)return{templateArgs:this.getProfilePage(a),templateId:12122};if(this.param.target&&this.param.rt)return{templateArgs:this.getFindWayInfo(a),templateId:12122};if(this.param.target==="subway"&&this.param.REGION)return{templateArgs:this.getSubwayInfo(a),templateId:12122};if(!this.param.thememapId)return this.param.q&&b&&this.options.from==="tooltip"?{templateArgs:this.getRegionInfo(a),templateId:12029}:this.param.busnumsrch&&!b?{templateArgs:this.getBusNumSearchInfo(a),templateId:12122}:
this.param.busstopsrch&&!b?{templateArgs:this.getBusStopSearchInfo(a),templateId:12122}:this.param.q&&this.options.from!=="tooltip"&&b&&b.data instanceof Ta?{templateArgs:this.getAddressInfo(a),templateId:12122}:this.param.q&&!b||this.param.q&&this.options.from!=="tooltip"?{templateArgs:this.getSearchInfo(a),templateId:12122}:{templateArgs:this.getMapInfo(a),templateId:12029}}};qa.prototype.createContext=function(){var a=this.options.shortUrl||this.options.url,b="";this.appSchemeInfo&&(b=this.mWebUrl+
"/scheme/"+this.appSchemeInfo.action+"?"+this.$.param(this.appSchemeInfo.query));var b=this.getShareType({pcUrl:a,mwUrl:b}),c=null,d=null;if(b){c=b.templateArgs;d=b.templateId}else{d=12029;c={"${title}":"\uc7a5\uc18c\uba85","${description}":"hello","${like}":"23","${imageUrl}":"\uc774\ubbf8\uc9c0 Url","${EncodingLocatinUrl}":"\uc7a5\uc18c\ubc14\ub85c\uac00\uae30, \uce74\uce74\uc624\ub9f5\uc73c\ub85c \uc5f4\uae30 \uc2dc \uc0ac\uc6a9","${EncodingSearchUrl}":"\uae38\ucc3e\uae30, \uce74\uce74\uc624\ub9f5\uc73c\ub85c \uc5f4\uae30 \uc2dc \uc0ac\uc6a9",
"${webUrl}":"PC\uc5d0\uc11c \uc624\ud508 \uc2dc \uc0ac\uc6a9","${mobileWebUrl}":"\uce74\uce74\uc624\ud1a1 \uc778\uc571 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc624\ud508 \uc2dc \uc0ac\uc6a9","${buttonText1}":"\uc548\ub155","${buttonText2}":"\ud5ec\ub85c"}}return{action:"click",moreViewContainer:this.viewElem,link:a,prefix:this.options.title,service_name:this.options.serviceName,url_info:{title:this.options.title,desc:this.options.desc,imageurl:[this.options.image],type:"article"},kakaoAPI:{appkey:this.options.key,
kakaoLinkData:{shareType:"sendCustom",shareData:{templateId:d,installTalk:true,templateArgs:c}}}}};qa.prototype.shareLog=function(a){n.click("control",a)};qa.prototype.favShareData=function(a){var b=this.createContext();console.log(b);a.folderid===0?v.findAll(function(c){console.log(c);if(c.list||!c.status){c=this.getFavShareInfo("\uae30\ubcf8 \uadf8\ub8f9","",a,c.list);b.kakaoAPI.kakaoLinkData.shareData.templateArgs=c;b.kakaoAPI.kakaoLinkData.shareData.templateId=12122}}.bind(this),{folderIds:[a.folderid],
type:"M"}):require("server").favoriteFolderInfo({folderId:a.folderid},function(c){if(v.isSuccess(c)){console.log(c);var d=c.object("result");d.text("status")==="A"||d.text("status")==="T"?this.onFail.notify({status:v.RESULT_CODE.REPORT_ITEM}):v.findAll(function(e){console.log(e);if(e.list||!e.status){e=this.getFavShareInfo(d.text("title"),c.object("result").text("memo"),a,e.list);b.kakaoAPI.kakaoLinkData.shareData.templateArgs=e;b.kakaoAPI.kakaoLinkData.shareData.templateId=12122}}.bind(this),{folderIds:[a.folderid],
type:d.text("status")==="P"?"M":"S"})}else this.onFail.notify({status:c.text("status.code")})}.bind(this));return b};qa.prototype.show=function(a){a===void 0&&(a={});var b=this.$(this.viewElem),c=this;b.one("click",".btn_close",this.hide);b.one("click",".list_sns li",this.hide);b.one("click",".txt_copy, .txt_url",function(){var a=setTimeout(function(){c.hide()},1500);b.find(".btn_close").one("click",function(){c.hide();B.clearTimeout(a)})});var d=function(){this.$(this.viewElem).removeClass("HIDDEN").attr("tabindex",
-1).focus().removeAttr("tabindex");this.dimmedLayer.show();this.dimmedLayer.one("click",this.hide);this.onShow.notify();this.shareMain.open()}.bind(this);this.options.from=a.from;var e=a.folderId!==void 0||a.folderid!==void 0;if(e){a={folderid:a.folderId===void 0?a.folderid:a.folderId,target:a.target||"other",page:"bookmark"};if(a.folderid===0)a.mapuserid=Application.profileController.getInfo().text("mapUserId");a=this.$.extend(this.createCommonParam(),a);this.updateContext(a,e,d.bind(this))}else this.updateContext(null,
e,d.bind(this))};qa.prototype.hide=function(){this.param=null;this.options.from=null;this.$(this.viewElem).addClass("HIDDEN");this.dimmedLayer.hide();this.$(".social_comm_p").hasClass("hide")||this.shareMain.close();this.onHide.notify()};qa.prototype.getShareQueryString=function(){this.updateContext();return this.options.url.split("?")[1]};qa.prototype.updateContext=function(a,b,c){var d=null,c=c||function(){};this.param=d=a?a:this.param||this.createParam();a=location.href.replace(/\?.*/,"").replace(/#(none)*$/,
"")+"?"+this.$.param(d);this.appSchemeInfo=this.pcParamToAppScheme(d);if(this.options.url===a)c();else{this.options.url=a;a=Object.keys(d).map(function(a){return a+"="+(""+d[a]).replace(/&/g,"%26")}).join("&");require("server").shortUrl({param:a},function(a){this.options.shortUrl=a.text("url");a=b?this.favShareData(d):this.createContext();this.shareMain.updateContext(a);this.$.extend(this.context,a);c()}.bind(this))}};qa.prototype.createCommonParam=function(){var a={};if(Application.map.isRoadmap())a.map_type=
"TYPE_MAP";else{a.map_type="TYPE_SKYVIEW";a.map_hybrid=Application.mainMapController.isHybrid()?"true":"false"}if(Application.mainMapController.isTerrain())a.map_terrain="on";if(Application.mainMapController.isBike())a.map_bicycle="on";if(Application.mainMapController.getWeather())a.map_weather=Application.mainMapController.getWeather();if(Application.mainMapController.isUsedistrict())a.map_usedistrict=Application.mainMapController.getUsedistrict();if(Application.mainMapController.isIndoor())a.map_indoor=
"on";var b=0;Application.mainMapController.isTrafficActive()&&(b=b+Qa.TRAFFIC);Application.mainMapController.isAccidentActive()&&(b=b+Qa.ACCIDENT);Application.mainMapController.isCctvActive()&&(b=b+Qa.CCTV);if(b)a.traffic_state=b;return a};qa.prototype.createLocationParam=function(){var a=Application.map.getCenter(),b=Application.map.getLevel(),c={};c.urlLevel=b;c.urlX=a.getX()|0;c.urlY=a.getY()|0;return c};qa.prototype.createParam=function(){var a={};if(Application.mainMapController.isStoreviewActive())a.sv=
"1";if(Application.mainMapController.isRoadviewActive())a.map_attribute="ROADVIEW";if(Application.roadviewController.getActive()){Application.roadviewController.setUrl(a);a=this.$.extend(a,this.createLocationParam())}var b=Application.infoWindowManager.getState(),c=this.$("#info\\.other"),d=this.$("#info\\.my\\.intro"),e=Application.keywordSearchController.getKeyword().trim()!=="",f=this.options.from==="tooltip",h=Application.keywordSearchController.getActive()&&e,g=Application.favoriteController.getActive()&&
d.is(":visible")===false,k=Application.flagSearchController.getActive(),l=Application.keywordSearchController.getSelectedTab(),j=Application.keywordSearchController.getSelectedPage(),i=Application.keywordSearchController.getHighlightId()||void 0,p=Application.keywordSearchController.getSortOption(),o=Application.keywordSearchController.getHighlightMode()||void 0;if(b&&!(b.data instanceof Ta)){if(f)if(b.id)a.itemId=b.id;else if(b.busstopid)a.busStopId=b.busstopid;else if(b.subwayId)a.subwayId=b.subwayId;
else if(b.data instanceof xb)a.w3w=b.data.address;if(!h&&!g&&!k&&b.id)a.itemId=b.id}if(Application.busLineController.view_.getVisible()&&!i){a={};a.busInfoId=Application.busLineController.data_.id;a=this.$.extend(a,this.createLocationParam())}else if(Application.subwaySearchController.getActive()){b=Application.subwaySearchController.createUrl();this.$.extend(a,b)}else if(b&&b.data instanceof Ta||Application.keywordSearchController.getActive()&&e){if(c=Application.keywordSearchController.getThemeId())a.theme=
c;else{c=Application.keywordSearchController.getKeyword();d=Application.keywordSearchController.themeMapController_.getActive();if(c){if(f)a.q=b.data.name;else{a.q=c;a.hId=i;a.mode=l?void 0:o}if(l){a.tab=l;a.page=j}if(p)a.sort=p;if(Application.keywordSearchController.getLiterally()!=null)a.cidx=Application.keywordSearchController.getLiterally();if(Application.keywordSearchController.getActiveBoundsButton())a.currentBound=true}else if(d){a.thememap=true;if(b=Application.keywordSearchController.themeMapController_.getActiveThemeId())a.thememapId=
b}}a=this.$.extend(a,this.createLocationParam());if(Application.roadviewController.getActive()&&Application.roadviewController.getLastLevel())a.urlLevel=Application.roadviewController.getLastLevel()}else if(Application.flagSearchController.getActive()){a.target="car";Application.flagSearchController.buildParams(a)}else if(Application.busSearchController.getActive()){switch(Application.busSearchController.getMode()){case "number":if(Application.busSearchController.getBusNumberKeyword())a.busnumsrch=
Application.busSearchController.getBusNumberKeyword();else if(Application.busSearchController.getFavoriteBus())a.busfavoritesrch=Application.busSearchController.getFavoriteBus();break;case "stop":a.busstopsrch=Application.busSearchController.getBusStopKeyword();break;case "region":a.busrgnsrch=Application.busSearchController.getRegionCode();break;default:a.target="traffic";a.opt="2"}if(Application.busSearchController.getRegionName()&&Application.busSearchController.getMode()!="region")a.gname=this.busSearchController.getRegionName();
a=this.$.extend(a,this.createLocationParam())}else if(!Application.mainMapController.isRoadviewActive()&&(!c.hasClass("HIDDEN")||Application.favoriteController.getActive())&&d.is(":visible")===false){b=Application.favoriteController.getShareInfo();if(b.viewMode===v.VIEW_MODE.DETAIL)this.$.extend(a,{folderid:b.folderid,target:"other"});else if(Application.favoriteController.getViewMode()===v.VIEW_MODE.FOLDER){f=null;f=Application.favoriteController.favoriteListView.isVisible()?Application.favoriteController.favoriteListView.getSelectedTab():
Application.favoriteController.getTabIndex();a=this.$.extend(a,{target:"other",mapuserid:b.mapuserid,profileStatus:b.profileStatus,profileImage:b.profileImage,nickname:b.nickname});if(f===2||f==="review")a=this.$.extend(a,{tab:"review"})}}else a=this.$.extend(a,this.createLocationParam());return a=this.$.extend(this.createCommonParam(),a)};define("controller/ShareController",["controller/ProfileController","jquery"],L(qa));define("controller/SpecialController",["params","controller/MainMapController",
"controller/KeywordSearchController","controller/RoadviewController"],L(function(a,b,c,d){var e=Date.now(),f=a.special;[{value:"2",expire:"",action:function(){b.themePoiControlView.setThemeToObject({type:"culture",sub:2})}},{value:"3",expire:"",action:function(){b.themePoiControlView.setThemeToObject({type:"theme",sub:1})}},{value:"4",expire:"",action:function(){d.show({coords:new daum.maps.Coords(792615,1135145),panoId:"1022311432",pan:25.7,tilt:2.5,zoom:-3},true)}}].forEach(function(a){f==a.value&&
(e<+a.expire||a.expire=="")&&a.action()})}));var mb=null,mb=B.isFlashEnv?ke:Id;mb.isReady=function(){if(B.isFlashEnv)return true;B.kakaosubway=B.kakaosubway||{};var a=B.kakaosubway.isInitReady;return!!a&&a().status};mb.cityId={};mb.cateId={};mb.stationName={};mb.regionList=[{cate:"11",id:"01",name:"\uc218\ub3c4\uad8c",label:"seoul",code:"su",cityid:"SES",lines:[{name:"1\ud638\uc120",id:"SES1",label:"line1",section:"\uc778\ucc9c,\uc2e0\ucc3d-\uc18c\uc694\uc0b0"},{name:"1\ud638\uc120",id:"SES31",section:""},
{name:"1\ud638\uc120",id:"SES32",section:""},{name:"2\ud638\uc120",id:"SES2",label:"line2",section:"\uc2dc\uccad-\uc2dc\uccad"},{name:"2\ud638\uc120",id:"SES24",section:""},{name:"2\ud638\uc120",id:"SES25",section:""},{name:"3\ud638\uc120",id:"SES3",label:"line3",section:"\uc624\uae08-\ub300\ud654"},{name:"4\ud638\uc120",id:"SES4",label:"line4",section:"\ub2f9\uace0\uac1c-\uc624\uc774\ub3c4"},{name:"5\ud638\uc120",id:"SES5",label:"line5",section:"\uc0c1\uc77c,\ub9c8\ucc9c-\ubc29\ud654"},{name:"6\ud638\uc120",
id:"SES6",label:"line6",section:"\ubd09\ud654\uc0b0-\uc751\uc554"},{name:"7\ud638\uc120",id:"SES7",label:"line7",section:"\ubd80\ud3c9\uad6c\uccad-\uc7a5\uc554"},{name:"8\ud638\uc120",id:"SES8",label:"line8",section:"\ubaa8\ub780-\uc554\uc0ac"},{name:"9\ud638\uc120",id:"SES9",label:"line9",section:"\uac1c\ud654-\uc885\ud569\uc6b4\ub3d9\uc7a5"},{name:"\uacbd\ucd98",id:"SES33",label:"line33",section:"\uad11\uc6b4\ub300,\uccad\ub7c9\ub9ac-\ucd98\ucc9c"},{name:"\uacbd\uc758\uc911\uc559",id:"SES26",label:"line26",
section:"\uc6a9\ubb38-\ubb38\uc0b0"},{name:"\uacbd\uc758\uc911\uc559\uc120",id:"SES29",section:""},{name:"\uc778\ucc9c 1",id:"SES22",label:"line22",section:"\uad6d\uc81c\uc5c5\ubb34\uc9c0\uad6c-\uacc4\uc591"},{name:"\uc778\ucc9c 2",id:"SES39",label:"line39",section:"\uac80\ub2e8\uc624\ub958-\uc6b4\uc5f0"},{name:"\uacf5\ud56d",id:"SES27",label:"line27",section:"\uc778\ucc9c\uad6d\uc81c\uacf5\ud56d-\uc11c\uc6b8\uc5ed"},{name:"\uc2e0\ubd84\ub2f9",id:"SES34",label:"line34",section:"\uac15\ub0a8-\uad11\uad50"},
{name:"\uc758\uc815\ubd80",id:"SES36",label:"line36",section:"\ubc1c\uace1-\ud0d1\uc11d"},{name:"\uc5d0\ubc84\ub77c\uc778",id:"SES37",label:"line37",section:"\uae30\ud765-\uc5d0\ubc84\ub79c\ub4dc"},{name:"\uc790\uae30\ubd80\uc0c1 (\ud734\uc5c5)",id:"SES38",label:"line38",section:"\uc6a9\uc720-\uc778\ucc9c\uad6d\uc81c\uacf5\ud56d"},{name:"\uacbd\uac15",id:"SES40",label:"line40",section:"\ud310\uad50-\uc5ec\uc8fc"},{name:"\uc6b0\uc774\uc2e0\uc124",id:"SES41",label:"line41",section:"\ubd81\ud55c\uc0b0\uc6b0\uc774-\uc2e0\uc124"},
{name:"\uc11c\ud574",id:"SES42",label:"line42",section:"\uc18c\uc0ac-\uc6d0\uc2dc"},{name:"\uae40\ud3ec\uace8\ub4dc",id:"SES43",label:"line43",section:"\uc591\ucd0c-\uae40\ud3ec\uacf5\ud56d"},{name:"\uc218\uc778\ubd84\ub2f9",id:"SES44",label:"line44",section:"\uccad\ub7c9\ub9ac-\uc778\ucc9c"},{name:"\uc2e0\ub9bc",id:"SES45",label:"line45",section:"\uc0db\uac15-\uad00\uc545\uc0b0"}]},{id:"21",name:"\ubd80\uc0b0",label:"busan",flashlabel:"busan",code:"bs",cityid:"PSS",lines:[{name:"1\ud638\uc120",id:"PSS1",
label:"line1",section:"\ub178\ud3ec-\uc2e0\ud3c9"},{name:"2\ud638\uc120",id:"PSS2",label:"line2",section:"\uc591\uc0b0-\uc7a5\uc0b0"},{name:"3\ud638\uc120",id:"PSS3",label:"line3",section:"\ub300\uc800-\uc218\uc601"},{name:"4\ud638\uc120",id:"PSS4",label:"line4",section:"\ubbf8\ub0a8-\uc548\ud3c9"},{name:"\uacbd\uc804\ucca0",id:"PSS10",label:"line10",section:"\uac00\uc57c\ub300-\uc0ac\uc0c1"},{name:"\ub3d9\ud574\uc120",id:"PSS11",label:"line11",section:"\ubd80\uc804-\uc77c\uad11"}]},{id:"22",name:"\ub300\uad6c",
label:"daegu",code:"dg",cityid:"DGS",lines:[{name:"1\ud638\uc120",id:"DGS1",label:"line1",section:"\uc548\uc2ec-\uc124\ud654\uba85\uace1"},{name:"2\ud638\uc120",id:"DGS2",label:"line2",section:"\uc601\ub0a8\ub300-\ubb38\uc591"},{name:"3\ud638\uc120",id:"DGS3",label:"line3",section:"\uc6a9\uc9c0-\uce60\uace1\uacbd\ub300\ubcd1\uc6d0"}]},{id:"24",name:"\uad11\uc8fc",label:"gwangju",flashlabel:"gwangju",code:"kj",cityid:"KJS",lines:[{name:"1\ud638\uc120",id:"KJS1",label:"line1",section:"\ud3c9\ub3d9-\ub179\ub3d9"}]},
{id:"25",name:"\ub300\uc804",label:"daejeon",code:"dj",cityid:"DJS",lines:[{name:"1\ud638\uc120",id:"DJS1",label:"line1",section:"\ubc18\uc11d-\ud310\uc554"}]}];mb.regionList.forEach(function(a){mb.cityId[a.cityid]=a.id;mb.cateId[a.id]=a.cate||a.id;a.lines.forEach(function(a){mb.stationName[a.id]=a.name})});define("controller/SubwayController",mb.args,L(mb));wd.prototype.loadView=function(){var a=this.data_,b=this.panel_=new i("div");b.addClass("routeInfo");var c=new i("div","subInfo"),d=0;a.find("sectionRoutings").forEach(function(a){a.text("type")!=
"99"&&(d=d+(a.find("nodes").length-1))});c.addChild(new i("strong","number",d));c.addText("\uac1c\uc5ed");this.transCnt_=new i("span","trans");c.addChild(this.transCnt_);var e=new i("span","seperate","|");c.addChild(e);c.addText("\uc57d ");var e=a.text("totalTime"),f=Math.floor(e/60),e=f/60|0,f=f%60|0;if(e>0){c.addChild(new i("strong","number",""+e));c.addText("\uc2dc\uac04 ")}if(f>0){c.addChild(new i("strong","number",""+f));c.addText("\ubd84 \uc18c\uc694")}b.addChild(c);c=new i("span","text","\uc694\uae08 : ");
if(a.text("totalFare")>0){c.addText(a.text("totalFare")+"\uc6d0");c.addText(" (\uad50\ud1b5\uce74\ub4dc \uae30\uc900)");b.addChild(c)}else c.addText(a.text("\uc900\ube44\uc911"));b.addChild(new i("br"));c=new i("span","text","\uac70\ub9ac : ");c.addText(String.formatDistance(a.number("totalDist")));a.has("walkDist")&&c.addText(" (\ub3c4\ubcf4 "+String.formatDistance(a.number("walkDist"))+" \ud3ec\ud568)");b.addChild(c)};wd.prototype.setTrans=function(a){a!=0&&this.transCnt_.setText(" ("+a+"\ud68c \ud658\uc2b9)")};
wd.prototype.showMap_=function(a){this.onShowMap.notify(a)};wd.prototype.print_=function(a){this.onPrint.notify(a)};qe.prototype.click_=function(){this.onClick.notify({id:this.name_,tiaraCode:this.tiaraCode_,panel:this.panel_})};define("controller/SubwaySearchController","manager/ViewLayout controller/WindowController controller/SubwayController controller/SubwaySearchViewController view/SubwayRouteResultView controller/HistoryController controller/ShareController view/FlashSupportView model/SubwaySearch const".split(" "),
L(function(a,b,c,d,e,f,h,g,k,l){function j(a){A();var b=D.indexOf(a.currentPanel);G=b;Ia.find("li").each(function(a){jQuery(this).toggleClass("ACTIVE",a==b)});O=a=E[b];O=="01"?U.show():U.hide();if(d.getRegionId()!=a){d.setRegionId(a);c.setRegionId(a);I.text(d.regionName[d.REGION_ID.indexOf(O)]);i.$("info.subway").show()}}function r(a){c.isLoaded()?require("server").stationInfo(a.STARTID,function(b){require("server").stationInfo(a.ENDID,function(c){d.findOriginDestStation(b.text("simpleName"),c.text("simpleName"),
a.STARTID,a.ENDID)})}):v=a}function p(a,b){if(S=a){require("log/Tiara").log(l.TIARA.subway_subwayLinemapSearchResult);e.setData(a);b||c.setToolbarVisible(true)}else{alert("\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4");y();M()}}function o(){if(this.getActive()){Application.roadviewController.close();g.show()}else g.hide()}function m(){if(mb.isReady())if(this.getActive()){Application.roadviewController.close();jQuery("#info\\.subway\\.searchBox").show();i.$("info.subway").show();a.setSubwayOnly();K.show();
F?c.setToolbarVisible(true):d.updateTime();(!c.getStartStationName()||!c.getEndStationName())&&D[G].show();document.body.className=document.body.className}else{jQuery("#toolList\\.copylist").removeClass("subway");jQuery("#localInfo\\.map").show();K.hide();c.setToolbarVisible(false)}else c.alertToRefresh()}function t(a){if(Ea)a.panel.setActive(false);else if(Fa==a.panel){c.clearSubwayLine();a.panel.setActive(false);Fa=null}else{c.displaySubwayLine(a.id);J();Fa=a.panel;a.panel.setActive(true);n.click("subwaybody",
a.tiaraCode)}}function u(a){var b=D.indexOf(a.currentPanel),a=X[b]||X[0],b=E[b]||E[0],d=!!z;if(z!=b){z=O=b;c.clearObject();c.setRegionId(b);c.loadArea(a);d&&require("log/Tiara").log(l.TIARA["subway_region_"+a])}}function q(){var a=B.encodeURIComponent(c.getStartStationName()||""),b=B.encodeURIComponent(c.getEndStationName()||""),d=B.encodeURIComponent(c.getStartStationId()||""),e=B.encodeURIComponent(c.getEndStationId()||""),f=c.getRegionId();jb("",560,540,{name:"subwayScrap"});var g=document.subway_scrap_form;
g.cityCode.value=f;g.STARTNAME.value=a?a:"";g.ENDNAME.value=b?b:"";g.STARTID.value=d?d:"";g.ENDID.value=e?e:"";g.method="post";g.action="./subway/subwayLinemapLink";g.target="subwayScrap";g.submit();n.click("subway","url")}function w(){var a=c.getRegionId();gb.attr("src","subway/subwayLinemapSave?cityCode="+a);n.click("subway","save")}function y(){i.$("info.subway").show();i.$("info.subway.intro").show()}function M(){J();K.removeClass("expressTrain");L.removeClass("legendExpressTrain");Ea=false;c.clearSubwayLine();
c.initSubwayRoute();c.setToolbarVisible(false);c.initSubway();F=false;S=null}function A(){y();M();d.clear();d.updateTime()}function J(){if(Fa){Fa.setActive(false);Fa=null}}ga(this,ec);var v=null,C=null,G=0,O="01",F=false,S=null,z="",V=["SES38"];this.searchController=d;this.controller=c;var D=this.LEGEND_BUTTON=[],X=this.CITY_NAME=[],E=this.CITY_CODE=[];B.isFlashEnv?this.onActive.add(o,this):this.onActive.add(m,this);d.onShowRoute.add(function(a){F=true;c.setStartStationId(a.sid);c.setStartStationName(a.sname);
c.setStartCoords(new daum.maps.Coords(a.sx,a.sy));c.setEndStationId(a.eid);c.setEndStationName(a.ename);c.setEndCoords(new daum.maps.Coords(a.ex,a.ey));J();var b={regionId:a.regionId,startSubwayId:a.sid,endSubwayId:a.eid,dayType:a.dailyType,routingType:a.routingType,time:a.time};n.click("subway","route_search");x.log("search_path_subway",decodeURIComponent(a.sname)+","+decodeURIComponent(a.ename),{qt:d.regionName[d.REGION_ID.indexOf(O)]});k.findRoute(b,p);a=jQuery.extend({},a,{subwayRegion:d.getRegionId()});
f.addSubwayRoute(f.TYPE_LIST.SUBWAY,a);I.text(d.regionName[d.REGION_ID.indexOf(O)]);d.enableSubmit()});d.onChangeRoute.add(function(){c.initSubwayRoute()});c.onSubwayName.add(function(a){a.name&&f.addSubwayStationName(f.TYPE_LIST.SUBWAY_STATION_NAME,a);d.setStationObject(a)});c.setRegionId(d.getRegionId()||"01");c.onLoad.add(function(){if(v){if(C){d.setBoxOptions(C);C=null}v.start&&v.end?d.findOriginDestStation(v.start,v.end,v.startId,v.endId):r(v);v=null}});c.onRouteFirstLoad.add(function(){F=true});
c.onClearSubway.add(function(){A()});c.onClearSubwayLine.add(function(){J()});c.onResetQuickLineEvent.add(function(){K.removeClass("expressTrain");L.removeClass("legendExpressTrain");Ea=false});e.onSelected.add(function(a){S&&c.drawRoute(S.startStationId,S.endStationId,S.routes[a])});var H=new Gb;H.onChange.add(function(){var a=E[H.getIndex()];c.setRegionId(a)});var L=i.$("subwayLegend"),b=jQuery("#subwayLegend button.prev"),$=jQuery("#subwayLegend button.next"),ka=i.$("subwayLegend.slide.list"),
ua=jQuery(ka.getElement()),T=i.$("info.subway.region"),K=jQuery("#localInfo\\.subway\\.searchBox"),Y=fa.$("localInfo.subway.searchBox.region"),I=jQuery("#localInfo\\.subway\\.searchBox\\.regionBtn"),N=jQuery("#subwayExportBtn"),P=jQuery("#subway\\.tool"),U=K.find(".subwayExpress"),Ea=false,Ia=jQuery(Y.getElement());U.on("click",function(){if(Ea=!Ea){K.addClass("expressTrain");L.addClass("legendExpressTrain");n.click("subway","expresstrain")}else{K.removeClass("expressTrain");L.removeClass("legendExpressTrain")}c.clearSubwayLine();
if(Fa){Fa.setActive(false);Fa=null}c.showQuickLine(Ea)});var Ja=fa.$("subwayExportMenu");Ja.noCloseUIPanel(i.$("subwayExportBtn"));Ja.onHide.add(function(){P.removeClass("ACTIVE")});jQuery("#subway\\.tool\\.map\\.print").on("click",function(){c.printPopup();Ja.hide()});jQuery("#subway\\.tool\\.map\\.save").on("click",function(){w();Ja.hide()});jQuery("#subway\\.tool\\.map\\.copyurl").on("click",function(){h.show();Ja.hide()});jQuery("#subway\\.tool\\.map\\.copymap").on("click",function(){q();Ja.hide()});
b.on("click",function(){var a=ka.getWidth(),b=ua.scrollLeft();ua.scrollLeft(b-a)});$.on("click",function(){var a=ka.getWidth(),b=ua.scrollLeft();ua.scrollLeft(b+a)});N.on("click",function(){if(P.hasClass("ACTIVE")){P.removeClass("ACTIVE");Ja.hide()}else{P.addClass("ACTIVE");Ja.show()}});Y.hide();Y.noCloseUIPanel(i.$("localInfo.subway.searchBox.regionBtn"));mb.regionList.forEach(function(a,b){var c=new i("ul",a.label);a.lines.forEach(function(b){if(b.label){var d=new i("li",b.label);V.includes(b.id)||
d.addClass(b.label+"-INACTIVE");lineTitle=new i("a");lineTitle.setText(b.name);d.addChild(lineTitle);d.setTitle(b.section);c.addChild(d);var e=b.id.replace(/\D/g,"");(new qe(d,b.id,a.code+(e.length>1?e:"0"+e))).onClick.add(t)}});ka.addChild(c);D.push(c);X.push(a.flashlabel||a.label);E.push(a.id);var d=new i("li",a.label),e=new i("a");e.setText(a.name);d.addChild(e);d.addClass(a.label+"-INACTIVE");d.onClick.add(function(){n.click("subway",a.label+"_navi");I.text(a.name)});T.addChild(d);H.add(d,c);
c.onShow.add(j);c.onShow.add(u);c.hide();d=new jQuery('<li class="'+a.label+'"><a href="#">'+a.name+"</a></li>");d.on("click",function(){n.click("subway",a.label);H.setIndex(b);I.text(a.name)});Ia.append(d)});I.on("click",function(){Y.getVisible()?Y.hide():Y.show()});jQuery("#info\\.subway\\.remove").on("click",function(){A();n.click("subway","delete")});var Fa=null,gb=new jQuery("<iframe>");gb.addClass("saveFrame HIDDEN");jQuery("body").append(gb);this.infoRoute=jQuery("#info\\.subway\\.intro");
new je(f,this.infoRoute,true,function(a){if(a)this.infoRoute.removeClass("Howto");else{this.infoRoute.html('<strong class="tit_intro">\ud638\uc120\ub3c4 \uc911\uc694\ud558\uc9c0\ub9cc,<br>\uc2dc\uac04\uc774 \ub354 \uc911\uc694\ud558\ub2c8\uae4c</strong><p class="desc_intro">\uc5b8\uc81c \ucd9c\ubc1c\ud574\uc57c \ud558\ub294\uc9c0\ubd80\ud130<br>\uba87\ubd84\uc5d0 \ub3c4\ucc29\ud560\uc9c0\uae4c\uc9c0, \ud55c \ub208\uc5d0 \ud655\uc778\ud558\uc138\uc694.</p>');this.infoRoute.addClass("Howto")}}.bind(this));
this.setRegion=function(a){G=a};this.scrap_=function(){q()};this.createUrl=function(){var a=c.getStartStationName()||"",b=c.getEndStationName()||"",e=c.getStartStationId()||"",f=c.getEndStationId()||"",g=d.getRegionId(),h=d.getBoxOptions();return{nowRegionIdx:H.getIndex(),REGION:g,STARTNAME:a,ENDNAME:b,STARTID:e,ENDID:f,routingType:h.routingType,dailyType:h.dailyType,time:h.time,URLLINK:true,target:"subway"}};this.save_=function(){w()};this.print_=function(){c.printPopup(void 0)};this.reset=function(){A()};
this.setBoxOptions=function(a){c.isLoaded()?d.setBoxOptions(a):C=a};this.findRouteByName=function(a,b,e,f){D[G].show();c.isLoaded()?d.findOriginDestStation(a,b,e,f):v={start:a,end:b,startId:e,endId:f}};this.shareUrlParser=r}));define("controller/SubwaySearchViewController",["controller/SubwayController","manager/MapSuggest","controller/HistoryController","constants/subway"],L(function(a,b,c,d){var e,f,h,g,k,l,j;function r(a,b){var c,d;if(b==="origin"){c=yb;d=O}else{c=ic;d=F}(c=o(c,a))?d(c):B(b,a)}
function p(a){var b=a[0].replace(/\([\W\w]*\)/,"").trim(),c=a[1],d=a[3],c=b+(c?" "+c:""),a=new Ga({id:d,coords:new daum.maps.Coords(a[5],a[6]),simpleName:b}),a=s(a);a.fullName=c;return{id:d,fullName:c,data:a}}function o(a,b){var c=null;a.some(function(a){if(a.fullName===b){c=a;return true}});return c}function s(a){if(a){var b=new bb;b.id=a.text("id");b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));b.name=a.text("simpleName");return b}return false}function t(a){a&&a.preventDefault();I.find(".suggestBox").css({display:"none"});
S()}function u(a){a&&a.preventDefault();P.find(".suggestBox").css({display:"none"});if(a=wa.val()){r(a,"dest");Fa.focusAndSelect()}else z("\ub3c4\ucc29\uc5ed\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",wa)}function q(){var a=T.val().trim(),b=wa.val().trim();a&&b?w():y()}function w(){var a=jQuery("#info\\.subway\\.searchBox\\.submit");a.replaceWith('<button id="info.subway.searchBox.submit" class="go">'+a.html()+"</button>");jQuery("#info\\.subway\\.searchBox\\.submit").on("click",hb(500,M).trigger)}
function y(){var a=jQuery("#info\\.subway\\.searchBox\\.submit");a.off();a.replaceWith('<span id="info.subway.searchBox.submit" class="go">'+a.html()+"</span>")}function M(){if(T.hasClass("PLACEHOLDER"))z("\ucd9c\ubc1c\uc5ed \uc785\ub825\ud574\uc8fc\uc138\uc694.",T);else if(wa.hasClass("PLACEHOLDER"))z("\ub3c4\ucc29\uc5ed \uc785\ub825\ud574\uc8fc\uc138\uc694.",wa);else{var a=T.val(),b=wa.val(),c="",d="";if(R){a=R.name;c=R.id}if(oa){b=oa.name;d=oa.id}oa=R=null;V(a,b,c,d)}}function A(a){Z.removeClass("hourList").show();
Ia.children().remove();if(a=="option"){Ia.css({width:91,left:0});[e,f,h,g].forEach(function(a){Ia.append(jQuery('<li><a href="#">'+a+"</a></li>"))})}else if(a=="day"){Ia.css({width:91,left:99});[k,l,j].forEach(function(a){Ia.append(jQuery('<li><a href="#">'+a+"</a></li>"))})}else if(a=="hour"){Ia.css({width:71,left:198});Ia.addClass("hourList");for(a=0;a<24;a++)Ia.append(jQuery('<li><a href="#">'+(a<10?"0":"")+a+"\uc2dc</a></li>"))}else if(a=="minute"){Ia.css({width:71,left:277});for(a=0;a<60;a=a+
5)Ia.append(jQuery('<li><a href="#">'+(a<10?"0":"")+a+"\ubd84</a></li>"))}}function J(){Z.hide();if(!R||!oa){z("\ucd9c\ubc1c\uc5ed\uacfc \ub3c4\ucc29\uc5ed \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",wa);return false}if(R.id==oa.id){z("\ucd9c\ubc1c\uc5ed\uacfc \ub3c4\ucc29\uc5ed\uc774 \ub3d9\uc77c\ud569\ub2c8\ub2e4.",T);return false}var a=aa[ea.text()],b=ba[ia.text()],c=ma.text().replace("\uc2dc",":")+la.text().replace("\ubd84",":")+"00";ea.text()===g?da.find("span").addClass("checked"):
da.find("span").removeClass("checked");a={regionId:fb,sid:R.id,eid:oa.id,sname:R.name,sfullname:R.fullName,ename:oa.name,efullname:oa.fullName,sx:R.coords.getX(),sy:R.coords.getY(),ex:oa.coords.getX(),ey:oa.coords.getY(),dailyType:b,routingType:a,time:c,endChecked:Ra};D.notify(a);Y.show();U.show();return true}function v(a){na.setKeyword(a);a?Y.show():Y.hide();K.toggleClass("PLACEHOLDER",!a)}function C(a){ra.setKeyword(a);a?U.show():U.hide();N.toggleClass("PLACEHOLDER",!a)}function G(){fa.closeAll();
var b="SUBN-"+a.getCateByRegionId(fb),c=ha.SUGGEST_PUBTRAN+(/\?/.test(ha.SUGGEST_PUBTRAN)?"&":"?")+"cate="+b;na.setUrl(c);na.setCategory(b);ra.setUrl(c);ra.setCategory(b);na.setSubwayAreacode(fb);ra.setSubwayAreacode(fb);va.setSubwayAreacode(fb);qa.setSubwayAreacode(fb)}function O(a){if(R=a){c.addSubwayStationName(c.TYPE_LIST.SUBWAY_STATION_NAME,{type:"origin",fullName:R.fullName,name:R.name,stationId:R.id,regionId:fb});v(R.name);return R&&oa?J():true}z("\ucd9c\ubc1c\uc5ed \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",
T);T.hasClass("PLACEHOLDER")||x.log("search_subway_start_empty",T.val(),{qt:H[L.indexOf(fb)]})}function F(a){if(oa=a){c.addSubwayStationName(c.TYPE_LIST.SUBWAY_STATION_NAME,{type:"dest",fullName:oa.fullName,name:oa.name,stationId:oa.id,regionId:fb});C(oa.name);if(R&&oa)return J();S();return true}z("\ub3c4\ucc29\uc5ed \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",wa);wa.hasClass("PLACEHOLDER")||x.log("search_subway_end_empty",wa.val(),{qt:H[L.indexOf(fb)]})}function S(){var a=T.val();if(a){r(a,
"origin");wa.focusAndSelect()}else z("\ucd9c\ubc1c\uc5ed\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",T)}function B(b,c,d){var c=c.trim().replace(/(.*)\uc120$/,"$1").split(" "),e=c[1]||"",c=c[0];if(b&&c){var f="SUBN-"+a.getCateByRegionId(fb);require("server").suggestPubTran({cate:f,q:c},function(a){if((a=a.get_("items"))&&!Array.isArray(a)){var c=[];a[f].forEach(function(a){a=p(a.item.split("|"));(!d||a.id===d)&&c.push(a)});var g=c[0]||null;e&&c.some(function(a){if(a.fullName.indexOf(e)>-1){g=a;return true}});
g&&(b==="origin"?O(g.data):F(g.data))}})}}function V(b,c,d,e){var f=b.trim().replace(/(.*)\uc120$/,"$1").split(" "),b=f[0],g=f[1]||"";if(b)if(c){var h="SUBN-"+a.getCateByRegionId(fb);require("server").suggestPubTran({cate:h,q:b},function(a){if(a=a.get_("items")){var b=[];a[h].forEach(function(a){a=p(a.item.split("|"));(!d||a.id===d)&&b.push(a)});var f=b[0]||null;g&&b.some(function(a){if(a.fullName.indexOf(g)>-1){f=a;return true}});a=true;f&&(a=O(f.data));a===true&&B("dest",c,e)}})}else z("\ub3c4\ucc29\uc5ed\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",
wa);else z("\ucd9c\ubc1c\uc5ed\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",T)}function z(a,b){setTimeout(function(){b.focusAndSelect();a&&alert(a)},100)}this.diableSubmit=y;this.enableSubmit=w;var D=this.onShowRoute=new m,E=this.onChangeRoute=new m,H=this.regionName=[],L=this.REGION_ID=[],$=this.REGION_CODE=[],ka=jQuery("#info\\.subway\\.searchBox"),K=jQuery("#info\\.subway\\.searchBox\\.originForm"),T=jQuery("#info\\.subway\\.searchBox\\.origin"),I=jQuery("#info\\.subway\\.searchBox\\.originBox"),
Y=jQuery("#info\\.subway\\.searchBox\\.originDelete"),N=jQuery("#info\\.subway\\.searchBox\\.destForm"),wa=jQuery("#info\\.subway\\.searchBox\\.dest"),P=jQuery("#info\\.subway\\.searchBox\\.destBox"),U=jQuery("#info\\.subway\\.searchBox\\.destDelete"),Ea=jQuery("#info\\.subway\\.searchBox\\.to"),Ia=jQuery("#info\\.subway\\.searchBox\\.listBox"),Ja=jQuery("#info\\.subway\\.searchBox\\.optionBox"),Fa=jQuery("#info\\.subway\\.searchBox\\.dayBox"),gb=jQuery("#info\\.subway\\.searchBox\\.hourBox"),W=jQuery("#info\\.subway\\.searchBox\\.minuteBox"),
ha=require("url"),R=null,oa=null,sa=null,yb=[],ic=[],fb="01",Ra=false;k="\ud3c9\uc77c";l="\ud1a0\uc694\uc77c";j="\ud734\uc77c";var ca=d.DAY_TYPE,ba={};ba[k]=ca.WEEKDAY;ba[l]=ca.SATURDAY;ba[j]=ca.HOLIDAY;e="\ucd9c\ubc1c\uc2dc\uac04";f="\ub3c4\ucc29\uc2dc\uac04";h="\uccab\ucc28\ubcf4\uae30";g="\ub9c9\ucc28\ubcf4\uae30";var d=d.ROUTING_TYPE,aa={};aa[e]=d.TIME_BASE;aa[f]=d.ARR_TIME_BASE;aa[h]=d.FIRST_TRAIN;aa[g]=d.LAST_TRAIN;var Z=fa.$("info.subway.searchBox.listBox"),ea=Ja.find(".text"),ga=ka.find(".options"),
da=ka.find(".endCheck"),ia=Fa.find(".text"),ma=gb.find(".text"),la=W.find(".text"),na=new b({id:"info.subway.searchBox.origin",itemParser:function(a){var b=s(new Ga(a));b.fullName=a.fullName;yb.push(b);return[a.fullName,a.fullName]},onSubmit:t,onSubmitHistory:function(a){a.trigger("click")},logKey:"subwaysuggest_start"}),va=new Mc(c,c.TYPE_LIST.SUBWAY_STATION_NAME,na,true),ra=new b({id:"info.subway.searchBox.dest",itemParser:function(a){var b=s(new Ga(a));b.fullName=a.fullName;ic.push(b);return[a.fullName,
a.fullName]},onSubmit:u,onSubmitHistory:function(a){a.trigger("click")},logKey:"subwaysuggest_end"}),qa=new Mc(c,c.TYPE_LIST.SUBWAY_STATION_NAME,ra,true);mb.regionList.forEach(function(a){L.push(a.id);H.push(a.name);$.push(a.cityid)});Z.hide();Z.noCloseUIPanel(i.$("info.subway.searchBox.dayBox"));Z.noCloseUIPanel(i.$("info.subway.searchBox.optionBox"));Z.noCloseUIPanel(i.$("info.subway.searchBox.hourBox"));Z.noCloseUIPanel(i.$("info.subway.searchBox.minuteBox"));K.on("submit",t);N.on("submit",u);
T.on("input",q).on("focus",function(){fa.closeAll();I.addClass("originFocus");K.removeClass("PLACEHOLDER")}).on("blur",function(){I.removeClass("originFocus");R&&v(R.name);if(T.val()){Y.show();K.removeClass("PLACEHOLDER")}else{Y.hide();K.addClass("PLACEHOLDER")}}).on("change",function(a){console.log(a)});Y.on("click",function(){v("");R=null;T.focusAndSelect()});I.find(".op").on("click",function(){T.focusAndSelect()});wa.on("input",q).on("focus",function(){fa.closeAll();P.addClass("destFocus");N.removeClass("PLACEHOLDER")}).on("blur",
function(){P.removeClass("destFocus");oa&&C(oa.name);if(wa.val()){U.show();N.removeClass("PLACEHOLDER")}else{U.hide();N.addClass("PLACEHOLDER")}});U.on("click",function(){C("");oa=null;wa.focusAndSelect()});P.find(".dp").on("click",function(){wa.focusAndSelect()});Ea.on("click",hb(500,function(){var a=R;R=oa;oa=a;R||(R={name:""});oa||(oa={name:""});v(R.name);C(oa.name);R.name&&oa.name&&V(R.name,oa.name,R.id,oa.id);E.notify()}).trigger);Ia.on("click",function(a){a=jQuery(a.target);if(a[0].tagName==
"LI"||a[0].tagName=="A"){text=a.text();sa.find(".text").text(text);sa.focus();if(sa==Ja){if(text==h||text==g){ka.addClass("endChecked");ga.addClass("noTimeBase")}else{ga.removeClass("noTimeBase");ka.removeClass("endChecked");da.find("span").removeClass("checked")}Ra=text==g}Z.hide();if(aa[text]){a=aa[text];a.toLowerCase&&n.click("subway","routetype_"+a.toLowerCase())}}});da.on("click",function(){Ra=!Ra;ka.toggleClass("endChecked",Ra);if(Ra){ea.text(g);n.click("subway","lasttrain")}else{ea.text(e);
ga.removeClass("noTimeBase")}var a=T.hasClass("PLACEHOLDER")?"":T.val(),b=wa.hasClass("PLACEHOLDER")?"":wa.val();a&&b&&M()});Ja.on("click",function(){if(sa==Ja)Z.hide();else{Z.hide();sa=Ja;Ja.addClass("optionBox-ACTIVE");Ja.after(Ia);A("option")}});Fa.on("click",function(){if(sa==Fa)Z.hide();else{Z.hide();sa=Fa;Fa.addClass("optionBox-ACTIVE");Fa.after(Ia);A("day")}});gb.on("click",function(){if(!Ra&&!ga.hasClass("noTimeBase"))if(sa==gb)Z.hide();else{Z.hide();sa=gb;gb.addClass("optionSmallBox-ACTIVE");
gb.after(Ia);A("hour")}});W.on("click",function(){if(!Ra&&!ga.hasClass("noTimeBase"))if(sa==W)Z.hide();else{Z.hide();sa=W;W.addClass("optionSmallBox-ACTIVE");W.after(Ia);A("minute")}});va.onItemClick.add(function(a){B("origin",a.name,a.key);wa.focusAndSelect()});qa.onItemClick.add(function(a){B("dest",a.name,a.key);Fa.focusAndSelect()});Z.onHide.add(function(){if(sa){sa.removeClass("optionBox-ACTIVE");sa.removeClass("optionSmallBox-ACTIVE")}sa=null});this.setPrefixKeyword=function(){G()};this.getRegionId=
function(){return fb};this.setRegionId=function(a){fb=a;G()};this.findOriginDestStation=function(a,b,c,d){V(a,b,c,d)};this.setStationObject=function(a){if(a.name)B(a.type,a.name,a.stationId);else if(a.type==="origin"){v("");R=null}else if(a.type==="dest"){C("");oa=null}};this.updateTime=function(){ga.removeClass("noTimeBase");ka.removeClass("endChecked");Ra=false;var a=new Date;ea.text(e);var b=a.getDay(),c=a.getHours(),a=a.getMinutes(),a=5*Math.ceil(a/5);if(a==60){a=0;c++}if(c==24){c=0;b++}b==7&&
(b=0);b==6?ia.text(l):b==0?ia.text(j):ia.text(k);ma.text((c<10?"0":"")+c+"\uc2dc");la.text((a<10?"0":"")+a+"\ubd84")};this.clear=function(){oa=R=null;G();v("");C("");y();jQuery("#info\\.subway\\.searchBox\\.resultBox").hide()};this.getBoxOptions=function(){var a=aa[ea.text()],b=ba[ia.text()],c=ma.text().replace("\uc2dc","_")+la.text().replace("\ubd84","");return{routingType:a,dailyType:b,time:c}};this.setBoxOptions=function(a){for(var b in aa)if(aa[b]==a.routingType){ea.text(b);if(b==h)ga.addClass("noTimeBase");
else if(b==g){ka.addClass("endChecked");Ra=true}break}for(b in ba)if(ba[b]==a.dailyType){ia.text(b);break}if(a.time){a=a.time.split("_");a[0]&&ma.text(a[0]+"\uc2dc");a[1]&&la.text(a[1]+"\ubd84")}}}));Gb.prototype.togglable_=!1;Gb.prototype.setTogglable=function(a){this.togglable_=a};Gb.prototype.add=function(a,b){if(!this.togglable_&&this.button_.length==0){a&&a.setActive(true);b.show()}else{a&&a.setActive(false);b.hide()}this.button_.push(a);this.panel_.push(b);a&&a.onClick.add(this.clickButton_,
this);b.onShow.add(this.showPanel_,this)};Gb.prototype.setIndex=function(a){var b=this.panel_[a],c=!this.togglable_||!b.getVisible();b.setVisible(c);this.button_[a].setActive(c);this.onChange.notify(a);this.index_=a};Gb.prototype.clickButton_=function(a){this.setIndex(this.button_.indexOf(a.currentPanel))};Gb.prototype.showPanel_=function(a){for(var a=a.currentPanel,b=0,c=this.panel_.length;b<c;++b)if(a==this.panel_[b]){this.button_[b]&&this.button_[b].setActive(true);this.index_=b}else{this.button_[b]&&
this.button_[b].setActive(false);this.panel_[b].hide()}};Gb.prototype.getIndex=function(){return this.index_};"use strict";define("controller/ThemeMapController",["map/Map","view/ThemeMapView","view/ThemeMapPlaceView","themeKeywords"],L(function(a,b,c){function d(){if(!k){h.show();if(l){b.update();b.show();c.hide()}else{b.hide();c.show()}k=true}}function e(){h.hide();k=false;b.hide();c.hide()}function f(a){l=false;b.hide();b.setThemeId(a);c.setThemeId(a);c.show();jQuery("#info\\.body").scrollTop(0)}
var h=jQuery("#info\\.thememap"),g=false,k=false,l=true;this.getActive=function(){return g};this.setActive=function(a){l=true;a?d():e();g=a};this.setHideActive=function(a){(g=a)&&b.update()};this.show=function(){d()};this.hide=function(){e()};this.getActiveThemeId=function(){return!l?c.getThemeId():false};b.onThemeClick.add(f);c.onThemeMore.add(function(){l=true;c.hide();b.update();b.show();jQuery("#info\\.body").scrollTop(0)});c.onThemeClick.add(f);this.setThememapId=function(a){c.setNoJump();f(a)};
this.setThememapIdWithJump=function(a){a&&f(a)};this.setSelectedThememapId=function(a){c.setSelectedId(a)};this.setThememapPlaces=function(a){b.setThememapPlaces(a);c.setThememapPlaces(a)}}));"use strict";define("controller/ThemeMapSearchController",["map/Map","view/ThemeMapItemView","model/ThemeMapItem","themeKeywords","controller/ThemeMapController"],L(function(a,b,c,d,e){function f(a){l.empty();k.show();a.forEach(function(a){a=new c(a);(new b(a,l)).onClick.add(function(a){jQuery("#info\\.main").hide();
e.setActive(true);e.setThememapId(a);j.notify()})})}function h(a){g.length=0;var b=d[a]||[];if(b.length!=0){jQuery("#info\\.search\\.theme\\.cnt").text(b.length);require("server").thememapList({sort:"RECENT",page:0},function(a){var c=a.find("themeList");b.forEach(function(a){var b=c.filter(function(b){return b.text("themeId")==a});g=g.concat(b)});f(g)})}}var g=[],k=jQuery("#info\\.search\\.theme"),l=jQuery("#info\\.search\\.themeList"),j=this.onClick=new m;this.setKeyword=function(a){h(a)};this.reset=
function(){l.empty();k.hide()}}));"use strict";define("controller/ThemePoiMarkerController",["map/Map","map/InfoWindowManager","map/MiniTooltipManager"],L(function(a,b,c){function d(a){if(a&&i){a=b.createPlace(a,i);b.onClose.add(function(){i=null});a.onClose.add(function(){i=null})}}function e(a){a&&i&&Application.infoWindowManager.createBusStop(a,null,null,i)}function f(){g.forEach(function(a){a.setMap(null)});g.length=0;c.clear()}function h(){if((l||j)&&j){k.setBounds(a.getBounds());j=="busStop"?
k.setThemeBusStopMode():k.setThemeId(j)}}var g=[],k=new z,l="",j="",i=null,p=this.onShow=new m;k.onChange.add(function(){if(l||j){f();var b=k.places;if(j=="busStop")b=k.busStops;b.forEach(function(b){var f=D.createThemeMarker(l,b.coords);if(f){f.setMap(a);if(b){f.onClick.add(function(){c.close();i=f;j=="busStop"?R.find(b.id,e):ca.findPlace(b.id,d);n.click("dotsearch","markerclick")},this);if(l=="oil"&&b.gas&&b.gas.timestampText){var h=c.createGas(b);f.onOver.add(function(){h.bringToFront()});f.onOut.add(function(){h.sendToBack()})}else{f.onOver.add(function(){if(i!=
f){var a=null;switch(l){case "bus":a=c.createPOIBusStop;break;case "food":a=c.createRating;break;default:a=c.createTheme}a(b);c.open();p.notify()}},this);f.onOut.add(function(){c.close()},this)}}g.push(f)}})}});var o=hb(250,h).trigger,s=new daum.maps.Coords(685487,813958);this.setTheme=function(b){l=b.type;j=b.id;if(l=="theme"||j=="c842"){a.setLevel(12);a.setCenter(s);l=="theme"&&(l=j)}h();daum.maps.event.addListener(a,"idle",o)};this.clearTheme=function(){f();j=l=null;daum.maps.event.removeListener(a,
"idle",o)}}));define("controller/TransitRouteController",["map/Map","controller/KeywordSearchController","map/InfoWindowManager","controller/RoadviewController"],L(function(a,b,c,d){function e(b,c,e){var f=b.coords,g=pc.RADIUS[a.getLevel()],h=null;d.client_.getNearestPanoId(f,g,function(a){h=a===null||c?null:{panoId:a,coords:f};b.roadview=h;e&&e(h,b)}.bind(this))}function f(a){if(M){w.setActiveRouteItemView(M,false);y.setActiveOverlay(M,false)}if(a){w.setActiveRouteItemView(a,true);y.setActiveOverlay(a,
true);M=a}else M=null}function h(a,b){w.setHighlightRouteItemView(a,b);y.setHighlightOverlay(a,b)}function g(){y.setClickable(false)}function k(){y.setClickable(true)}function l(){q.buildPaths();Application.map.setBounds(q.bounds);y=He(q.points,a);y.onWalkMarkerClick.add(function(b){var c=null,c=typeof b.index=="object"?q.points[b.index.index]:q.points[b.index];o(c,b.index);if(c.isInterPoint){a.setLevel(3);c.vehicleType==E.TRANSFER_PUBLICTRAFFIC?a.setCenter(c.publicSteps[b.index.stepIdx].coords):
a.setCenter(c.coords)}else{var d=c.walkGroup.points;a.setLevel(3);if(b.sub==null)if(d.length==0&&c.walkGroup.walkGuide)t(b.index);else{y.setWalkDetailMarker(b.index,d);a.setCenter(c.coords);return}else{m(b,d);a.setCenter(d[b.sub].coords)}w.setActiveRouteItem()}});y.onOver.add(function(a){h(a,true)});y.onOut.add(function(a){h(a,false)});y.onExpand.add(function(b){var c=null,d=null;if(typeof b=="object"){c=q.points[b.index];d=b.stepIdx}else c=q.points[b];a.setLevel(3);if(d!=null&&c.vehicleType==E.TRANSFER_PUBLICTRAFFIC)Application.map.setCenter(c.publicSteps[d].coords);
else{var e=c.targetPath;Application.map.setCenter(d==1?e[e.length-1]:e[0]||c.coords)}o(c,b)});y.onClose.add(function(){G=null});var b=q.totalPaths,c=b[0],b=b[b.length-1],d=Application.flagSearchController.getWaypoints(),e=d[0].coords,d=d[d.length-1].coords;J=new daum.maps.Polyline(A);J.setPath([e,c]);v=new daum.maps.Polyline(A);v.setPath([b,d]);J.setMap(a);v.setMap(a)}function j(b,d){var e=c.createBusStopRoute(b,d);e.onBusStopClick.add(function(){R.find(b.busStop.id,function(d){a.setCenter(d.coords);
a.setLevel(3);var e=null,f=null;if(b.vehicles.length===1){e=b.vehicles[0].id;f=b.vehicles[0].startOrder}c.createBusStop(d,e,f)})});return e}function i(a,b){var d=null;return d=a.type==U.OTHER?c.createIntercityInfo(a,a.walkPath[0],b):c.createWalkPointGroupInfo(a,a.walkPath[0],b)}function p(a,b,d){var e=null,e=a.targetPath;return e=!b.stepIdx||b.stepIdx==0?c.createIntercityInfo(a,e[0],d):c.createIntercityInfo(a,e[e.length-1],d,true)}function o(b,e){y.hideTransitMediumTooltip(e);f({index:e,sub:null});
G!=null&&G!=e&&y.showTransitMediumTooltip(G);var g={x:-4,y:-1},h=null,k=b.isInterPoint&&typeof e=="object"?true:false;e.stepIdx!=void 0&&(b.isInterPoint&&b.vehicleType==E.TRANSFER_PUBLICTRAFFIC)&&(b=b.publicSteps[e.stepIdx]);if(b.action==U.DEPARTURE||b.action==U.ARRIVAL)h=c.createStartEndPointInfo(b,{x:20,y:21});else if(b.action==U.MOVE)h=i(b,g);else{h=b.isInterPoint?p(b,e,g):b.type=="BUS"?j(b,g):c.createSubwayTooltip(b,g);h.onCollapse.add(function(){y.showTransitMediumTooltip(e)});G=e}h.onCloseBtn&&
h.onCloseBtn.add(function(){G=null;c.closeWithoutNotify()});var l=null,u=null;if(k){l=y.getInterPrevIndex(e);u=y.getInterNextIndex(e)}h.onPrev.add(function(){y.showTransitMediumTooltip(e);if(k){var b=q.points[l.index];if(l.stepIdx>=0&&b.vehicleType==E.TRANSFER_PUBLICTRAFFIC)a.panTo(b.publicSteps[l.stepIdx].coords);else if(b.routeType==E.DEPARTURE_ARRIVAL)a.panTo(b.coords);else{b=b.targetPath;a.panTo(l.stepIdx==1?b[b.length-1]:b[0])}o(q.points[l.index],l,true)}else{a.panTo(q.points[e-1].coords);o(q.points[e-
1],e-1,true)}});h.onNext.add(function(){y.showTransitMediumTooltip(e);if(k){var b=q.points[u.index];if(u.stepIdx>=0&&b.vehicleType==E.TRANSFER_PUBLICTRAFFIC)a.panTo(b.publicSteps[u.stepIdx].coords);else if(b.routeType==E.DEPARTURE_ARRIVAL)a.panTo(b.coords);else{b=b.targetPath;a.panTo(u.stepIdx==1?b[b.length-1]:b[0])}o(q.points[u.index],u,true)}else{a.panTo(q.points[e+1].coords);o(q.points[e+1],e+1,true)}});h.onRoadviewClick.add(function(){var a=b.roadview;d.show(a);n.click("route","go_public_tooltip_roadview");
a&&x.logRoadview("node_click_tooltip_roadview",a.panoId,b.coords,Application.localInfoController.getHCodeForLog())});k?h.setButtons(l?q.points[l.index]:null,u?q.points[u.index]:null):h.setButtons(q.points[e-1],q.points[e+1])}function m(b,c){function d(a){a=c.indexOf(a);a={index:b.index,sub:a};m(a,c);f(a)}if(b.sub!=null){var e=c[b.sub],g=Application.infoWindowManager.createWalkPointInfo(e,{x:0,y:11});g.setButtons(c[b.sub-1],c[b.sub+1]);g.onPrev.add(d);g.onNext.add(d);a.setCenter(e.coords);a.setLevel(3);
f(b)}}function t(b){var c=q.points[b].walkPath,d=q.points[b-1],e=q.points[b+1];Wa.find2(new Lb(c[0],""),d.bus?"BUSSTOP":d.subway?"SUBWAYSTATION":"NORMAL",new Lb(c[c.length-1],""),e.bus?"BUSSTOP":e.subway?"SUBWAYSTATION":"NORMAL",e.name,function(d){if(d.error)a.setCenter(c[0]);else{q.points[b].walkGroup.points=d.points;q.points[b].walkGroup.points.pop();w.setWalkItem(b,d.points);y.setWalkDetailMarker(b,d.points);a.setCenter(d.points[0].coords)}})}function u(){if(q){Application.roadviewController.getActive()&&
Application.roadviewController.close();a.setBounds(q.bounds)}}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var q=null,w=null,y=null,M=null,A={zIndex:-2,strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10},J=null,v=null,C=false;daum.maps.event.addListener(a,"click",function(){G!==null&&y.showTransitMediumTooltip(G)});this.setView=function(b){w=b;w.onPointClick.add(function(b){d.getActive()&&d.close();var c=q.points[b.index];if(C)c.rvShow=true;if(b.sub!=null&&c.walk){e(c.walkGroup.points[b.sub]);
m(b,c.walkGroup.points)}else{e(c);a.setLevel(3);if(c.isInterPoint){b.index=y.getInterNowIndex({index:b.index,childIdx:b.sub?b.sub:0});var f=c.publicSteps&&c.publicSteps[0]?c.publicSteps[0].coords:c.coords;if(b.sub===1)f=c.arrivalCoords;Application.map.setCenter(f)}else Application.map.setCenter(c.coords);o(c,b.index)}});w.onRoadview.add(function(a){var b=null,c=false;if(a.isWalkGroup)b=q.points[a.index].walkGroup.points[a.sub];else{c=a.index===0||a.index===q.points.length-1;b=q.points[a.index]}e(b,
c,function(a,b){d.show(a);var c=Application.transitRouteSearchController.panel_.dssObject_;c&&a&&x.log("path_transit_click_roadview",c.q,{tab:c.tab,mkey:c.mkey,cpg:c.cpg,qidx:c.qidx,panoid:a.panoId,wx:b.coords.getX().toFixed(0),wy:b.coords.getY().toFixed(0),region:Application.localInfoController.getHCodeForLog()})})});w.onOver.add(function(a){h(a,true)});w.onOut.add(function(a){h(a,false)});w.onItemDetail.add(function(){d.getActive()&&d.close()});w.onWalkDetail.add(function(a){var b=q.points[a.index].walkGroup.points;
c.close();a.isDetail&&b.length==0&&t(a.index)});w.onChildPointClick.add(function(b){var c=q.points[b.index],d=null;if(c.publicSteps)d=c.publicSteps[b.childIdx].coords;else{c=q.points[b.index+b.childIdx];if(b.isLast){d=c.arrivalCoords;b.childIdx=b.childIdx+1}else d=c.coords}a.setLevel(3);Application.map.setCenter(d);b=y.getInterNowIndex(b);o(c,b)})};this.showNoRoute=function(){w&&w.toggleNoMethodRoute(true)};this.hideNoRoute=function(){w&&w.toggleNoMethodRoute(false)};this.set=function(a,b){if(q!==
a){if(q){y.clear();w&&w.setRouteDeActive();M=G=null;J&&J.setMap(null);v&&v.setMap(null);v=J=null;Application.mainMapController.tool.onClickTool.remove(g);Application.mainMapController.tool.onComplete.remove(k)}q=a;C=b;transitWalk=q&&q.transitWalk;if(q){l();u()}Application.mainMapController.tool.onClickTool.remove(g);Application.mainMapController.tool.onComplete.remove(k);Application.mainMapController.tool.onClickTool.add(g);Application.mainMapController.tool.onComplete.add(k)}};var G=null;this.adjustMap=
function(){u()}}));ab.defaultBoundTabIndex_=0;ab.defaultTabIndex_=3;ab.defaultInterTabIndex_=4;ab.prototype.showOtherRoute_=function(a){this.otherRoute_=new daum.maps.Polyline({strokeWeight:10,strokeOpacity:0.9,strokeColor:"#54a8ff",additionalStyles:[{strokeWeight:"6",strokeOpacity:"0.9",strokeColor:"#7abbff"}],path:a.totalPaths});this.otherRoute_.setMap(Application.map)};ab.prototype.hideOtherRoute_=function(){this.otherRoute_&&this.otherRoute_.setMap(null)};ab.prototype.find=function(){var a=Application.flagSearchController.getWaypoints();
a&&jc.find(a,function(b){this.routes_=b.transitRoutes;this.routeStatus_=b.status;this.interRoutes_=b.interRoutes;this.interStatus_=b.interStatus;this.mkey_=b.mkey;(b.status=="OK"||b.interStatus=="OK")&&Application.historyController.addRoute(Application.historyController.TYPE_LIST.TRANSIT,a);this.onResult.notify()},function(a){if(a.status===500){this.errorView_&&this.errorView_.detach();this.errorView_=ma.showError();i.$("info.flagsearch").addChild(this.errorView_);this.panels_.add(null,this.errorView_);
this.errorView_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},this);this.errorView_.show();this.onResult.notify()}},this)};ab.prototype.getRoute=function(){return this.routes_};ab.prototype.clearRoute=function(){this.route_=this.routes_=this.mkey_=null;this.hideRoute_()};ab.prototype.hideRoute_=function(){this.routeController_.set(null);this.routeController_.hideNoRoute();this.toolBar_&&this.toolBar_.setVisible(false);this.panel_&&this.panel_.setVisible(false);this.noResultPanel_&&
this.noResultPanel_.setVisible(false);this.errorView_&&this.errorView_.setVisible(false)};ab.prototype.load_=function(){var a=this.mkey_,b=this.routes_,c=this.interRoutes_;this.infoWindowManager_.close();this.routeController_.set(null);this.hideOtherRoute_();this.windowController_.showInfoAndTop();require("log/Tiara").log(require("const").TIARA.routing_public);if(!this.toolBar_){Application.favoriteController.onChangeItem.add(function(){this.toolBar_.updateFav()}.bind(this));var d=this.toolBar_=new rd;
d.onClick.add(this.handleToolbar_,this);zb.addChild(d)}this.toolBar_.hide();var d=Application.flagSearchController.getWaypoints(),e=v.createTransitFromWaypoints(d);v.findRouteKey(e,function(a){if(a.text("status.code")===v.RESULT_CODE.SUCCESS)e.key=a.text("result");this.toolBar_.updateFav(e)}.bind(this));this.panel_.setMkey(a);if(b[0]||c[0]){if(b[0]instanceof jc.Lazy)this.routes_=b=b.map(function(a){return a.get()});if(c[0]instanceof ac.Lazy)this.interRoutes_=c=c.map(function(a){return a.get()});this.panel_.setBoundModeIndex(this.boundModeIndex_);
if(this.boundModeIndex_){this.panel_.setModeIndex(3);this.panel_.setInterModeIndex(this.modeIndex_)}else{this.panel_.setModeIndex(this.modeIndex_);this.panel_.setInterModeIndex(4)}this.modeIndex_=3;this.boundModeIndex_=0;this.panel_.setData(b,c);this.panel_.setViaInfoVisible(Application.flagSearchController.getViaVisible());this.panel_.show()}else{this.noResultPanel_&&this.noResultPanel_.detach();d=Application.flagSearchController.getWaypoints();this.noResultPanel_=ma.createTransit(this.routeStatus_||
this.interStatus_,d);this.panels_.add(null,this.noResultPanel_);this.noResultPanel_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},this);i.$("info.flagsearch").addChild(this.noResultPanel_);this.routeStatus_=="ZERO_RESULTS_DISCONNECTED_NETWORK"&&this.showIntercityInfo_();this.noResultPanel_.show();this.setRoute_(-1);x.log("search_path_transit",d.map(function(a){return a.name+"_"+Math.floor(a.coords.getX())+","+Math.floor(a.coords.getY())+"_"+(a.pointType=="PLACE"?a.id:"")}),{cnt:"0,0,0,0,0,0,0,0,0",
tab:"all",mkey:a,mode:this.routeStatus_||this.interStatus_})}};ab.prototype.showIntercityInfo_=function(){var a=Application.flagSearchController.getWaypoints();require("server").busTerminalAt({x:a[0].coords.getX().toFixed(0),y:a[0].coords.getY().toFixed(0)},function(a){if(a.find("terminalList").length!=0){var c=H("IntercityInfoView");this.noResultPanel_.setIntercityBox(c);this.noResultPanel_.setDesc("\ud574\ub2f9 \uac80\uc0c9\uacb0\uacfc\ub294 \uc9c0\uc5ed\uac04 \uae38\ucc3e\uae30 \ub178\uc120\uc774\ubbc0\ub85c<br/> \uc544\ub798 \ud130\ubbf8\ub110 \uc6b4\ud589\uc815\ubcf4\uc5d0\uc11c \ud655\uc778\ud558\uc138\uc694");
var d=c.$("intercityList");a.find("terminalList").forEach(function(a){var b=jQuery('<li><a class="info" href="#"><em class="arrow"></em>\uc2e4\uc2dc\uac04\uc608\ub9e4\uc815\ubcf4 \ubcf4\uae30</a>'+a.text("name")+"</li>");b.find(".info").click(function(){n.click("intercity","intercity_by_transitroute");var b=a.text("id");require("server")[/^BT/.test(b)?"intercityBus":"ferry"]({id:b})});d.append(b)})}else this.noResultPanel_.hideDesc()}.bind(this))};ab.prototype.handleToolbar_=function(a){switch(a.id){case "favorite":n.click("favorite",
["go_public","route_results"]);this.doFavorite_(a.fav);break;case "delete":n.click("route","go_public_route_delete");Application.flagSearchController.reset();break;case "print":this.setRouteToPrint(this.route_);break;case "alook":this.routeController_.adjustMap();break;default:console.assert(false)}};ab.prototype.doFavorite_=function(a){if(a)Application.favoriteController.add(a,"public_route_results");else if(a=Application.flagSearchController.getWaypoints()){var b=v.createTransitFromWaypoints(a);
v.findRouteKey(b,function(a){if(a.text("status.code")===v.RESULT_CODE.SUCCESS)b.key=a.text("result");Application.favoriteController.add(b,"public_route_results")}.bind(this))}};ab.prototype.setRoute_=function(a){this.hideOtherRoute_();var b=null,c=false;if(a>=this.routes_.length)b=this.interRoutes_[a-this.routes_.length];else{b=this.routes_[a];c=true}this.activeIdx_=a;Application.infoWindowManager.close();this.routeController_.set(b,c);!b&&(this.routes_.length!==0||this.interRoutes_.length!==0)?this.routeController_.showNoRoute():
this.routeController_.hideNoRoute();a===-1?this.panel_.hideFooterBtns():this.panel_.showFooterBtns();this.route_=b;if(this.toolBar_){b?this.toolBar_.show():this.toolBar_.hide();this.windowController_.updateHeight()}};ab.prototype.changeActive_=function(){if(this.getActive()){if(this.routes_)if(this.route_){this.routeController_.set(this.route_);this.panel_.setVisible(true);this.toolBar_.setVisible(true);require("log/Tiara").log(require("const").TIARA.routing_public)}else this.load_()}else this.hideRoute_();
this.panel_.below_="";this.windowController_.onHeightChange.notify()};ab.prototype.setRouteToPrint=function(a){this.routePrinting_=a||this.route_;jb("etc/print_car.jsp?type=transit",680,870);n.click("route","go_public_print")};ab.prototype.getModeIndex=function(){return this.panel_?this.panel_.getModeIndex():null};ab.prototype.getInterModeIndex=function(){return this.panel_?this.panel_.getInterModeIndex():null};ab.prototype.getBoundModeIndex=function(){return this.panel_?this.panel_.getBoundModeIndex():
null};ab.prototype.setModeIndex=function(a){this.modeIndex_=parseInt(a)};ab.prototype.setBoundMode=function(a){this.boundModeIndex_=parseInt(a)};define("controller/TransitRouteSearchController",["map/Map","controller/TransitRouteController","map/InfoWindowManager","view/TransitRouteResultView","controller/WindowController"],L(ab));define("controller/TriangleNoticeController",["options","dom/forefront"],L(function(){}));Ld.prototype.getPanel=function(){console.assert(this.panel_.getElement);return this.panel_};
define("controller/W3wController",["map/Map","map/InfoWindowManager","controller/HistoryController"],L(function(a,b){var c=null,d=null,e=null,f=null,h=function(){d=b.createW3w(f,c);d.onClose.add(function(){c.setMap(null)})};b.onClose.add(function(){c&&c.setMap(null)});this.showTooltipByCoords=function(b){e=b;xb.getAddressByCoords(function(b){f=b;if(c){c.setMap(null);daum.maps.event.removeListener(c,"click",h)}c=D.createW3w(e);h();c.setMap(a);daum.maps.event.addListener(c,"click",h)},this,e)};this.showTooltipByW3w=
function(b){f=b;e=b.coords;if(c){c.setMap(null);daum.maps.event.removeListener(c,"click",h)}a.setCenter(e);c=D.createW3w(e);h();c.setMap(a);daum.maps.event.addListener(c,"click",h)};this.search=function(a,b,c){n.click("mapsearch",["w3w","///"+a]);xb.search(function(a){a&&a.isValidBoundary?b&&b(a):c&&c(a)},this,a)}}));define("controller/WalkRouteSearchController",["map/Map","controller/RoadviewController","controller/WindowController","log/Tiara","const"],L(function(a,b,c,d,e){function f(a){var b=
a.seq,c={index:1,sub:null};F.points.some(function(a,d){if(a.seq==b){c.index=d;return true}if(a.points)return a.points.some(function(a,e){if(a.seq==b){c.index=d;c.sub=e;return true}})});I.setItemActive(c,true);T.setItemActive(c,true)}function h(){T.setClickable(false)}function g(){T.setClickable(true)}function k(c,d){var e=F.points[c].coords,f=pc.RADIUS[a.getLevel()],g=c===0||c===F.points.length-1,h=null;b.client_.getNearestPanoId(e,f,function(a){h=a===null||g?null:{panoId:a,coords:e};F.points[c].roadview=
h;d&&d(h)}.bind(this))}function l(){var a=fc(),b=Application.flagSearchController.getWaypoints();Hb.find(b,function(b){Application.aoiManager.clearAll();a.dispose();if(S!==b&&(!S||!b||!b.error)){S=b;ka=true;H&&c.updateHeight()}$.notify();var d=Application.flagSearchController.getWaypoints();b.error||Application.historyController.addRoute(Application.historyController.TYPE_LIST.WALK,d);x.log("search_path_walk",d.map(function(a){return a.name+"_"+a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0)+
"_"+(a.pointType=="PLACE"?a.id:"")}),b.error?{cnt:0,mode:b.resultErrorCode}:{cnt:1,mode:""})},function(b){Application.aoiManager.clearAll();a.dispose();if(b.status===500){U.show();$.notify()}});var d=v.createWalkFromWaypoints(b);v.findRouteKey(d,function(a){if(a.text("status.code")===v.RESULT_CODE.SUCCESS)d.key=a.text("result");Y.updateFav(d)}.bind(this))}function j(a,b){var c=a.index,d=a.sub;if(d!=null){d=d+b;if(!F.points[c].points[d]){c=c+b;d=null}}else c=c+b;F.points[c]instanceof Tc&&d==null&&
(d=b>0?0:F.points[c].points.length-1);return F.points[c]==null?null:{index:c,sub:d}}function r(a){var b=a.sub,c=F.points[a.index];c instanceof Tc&&(c=c.points[b]);Application.map.setCenter(c.coords);var d={x:0,y:11},b=null;if(c.seq=="start"||c.seq=="goal"||c.seq=="through"){d={x:27,y:27};b=Application.infoWindowManager.createStartEndPointInfo(c,{x:20,y:21});b.onCloseBtn.add(function(){Application.infoWindowManager.closeWithoutNotify()})}else b=Application.infoWindowManager.createWalkPointInfo(c,d);
b.onPrev.add(p,this);b.onNext.add(p,this);c=j(a,-1);a=j(a,1);b.setButtons(c,a)}function p(a){if(a){I.setItemActive(a,true);I.setHighlight(a,true);T.setItemActive(a,true);r(a)}}function o(){y();Application.infoWindowManager.close();if(S&&H){if(S.error){T.setData(null);var a=ma.getNoWalkResultByType(S.resultErrorCode);P.setTitle(a.text);P.setDesc(a.desc);P.setLink(a.link);P.setWalkFiyData(S);P.show()}else{G(true);I.setData(S);s();t();ka&&C();u(true);q(0,true);I.initHover()}d.log(e.TIARA.routing_walk)}}
function s(){var a=Application.flagSearchController.getWaypoints(),b=a[0].coords,c=a[a.length-1].coords;S.walkRoutes.forEach(function(a){var d=[],e=Hb.getModeLineColor(a.routeMode),f=Hb.getModeOutLineColor(a.routeMode);a.sectionPoints.forEach(function(a){d=d.concat(a)});a=new daum.maps.Polyline({strokeWeight:8,strokeColor:f,strokeOpacity:0.9,additionalStyles:[{strokeWeight:"6",strokeOpacity:"1",strokeColor:e}],path:d});z.push(a);a=d[d.length-1];e=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,
strokeWeight:10,path:[b,d[0]]});D.push(e);a=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:[a,c]});E.push(a)})}function t(){S.walkRoutes.forEach(function(a){var b=[];a.sectionPoints.forEach(function(a){b=b.concat(a)});a=new daum.maps.Polyline({strokeWeight:10,strokeColor:"#ffffff",strokeOpacity:1,additionalStyles:[{strokeWeight:"8",strokeOpacity:"1",strokeColor:"#3396ff"},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:b});
V.push(a)})}function u(b){if(b){z.forEach(function(b){b.setMap(a)});D.forEach(function(b){b.setMap(a)});E.forEach(function(b){b.setMap(a)});ka&&C()}else{z.forEach(function(a){a.setMap(null)});D.forEach(function(a){a.setMap(null)});E.forEach(function(a){a.setMap(null)});V.forEach(function(a){a.setMap(null)})}}function q(b,c){var d=z[b],e=V[b],f=D[b],g=E[b];if(f&&g){f.setMap(null);g.setMap(null)}if(F){if(S.walkRoutes.indexOf(F)!=b&&d)if(c){d.setMap(a);f.setMap(a);g.setMap(a)}else d.setMap(null)}else if(d&&
e){if(c){d.setMap(null);e.setMap(a)}else{d.setMap(a);e.setMap(null)}f.setMap(a);g.setMap(a)}}function w(c){F=null;I.initDetailedItem();T.setData(null);W.clear();G(true);F=S.walkRoutes[c];I.setDetailedItem(c);T.setData(F);var d=[];F.points.forEach(function(a){if(a instanceof Tc){var b=[];a.points.forEach(function(a){b.push(a.coords)});d.push(b)}else d.push(a.coords)});F.sectionPoints.length<6&&F.sectionPoints.forEach(function(b,c){var e=new sc(c,a,b,d);e.onCoords.add(M);W.add(e)});P.hide();ka&&C();
F&&F.hasRoadviewInfo?b.setRouteData("walk",F.raw):b.setRouteData("walk",null)}function y(){I.setData(null);T.setData(null);P.hide();W.clear();G(false);b.setRouteData("walk",null);V.forEach(function(a){a.setMap(null)});V.length=0;z.forEach(function(a){a.setMap(null)});z.length=0;D.forEach(function(a){a.setMap(null)});D.length=0;E.forEach(function(a){a.setMap(null)});E.length=0}function M(a){K.notify(a)}function A(){b.setRouteData("walk",null);b.onCheckpoint.remove(function(a){H&&f(a)});H=false;O.hide();
I.setData(null);T.setData(null);P.hide();U.hide();W.clear();G(false);V.forEach(function(a){a.setMap(null)});z.forEach(function(a){a.setMap(null)});D.forEach(function(a){a.setMap(null)});E.forEach(function(a){a.setMap(null)})}function J(){jb("etc/print_car.jsp?type=walk",680,870)}function Q(a){if(a)Application.favoriteController.add(a,"walk_route_results");else if(a=Application.flagSearchController.getWaypoints()){var b=v.createWalkFromWaypoints(a);v.findRouteKey(b,function(a){if(a.text("status.code")===
v.RESULT_CODE.SUCCESS)b.key=a.text("result");Application.favoriteController.add(b,"walk_route_results")}.bind(this))}}function C(){Application.roadviewController.getActive()&&Application.roadviewController.close();F?Application.map.setBounds(F.bounds):Application.map.setBounds(S.bounds)}function G(a){a?Y.getPane().show():Y.getPane().hide();c.updateHeight()}if(!(this instanceof arguments.callee))return new arguments.callee(a);var O=jQuery("#info\\.walkRoute"),F=null,S=null,z=[],V=[],D=[],E=[],H=false,
L=this.onSearchBtnClick=new m,K=this.onAddStop=new m,$=this.onResult=new m,ka=true,I=Vf(O),T=wf(a),N=i.$("moreGroupview"),Y=this.toolbar_=Uf();Y.onClick.add(function(a){switch(a.id){case "print":n.click("route","go_walk_print");J();break;case "favorite":n.click("favorite",["go_walk","route_results"]);Q(a.fav);break;case "alook":n.click("route","go_walk_once_view");C()}});Y.getPane().hide();i.$("info.footer").addChild(Y.getPane());zb.addChild(Y.getPane());var R=setInterval(function(){if(B.Application&&
Application.favoriteController){Application.favoriteController.onChangeItem.add(function(){this.toolbar_.updateFav()}.bind(this));clearInterval(R)}}.bind(this),500);I.onItemHover.add(function(a){q(a.index,a.hover)});I.onItemDetail.add(function(a){if(a.detail){u(false);w(a.index);Application.mainMapController.tool.onClickTool.remove(h);Application.mainMapController.tool.onComplete.remove(g);Application.mainMapController.tool.onClickTool.add(h);Application.mainMapController.tool.onComplete.add(g)}else{F=
null;I.initDetailedItem();T.setData(null);W.clear();u(true);q(a.index,true);Application.mainMapController.tool.onClickTool.remove(h);Application.mainMapController.tool.onComplete.remove(g)}});I.onWalkPoint.add(function(c){b.close();a.getLevel()>3&&a.setLevel(3);k(c.index);c.sub!=null?a.setCenter(F.points[c.index].points[c.sub].coords):a.setCenter(F.points[c.index].coords);I.setItemActive(c,true);T.setItemActive(c,true);r(c)});I.onWalkPointMouseover.add(function(a){T.setHighlight(a,true)});I.onWalkPointMouseout.add(function(a){T.setHighlight(a,
false)});I.onRoadview.add(function(a){k(a,function(a){b.show(a)});n.click("route","go_walk_roadview")});I.onWalkPointDetail.add(function(b){a.setLevel(3);a.setCenter(F.points[b.index].points[0].coords);I.setItemActive({index:b.index,sub:0},true);T.setItemActive({index:b.index,sub:0},true);r({index:b.index,sub:0})});I.onSearchBtnClick.add(function(a){L.notify(a)});I.onDestination.add(function(){a.setCenter(F.points.slice(-1)[0].coords);Application.keywordSearchController.setActive(true);Application.keywordSearchController.findSurround();
n.click("route","go_walk_nearplace");ka=false});T.onClick.add(function(a){N.hide();I.setItemActive(a,true);I.setHighlight(a,true);r(a)});T.onMouseover.add(function(a){I.setHighlight(a,true);if(a.sub!=null){var a=I.getItem(a.index),b=a.getGroupInfo();if(!b.detailActive){b=a.getGroupInfo();if(b.pos.top>97){N.setPosition(b.pos.left+260,b.pos.top-12);N.show()}}}});T.onMouseout.add(function(a){I.setHighlight(a,false);N.hide()});T.onClickWithZoomIn.add(function(b){I.setItemActive({index:b.index,sub:0},
true);T.setItemActive({index:b.index,sub:0},true);r({index:b.index,sub:0});a.setLevel(3);a.setCenter(F.points[b.index].points[0].coords)});this.find=function(){l()};var P=ma.createWalk();P.onSearchBtnClick.add(function(a){L.notify(a)});P.hide().appendTo(O);var U=ma.showError();U.onSearchBtnClick.add(function(a){L.notify(a)});U.hide().appendTo(O);var W=new va(a);this.setActive=function(a){if(a){b.onCheckpoint.add(function(a){H&&f(a)});H=true;O.show();if(F){I.show();a=S.walkRoutes.indexOf(F);w(a)}else o()}else A();
c.updateHeight();return this};this.clearRoute=function(){S=F=null;A()};this.getActive=function(){return H};this.getRoute=function(){return S};this.printRoute=function(){return F||S.walkRoutes[0]};this.print=J;this.adjustMap=function(){C()};c.onHeightChange.add(function(){if(this.getActive()&&I.goToTopBtn){var a=i.$("info.body").getElement();a.scrollHeight>a.clientHeight?I.goToTopBtn.show():I.goToTopBtn.hide()}},this)}));define("controller/WalkthroughController",["view/WalkthroughView"],L(function(a){this.show=
function(b,c,d){d?a.show(b,c):jQuery.cookie("walkthrough")||a.show(b,c)};this.hide=function(){a.hide()};this.willShow=function(){return!jQuery.cookie("walkthrough")}}));define("controller/WaypointSearchBoxController",["view/WaypointBoxView","controller/TransitRouteSearchController"],function(a){function b(){var a=i.$("info.route.searchBox.list");this.listDragController_=new Pb(a);this.boxViewList_=[];this.listDragController_.onChange.add(this.changeWaypointBox_,this);(this.changeBox_=i.$("info.route.searchBox.change")).onClick.add(this.changeOriginDest_,
this);(this.viaBox_=i.$("info.route.searchBox.toggleVia")).onClick.add(this.addViaBox_,this);i.$("info.route.searchBox.clearVia").onClick.add(this.clearViaBox_,this);this.onAdd=new m;this.onRemove=new m;this.onChange=new m;this.onSearch=new m;this.onClear=new m;this.onMethodFocus=new m;this.setViaVisivle_=this.addVia_=true}b.VIASIGN=1;b.prototype.setViaVisible=function(a){var b=this.boxViewList_.length-1;this.boxViewList_.forEach(function(e,f){if(f!=0&&f!=b){e.setClass("via-INACTIVE",!a);e.setDisabled(!a)}},
this);a&&b<6?this.viaBox_.removeClass("HIDDEN"):this.viaBox_.addClass("HIDDEN");this.addVia_=this.setViaVisivle_=a};b.prototype.setFlagSearch=function(b){var b=b.waypoints,d=b.length-1;if(this.boxViewList_.length>0){this.boxViewList_.forEach(function(){this.listDragController_.removeToNumber(0)},this);this.boxViewList_.length=0}this.addVia_=true;this.changeBox_.setVisible(d==1);if(d==6)this.addVia_=false;this.addVia_?this.viaBox_.removeClass("HIDDEN"):this.viaBox_.addClass("HIDDEN");if(d>6)alert("\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4.");
else{this.focusTargetNumber=null;b.forEach(function(b,c){waypointBoxView=new a(c,c==d);waypointBoxView.onRemove.add(this.onRemove_,this);waypointBoxView.onSearch.add(this.onSearch_,this);if(b&&b.name&&b.name!="\uc8fc\uc18c\ub97c \uc81c\uacf5\ud558\uc9c0 \uc54a\ub294 \uc9c0\uc5ed")waypointBoxView.setValue(b.name);else{var h="";if(b){h=c==0?"\ucd9c\ubc1c":c==d?"\ub3c4\ucc29":"\uacbd\uc720"+c;b.name=h}else if(this.focusTargetNumber==null)this.focusTargetNumber=c;waypointBoxView.setValue(h)}this.boxViewList_.push(waypointBoxView);
this.listDragController_.add(waypointBoxView);waypointBoxView.setSuggest();if(b&&b.name){var h=Application.historyController.TYPE_LIST,g=b.pointType,k={id:b.id,name:b.name,coords:b.coords};switch(b.pointType){case "ADDRESS":g=h.ADDRESS;break;case "PLACE":g=h.PLACE;break;case "SUBWAY_STATION":g=h.SUBWAY_STATION;break;case "BUS_STOP":g=h.BUS_STOP}if(g=="NORMAL"&&b.id)g=h.ADDRESS;g&&Application.historyController.addPoi(g,k)}},this);this.focusTargetNumber!=null?this.setFocus(this.focusTargetNumber):this.onMethodFocus.notify()}};
b.prototype.setFocus=function(a){a!=null&&this.boxViewList_[a].focusInput()};b.prototype.changeOriginDest_=function(){if(!Application.isLoadingViewShow){n.click("route","route_trans");this.onChange.notify({from:0,to:1})}};b.prototype.addViaBox_=function(){var a=this.boxViewList_.length;if(this.addVia_&&a<7){this.onAdd.notify();n.click("route","route_via_add")}else this.setViaVisivle_&&alert("\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4.")};
b.prototype.onRemove_=function(a){this.onRemove.notify(this.boxViewList_.indexOf(a))};b.prototype.onSearch_=function(a){var b=this.boxViewList_.indexOf(a.view);b==0?n.click("route","route_start",{param1:a.keyword}):b==this.boxViewList_.length-1?n.click("route","route_end",{param1:a.keyword}):n.click("route","route_via",{param1:a.keyword});this.onSearch.notify({index:b,keyword:a.keyword})};b.prototype.setSearchBox=function(a,b){this.boxViewList_[a].setValue(b);this.boxViewList_[a].focusInput()};b.prototype.changeWaypointBox_=
function(a){n.click("route","route_switch");this.onChange.notify(a)};b.prototype.clearViaBox_=function(){n.click("route","route_delete");Application.mainMapController.tool.clear();Application.flagSearchController.flagSearchResultController.initHistroyView()};return b});define("controller/WeatherMarkerController",["map/Map","model/Weather"],function(a,b){return new function(a){function d(){o();e()}function e(){v=false}function f(){if(jQuery("body").hasClass("ROADVIEW")){d();r()}else{C.getCode();if(v)v=
false;else{o();h()}}}function h(){w&&require("server").weatherList(jQuery.extend(t(),{depth:l()}),j)}function g(a,b){for(var c=J.length;c--;)J[c].setZIndex(5);a.setZIndex(6);b.stopPropagation()}function k(){w=false;daum.maps.event.removeListener(q,"idle",u);daum.maps.event.removeListener(a,"dragstart",d);daum.maps.event.removeListener(a,"zoom_changed",d);delete u;r();n.removeClass("ACTIVE");A.notify()}function l(){var a=q.getLevel();return a<=5?[3]:a<=8?[2]:[1]}function j(a){a=a.find("value");r();
for(var b=a.length;b--;)s(a[b])}function r(){for(var a=J.length-1;a>-1;a--)J[a].setMap(null);J=[]}function p(a){v=true;M.notify(a)}function o(){A.notify()}function s(a){var b=new daum.maps.Coords(a.number("point_wx"),a.number("point_wy")),c=H("WeatherMini"),b=new daum.maps.Billboard({position:b,zIndex:5,content:c.getElement()}),d=c.$("weatherMiniTemperature"),e=c.$("locName"),f=c.$("weatherMiniThumb"),h=parseInt(Number(a.number("temp")).toFixed(0)).toString();d.find(".num").text(h);f.addClass("type"+
a.text("iconno"));e.append(a.text("areaname_dong")||a.text("areaname_city")||a.text("areaname_wide"));c.on("mousedown",daum.maps.event.preventMap);c.on("click",p.bind(this,a));b.setMap(q);c.on("mouseover",g.bind(this,b));J.push(b)}function t(){var a=q.getBounds(),b=a.getSouthWest(),a=a.getNorthEast();return{min_x:b.getX()|0,min_y:b.getY()|0,max_x:a.getX()|0,max_y:a.getY()|0}}var u=null,q=a,w=false,n=i.$("localInfo.map.weather"),M=new m,A=new m,J=[],v=false,C=null;this.onCode=M;this.off=A;this.click=
function(){if(w)k();else{w=true;u=hb(500,f).trigger;daum.maps.event.addListener(q,"idle",u);daum.maps.event.addListener(a,"dragstart",d);daum.maps.event.addListener(a,"zoom_changed",d);h();n.addClass("ACTIVE")}};this.getPanel=function(){return n};this.closeWeatherWindow=o;this.getState=function(){return w};this.getDepths=l;this.setRegionCode=function(){};this.removeWeatherOverlay=r;this.openWeatherWindow=p;this.setLocalInfoCont=function(a){C=a};this.turnOff=k;this.makeImgTemperTxt=b.makeImgTemperTxt;
this.enableRequest=e}(a)});define("controller/WeatherWindowController",["map/Map","map/InfoWindowManager","model/Weather"],L(function(a,b,c){function d(a){var c=i;jQuery.extend(a,{titleLoc:c.text("areaname_dong")||c.text("areaname_city")||c.text("areaname_wide"),titleWeaText:c.text("weatext"),titleTemper:c.number("temp").toFixed(0),titleIconno:c.text("iconno"),announceTime:c.text("announcetime").replace(/^([0-9]){4}\./,"")});a=l=b.createWeather(a,new daum.maps.Coords(i.number("point_wx"),i.number("point_wy")));
a.prevCast.add(h);a.nextCast.add(f);a.onClose.add(e);a.more.add(k);j=a.getPane();p=true}function e(){p=false}function f(){var a=l;a.currentCastPage=Math.min(a.maxCastPage,++a.currentCastPage);g(a.currentCastPage);daum.maps.event.preventMap()}function h(){var a=l;a.currentCastPage=Math.max(0,--a.currentCastPage);g(a.currentCastPage);daum.maps.event.preventMap()}function g(a){var b=j,c=b.find(".bottom li"),d=l,a=a||0;c.hide();jQuery(c[a]).show();if(d.maxCastPage==0)b.find(".paging").hide();else{b.find(".paging .lst").removeClass("lst");
a==0&&b.$("pagePrev").addClass("lst");a==d.maxCastPage&&b.$("pageNext").addClass("lst")}}function k(){var a=i,b=a.text("areaname_wide"),c=a.text("areaname_city"),a=a.text("areaname_dong"),d=[];b&&d.push(b);c&&d.push(c);a&&d.push(a);d.push("\ub0a0\uc528");B.open("http://search.daum.net/search?nil_suggest=btn&nil_ch=&rtupcoll=&w=tot&m=&f=&lpp=&DA=SBCO&sug=&q="+encodeURIComponent(d.join(" ")),"_blank")}var l,j,i,p=false;this.request=function(a){i=a;c.fetch(a.text("hcode"),d)};this.getState=function(){return p};
this.closeWindow=function(){p&&l.onClose.notify()}}));define("controller/WhatsHereController",["controller/AreaSearchController","constants/address"],function(a,b){return new function(a,b){function e(a,b,c){od.fetch(a,b,f.bind(this,c))}function f(b,d,e){e.name&&a.cacheJibun(d.id,e);h[d.name]=d;b(d)}var h={};this.toAddress=function(a){var c=new Ta;c.docid=a.docid;c.coords=a.coords;c.name=a.name;c.id=a.id;c.maybeAreaSearch=a.dataType===b.DATA_TYPE.JIBUN_ADDRESS||a.dataType===b.DATA_TYPE.ROAD_ADDRESS;
c.regionId=a.regionId;c.code=a.code;c.dataType=a.dataType;c.subList=[];c.isWhatsHere=true;c.subList=a.subList||[];c.infowindowSubAddress=a.infowindowSubAddress;c.zonenum=a.zonenum||a.zipcode;c.buildingName=a.buildingName;return c};this.fetch=function(a,b,c){return e(a,b,c)};this.getCache=function(a){return h[a]};this.clearCache=function(){h={}}}(a,b)});oc.prototype.showInfoAndTop=function(){this.collapse_&&this.toggleInfo();i.$("info.body").scrollTo(0,0)};oc.prototype.toggleInfo=function(){var a=
!this.collapse_;this.setCollapse(a);this.onCollapseToggle.notify(a);n.click("mapsearch",["left_info",a?"close":"open"])};oc.prototype.setCollapse=function(a){this.collapse_=a;jQuery("body").toggleClass("collapse",a);this.updateHeight()};oc.prototype.getCollapse=function(){return this.collapse_};oc.prototype.setRoadviewWindow=function(){var a=jQuery(B),b=a.width()-i.$("info").getWidth(),a=a.height();this._viewLayout.setSize(b,a)};oc.prototype.updateHeight=function(){var a=jQuery(B),b=jQuery("body").hasClass("SUBWAY")?
1:0,c=a.width()-i.$("info").getWidth(),a=a.height();this._viewLayout.setSize(c,a);if(!this.collapse_){var c=i.$("header"),d=jQuery("#info").children().filter(":not(#info\\.body)").filter(":not(.HIDDEN)"),e=c.getVisible()?c.getHeight():0;d.each(function(a,b){var c=jQuery(b);e=e+c.outerHeight(true)});b=a-e+b;i.$("info.body").setSize(void 0,b);var a=jQuery("#info\\.flagsearch\\.method"),c=jQuery("#info\\.route\\.home"),d=jQuery("#info\\.route\\.intro"),f=jQuery("#info\\.route\\.searchBox"),b=b-(a.is(":visible")?
a.outerHeight():0)-(c.is(":visible")?c.outerHeight():0)-(d.is(":visible")?d.outerHeight():0)-(f.is(":visible")?f.outerHeight():0);b>0&&jQuery("#info\\.flagsearch").css("min-height",b+"px")}this.onHeightChange.notify()};oc.prototype.buildAdButtons_=function(){for(var a=new Gb,b=1;document.getElementById("info.adButton"+b);){var c=i.$("info.ad"+b);a.add(i.$("info.adButton"+b),c);++b}b>2&&i.$("info.adButtons").show();--b>0&&a.setIndex(Math.floor(Math.random()*b));var d=this.onClickAdBanner;jQuery("#info\\.ads > a").each(function(a,
b){jQuery(b).on("click",function(){d.notify(jQuery(this).attr("tag"));n.click("left","banner")})})};define("controller/WindowController",["manager/ViewLayout"],L(oc));zc.prototype.timer_=0;zc.prototype.start=function(){if(!this.timer_)this.timer_=setInterval(this.action_,this.timeout_)};zc.prototype.stop=function(){clearInterval(this.timer_);this.timer_=0};zc.get=function(a,b,c){a=new zc(a);a.onAction.add(b,c);return a};m.prototype.loadHandler_=Function();m.prototype.notify=function(a){this.observer_.forEach(function(b){b(a)})};
m.prototype.clear=function(){var a=this.observer_;a[0]&&this.loadHandler_(false);a.length=0};m.prototype.add=function(a,b){console.assert(typeof a=="function","The event handler is not a function.");var c=this.observer_;c[0]||this.loadHandler_(true);if(b){var d=a,a=d.bind(b);a.__func__=d;a.__scope__=b}c.push(a)};m.prototype.set=function(a,b){this.clear();this.add(a,b)};m.prototype.remove=function(a,b){for(var c=this.observer_,d=0,e;e=c[d];++d)if(e===a||e.__func__===a&&e.__scope__===b){c.splice(d,
1);c[0]||this.loadHandler_(false);break}};"use strict";define("core/PaneFactory",[],{create:H});String.stripTags=function(a){return a.replace(/<[^>]*>/g,"")};String.cut=function(a,b){return a.length>b?a.substring(0,b-1)+"..":a};String.formatNumber=function(a){return a.toFixed(0).replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")};String._ENTITIES={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};String._entitize=function(a){return String._ENTITIES[a]};String.format=function(a){var b=Eb(arguments,1),c=0;return a.replace(/%([sh])/g,
function(a,e){var f=b[c++];return e=="s"?""+f:(""+f).replace(/[&"<>]/g,String._entitize)})};String.formatDistance=function(a){return a<1E3?a+"m":a<1E5?(((a|0)+49)/1E3).toFixed(1)+"km":String.formatNumber(Math.ceil(a/1E3))+"km"};String.base92=function(a){for(var a=a.replace(/ /g,'"'),b=0,c=0,d=a.length;c<d;++c)var e=a.charCodeAt(c),b=e===33?-b:b*92+e-34;return b};String.urlEncode=function(a){return Object.keys(a).map(function(b){return a[b]===null||a[b]===void 0?"":encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")};
String.parseUrlEncoded=function(a){var b={};a.split("&").forEach(function(a){a=a.split("=");a[0]&&(b[decodeURIComponent(a[0])]=decodeURIComponent(a[1]))});return b};yc.prototype.start=function(){if(!this.id_)this.id_=(this.repeat_?B.setInterval:B.setTimeout)(this.func_,this.interval_)};yc.prototype.stop=function(){if(this.id_){(this.repeat_?B.clearInterval:B.clearTimeout)(this.id_);this.id_=void 0}};yc.prototype.isAlive=function(){return!!this.id_};Ga.prototype.get_=function(a){return a.split(".").reduce(function(a,
c){return a&&a[c]||void 0},this.obj_)};Ga.prototype.has=function(a){return this.get_(a)!==void 0};Ga.prototype.find=function(a){a=this.get_(a);return Eb(a).map(function(a){return new Ga(a)})};Ga.prototype.text=function(a){return""+(this.get_(a)||"")};Ga.prototype.number=function(a){return Number(this.get_(a))||0};Ga.prototype.object=function(a){return(a=this.get_(a))?new Ga(a):null};Ga.prototype.bool=function(a){return this.text(a)=="true"?true:false};Ga.prototype.array=function(a){return this.find(a)};
Ga.prototype.raw=function(){return this.obj_};Ac.prototype.buildPathXML=function(a){return a.replace(/\./g,">")};Ac.prototype.has=function(a){return!!this.data.find(this.buildPathXML(a)).length};Ac.prototype.find=function(a){for(var b=[],a=this.data.find(this.buildPathXML(a)),c=0,d=a.length;c<d;++c)b[c]=new Ac(a[c]);return b};Ac.prototype.text=function(a){a=this.data.find(this.buildPathXML(a));return a.length>0?jQuery(a[0]).text():""};Ac.prototype.number=function(a){return Number(this.text(a))};fa.$=
function(a){var b=i.CACHE[a];if(b)return b;b=document.getElementById(a);console.assert(b,"UIForefront.$: No such element #"+a);return i.CACHE[a]=new fa(b)};fa.basket=[];fa.prototype.dimmed_=!1;fa.prototype.setup_=function(){if(!this.visible_){this.visible_=true;this.dimmed_&&i.$("dimmedLayer").show();jQuery(this.element_.ownerDocument).on("mousedown",this.blueHandler_).on("touchstart",this.blueHandler_);fa.basket.push(this)}};fa.prototype.breakup_=function(){if(this.visible_){this.visible_=false;
jQuery(this.element_.ownerDocument).off("mousedown",this.blueHandler_).off("touchstart",this.blueHandler_);this.dimmed_&&i.$("dimmedLayer").hide();this.dimmed_=false;var a=fa.basket.indexOf(this);fa.basket.splice(a,1)}};fa.prototype.blur_=function(a){if(!this.contain(a.target)&&this.isBlur(a.target)){this.hide();this.onClose.notify()}};fa.prototype.isBlur=function(a){var b=true;this.noUIPanel_.forEach(function(c){c&&c.contain(a)&&(b=false)});this.noPane_.forEach(function(c){if(c&&(c.is(a)||c.has(a).length))b=
false});return b};fa.prototype.noClosePane=function(a){this.noPane_.push(a)};fa.prototype.noCloseUIPanel=function(a){this.noUIPanel_.push(a)};fa.prototype.setClickPanel=function(a){this.clickPanel_=a};fa.prototype.showDimmed=function(){this.dimmed_=true;this.show()};fa.prototype.openBelow=function(a){var b=(a._pane||a).offset(),a=(a._pane||a).outerHeight();this.setPosition(b.left,b.top+a);this.show()};fa.closeAll=function(){if(fa.basket.length!=0){fa.basket.forEach(function(a){a.hide()});fa.basket.length=
0}};i.$=function(a){var b=i.CACHE[a];if(b)return b;b=document.getElementById(a);console.assert(!!b,"UIPanel.$: No such element #"+a);return i.CACHE[a]=new i(b)};i.CACHE={};i.prototype.getElement=function(){return this.element_};i.prototype.show=function(){this.removeClass("HIDDEN");this.onShow.notify({currentPanel:this});return this};i.prototype.hide=function(){this.addClass("HIDDEN");this.onHide.notify({currentPanel:this});return this};i.prototype.getVisible=function(){return this._pane.is(":visible")};
i.prototype.setVisible=function(a){return a?this.show():this.hide()};i.prototype.getWidth=function(){return this._pane.outerWidth()};i.prototype.getHeight=function(){return this._pane.outerHeight()};i.prototype.getSize=function(){return{width:this.getWidth(),height:this.getHeight()}};i.prototype.setSize=function(a,b){(a!==null||a!==void 0)&&this._pane.width(a);(b!==null||b!==void 0)&&this._pane.height(b);return this};i.prototype.setPosition=function(a,b){var c={};if(a!==null)c.left=a;if(b!==null)c.top=
b;this._pane.css(c);return this};i.prototype.getPosition=function(){var a=this._pane.offset();return{x:a.left,y:a.top}};i.prototype.addChild=function(a){this._pane.append(a._pane||a);return this};i.prototype.appendTo=function(a){(a._pane||a).append(this._pane);return this};i.prototype.removeChild=function(a){(a._pane||a).detach();return this};i.prototype.removeAllChildren=function(){this._pane.html("");return this};i.prototype.attach=function(){this._pane.appendTo("body");return this};i.prototype.detach=
function(){this._pane.detach();return this};i.prototype.addText=function(a){this._pane.append(this._pane[0].ownerDocument.createTextNode(a));return this};i.prototype.setText=function(a){this._pane.text(a);return this};i.prototype.getText=function(){return this._pane.text()};i.prototype.setHTML=function(a){this._pane.html(a);return this};i.prototype.hasClass=function(a){return this._pane.hasClass(a)};i.prototype.addClass=function(a){this._pane.addClass(a);return this};i.prototype.removeClass=function(a){this._pane.removeClass(a);
return this};i.prototype.setClass=function(a,b){this._pane.toggleClass(a,!!b);return this};i.prototype.removeAllClass=function(){this._pane.attr("class","")};i.prototype.getValue=function(){return this.placeholderActive_?"":this._pane.val()};i.prototype.setValue=function(a){if(this.placeholderActive_){if(a!=""){this.readyInput_();this._pane.val(a)}}else this._pane.val(a);return this};i.prototype.contain=function(a){return this._pane.is(a)||this._pane.has(a).length};i.prototype.setExternalLink=function(a){this._pane.attr({href:a||
"#",target:a?"_blank":""});return this};i.prototype.setSrc=function(a){this._pane.attr("src",a);return this};i.prototype.setSrcPng=i.prototype.setSrc;i.prototype.setReadonly=function(a){this._pane[0].readOnly=a;return this};i.prototype.handleSubmit__=function(a){a.preventDefault();this.onSubmit.notify(a)};i.prototype.handleChange__=function(a){this.onChange.notify(a)};i.prototype.getRect=function(){return this._pane[0].getBoundingClientRect()};i.prototype.placeholder_="";i.prototype.placeholderActive_=
!1;i.prototype.setPlaceholder=function(a){if("placeholder"in this.element_)this.element_.placeholder=a;else if(a=="")this.placeholder_="";else{if(!this.placeholder_){this.onFocus.add(this.readyInput_,this);this.onBlur.add(this.presentHolder_,this)}this.placeholder_=""+a;try{this.element_.blur()}catch(b){}this.presentHolder_()}return this};i.prototype.readyInput_=function(){if(this.placeholderActive_){this.placeholderActive_=false;this.element_.value="";this.removeClass("PLACEHOLDER")}};i.prototype.presentHolder_=
function(){if(!this.placeholderActive_&&this.element_.value==""&&this.placeholder_){this.placeholderActive_=true;this.element_.value=this.placeholder_;this.addClass("PLACEHOLDER")}};i.prototype.scrollTo=function(a,b){this._pane.scrollTop(a|0).scrollLeft(b|0);return this};i.prototype.focusAndSelect=function(){this._pane.focusAndSelect();return this};i.prototype.handleFocus__=function(){this.onFocus.notify()};i.prototype.handleBlur__=function(){this.onBlur.notify()};i.prototype.setChecked=function(a){this.element_.checked=
a;return this};i.prototype.getChecked=function(){return this.element_.checked};i.prototype.setTitle=function(a){this.element_.title=a;return this};i.prototype.getTitle=function(){return this.element_.title};i.prototype.handleEnter__=function(a){this.onEnter.notify(a)};i.prototype.handleLeave__=function(a){this.onLeave.notify(a)};i.prototype.bringToTop=function(){this._pane.bringin();return this};i.prototype.setSelectable=function(a){this._pane.attr("unselectable",a?"off":"on").css({webkitUserSelect:a?
"auto":"none",webkitUserDrag:a?"auto":"none",MozUserSelect:a?"all":"none"})};i.prototype.createEventLinker_=function(a,b){b=b.bind(this);return function(c){this[c?"on":"off"](a,b)}.bind(this._pane)};i.prototype.handleClick__=function(a){this.setActive(true);a.currentPanel=this;this.onClick.notify(a)};i.prototype.getActive=function(){return/\bACTIVE\b/g.test(this.element_.className)};i.prototype.setActive=function(a){var b=this.element_,c=b.className;this.className_?this.setClass(this.className_+"-ACTIVE",
a):b.className=a?c.replace(/\bINACTIVE\b/g,"ACTIVE"):c.replace(/\bACTIVE\b/g,"INACTIVE")};i.prototype.toPane=function(){return this._pane};"use strict";define("dom/forefront",["jquery"],function(a){function b(){d&&d();f.detach();c.remove();d=c=null}var c=null,d=null,e=true,f=a("<div class=DimmedLayer/>");a(document).on("mousedown touchstart",function(a){c&&(!c.is(a.target)&&c.has(a.target).length==0)&&(e||a.target!==f[0])&&b()});return{create:function(h,g){var g=g||{},k=a(document.body);g.dimmed&&
f.appendTo("body");if(g.beforeClose)d=g.beforeClose;g.closer&&h.find(g.closer).click(b);if(g.position)k=g.position;if(g.isClosedIfClickDimmed!==void 0)e=g.isClosedIfClickDimmed;return c=h.addClass("Forefront").appendTo(k)},close:function(){b()}}});define("facade/SearchTabFacade","controller/SearchTabController controller/BusLineController manager/AoiManager controller/FlagSearchController controller/KeywordSearchController controller/AreaSearchController controller/FavoriteController".split(" "),
function(a,b,c,d,e,f,h){function g(a){if(k!=a){c.onSearchTabChange(a);f.onSearchTabChange(a);k=a}}var k=0;e.onActive.add(function(){this.getActive()&&g(0)},e);d.onActive.add(function(){this.getActive()&&g(1)},d);a.onChange.add(function(a){a>1&&g(a)});b.onViewPort.add(function(){g(2)},b);h.onActive.add(function(){this.getActive()&&g(3)},h)});"use strict";define("factory/ButtonFactory",[],L(function(){this.createFavorite=function(a,b){function c(b){var c=!!b;a.toggleClass("ACTIVE",c);if(c){c=b.count<
10?b.count:"10";a.find(".num").attr("class","num num"+c).text(b.count)}}var d=Application.favoriteController;d.onChangeItem.add(function(){c(d.findFavorite(b))});c(d.findFavorite(b));a.click(function(a){a.preventDefault();a.stopPropagation();var a=jQuery(a.currentTarget),c="";a.closest(".InfoWindow").length>0?c="tooltip":a.closest("#info\\.search").length>0&&(c="search_result");d.add(b,c)})};new daum.maps.RoadviewClient;this.createRoadview=function(a,b,c,d){if(b){var e=Application.roadviewController;
a.addClass("ICON-roadview");a.click(function(){d&&typeof d.index=="number"?e.setViewpointWithMarker(d,0):d?e.setViewpointWithMarker(d,0):e.show(b)})}else a.hide()};this.createStoreview=function(a,b,c){var d=Application.roadviewController;a.toggle(!!b).toggleClass("ICON-storeview",!c).click(function(){d.showStoreView(b)})};this.createClose=function(a,b){a.addClass("ICON-close");a.click(b)};this.createDestination=function(a,b){var c=Application.flagSearchController;a.click(function(){c.setActive(true);
c.setWaypointWithoutRoute(N.DEST_WHICH_,b)})}}));"use strict";define("factory/InfoWindowToolbarFactory",["controller/FiyFrameController","view/MapShareToolBoxView"],L(function(a,b){this.create=function(c,d,e){return new ff(Application.flagSearchController,a,b,c,d,e)}}));"use strict";define("factory/MapOverlayFactory",["map/Map"],L(function(a){this.create=function(b,c,d,e){return new De(a,b,c,d,e)}}));"use strict";"use strict";"use strict";"use strict";xe.prototype.getPanel=function(){console.assert(this.panel_.getElement);
var a=this.onClose=new m;jQuery("<a href=# class=closer />").click(function(){a.notify();Application.infoWindowManager.close()}).appendTo(this.panel_);return this.panel_};xe.prototype.openExclusively=function(a){Application.infoWindowManager.createFromElement(this.getPanel().getElement(),a.getPosition(),a.getMarker())};"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";jQuery.fn.blurout=function(a){function b(){if(c){clearTimeout(c);c=0;return true}return false}
var a=a.bind(this),c=0;this.focusout(function(){b();c=setTimeout(function(){b();a()},300)});this.focusin(function(){b()})};jQuery.fn.focusAndSelect=function(){try{this.focus().select()}catch(a){}return this};jQuery.extend(jQuery.fn,{_appendTo:jQuery.fn.appendTo,appendTo:function(a){return this._appendTo(a&&a._pane||a)},set:function(a){var b=this[0];/^checkbox|^radio/.test(b.type)?b.checked=!!a:b.type?this.val(a):this.text(a);return this},show:function(){return this.removeClass("HIDDEN")},hide:function(){return this.addClass("HIDDEN")},
bringin:function(){var a=this[0];if(a&&a.scrollIntoView){var b=this.offset(),c=this.height();(b.top<c||b.top>jQuery(B).height())&&a.scrollIntoView(true)}return this},$:function(a){if(!this.__$){var b=this.__$={};this.find("[data-id]").each(function(){b[this.getAttribute("data-id")]=jQuery(this)})}return this.__$[a]||jQuery()},getElement:function(){return this[0]}});(function(a){a(jQuery)})(function(a){function b(){if(c){B.requestAnimationFrame(b);a.fx.tick()}}if(Number(a.fn.jquery.split(".")[0])>=
3)B.console&&B.console.warn&&B.console.warn("The jquery.requestanimationframe plugin is not needed in jQuery 3.0 or newer as they handle it natively.");else{var c;if(B.requestAnimationFrame){a.fx.timer=function(d){if(d()&&a.timers.push(d)&&!c){c=true;b()}};a.fx.stop=function(){c=false}}}});jQuery.fn.selectbox=function(a,b){var c=new fa("ol",a||"");c.noClosePane(this);c.hide();b.map(function(a,b){var f=jQuery("<a href=# />").text(a).click(function(){c.hide();this.trigger({type:"selectbox",index:b})}.bind(this));
return jQuery("<li/>").append(f)},this).forEach(c.addChild,c);c.attach();this.click(function(){c.getVisible()?c.hide():c.openBelow(jQuery(this))});this.html(b[0]||"");return this};jQuery.fn.uidraggable=function(a){a=a||{};this.mousedown(function(b){function c(b){var c=b.screenX-d,h=b.screenY-e;if(!(c==0&&h==0)){if(f&&(Math.abs(c)>4||Math.abs(h)>4))f=false;if(!f){b.preventDefault();(a.drag||Boolean)({dx:c,dy:h,clientX:b.clientX,clientY:b.clientY});d=b.screenX;e=b.screenY}}}b.preventDefault();var d=
b.screenX,e=b.screenY,f=true;this.startCapture&&this.startCapture();jQuery(this.ownerDocument).mousemove(c).one("mouseup",function(){jQuery(this).off("mousemove",c);this.releaseCapture&&this.releaseCapture();(a[f?"dragcancel":"dragend"]||Boolean)()});var h=jQuery(this).offset();(a.dragstart||Boolean)({x:b.pageX-h.left,y:b.pageY-h.top})});this.click(function(a){a.preventDefault()})};jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,
b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b=b/e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b=b/e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b=b/(e/2))<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b=b/e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b=b/(e/2))<1?d/2*b*b*b+c:d/2*((b=b-2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b=b/e)*b*b*b+c},easeOutQuart:function(a,b,c,
d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b=b/(e/2))<1?d/2*b*b*b*b+c:-d/2*((b=b-2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b=b/e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b=b/(e/2))<1?d/2*b*b*b*b*b+c:d/2*((b=b-2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,
b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return b==0?c:b==e?c+d:(b=b/(e/2))<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b=b/e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b=
b/(e/2))<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b=b-2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var a=1.70158,f=0,h=d;if(b==0)return c;if((b=b/e)==1)return c+d;f||(f=e*0.3);if(h<Math.abs(d)){h=d;a=f/4}else a=f/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b=b-1))*Math.sin((b*e-a)*2*Math.PI/f))+c},easeOutElastic:function(a,b,c,d,e){var a=1.70158,f=0,h=d;if(b==0)return c;if((b=b/e)==1)return c+d;f||(f=e*0.3);if(h<Math.abs(d)){h=d;a=f/4}else a=f/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,
-10*b)*Math.sin((b*e-a)*2*Math.PI/f)+d+c},easeInOutElastic:function(a,b,c,d,e){var a=1.70158,f=0,h=d;if(b==0)return c;if((b=b/(e/2))==2)return c+d;f||(f=e*0.3*1.5);if(h<Math.abs(d)){h=d;a=f/4}else a=f/(2*Math.PI)*Math.asin(d/h);return b<1?-0.5*h*Math.pow(2,10*(b=b-1))*Math.sin((b*e-a)*2*Math.PI/f)+c:h*Math.pow(2,-10*(b=b-1))*Math.sin((b*e-a)*2*Math.PI/f)*0.5+d+c},easeInBack:function(a,b,c,d,e,f){f==void 0&&(f=1.70158);return d*(b=b/e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){f==void 0&&
(f=1.70158);return d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){f==void 0&&(f=1.70158);return(b=b/(e/2))<1?d/2*b*b*(((f=f*1.525)+1)*b-f)+c:d/2*((b=b-2)*b*(((f=f*1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b=b/e)<1/2.75?d*7.5625*b*b+c:b<2/2.75?d*(7.5625*(b=b-1.5/2.75)*b+0.75)+c:b<2.5/2.75?d*(7.5625*(b=b-2.25/2.75)*b+0.9375)+c:d*(7.5625*(b=b-2.625/2.75)*b+0.984375)+c},easeInOutBounce:function(a,
b,c,d,e){return b<e/2?jQuery.easing.easeInBounce(a,b*2,0,d,e)*0.5+c:jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*0.5+d*0.5+c}});var re="undefined"!==typeof module&&module.exports||{};(function(a){function b(a){return(""+a).replace(/&(?!\w+;)|[<>"']/g,function(a){return n[a]||a})}function c(a,b,c,d){for(var d=d||"<template>",e=b.split("\n"),f=Math.max(c-3,0),g=Math.min(e.length,c+3),e=e.slice(f,g),h=0,j=e.length;h<j;++h){g=h+f+1;e[h]=(g===c?" >> ":"    ")+e[h]}a.template=b;a.line=c;a.file=d;a.message=
[d+":"+c,e.join("\n"),"",a.message].join("\n");return a}function d(a,b,c){if("."===a)return b[b.length-1];for(var a=a.split("."),d=a.length-1,e=a[d],f,g,h=b.length,j,k;h;){k=b.slice(0);g=b[--h];for(j=0;j<d;){g=g[a[j++]];if(null==g)break;k.push(g)}if(g&&"object"===typeof g&&e in g){f=g[e];break}}"function"===typeof f&&(f=f.call(k[k.length-1]));return null==f?c:f}function e(a,b,c,e){var f="",a=d(a,b);if(e){if(null==a||false===a||o(a)&&0===a.length)f=f+c()}else if(o(a))m(a,function(a){b.push(a);f=f+
c();b.pop()});else if("object"===typeof a){b.push(a);f=f+c();b.pop()}else if("function"===typeof a)var g=b[b.length-1],f=f+(a.call(g,c(),function(a){return k(a,g)})||"");else a&&(f=f+c());return f}function f(b,d){for(var d=d||{},e=d.tags||a.tags,f=e[0],g=e[e.length-1],h=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'],j=[],k=false,l=false,i=function(){if(k&&!l&&!d.space)for(;j.length;)h.splice(j.pop(),1);else j=[];l=k=false},o=[],q,r,p,m=function(a){e=u(a).split(/\s+/);r=e[0];p=e[e.length-
1]},w=function(a){h.push('";',q,'\nvar partial = partials["'+u(a)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "')},s=function(a,e){var f=u(a);if(""===f)throw c(Error("Section name may not be empty"),b,x,d.file);o.push({name:f,inverted:e});h.push('";',q,'\nvar name = "'+f+'";',"\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";','\nbuffer += "')},n=function(a){s(a,true)},y=function(a){var a=u(a),e=0!=
o.length&&o[o.length-1].name;if(!e||a!=e)throw c(Error('Section named "'+a+'" was never opened'),b,x,d.file);a=o.pop();h.push('";',"\n    return buffer;","\n  };","\n})();");a.inverted?h.push("\nbuffer += renderSection(name,stack,callback,true);"):h.push("\nbuffer += renderSection(name,stack,callback);");h.push('\nbuffer += "')},M=function(a){h.push('";',q,'\nbuffer += lookup("'+u(a)+'",stack,"");','\nbuffer += "')},v=function(a){h.push('";',q,'\nbuffer += escapeHTML(lookup("'+u(a)+'",stack,""));',
'\nbuffer += "')},x=1,z,B,D=0,E=b.length;D<E;++D)if(b.slice(D,D+f.length)===f){D=D+f.length;z=b.substr(D,1);q="\nline = "+x+";";r=f;p=g;k=true;switch(z){case "!":D++;B=null;break;case "=":D++;g="="+g;B=m;break;case ">":D++;B=w;break;case "#":D++;B=s;break;case "^":D++;B=n;break;case "/":D++;B=y;break;case "{":g="}"+g;case "&":D++;l=true;B=M;break;default:l=true;B=v}z=b.indexOf(g,D);if(-1===z)throw c(Error('Tag "'+f+'" was not closed properly'),b,x,d.file);f=b.substring(D,z);B&&B(f);for(B=0;~(B=f.indexOf("\n",
B));){x++;B++}D=z+g.length-1;f=r;g=p}else switch(z=b.substr(D,1),z){case '"':case "\\":l=true;h.push("\\"+z);break;case "\r":break;case "\n":j.push(h.length);h.push("\\n");i();x++;break;default:t.test(z)?j.push(h.length):l=true;h.push(z)}if(0!=o.length)throw c(Error('Section "'+o[o.length-1].name+'" was not closed properly'),b,x,d.file);i();h.push('";',"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }");g=h.join("").replace(/buffer \+= "";\n/g,"");d.debug&&("undefined"!=typeof console&&
console.log?console.log(g):"function"===typeof print&&print(g));return g}function h(a,g){var h=f(a,g),j=new Function("view,partials,stack,lookup,escapeHTML,renderSection,render",h);return function(f,h){var h=h||{},l=[f];try{return j(f,h,l,d,b,e,k)}catch(i){throw c(i.error,a,i.line,g.file);}}}function g(a,b){b=b||{};return false!==b.cache?(M[a]||(M[a]=h(a,b)),M[a]):h(a,b)}function k(a,b,c){return g(a)(b,c)}a.name="mustache.js";a.version="0.5.0-dev";a.tags=["{{","}}"];a.parse=f;a.compile=g;a.render=
k;a.clearCache=function(){M={}};a.to_html=function(a,b,c,d){a=k(a,b,c);if("function"===typeof d)d(a);else return a};var l=Object.prototype.toString,j=Array.isArray,i=Array.prototype.forEach,p=String.prototype.trim,o;o=j?j:function(a){return"[object Array]"===l.call(a)};var m;m=i?function(a,b,c){return i.call(a,b,c)}:function(a,b,c){for(var d=0,e=a.length;d<e;++d)b.call(c,a[d],d,a)};var t=/^\s*$/,u;if(p)u=function(a){return null==a?"":p.call(a)};else{var q,w;t.test("\u00a0")?(q=/^\s+/,w=/\s+$/):(q=
/^[\s\xA0]+/,w=/[\s\xA0]+$/);u=function(a){return a==null?"":(""+a).replace(q,"").replace(w,"")}}var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},M={}})(re);(function(){if(!B.rudolphUtil||!B.rudolphUtil.extend){var a=B.rudolphUtil={};a.extend=function(a,c,d){var d=d!==void 0?d:true,e;for(e in c)if(!a[e]||d)a[e]=c[e];return a}}a.extend(a,{version:"1.0_r168",Array:{compactRudolphUtil:function(a){if(!a)return[];var c=[],d;for(d=0;d<a.length;d=d+1)a[d]===null||typeof a[d]==="undefined"||
c.push(a[d]);return c},eachRudolphUtil:function(a,c){if(Array.prototype.foreachRudolphUtil)return a.foreachRudolphUtil(c);for(var d=0,e=a.length;d<e;d=d+1)c(a[d],d)}},Browser:{ua:navigator.userAgent.toLowerCase(),offset:{width:0,height:0},init:function(){this.ie=this.ua.indexOf("msie")!=-1;this.ie_sv1=this.ua.indexOf("sv1")!=-1;this.ie_sv2=this.ua.indexOf("sv2")!=-1;this.ie6=this.ua.indexOf("msie 6")!=-1;this.ie7=this.ua.indexOf("msie 7")!=-1;this.ie8=this.ua.indexOf("trident/4.0")!=-1;this.ff2=(this.ff=
this.ua.indexOf("firefox")!=-1&&this.ua.indexOf("navigator")==-1)&&this.ua.indexOf("firefox/2.")!=-1;this.ff3=this.ff&&this.ua.indexOf("firefox/3.")!=-1;this.sf=this.ua.indexOf("safari")!=-1&&this.ua.indexOf("chrome")==-1;this.webkit=this.ua.indexOf("applewebkit")!=-1;this.op=this.ua.indexOf("opera")!=-1;this.cr=this.ua.indexOf("chrome/")!=-1;this.ns=this.ua.indexOf("netscape")!=-1||this.ua.indexOf("firefox")!=-1&&this.ua.indexOf("navigator")!=-1;this.gecko=this.ua.indexOf("gecko")!=-1;this.infopath=
this.ua.indexOf("infopath")!=-1;this.etc=this.gecko&&this.ff&&this.ns;this.win=this.ua.indexOf("win")!=-1;this.vista=this.ua.indexOf("nt 6")!=-1;this.xp=this.ua.indexOf("nt 5.1")!=-1;this.w2k=this.ua.indexOf("nt 5.0")!=-1;this.w98=this.ua.indexOf("windows 98")!=-1;this.mac=this.ua.indexOf("mac")!=-1;this.unix=!(this.win||this.mac);this.ipad=this.ua.indexOf("ipad;")!=-1;this.versioning()},versioning:function(){if(this.ie){if(this.ie8)this.ie7=this.ie6=this.ie_sv2=this.ie_sv1=false;if(this.ie7)this.ie6=
this.ie_sv2=this.ie_sv1=false}if(this.ff&&this.ff3)this.ff2=false;if(this.sf&&this.cr)this.sf=false},getOsVersion:function(){var a=0;try{this.iphone||this.ipad||this.ipod?a=this.ua.match(/os ([\w|\.|-|_]+) like/g)[0].replace(/^os /,"").replace(/ like$/,""):this.android&&(a=this.ua.match(/android ([\w|\.|-]+);/g)[0].replace(/^android /,"").replace(/;$/,""))}catch(c){}return a}},Element:{getElementsByClassName:function(b,c){if(document.getElementsByClassName.toString().indexOf("code")>0)return a.$A(b.getElementsByClassName(c));
var d=b==document||b==document.body||b==B;if(d||b.id)return a.$$((d?"":"#"+b.id+" ")+"."+a.String.trimRudolphUtil(c).replace(/\s+/g,"."));var d=a.$(b).getElementsByTagName("*"),e=[],f;for(f=0;f<d.length;f=f+1)a.Element.hasClassName(d[f],c)&&e.push(d[f]);return e.length>0?e:[]},getNext:function(b){for(b=a.$(b).nextSibling;b&&b.nodeType!==1;)b=b.nextSibling;return b},getPrev:function(b){for(b=a.$(b).previousSibling;b&&b.nodeType!==1;)b=b.previousSibling;return b},getParent:function(b){return a.$(b).parentNode},
hasClassName:function(b,c){var d=a.String.trimRudolphUtil(a.$(b).className),e=a.String.trimRudolphUtil(c),f=0,h;if(e.indexOf(" ")>0){e=e.replace(/\s+/g," ").split(" ");h=d.split(" ");e.eachRudolphUtil(function(a){f=f+(h.indexOf(a)>-1?1:0)});d=e.length===f}else d=d.length>0&&(d==e||RegExp("(^|\\s)"+e+"(\\s|$)").test(d));return d},visible:function(b){b=a.$(b);return!(b.offsetWidth===0&&b.offsetHeight===0)},show:function(b,c){var d=a.$(b);d.style.display=c||"block";return d},hide:function(b){b=a.$(b);
b.style.display="none";return b},addClassName:function(b,c){var d=a.$(b);if(a.Element.hasClassName(d,c))return d;d.className=a.String.trimRudolphUtil(d.className)===""?c:d.className+" "+c;return d},removeClassName:function(b,c){return a.Element.replaceClassName(b,c,"")},replaceClassName:function(b,c,d){var b=a.$(b),e=b.className.split(" "),f;for(f=0;f<e.length;f=f+1)e[f]==c&&(e[f]=d);b.className=a.String.replaceAllRudolphUtil(a.String.trimRudolphUtil(e.join(" ")),/\s+/," ");return b}},Event:{observer:[],
EVENTID:0,crossEvent:function(){var b={};if(document.addEventListener){b.add=function(b){var d=b.type;d.toLowerCase()=="mousewheel"&&a.Browser.ff&&(d="DOMMouseScroll");b.src.addEventListener(d,b.handler,b.isCapture)};b.remove=function(b){var d=b.type;d.toLowerCase()=="mousewheel"&&a.Browser.ff&&(d="DOMMouseScroll");b.src.removeEventListener(d,b.handler,b.isCapture)}}else{b.add=function(a){var b=a.type;b.toLowerCase()=="dommousescroll"&&(b="mousewheel");a.src.attachEvent("on"+b,a.handler)};b.remove=
function(a){var b=a.type;b.toLowerCase()=="dommousescroll"&&(b="mousewheel");a.src.detachEvent("on"+b,a.handler)}}return b}(),bindedHandlerRegister:[],getBindedHandler:function(b,c){var d=a.Event.bindedHandlerRegister,e=-1,f;f=0;for(loop=d.length;f<loop;f=f+1)if(d[f].src===b&&d[f].handler===c){e=f;break}if(e>=0)return d[e].bindedHandler;e=a.Function.bindAsEventListener(c,b);d.push({src:b,handler:c,bindedHandler:e});return e},addEvent:function(b,c,d,e){var f=a.$(b),b=a.Event.EVENTID++,c={src:f,type:c,
handler:d,isCapture:e||false};a.Event.observer[b]=c;a.Event.crossEvent.add(c);return b},removeEvent:function(b,c,d,e){var f=a.Event.observer;if(b&&!c&&!d){a.Event.crossEvent.remove(f[b]);delete a.Event.observer[b]}else{b=a.$(b);a.Event.crossEvent.remove({src:b,type:c,handler:d,isCapture:e||false});for(var h in f)if(f[h].src===b&&f[h].type===c&&f[h].handler===d&&f[h].isCapture===(e||false)){delete a.Event.observer[h];break}}},stopObserving:function(b){a.Event.observer[b]&&a.Event.removeEvent(b)},hasObserver:function(b,
c){if(typeof b==="number")return!!a.Event.observer[b];var d=false,e=a.Event.observer,f;for(f in e)if(e[f].src===b&&e[f].type===c){d=true;break}return d},stopEvent:function(b){a.Event.stopPropagation(b);a.Event.preventDefault(b);return false},preventDefault:function(a){a=a||B.event;a.preventDefault?a.preventDefault():a.returnValue=false;return false},stopPropagation:function(a){a=a||B.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=true},GC:function(){return a.Browser.ie?function(){for(var b in a.Event.observer){var c=
a.Event.observer[b].src;if(c&&c.ownerDocument)try{!c.offsetParent&&a.Event.stopObserving(b)}catch(d){a.Event.stopObserving(b)}}}:function(){for(var b in a.Event.observer){var c=a.Event.observer[b].src,d=false;if(c&&c.ownerDocument&&!c.offsetParent){do if(c===document.body){d=true;break}while(c=c.parentNode);!d&&a.Event.stopObserving(b)}}}}},Function:{bind:function(b){var c=b,d=a.$A(arguments),e,f;d.shift();e=d.shift();f=function(){return c.apply(e,d.concat(a.$A(arguments)))};f.__Binded=true;return f},
bindAsEventListener:function(b){var c=b,d=a.$A(arguments),e,f;d.shift();e=d.shift();f=function(a){return c.apply(e,[a||B.event].concat(d))};f.__Binded=true;return f},interval:function(b,c,d){b=d?a.Function.bind(b,d):b;return B.setInterval(b,c)}},Fx:{},Number:{},Object:{},String:{byteLengthRudolphUtil:function(b){var c=0;a.$A(b.toString()).eachRudolphUtil(function(a){c=c+(escape(a).length>3?2:1)});return c},trimRudolphUtil:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replaceAllRudolphUtil:function(){return function(a,
c,d){return c.constructor==RegExp?a.replace(RegExp(c.toString().replace(/^\/|\/$/gi,""),"gi"),d):a.split(c).join(d)}}()},$:function(a){return typeof a=="string"?document.getElementById(a):a},$A:function(a){if(!a)return[];if(a instanceof Array)return a;var c=[],d;for(d=0;d<a.length;d=d+1)c.push(a[d]);return c},$C:function(b,c){var d=a.$(b);return d!==null?a.Element.getElementsByClassName(d,c):null},$E:function(b){if(b=a.$(b)){a.extendMethods(b,a.Element,false);b.addEvent=a.methodize(a.Event.addEvent);
b.removeEvent=a.methodize(a.Event.removeEvent)}return b},documentLoaded:false,extendMethods:function(b,c,d){var d=d!==void 0?d:true,e;for(e in c)if(!b[e]||d)typeof c[e]=="function"&&(b[e]=a.methodize(c[e]));return b},methodize:function(b){return function(){return b.apply(null,[this].concat(a.$A(arguments)))}},nativeExtend:function(){var b=[[a.String,String.prototype],[a.Array,Array.prototype]],c;for(c=0;c<b.length;c=c+1)a.extendMethods(b[c][1],b[c][0],false)},urlParameter:function(){for(var a={},
c=[],d=location.search.substr(1).split("&"),e=0,f=d.length;e<f;e=e+1){c=d[e].split("=");a[c[0]]=c[1]}return a}(),getParam:function(a){return this.urlParameter[a]||null}})})();(function(){rudolphUtil.Browser.init();if(!document.getElementsByClassName)document.getElementsByClassName=rudolphUtil.methodize(rudolphUtil.Element.getElementsByClassName);if(String.prototype.trim)rudolphUtil.String.trimRudolphUtil=function(a){return a.trim()};return true})();rudolphUtil.extend(rudolphUtil,{createElement:function(a,
b){var c;c="";var d=rudolphUtil.HTMLStack,e,f;if(b){for(Ub in b)c=c+(Ub+'="'+b[Ub]+'" ');c="<"+a+" "+c+"></"+a+">"}else c=rudolphUtil.String.startsWith(a,"<")?a:"<"+a+"></"+a+">";try{d.innerHTML=c;e=d.removeChild(d.firstChild);if(e.nodeType!==1)throw{message:"shit browser!"};return e}catch(h){e=c.match(/\w+/).toString().toLowerCase();f={tbody:["<table>","</table>"],tr:["<table><tbody>","</tbody></table>"],td:["<table><tbody><tr>","</tr></tbody></table>"],option:["<select>","</select>"]};if(f[e]){d.innerHTML=
f[e][0]+c+f[e][1];d=d.removeChild(d.firstChild);return d.getElementsByTagName(e)[0]}return document.createElement(c)}},useHTMLPrototype:function(){rudolphUtil.HTMLFragment=document.createDocumentFragment?document.createDocumentFragment():document.createElement("div");rudolphUtil.HTMLPrototype=document.createElement("div");rudolphUtil.HTMLStack=document.createElement("div");rudolphUtil.HTMLPrototype.id="rudolphUtil_html_prototype";rudolphUtil.HTMLStack.id="rudolphUtil_html_stack";rudolphUtil.HTMLFragment.appendChild(rudolphUtil.HTMLPrototype);
rudolphUtil.HTMLFragment.appendChild(rudolphUtil.HTMLStack);rudolphUtil.HTMLPrototype.style.position=rudolphUtil.HTMLStack.style.position="absolute";rudolphUtil.HTMLPrototype.style.left=rudolphUtil.HTMLStack.style.left=rudolphUtil.HTMLPrototype.style.top=rudolphUtil.HTMLStack.style.top="-10000px";return true}()});rudolphUtil.extend(rudolphUtil.Array,{size:function(a){return rudolphUtil.Array.compactRudolphUtil(a).length}});rudolphUtil.extend(rudolphUtil.Browser,{setCookie:function(a,b,c){var d=new Date,
e="";if(c){d.setDate(d.getDate()+c);e="expires="+d.toGMTString()+";"}document.cookie=a+"="+escape(b)+"; path=/;"+e},getCookie:function(a){var a=a+"=",b=document.cookie+";",c=b.indexOf(a),d;if(c!=-1){d=b.indexOf(";",c);return unescape(b.substring(c+a.length,d))}}});rudolphUtil.extend(rudolphUtil.Function,{inherit:function(a,b,c){var d=function(){},e;d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.prototype.parent=(b.prototype.parent||[]).concat(b);a._parent=b;e=a.prototype.parent.length;
a.prototype.$super=function(){this.constructor.prototype.parent[--e].apply(this,arguments);e=e==0?this.constructor.prototype.parent.length:e};c&&rudolphUtil.Function.members(a,c);return a},members:function(a,b){var c,d=a._parent||a;for(c in b)a.prototype[c]=typeof b[c]=="function"?d.prototype[c]?function(a,b){return b.toString().indexOf("this.$super(")>-1?function(){this.$prev_super=this.$super;this.$super=function(){this.$super=this.$prev_super;return d.prototype[a].apply(this,arguments)};return b.apply(this,
arguments)}:function(){return b.apply(this,arguments)}}(c,b[c]):function(b,c){if(c.toString().indexOf("this.$super(")>-1)throw Error(b+" function is not defined in "+a);return function(){return c.apply(this,arguments)}}(c,b[c]):b[c];return a}});rudolphUtil.extend(rudolphUtil.Fx,{});rudolphUtil.extend(rudolphUtil.Element,{});rudolphUtil.extend(rudolphUtil.Event,{getElement:function(a){a=a||B.event;return a.srcElement||a.target}});rudolphUtil.extend(rudolphUtil.Number,{});rudolphUtil.extend(rudolphUtil.String,
{startWith:function(a,b){return rudolphUtil.String.startsWith(a,b)},startsWith:function(a,b){return a.indexOf(b)===0}});rudolphUtil.Template=function(a){this.template=a};rudolphUtil.Template.prototype={evaluate:function(a){return this.template.replace(/#\{([A-Z_][\dA-Z_]*(?:\.[A-Z_][\dA-Z_]*)*)?\}/ig,function(b,c){for(var d=c?c.split("."):"",e=a||"";d.length;){e=e[d.shift()];if(e===void 0||e===null)return""}return e})},toElement:function(a){return rudolphUtil.createElement(this.evaluate(a))}};(function(){function a(a,
b,c,d,e,f){for(var e=a=="previousSibling"&&!f,g=0,h=d.length;g<h;g++){var j=d[g];if(j){if(e&&j.nodeType===1){j.sizcache=c;j.sizset=g}for(var j=j[a],k=false;j;){if(j.sizcache===c){k=d[j.sizset];break}if(j.nodeType===1&&!f){j.sizcache=c;j.sizset=g}if(j.nodeName===b){k=j;break}j=j[a]}d[g]=k}}}function b(a,b,c,d,e,f){for(var e=a=="previousSibling"&&!f,g=0,j=d.length;g<j;g++){var k=d[g];if(k){if(e&&k.nodeType===1){k.sizcache=c;k.sizset=g}for(var k=k[a],l=false;k;){if(k.sizcache===c){l=d[k.sizset];break}if(k.nodeType===
1){if(!f){k.sizcache=c;k.sizset=g}if(typeof b!=="string"){if(k===b){l=true;break}}else if(h.filter(b,[k]).length>0){l=k;break}}k=k[a]}d[g]=l}}}var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,d=0,e=Object.prototype.toString,f=false,h=function(a,b,d,f){var d=d||[],l=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return d;var i=[],r,p,n,v,O=true,F=m(b);for(c.lastIndex=0;(r=c.exec(a))!==null;){i.push(r[1]);
if(r[2]){v=RegExp.rightContext;break}}if(i.length>1&&k.exec(a))if(i.length===2&&g.relative[i[0]])p=t(i[0]+i[1],b);else for(p=g.relative[i[0]]?[b]:h(i.shift(),b);i.length;){a=i.shift();g.relative[a]&&(a=a+i.shift());p=t(a,p)}else{if(!f&&i.length>1&&b.nodeType===9&&!F&&g.match.ID.test(i[0])&&!g.match.ID.test(i[i.length-1])){r=h.find(i.shift(),b,F);b=r.expr?h.filter(r.expr,r.set)[0]:r.set[0]}if(b){r=f?{expr:i.pop(),set:j(f)}:h.find(i.pop(),i.length===1&&(i[0]==="~"||i[0]==="+")&&b.parentNode?b.parentNode:
b,F);p=r.expr?h.filter(r.expr,r.set):r.set;for(i.length>0?n=j(p):O=false;i.length;){var x=i.pop();r=x;g.relative[x]?r=i.pop():x="";r==null&&(r=b);g.relative[x](n,r,F)}}else n=[]}n||(n=p);if(!n)throw"Syntax error, unrecognized expression: "+(x||a);if(e.call(n)==="[object Array]")if(O)if(b&&b.nodeType===1)for(a=0;n[a]!=null;a++)n[a]&&(n[a]===true||n[a].nodeType===1&&o(b,n[a]))&&d.push(p[a]);else for(a=0;n[a]!=null;a++)n[a]&&n[a].nodeType===1&&d.push(p[a]);else d.push.apply(d,n);else j(n,d);if(v){h(v,
l,d,f);h.uniqueSort(d)}return d};h.uniqueSort=function(a){if(p){f=false;a.sort(p);if(f)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};h.matches=function(a,b){return h(a,null,null,b)};h.find=function(a,b,c){var d,e;if(!a)return[];for(var f=0,h=g.order.length;f<h;f++){var j=g.order[f];if(e=g.match[j].exec(a)){var k=RegExp.leftContext;if(k.substr(k.length-1)!=="\\"){e[1]=(e[1]||"").replace(/\\/g,"");d=g.find[j](e,b,c);if(d!=null){a=a.replace(g.match[j],"");break}}}}d||(d=b.getElementsByTagName("*"));
return{set:d,expr:a}};h.filter=function(a,b,c,d){for(var e=a,f=[],h=b,j,k,l=b&&b[0]&&m(b[0]);a&&b.length;){for(var i in g.filter)if((j=g.match[i].exec(a))!=null){var o=g.filter[i],r,p;k=false;h==f&&(f=[]);if(g.preFilter[i])if(j=g.preFilter[i](j,h,c,f,d,l)){if(j===true)continue}else k=r=true;if(j)for(var n=0;(p=h[n])!=null;n++)if(p){r=o(p,j,n,h);var t=d^!!r;if(c&&r!=null)t?k=true:h[n]=false;else if(t){f.push(p);k=true}}if(r!==void 0){c||(h=f);a=a.replace(g.match[i],"");if(!k)return[];break}}if(a==
e){if(k==null)throw"Syntax error, unrecognized expression: "+a;break}e=a}return h};var g=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,
PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b,c){var d=typeof b==="string",e=d&&!/\W/.test(b),d=d&&!e;e&&!c&&(b=b.toUpperCase());for(var c=0,e=a.length,f;c<e;c++)if(f=a[c]){for(;(f=f.previousSibling)&&f.nodeType!==1;);a[c]=d||f&&f.nodeName===b?f||false:f===b}d&&h.filter(b,a,true)},">":function(a,b,c){var d=typeof b==="string";
if(d&&!/\W/.test(b))for(var b=c?b:b.toUpperCase(),c=0,e=a.length;c<e;c++){var f=a[c];if(f){d=f.parentNode;a[c]=d.nodeName===b?d:false}}else{c=0;for(e=a.length;c<e;c++)(f=a[c])&&(a[c]=d?f.parentNode:f.parentNode===b);d&&h.filter(b,a,true)}},"":function(c,e,f){var g=d++,h=b;if(!/\W/.test(e))var j=e=f?e:e.toUpperCase(),h=a;h("parentNode",e,g,c,j,f)},"~":function(c,e,f){var g=d++,h=b;if(typeof e==="string"&&!/\W/.test(e))var j=e=f?e:e.toUpperCase(),h=a;h("previousSibling",e,g,c,j,f)}},find:{ID:function(a,
b,c){if(typeof b.getElementById!=="undefined"&&!c)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(/\\/g,"")+" ";if(f)return a;for(var f=0,g;(g=b[f])!=null;f++)g&&(e^(g.className&&(" "+g.className+
" ").indexOf(a)>=0)?c||d.push(g):c&&(b[f]=false));return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a,b){for(var c=0;b[c]===false;c++);return b[c]&&m(b[c])?a[1]:a[1].toUpperCase()},CHILD:function(a){if(a[1]=="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]=="even"&&"2n"||a[2]=="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=d++;return a},ATTR:function(a,b,c,d,e,f){b=a[1].replace(/\\/g,"");!f&&g.attrMap[b]&&(a[1]=g.attrMap[b]);a[2]===
"~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,d,e,f){if(a[1]==="not")if(c.exec(a[3]).length>1||/^\w/.test(a[3]))a[3]=h(a[3],null,null,b);else{a=h.filter(a[3],b,d,1^f);d||e.push.apply(e,a);return false}else if(g.match.POS.test(a[0])||g.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===true},selected:function(a){a.parentNode.selectedIndex;
return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!h(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},
reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toUpperCase()==="BUTTON"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0==b},eq:function(a,b,c){return c[3]-0==
b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=g.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||"").indexOf(b[3])>=0;if(e==="not"){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return false;return true}},CHILD:function(a,b){var c=b[1],d=a;switch(c){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===1)return false;if(c=="first")return true;d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return false;return true;case "nth":var c=b[2],
e=b[3];if(c==1&&e==0)return true;var f=b[0],g=a.parentNode;if(g&&(g.sizcache!==f||!a.nodeIndex)){for(var h=0,d=g.firstChild;d;d=d.nextSibling)if(d.nodeType===1)d.nodeIndex=++h;g.sizcache=f}d=a.nodeIndex-e;return c==0?d==0:d%c==0&&d/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],c=g.attrHandle[c]?
g.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),d=c+"",e=b[2],f=b[4];return c==null?e==="!=":e==="="?d===f:e==="*="?d.indexOf(f)>=0:e==="~="?(" "+d+" ").indexOf(f)>=0:!f?d&&c!==false:e==="!="?d!=f:e==="^="?d.indexOf(f)===0:e==="$="?d.substr(d.length-f.length)===f:e==="|="?d===f||d.substr(0,f.length+1)===f+"-":false},POS:function(a,b,c,d){var e=g.setFilters[b[2]];if(e)return e(a,c,b,d)}}},k=g.match.POS,l;for(l in g.match)g.match[l]=RegExp(g.match[l].source+/(?![^\[]*\])(?![^\(]*\))/.source);var j=
function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(i){j=function(a,b){var c=b||[];if(e.call(a)==="[object Array]")Array.prototype.push.apply(c,a);else if(typeof a.length==="number")for(var d=0,f=a.length;d<f;d++)c.push(a[d]);else for(d=0;a[d];d++)c.push(a[d]);return c}}var p;document.documentElement.compareDocumentPosition?p=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){a==
b&&(f=true);return 0}var c=a.compareDocumentPosition(b)&4?-1:a===b?0:1;c===0&&(f=true);return c}:"sourceIndex"in document.documentElement?p=function(a,b){if(!a.sourceIndex||!b.sourceIndex){a==b&&(f=true);return 0}var c=a.sourceIndex-b.sourceIndex;c===0&&(f=true);return c}:document.createRange&&(p=function(a,b){if(!a.ownerDocument||!b.ownerDocument){a==b&&(f=true);return 0}var c=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();c.selectNode(a);c.collapse(true);d.selectNode(b);d.collapse(true);
c=c.compareBoundaryPoints(Range.START_TO_END,d);c===0&&(f=true);return c});(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var c=document.documentElement;c.insertBefore(a,c.firstChild);if(document.getElementById(b)){g.find.ID=function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(b=b.getElementById(a[1]))?b.id===a[1]||typeof b.getAttributeNode!=="undefined"&&b.getAttributeNode("id").nodeValue===a[1]?[b]:void 0:[]};g.filter.ID=
function(a,b){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}}c.removeChild(a);c=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)g.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){for(var d=[],e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!==
"undefined"&&a.firstChild.getAttribute("href")!=="#")g.attrHandle.href=function(a){return a.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=h,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){h=function(b,c,d,e){c=c||document;if(!e&&c.nodeType===9&&!m(c))try{return j(c.querySelectorAll(b),d)}catch(f){}return a(b,c,d,e)};for(var c in a)h[c]=a[c];b=null}}();document.getElementsByClassName&&
document.documentElement.getElementsByClassName&&function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){g.order.splice(1,0,"CLASS");g.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!=="undefined"&&!c)return b.getElementsByClassName(a[1])};a=null}}}();var o=document.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)&
16}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)},m=function(a){return a.nodeType===9&&a.documentElement.nodeName!=="HTML"||!!a.ownerDocument&&a.ownerDocument.documentElement.nodeName!=="HTML"},t=function(a,b){for(var c=[],d="",e,f=b.nodeType?[b]:b;e=g.match.PSEUDO.exec(a);){d=d+e[0];a=a.replace(g.match.PSEUDO,"")}a=g.relative[a]?a+"*":a;e=0;for(var j=f.length;e<j;e++)h(a,f[e],c);return h.filter(d,c)};B.rudolphSizzle=h})();(function(){if(B.rudolphSizzle)rudolphUtil.$$=B.rudolphSizzle;
rudolphUtil.extend(rudolphUtil,rudolphUtil.Event);rudolphUtil.extend(rudolphUtil,rudolphUtil.Browser);rudolphUtil.extend(rudolphUtil,rudolphUtil.Element);if(rudolphUtil.Event.GC!=void 0)B.JiguEventGC=rudolphUtil.Function.interval(rudolphUtil.Event.GC,6E4,rudolphUtil.Event);rudolphUtil.Event.addEvent(B,"load",function(){rudolphUtil.documentLoaded=true});rudolphUtil.nativeExtend();if(B.console)if(B.console.log){if(!B.console.debug)B.console.debug=function(){for(var a=0,b=arguments.length;a<b;a++)B.console.log(arguments[a])}}else B.console.debug=
B.console.log=function(){};else B.console={debug:function(){},log:function(){}};return true})();rudolph={version:"@VERSION",message:{},define:{},model:{},module:{},view:{},template:{},sparrow:{}};B.$ssf&&(B._$ssf=B.$ssf);B._development=!0;B.$ssf=rudolph.sparrow=function(){function a(a,b){if(!b.getContainer)b.getContainer=function(){return b.container||b.el};b.release&&b.getContainer()&&rudolphUtil.addEvent(b.getContainer(),"mousedown",function(){a.currentView=b})}var b=[],c={_loadingfn:"",run:function(a,
b,c,d,e){for(var f=0;f<a.length;f++){var h=a[f];this._loadingfn=h.desc;h(b,c,d,e)}this._loadingfn=""},install:function(a,c){try{c.desc=a;b.push(c)}catch(d){}},installX:function(){},installModule:function(a,c,d,e){this.run(b,a,c,d,e)}};c.win=B;c.doc=B.document;c.tmp=c.doc.createElement("div");c.html=c.doc.documentElement;c.services={};var d=[],e=[],f=c.EventDispatcher=function(){};f.addBeforeCallback=function(a){d.push(a)};f.addAfterCallback=function(a){e.push(a)};c.EventDispatcher.prototype={addListener:function(a){for(var b in a)this.addAdaptor(b,
a[b])},addAdaptor:function(a,b){if(!this.listeners)this.listeners={};b._module=$ssf._loadingfn;this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)},dispatchEvent:function(a,b){if(this.listeners){var c=true,b=b||{target:this},f=this.listeners[a];if(f){for(var h=true,i=0,o=d.length;i<o;i++)h=d[i](a,this,b);if(!h)return;i=0;for(o=f.length;i<o;i++){h=f[i];try{h.call(this,b)===false&&(c=false)}catch(m){["listener_error_",m.fileName,"/",m.lineNumber,"/",rudolphUtil.getCookie("D_sid"),"/",
m.message.replace(/ /g,"_"),"/",m.stack].join("");if(B._development==true)throw m;}}i=0;for(o=e.length;i<o;i++)e[i](a,this,b)}return c}},init:function(){this.dispatchEvent("onPreinitialized",{target:this});this.initialize&&this.initialize();this.dispatchEvent("onInitialized",{target:this})}};var h=[];c.Runner=function(){this.$super();var b=this,d=this.models=new _registry({added:function(){}}),e=this.views=new _registry({added:function(){}});this.commands=new _registry;this.config=B.daumProperties||
{};var f=e.add;e.add=function(c,d){d.getApplicationContext=function(){return b};a(b,d);f.call(e,c,d)};this.getViewStack=function(){return h};B._development&&c.trimpath();c.installModule(this,e,d,this.config);for(var d=0,i=e.length;d<i;d++)e.get(e[d]).init();this.dispatchEvent("onContextLoad",{});rudolphUtil.addEvent($ssf.win,"unload",function(){b.dispatchEvent("onContextUnload",{})});c.win.onerror=function(a,c,d){b.dispatchEvent("errorCatched",{message:a,exception:{message:a,fileName:c,lineNumber:d,
stack:""}});return true}};rudolphUtil.Function.inherit(c.Runner,f);return c}();try{rudolph.sparrow.doc.execCommand("BackgroundImageCache",!1,!0)}catch(Zf){}rudolphUtil.extend(rudolph.message,{ERROR_NO_PROXY_FRAME:"Proxy Frame \uc774 \uc0dd\uc131\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",ERROR_NO_REQUEST_URL:"Request URL\uc774 \uc120\uc5b8\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",
ERROR_NO_INPUTBOX:"\uac80\uc0c9\uc5b4 \uc785\ub825\ub780\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",ERROR_NO_PARENT_CONTAINER:"\uac80\uc0c9\uc5b4 \uc785\ub825\ub780 \uc0c1\uc704 \ucee8\ud14c\uc774\ub108\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."});rudolphUtil.extend(rudolph.define,{Keyboard:{BACKSPACE:8,
TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPSLOOK:20,NAK:21,ESC:27,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,SELECT:41,V:86,SQUARE:91,BASH:92,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,MAC_COMMAND:224},useTabKey:!1});rudolphUtil.extend(rudolph.template,{RequestString:"?q=KEYWORD&mod=json&code=CHARSET",RecentRequestString:"http://personal.search.daum.net/my_keyword_history/get.js?function=INSTANCE_NAME.dataModelRecent.forceLoadCompleteRecent",
RecentDeleteString:"http://personal.search.daum.net/my_keyword_history/remove_all.js?function=INSTANCE_NAME.dataModelRecent.forceLoadCompleteDeleteRecent",Base:new rudolphUtil.Template('<ul>#{list_high}</ul><div class="line" style="display:#{line}"></div><ul>#{list_low}</ul>'),Image:new rudolphUtil.Template('<img src="#{url}">'),IsNonImage:new rudolphUtil.Template('<div class="empty"></div>'),Item:new rudolphUtil.Template('<li class="idx_#{idx}"><a class="item bg" href="javascript:;" onclick="return false;">#{item}</a></li>'),
Footer:new rudolphUtil.Template('<div class="fl">#{moreWord}</div><div class="fr"><a href="javascript:;" onclick="return false;" class="isSuggest">\uc11c\uc81c\uc2a4\ud2b8\ub780?</a><span class="bar" style="display:#{offUsable}">|</span><a href="javascript:;" onclick="return false;" class="offSuggest" style="display:#{offUsable}">\uae30\ub2a5\ub044\uae30</a><span class="offGuide">\uae30\ub2a5\uc744 \ub2e4\uc2dc \ucf24 \ub54c\ub294 v \uc744 \ud074\ub9ad\ud558\uc138\uc694</span></div>'),RecentFooter:new rudolphUtil.Template('<div class="fl">#{recentButton}</div>'),
RecentViewFooter:new rudolphUtil.Template('<a href="javascript:;" onclick="return false;" class="deleteRecent">\ucd5c\uadfc\uac80\uc0c9\uc5b4 \uae30\ub85d\uc0ad\uc81c</a><span class="bar" style="display:#{offUsable}"> | </span><a href="javascript:;" onclick="return false;" class="toggleRecent off">\uc228\uae30\uae30</a>'),RecentHideFooter:new rudolphUtil.Template('<a href="javascript:;" class="toggleRecent on">\ucd5c\uadfc\uac80\uc0c9\uc5b4 \ubcf4\uae30</a>'),TailMore:new rudolphUtil.Template('<a href="javascript:;" class="tailMore">\ub05d\ub2e8\uc5b4 \ub354\ubcf4\uae30</a>'),
HeadMore:new rudolphUtil.Template('<a href="javascript:;" class="headMore">\uc55e\ub2e8\uc5b4 \ub354\ubcf4\uae30</a>'),UsingSuggest:new rudolphUtil.Template("\uc11c\uc81c\uc2a4\ud2b8 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),UseSuggest:new rudolphUtil.Template("\uc11c\uc81c\uc2a4\ud2b8 \uae30\ub2a5\uc774 \ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),UsingExternalGuide:new rudolphUtil.Template('<div class="external_guide"></div>'),IntroduceSuggestURL:"http://blog.daum.net/daumsearch/16151013"});
rudolphUtil.extend(rudolph.define,{FocusPointType:{LOAD:"load",WRITE:"write",DEFAULT:"user"},KeywordCompareType:{HEAD:"head",TAIL:"tail",FULL:"full"},ListPositionType:{TRANS:"tail",DEFAULT:"head"},ActivationCookieName:"suggest",ActivationType:{ON:"on",OFF:"off"},RecentCookieName:"suggest_recent",RecentCookieType:{ON:"on",OFF:"off"},KeywordMaxLength:20,KeywordMaxByte:40,ListMaxSize:13,RecentListMaxSize:15,EncodeType:{UTF_IN_OUT:"utf_in_out",UTF_IN:"utf_in"},DynamicScript:{SUGGEST:"dynamic_script_suggest",
RECENT:"dynamic_script_recent"},FrameOrientation:{90:"wide_frame","-90":"wide_frame","0":"default_frame",180:"default_frame"},Separator:{RAWDATA_ITEM:"|",AREACODE_ITEM:","},YellowClip:{ON:"expand",OFF:"off"},Service:{TOP:!1}});(function(a){var b=a.model.DataModel=function(a){this.suggestDomain=a.suggestDomain;this.requestUrl=a.requestUrl;this.requestString=a.requestString;this.encode=a.encode||"";this.reverse=a.reverse;this.defaultKeyword=a.keyword;a.proxyUrl&&this.createFrame(a.suggestDomain+a.proxyUrl);
this.callbackName=a.callbackName;this.loadVisible="visible";this.initialize(a)};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(){},setEncode:function(a){this.encode=a},setCallbackName:function(a){this.callbackName=a},setRequestUrl:function(a){this.requestUrl=a},setRequestString:function(a){this.requestString=a},getRequestFullUrl:function(){return this.suggestDomain+this.requestUrl+(this.requestString?this.requestString:a.template.RequestString).replace("CHARSET",this.encode)},
get:function(b,d,e){this.isYellowDown=e;this.loadVisible=d||"visible";d=a.model.Raw.getByKeyword(b,this.suggestDomain+this.requestUrl+this.requestString)||null;b&&!d?this.callSuggestData(b):d?this.dispatchEvent("onReloadCache",{data:d}):this.dispatchEvent("onEmptyKeyword")},callSuggestData:function(b){if(rudolphUtil.String.byteLengthRudolphUtil(b)>a.define.KeywordMaxByte){this.dispatchEvent("onOverKeyword");return false}var d=b;if(this.encode==a.define.EncodeType.UTF_IN_OUT||this.encode==a.define.EncodeType.UTF_IN)d=
encodeURIComponent(b);if(this.callbackName){b=[this.getRequestFullUrl().replace("KEYWORD",d),"&callback=",this.callbackName].join("");a.module.ScriptCall.load(b,a.define.DynamicScript.SUGGEST)}else this.proxyCall(d,b)},proxyCall:function(a,b){var e=this;this.getProxyData(a,this.getRequestFullUrl(),function(a){a=(new Function("","return "+a+";"))();e.forceLoadComplete(a)})&&this.dispatchEvent("onSendData",{keyword:b,url:this.getRequestFullUrl()})},forceLoadComplete:function(a){this.dispatchEvent("onLoadComplete",
{data:a,route:this.suggestDomain+this.requestUrl+this.requestString,visible:this.loadVisible,isYellowDown:this.isYellowDown})},getProxyData:function(a,b,e){if(this.proxyFrame)try{this.proxyFrame.contentWindow.getData(a,b,e);return true}catch(f){}else return false},createFrame:function(a){var b=this;rudolph.DOMReady(function(){var e=document.createElement("iframe");e.name="proxyIframe";e.src=a;e.style.display="none";e.title="Suggest Proxy Frame";b.proxyFrame=e;document.body.appendChild(b.proxyFrame)})},
setReverse:function(a){this.reverse=a}})})(rudolph);(function(a){var b=a.model.DataModelRecent=function(b){this.useCrossDomainStorage=b.useCrossDomainStorage;this.recentKeywordData=b.recentKeywordData;this.proxyUrlOrCallbackName=b.proxyUrlOrCallbackName;this.boxView=b.boxView;this.footerView=b.footerView;this.listView=b.listView;this.listModel=b.listModel;this.dataModel=b.dataModel;this.callUrl=a.template.RecentRequestString.replace("INSTANCE_NAME",this.proxyUrlOrCallbackName.split(".")[0]);this.callDeleteUrl=
a.template.RecentDeleteString.replace("INSTANCE_NAME",this.proxyUrlOrCallbackName.split(".")[0]);this.areadyCall=false};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{showList:function(){a.module.ActivationFlag.set("on");var b=this.getData();if(b&&b.all&&b.all.length>0)this.boxView.dispatchEvent("onShowList",{data:b,more:false,isRecent:true});else if(this.isYellowDown)a.define.Service.TOP&&this.key==a.define.Keyboard.BACKSPACE||this.boxView.dispatchEvent("onShowGuide",{type:"UsingSuggest"});
else{this.boxView.renderBase("list");this.boxView.dispatchEvent("onShowList",{data:null,more:false,isRecent:true})}},deleteData:function(){a.module.ScriptCall.load(this.callDeleteUrl+"&"+this.getDummyParam(),a.define.DynamicScript.RECENT);this.listModel.set(null);this.boxView.hidden();this.setData([],[])},getDummyParam:function(){return"t="+(new Date).getTime()},request:function(b,d){this.isYellowDown=b;this.key=d;return a.define.Service.TOP?this.topRequest(b):this.commonRequest(b)},topRequest:function(b){if(a.define.Service.TOP)this.boxView.enableRecentKeyword=
b;b?this.getData()?this.showList():a.module.ScriptCall.load(this.callUrl+"&"+this.getDummyParam(),a.define.DynamicScript.RECENT):this.boxView.hidden()},commonRequest:function(){(rudolphUtil.getCookie(a.define.RecentCookieName)||a.define.RecentCookieType.ON)==a.define.RecentCookieType.ON&&!this.getData()?a.module.ScriptCall.load(this.callUrl+"&"+this.getDummyParam(),a.define.DynamicScript.RECENT):this.showList()},getQuery:function(){return!a.define.RecentKeyword?"":encodeURIComponent(a.define.RecentKeyword)},
forceLoadCompleteDeleteRecent:function(){},forceLoadCompleteRecent:function(b){if(b.myKeywordHistories&&b.myKeywordHistories.length>0){for(var d=[],e=[],f=0,h;h=b.myKeywordHistories[f];f++){if(f>=a.define.RecentListMaxSize)break;h=h.kword;if(e.indexOf(h)<0){e.push(h);d.push({string:this.escapeStr(h),index:f,item:Array(h),isRecent:true})}}this.setData(d,e)}else this.setData([]);this.showList()},setData:function(a,b){this.items=b;this.recentKeywordData={isRecent:true,keyword:"",head:a,tail:[],all:a.concat([])}},
getData:function(){this.listModel.set({rq:"",items:this.items});return this.recentKeywordData},escapeStr:function(a){return a}})})(rudolph);(function(a){var b=a.model.ListModel=function(a){this.limit=a.limit;this.data={};this.type=a.type;this.customGetStringFunc=a.customGetStringFunc;this.subwayAreacode=a.subwayAreacode;this.reverse=a.reverse};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{set:function(a){this.reset();if(a){this.data.keyword=a.rq;if(this.subwayAreacode)this.data.keyword=this.data.keyword.replace(this.subwayAreacode,
"");this.setList(a.items,"head");this.setList(a.r_items,"tail");a=this.rebuildLimit(this.data.head.length,this.data.tail.length);this.pushAllData("head",a.head);this.pushAllData("tail",a.tail)}},rebuildLimit:function(a){a=Math.min(a,this.limit[0]);return{head:a,tail:this.limit[0]+this.limit[1]-a}},get:function(){if(this.reverse)this.data.all=this.data.all.reverse();return this.data},getString:function(a){return this.customGetStringFunc?this.customGetStringFunc(a):a[0]},setList:function(b,d){if(b){_setData=
this.data[d];for(var e=0,f=b.length;e<f;e++){var h=b[e].split(a.define.Separator.RAWDATA_ITEM),h={string:this.stringConvert(this.getString(h)),image:h[1],index:e,item:h};_setData.push(h)}}},reset:function(){this.data={keyword:"",head:[],tail:[],all:[]}},getSelectedItem:function(a){return a==null||a<0||a>=this.data.all.length?false:this.data.all[a]},pushAllData:function(a,b){var e=a=="tail"?this.data.tail:this.data.head;if(e)for(var f=Math.min(b,e.length),h=0;h<f;h++)this.data.all.push(e[h])},getChangeSort:function(a){this.data.all=
[];if(!!this.data.head==false&&!!this.data.tail==false)return this.data;if(a=="tail"){a=this.rebuildLimit(this.data.tail.length,this.data.head.length);this.pushAllData("tail",a.head);this.pushAllData("head",a.tail)}else{a=this.rebuildLimit(this.data.head.length,this.data.tail.length);this.pushAllData("head",a.head);this.pushAllData("tail",a.tail)}return this.data},stringConvert:function(b){this.subwayAreacode&&(b=b.split(a.define.Separator.AREACODE_ITEM)[0]);return b.replace(/\&amp;/g,"&").replace(/\&lt;/g,
"<").replace(/\&gt;/g,">").replace(/\&quot;/g,'"')}})})(rudolph);(function(){rudolph.model.Raw=function(){var a={},b=0;return{set:function(c,d){if(b>100){b=0;a={}}a[d]||(a[d]={});a[d][c.rq]={rq:c.rq||"",items:c.items||[],r_items:c.r_items||[]};b++;return a[d][c.rq]},get:function(){return a},getByKeyword:function(b,d){return!!a[d]==false?false:a[d][b]?a[d][b]:false},empty:function(){a={}}}}()})();(function(){rudolphUtil.extend(rudolph.module,{AvailableKeyCode:function(a){for(var b=rudolph.define.Keyboard,
b=[b.CTRL,b.ALT,b.LEFT,b.RIGHT],c=b.length-1;c>=0;--c)if(b[c]==a)return false;return true}})})();(function(){rudolphUtil.extend(rudolph.module,{KeywordHighlight:function(c,d,e){if(e=="head")d=a(c,d);else if(e=="tail")d=b(c,d);else var e=c.replace(/ /g,""),f=d.replace(/ /g,""),d=e.toLowerCase().indexOf(f.toLowerCase())==0?a(c,d,e,f):b(c,d,e,f);d==""&&(d=c);return d}});var a=function(a,b,e,f){var h="";if(!e||!f){e=a.replace(/ /g,"");f=b.replace(/ /g,"")}e=e.toLowerCase().indexOf(f.toLowerCase());if(e>
-1){for(var g=0,k=0;k<e;g++){b=a.substring(g,g+1);b!=" "&&k++;h=h+b}h=h+'<strong class="emph_keyword">';e=g;for(g=0;g<f.length;e++){b=a.substring(e,e+1);b!=" "&&g++;h=h+b}h=h+("</strong>"+a.substr(e))}return h},b=function(a,b,e,f){var h="";if(!e||!f){e=a.replace(/ /g,"");f=b.replace(/ /g,"")}if(f==e.substring(e.length-f.length)){for(var g=0,k=0;k<e.length-f.length;g++){b=a.substring(g,g+1);b!=" "&&k++;h=h+b}h=h+'<strong class="emph_keyword">';e=g;for(g=0;g<f.length;e++){b=a.substring(e,e+1);b!=" "&&
g++;h=h+b}h=h+"</strong>"}return h}})();(function(){rudolphUtil.extend(rudolph.module,{RequestKeyword:function(){}})})();(function(a){rudolphUtil.extend(a.module,{ScriptCall:function(){var a=document.getElementsByTagName("head")[0];return{load:function(c,d){var e=rudolphUtil.$(d);e&&a.removeChild(e);e=document.createElement("script");e.type="text/javascript";e.id=d;e.src=c;a.appendChild(e)}}}()})})(rudolph);(function(){rudolphUtil.extend(rudolph.module,{ClickLog:function(a){if(a.listView.getSelectedItem()==
null){var b=a.listView.itemArr,c=null;if(b!=null)for(var d=0,e=b.length;d<e;++d)if(b[d].className.indexOf("on")>-1){c=d+1;break}}else c=parseInt(a.listView.getSelectedItem().index,10)+1;if(a.option.logFunc!=null&&a.listView.listModel!=null&&(typeof a.option.logFunc).toLowerCase()==="function"){b={keyword:a.keywordInputView._previousKeyword,inputQuery:a.keywordInputView.getDefaultKeyword(),index:c,totalCount:a.listView.listModel.all.length};a.option.logFunc.call(a,b)}}})})();(function(a){var b=true,
c=a.define.ActivationCookieName,d=a.define.ActivationType.OFF;rudolphUtil.extend(a.module,{ActivationFlag:function(){b=rudolphUtil.getCookie(c)==d?false:true;return{set:function(a){b=a==d?false:true;rudolphUtil.setCookie(c,a,365)},get:function(){return b}}}()})})(rudolph);(function(a){var b=a.view.YellowView=function(){this.container=null};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(b){this.container=rudolphUtil.$(b);if(!this.container)return false;this.render();var d=
this;rudolphUtil.addEvent(this.container,"mousedown",function(b){var c=rudolphUtil.getElement(b);rudolphUtil.hasClassName(c,a.define.YellowClip.OFF)?a.Service.block(false,d):rudolphUtil.hasClassName(c,a.define.YellowClip.ON)?d.dispatchEvent("onYellowUp"):d.dispatchEvent("onYellowDown");rudolphUtil.stopEvent(b)});rudolphUtil.addEvent(this.container,"keydown",function(b){if(b.keyCode==a.define.Keyboard.ENTER){a.define.useTabKey=false;var c=rudolphUtil.getElement(b);rudolphUtil.hasClassName(c,a.define.YellowClip.OFF)?
a.Service.block(false,d):rudolphUtil.hasClassName(c,a.define.YellowClip.ON)?d.dispatchEvent("onYellowUp"):d.dispatchEvent("onYellowDown");rudolphUtil.stopEvent(b)}})},setUp:function(){if(!this.container)return false;this.container.className=a.define.YellowClip.ON;this.container.value=this.container.title="\uc11c\uc81c\uc2a4\ud2b8 \uc811\uae30"},setDown:function(){if(!this.container)return false;this.container.className="";this.container.value=this.container.title="\uc11c\uc81c\uc2a4\ud2b8 \ud3bc\uce58\uae30"},
setOff:function(){if(!this.container)return false;this.container.className=a.define.YellowClip.OFF;this.container.value=this.container.title="\uc11c\uc81c\uc2a4\ud2b8 \ucf1c\uae30"},render:function(){if(!this.container)return false;a.module.ActivationFlag.get()==false&&rudolphUtil.addClassName(this.container,a.define.YellowClip.OFF)}})})(rudolph);(function(a){a=a.view.BoxView=function(a){this.container=a.container;this.type=a.type;this.enableRecentKeyword=a.enableRecentKeyword;this.listModel=a.listModel;
this.keywordInputView=a.keywordInputView;this.keywordListData=null;this._isVisible=false;this.initialize(a)};rudolphUtil.Function.inherit(a,$ssf.EventDispatcher,{initialize:function(){},renderBase:function(){rudolphUtil.hasClassName(this.container,"thumbType")&&rudolphUtil.removeClassName(this.container,"thumbType");this.container.style.display="none";this._isVisible=false},renderType:function(){this.type=="thumb"&&(rudolphUtil.hasClassName(this.container,"thumbType")||rudolphUtil.addClassName(this.container,
"thumbType"))},getDataList:function(){return!!this.keywordDataList==false?this.listModel.get():this.keywordDataList},renderBaseGuide:function(a){if(a=="toUse"){this.renderBase("guide");this.dispatchEvent("onShowGuide",{type:"UseSuggest"})}else if(a=="Used"){this.renderBase("guide");this.dispatchEvent("onShowGuide",{type:"UsingSuggest"})}},renderBaseNoResult:function(){this.dispatchEvent("onShowGuide",{type:"NoResult"})},renderShowList:function(a){this.dispatchEvent("onShowList",a)},emptyVisibleAction:function(a,
c){this.enableRecentKeyword?this.renderShowList({data:c,more:false}):this.renderBaseGuide(a)},visibleAction:function(a,c){if(rudolphUtil.Array.size(c.all)<=0)this.enableRecentKeyword&&a=="UsedRecent"?this.renderBaseGuide("Used"):this.renderBaseNoResult();else{this.renderBase("list");this.renderShowList({data:c,more:this.isMore(c)})}},isMore:function(a){return a.head.length==0||a.tail.length==0?false:true},visible:function(a,c){var d=this.getDataList();!!d.keyword==false&&this.keywordInputView.getValue()==
""&&!c?this.emptyVisibleAction(a,d):this.visibleAction(a,d)},show:function(){this.container.style.display="block";this._isVisible=true},hidden:function(){this.container.style.display="none";this._isVisible=false;this.dispatchEvent("onHiddenBox")},isVisible:function(){return this._isVisible}})})(rudolph);(function(a){var b=a.view.ImageView=function(a){this.container=a.container;this.listModel=a.listModel;this.listArr=this.imageContainer=null;this.initialize()};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,
{initialize:function(){},getListData:function(){return!!this.listArr==false?this.listModel.get():this.listArr},setImageHtml:function(a){var b=this;if(!!this.container==false)return false;if(!!this.imageContainer==false){this.imageContainer=document.createElement("DIV");this.imageContainer.className="imageBox";this.container.appendChild(this.imageContainer);rudolphUtil.addEvent(this.imageContainer,"mousedown",function(){b.dispatchEvent("onMousedownImage")})}this.imageContainer.innerHTML=a},render:function(b){b=
this.getThumbnailUrl(b);if(!!b==false){this.setImageHtml(a.template.IsNonImage.evaluate());return false}this.setImageHtml(a.template.Image.evaluate({url:b}))},getThumbnailUrl:function(a){return this.getListData().all[a].image}})})(rudolph);(function(a){var b=a.view.FooterView=function(a){this.index=null;this.container=a.container;this.offUsable=a.yellowClip;this.focusableElements=this.footerContainer=null;this.disabled=a.option&&a.option.type&&a.option.type.toLowerCase()=="simple"?true:false;this.initialize()};
rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(){if(!this.disabled){var b=this;rudolphUtil.addEvent(this.container,"mousedown",function(d){var e=rudolphUtil.getElement(d);rudolphUtil.hasClassName(e,"tailMore")?b.dispatchEvent("onTailMore"):rudolphUtil.hasClassName(e,"headMore")?b.dispatchEvent("onHeadMore"):rudolphUtil.hasClassName(e,"isSuggest")?b.dispatchEvent("onIsSuggest",{event:d}):rudolphUtil.hasClassName(e,"offSuggest")?a.Service.block(true):rudolphUtil.hasClassName(e,
"closeSuggest")&&b.dispatchEvent("onCloseSuggest");rudolphUtil.stopEvent(d)})}},addMouseEvent:function(){if(!this.disabled)if(this.isRecent){var b=this,d=rudolphUtil.getElementsByClassName(this.footerContainer,"deleteRecent")[0];d&&rudolphUtil.addEvent(d,"click",function(a){b.dispatchEvent("onDeleteRecent");rudolphUtil.stopEvent(a)});(d=rudolphUtil.getElementsByClassName(this.footerContainer,"toggleRecent")[0])&&rudolphUtil.addEvent(d,"click",function(a){b.dispatchEvent("onToggleRecent",a);rudolphUtil.stopEvent(a)})}else{var d=
rudolphUtil.getElementsByClassName(this.footerContainer,"offSuggest")[0],e=rudolphUtil.getElementsByClassName(this.footerContainer,"offGuide")[0];if(d){rudolphUtil.addEvent(d,"mouseover",function(){rudolphUtil.show(e)});rudolphUtil.addEvent(d,"mouseout",function(){rudolphUtil.hide(e)});rudolphUtil.addEvent(d,"blur",a.Service.hiddenAll)}}},setFooterHtml:function(a){if(!this.disabled){if(!!this.container==false)return false;if(!!this.footerContainer==false){this.footerContainer=document.createElement("DIV");
this.footerContainer.className="footer bg_sub";this.container.appendChild(this.footerContainer)}this.footerContainer.innerHTML=a;this.focusableElements=this.footerContainer.getElementsByTagName("a");this.addMouseEvent()}},moreEvaluate:function(b){if(!this.disabled)return b=="head"?a.template.HeadMore.evaluate():a.template.TailMore.evaluate()},render:function(b,d){if(!this.disabled){this.isRecent=d;this.isAddEvent=false;var e=this.offUsable?"":"none",f=b=="nomore"?"":this.moreEvaluate(b);if(d){f=(rudolphUtil.getCookie(a.define.RecentCookieName)||
a.define.RecentCookieType.ON)==a.define.RecentCookieType.OFF?a.template.RecentHideFooter.evaluate({offUsable:e}):a.template.RecentViewFooter.evaluate();this.setFooterHtml(a.template.RecentFooter.evaluate({moreWord:"",offUsable:e,recentButton:f}),d)}else this.setFooterHtml(a.template.Footer.evaluate({moreWord:f,offUsable:e}),d)}}})})(rudolph);(function(a){var b=a.view.GuideView=function(a){this.container=a.container;this.customUsingGuide=a.customUsingGuide;this.guideContainer=null;this.initialize()};
rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(){this.render()},setGuideHtml:function(a){if(!!this.container==false)return false;var b=rudolphUtil.getElementsByClassName(this.container,"list");if(b.length>0){rudolphUtil.replaceClassName(b[0],"list","guide");this.guideContainer=b[0]}if(!!this.guideContainer==false){this.guideContainer=document.createElement("DIV");rudolphUtil.addClassName(this.guideContainer,"guide");this.container.appendChild(this.guideContainer)}this.guideContainer.innerHTML=
a},render:function(b){switch(b){case "USING":if(this.customUsingGuide&&typeof this.customUsingGuide=="function"){this.setGuideHtml(a.template.UsingExternalGuide.evaluate());this.customUsingGuide(rudolphSizzle(".guide",this.container)[0])}else this.setGuideHtml(a.template.UsingSuggest.evaluate());break;case "USE":this.setGuideHtml(a.template.UseSuggest.evaluate())}}})})(rudolph);(function(a){var b=true,c=a.define.Keyboard,d=false,e=false,f=a.view.KeywordInputView=function(a){this._keywordBox=a.inputBox;
this._defaultKeyword="";this._previousKeyword=this._keywordBox.value;this.option=a.option;this._intervalId=this._currentKeyword=null;this.setSmartWatchingTarget();this._firstKeyword=this._keywordBox.value;this._bindEvents()};rudolphUtil.Function.inherit(f,$ssf.EventDispatcher,{_bindEvents:function(){var f=this;rudolphUtil.addEvent(this._keywordBox,"focus",function(a){b&&f.start();f.dispatchEvent("onFocusKeywordBox",{event:a,keyword:f._currentKeyword||""})});rudolphUtil.addEvent(this._keywordBox,"mousedown",
function(b){a.define.useTabKey=false;f.dispatchEvent("onClickKeywordBox",{event:b,keyword:f._keywordBox.value});rudolphUtil.stopPropagation(b)});rudolphUtil.addEvent(this._keywordBox,"keydown",function(g){var k=g.keyCode;k==c.SHIFT?d=true:k==c.ALT?e=true:k!=c.CTRL&&(k==c.ENTER?f.dispatchEvent("onEnterKeywordBox",{event:g}):k==c.ESC?f.dispatchEvent("onAltTabKeywordBox",{event:g}):e&&k==c.TAB?f.dispatchEvent("onEscKeywordBox",{event:g}):k==c.UP||d&&k==c.TAB?f.dispatchEvent("onUpKeywordBox",{event:g,
keyCode:k,isShift:d}):k==c.DOWN||!d&&k==c.TAB?f.dispatchEvent("onDownKeywordBox",{event:g,keyCode:k,isShift:d}):b&&(a.module.ActivationFlag.get()==true&&f._intervalId==null)&&f.start())});rudolphUtil.addEvent(this._keywordBox,"keyup",function(a){a=a.keyCode;a==c.SHIFT?d=false:a==c.ALT&&(e=false);!!f.getValue().trimRudolphUtil().length==0&&f.dispatchEvent("onEmptyKeyword",{keyword:f.getValue(),key:a})});rudolphUtil.addEvent(this._keywordBox,"blur",function(a){f.dispatchEvent("onBlurKeywordBox",{event:a})})},
start:function(){if(!this._intervalId){this._previousKeyword=this._currentKeyword=this._keywordBox.value;this._intervalId=rudolphUtil.Function.interval(this.watching,130,this)}},watching:function(){this._currentKeyword=this._keywordBox.value;if(this._previousKeyword!=this._currentKeyword){this._previousKeyword=this._currentKeyword;this.dispatch(this._currentKeyword)}},dispatch:function(a){this.dispatchEvent("onChangeKeyword",{keyword:a})},setSmartWatchingTarget:function(){if(navigator.userAgent.indexOf("SHW")!=
-1)return false},clear:function(){},setAlwaysWatching:function(){b=true;this.start()},setSmartWatching:function(){b=true},getWatchType:function(){return b},setDefaultKeyword:function(a){this._defaultKeyword=a},getDefaultKeyword:function(){return this._defaultKeyword},initDefaultKeyword:function(){if(!!this._keywordBox.value==true){if(this._firstKeyword!=""&&this._defaultKeyword==""){this._defaultKeyword=this._firstKeyword;this._firstKeyword=""}this._keywordBox.value=this._previousKeyword=this._currentKeyword=
this._defaultKeyword}},setFocus:function(){this._keywordBox.focus()},getValue:function(){return this._keywordBox.value},setValue:function(a){this._previousKeyword=this._keywordBox.value=a},clearValue:function(){this._keywordBox.value=""},setSelect:function(){this._keywordBox.select()},getBoxId:function(){return this._keywordBox.id},blur:function(){this._keywordBox.blur()}})})(rudolph);(function(a){var b=a.view.ListView=function(b){this.keyword=this.index=null;this.positionType=a.define.ListPositionType.DEFAULT;
this.itemArr=null;this.container=b.container;this.limit=b.limit;this.isLimitMatch=b.isLimitMatch;this.customItemValueFunc=b.customItemValueFunc;this.maxSize=this.limit[0]+this.limit[1];this.listModel=this.listContainer=null;this.eventFlag=false;this.reverse=b.reverse;this.maxIndex=this.minIndex=0;this.initialize(b)};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(){},move:function(a){if(this.maxIndex==0)return false;var b=this.index;switch(a){case "UP":b--;if(b<this.minIndex){this.dispatchEvent("onHideHighlight");
return false}break;case "DOWN":b++;if(b>=this.maxIndex)return false}this.select(b)},moveUp:function(){this.move("UP")},moveDown:function(){this.move("DOWN")},select:function(a,b){var e=b||"";if(a==null)return false;this.blur();this.index=a;this.setClassNameOnSelectedItem();this.dispatchEvent("onSelectItem",{index:this.index,action:e})},blur:function(){this.index!=null&&this.index>=0&&this.getItemEl()[this.index]&&rudolphUtil.removeClassName(this.getItemEl()[this.index],"on")},getIndex:function(){return this.index},
getSelectedItem:function(){if(this.index==null||this.index<0)return null;var a=this.listModel.all[this.index];return a?a:null},getItemEl:function(){return this.listContainer&&!!this.itemArr==false?this.itemArr=this.listContainer.getElementsByTagName("LI"):this.itemArr},setClassNameOnSelectedItem:function(){var a=this.getItemEl()[this.index];a&&rudolphUtil.addClassName(a,"on")},getItemIndex:function(a){for(var b=0;b<5;++b){if(rudolphUtil.String.startsWith(a.className,"idx_"))return a.className.match(/idx_([0-9]+).*/)[1];
a=rudolphUtil.getParent(a)}},bindEvent:function(){if(!!this.eventFlag==false){var a=this;rudolphUtil.addEvent(this.listContainer,"mouseover",function(b){b=rudolphUtil.getElement(b);b=a.getItemIndex(b);a.select(b,"over")});rudolphUtil.addEvent(this.listContainer,"click",function(b){var e=rudolphUtil.getElement(b),e=a.getItemIndex(e);a.dispatchEvent("onSelectedItemClick",{event:b,string:a.listModel.all[e].string})});rudolphUtil.addEvent(this.listContainer,"mousedown",function(a){rudolphUtil.stopEvent(a)});
this.eventFlag=true}},setListHtml:function(a){if(!!this.container==false)return false;var b=rudolphUtil.getElementsByClassName(this.container,"guide");if(b.length>0){b[0].className="list";this.listContainer=b[0]}if(!!this.listContainer==false){this.listContainer=document.createElement("DIV");rudolphUtil.addClassName(this.listContainer,"list");this.container.appendChild(this.listContainer)}this.listContainer.innerHTML=a;this.bindEvent()},itemEvaluate:function(b,d,e,f){this.reverse&&(b=b.reverse());
for(var f=f||0,h=[],g=b.length,e=g>=e?e:g,g=0;g<e;g++){var k;k=this.customItemValueFunc?this.customItemValueFunc(b[g]):b[g].string;h.push(a.template.Item.evaluate({first:g%2==0?" first":"",item:a.module.KeywordHighlight(k,this.keyword,d),idx:f+g}))}return h.join("")},emptyRender:function(){this.setListHtml("")},render:function(b){if(b==null)return this.emptyRender();this.listModel=b;this.keyword=b.keyword;var d=a.define.ListPositionType;if(this.positionType==d.DEFAULT){var e=b.head,f=b.tail,h=b.head.length,
g=b.tail.length;if(h==0&&g>h){e=b.tail;f=b.head}}else{e=b.tail;f=b.head}b=Math.min(e.length,this.limit[0]);h=this.limit[1];this.isLimitMatch===true&&(h=this.maxSize-b);h=Math.min(f.length,h);this.maxIndex=b+h;this.resetIndex();g=this.limit[1]>0?this.positionType:a.define.KeywordCompareType.FULL;this.setListHtml(a.template.Base.evaluate({list_high:this.itemEvaluate(e,g,b),list_low:h>0?this.itemEvaluate(f,g==d.DEFAULT?d.TRANS:d.DEFAULT,h,b):"",line:b>0&&h>0?"block":"none"}));this.keyword&&this.show()},
changePositionType:function(b){var d=a.define.ListPositionType;this.positionType=this.positionType==d.DEFAULT?d.TRANS:d.DEFAULT;this.render(b)},resetIndex:function(){this.index=this.reverse&&this.listModel&&this.listModel.all?this.listModel.all.length:-1},resetPositionType:function(){this.positionType=a.define.ListPositionType.DEFAULT},unSelect:function(){var a=this.getItemEl()[this.index];a&&rudolphUtil.removeClassName(a,"on")},setIndex:function(a){this.index=a},hide:function(){if(this.listContainer){this.listContainer.style.display=
"none";this.isVisible=false}},show:function(){if(this.listContainer){this.listContainer.style.display="block";this.isVisible=true}},visible:function(){return this.isVisible}})})(rudolph);(function(){function a(){if(!c){c=true;if(document.readyState&&document.readyState==="complete"||document&&document.getElementsByTagName&&document.getElementById&&document.body)return b();if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",
arguments.callee,false);b()},false);else if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);b()}});document.documentElement.doScroll&&B==B.top&&function(){if(!d){try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}b()}}()}rudolphUtil.addEvent(B,"load",b)}}function b(){if(!d){d=true;if(e){rudolphUtil.Array.eachRudolphUtil(e,function(a){a.call(document,
null)});e=null}}}var c=false,d=false,e=[];rudolph.DOMReady=function(b){a();d?b.call(document,null):e.push(b);return this}})();(function(a){(a.Instance=function(b,c,f,h,g,k){this.inputBox=rudolphUtil.$(b);if(!!this.inputBox===false){alert(a.message.ERROR_NO_INPUTBOX);return false}this.wrapper=rudolphUtil.$(c);if(!!this.wrapper===false){alert(a.message.ERROR_NO_PARENT_CONTAINER);return false}this.suggestDomain=f;this.requestUrl=h;k===true?this.callbackName=g:this.proxyUrl=g;this.initialize()}).prototype=
{initialize:function(){this.isActivate=null;this.currentKeyword="";this.option={type:"base",thumbActionFunc:null,customItemValueFunc:null,customGetStringFunc:null,limit:[10,3],isLimitMatch:true,focus:a.define.FocusPointType.DEFAULT,encode:a.define.EncodeType.UTF_IN_OUT,customUsingGuide:null,beforeExcuteNativeTab:null,areacode:null,requestString:"",enableRecentKeyword:false,reverse:null,logFunc:null};this.containerBox=null;this.yellowView=new a.view.YellowView;this.keywordInputView=new a.view.KeywordInputView({inputBox:this.inputBox,
option:this.option});this.dataModel=new a.model.DataModel({suggestDomain:this.suggestDomain,requestUrl:this.requestUrl,proxyUrl:this.proxyUrl,callbackName:this.callbackName,encode:this.option.encode,reverse:this.option.reverse,keyword:this.inputBox.value,requestString:this.option.requestString});this._bindEvents()},_requestRecent:function(){this._instanceReady();if(!this.dataModelRecent)this.dataModelRecent=new a.model.DataModelRecent({recentKeywordData:this.recentKeywordData,proxyUrlOrCallbackName:this.callbackName,
boxView:this.boxView,footerView:this.footerView,listView:this.listView,dataModel:this.dataModel,listModel:this.listModel});this.dataModelRecent.request()},_containerRender:function(){var a="suggestBox box_sub";this.option.reverse&&(a=a+" reverseType");this.containerBox=b(this.wrapper,a);this.containerBox.style.display="none";this.baseBox=b(this.containerBox,"baseBox bg")},_createModelView:function(){this.listModel=new a.model.ListModel({limit:this.option.limit,type:this.option.type,customGetStringFunc:this.option.customGetStringFunc,
subwayAreacode:this.option.subwayAreacode,reverse:this.option.reverse});this.boxView=new a.view.BoxView({container:this.containerBox,type:this.option.type,listModel:this.listModel,enableRecentKeyword:this.option.enableRecentKeyword,keywordInputView:this.keywordInputView});this.listView=new a.view.ListView({container:this.baseBox,limit:this.option.limit,isLimitMatch:this.option.isLimitMatch,customItemValueFunc:this.option.customItemValueFunc,reverse:this.option.reverse});this.footerView=new a.view.FooterView({container:this.baseBox,
yellowClip:this.yellowView.container});this.guideView=new a.view.GuideView({container:this.baseBox,customUsingGuide:this.option.customUsingGuide});if(this.option.type=="thumb")this.imageView=new a.view.ImageView({container:this.containerBox,listModel:this.listModel})},_bindEvents:function(){var b=this;this.keywordInputView.addListener({onFocusKeywordBox:function(c){var f=b.keywordInputView.getDefaultKeyword(),h=b.keywordInputView.getValue();if(h==""){if(b.option.enableRecentKeyword)return b._requestRecent();
b.dataModel.dispatchEvent("onEmptyKeyword")}a.Service.hiddenAll();if(h&&h!=f){var g="hidden";b.option.enableRecentKeyword&&(g="visible");setTimeout(function(){b.request(c.keyword,g)},50)}else a.Service.isEqual(b)==false?a.Service.setCurrentInstance(b):b.visible()},onChangeKeyword:function(c){var f=c.keyword;if(b.option.subwayAreacode){f=b.option.subwayAreacode+c.keyword;b.request(f);b.listView.positionType=a.define.ListPositionType.DEFAULT;b.keywordInputView.setDefaultKeyword(f.replace(b.option.subwayAreacode,
""))}else{b.request(f);b.listView.positionType=a.define.ListPositionType.DEFAULT;b.keywordInputView.setDefaultKeyword(f)}}});this.yellowView.addListener({onActivateSuggest:function(c){a.module.ActivationFlag.set("on");if(c.view==this)if(b.getKeyword()){b.keywordInputView.start();b.request(b.getKeyword())}else b.visible("toUse");else this.setDown()},onYellowOff:function(){a.module.ActivationFlag.set("on");if(b.getKeyword()){b.keywordInputView.start();b.request(b.getKeyword())}else b.visible("toUse")},
onYellowUp:function(){!!b.getKeyword()==false&&b.keywordInputView.blur();b.hidden()},onYellowDown:function(){if(!!b.getKeyword()==false){b.option.enableRecentKeyword?b._requestRecent():b.keywordInputView.blur();b.visible("Used")}else{var a=b.getKeyword();b.keywordInputView.setFocus();b.keywordInputView.setValue("");b.keywordInputView.setValue(a);b.keywordInputView.setDefaultKeyword(a);b.visible("Used",true)}}});this._bindEvents=function(){var b=this;this.keywordInputView.addListener({onClickKeywordBox:function(){if(a.Service.getCurrentInstance()==
b)a.module.ActivationFlag.get()==true&&b.toggle();else{a.Service.hiddenAll();a.Service.setCurrentInstance(b)}},onBlurKeywordBox:function(){},onUpKeywordBox:function(c){if(!(b.boxView.isVisible()==false&&c.keyCode==a.define.Keyboard.TAB))if(b.option.reverse){if(b.boxView.isVisible()==true)if(0<b.listView.getIndex())b.listView.moveUp();else{var d=b.getKeyword();b.keywordInputView.setFocus();b.keywordInputView.setValue("");b.keywordInputView.setValue(d);b.keywordInputView.setDefaultKeyword(d);b.boxView.hidden()}else b.boxView.visible();
rudolphUtil.preventDefault(c.event)}else{b.listView.moveUp();rudolphUtil.preventDefault(c.event);if(b.option.enableRecentKeyword&&b.listView.getIndex()==-1&&b.getKeyword()=="")b.option.hideRecent=true}},onEmptyKeyword:function(){b.dataModel.dispatchEvent("onEmptyKeyword")},onDownKeywordBox:function(c){if(a.module.ActivationFlag.get())if(b.boxView.isVisible()==false&&c.keyCode==a.define.Keyboard.TAB)b.option.beforeExcuteNativeTab&&b.option.beforeExcuteNativeTab(c.event);else{if(b.boxView.isVisible()==
true)if(b.listView.getItemEl().length-1>b.listView.getIndex())b.listView.moveDown();else{b.boxView.hidden();b.keywordInputView.initDefaultKeyword()}else if(b.option.reverse){b.boxView.hidden();b.keywordInputView.initDefaultKeyword()}else b.boxView.visible();rudolphUtil.preventDefault(c.event)}},onEscKeywordBox:function(){b.hidden()},onEnterKeywordBox:function(a){b.option.beforeSubmit&&rudolphUtil.stopEvent(a.event);c(b,a);b.hidden()},onBlankKeywordValue:function(){b.hidden()}});this.boxView.addListener({onShowList:function(c){if(b.option.enableRecentKeyword)if(c.isRecent||
!c.data.keyword)if((rudolphUtil.getCookie(a.define.RecentCookieName)||a.define.RecentCookieType.ON)==a.define.RecentCookieType.OFF){b.listView.render(null);b.listView.hide();b.footerView.render(null,true);b.boxView.show()}else if(c.data&&c.data.all&&c.data.all.length>0){b.listView.render(c.data);b.listView.show();b.footerView.render(null,true);b.boxView.show()}else b.boxView.hidden();else{b.listView.render(c.data);b.listView.show();b.option.limit[0]==0||b.option.limit[1]==0||!c.more?b.footerView.render("nomore"):
b.footerView.render();b.yellowView.setUp();b.boxView.show()}else{if(!b.option.reverse){b.listView.render(c.data);b.listView.show()}b.option.limit[0]==0||b.option.limit[1]==0||!c.more?b.footerView.render("nomore"):b.footerView.render();if(b.option.reverse){b.listView.render(c.data);b.listView.show()}b.yellowView.setUp();b.boxView.show()}},onShowGuide:function(a){b.option.reverse&&b.footerView.render("nomore");switch(a.type){case "UsingSuggest":b.guideView.render("USING");break;case "UseSuggest":b.guideView.render("USE");
break;case "NoResult":b.listModel.set(null);b.hidden();return false}b.option.reverse||b.footerView.render("nomore");b.boxView.show();b.yellowView.setUp()},onHiddenBox:function(){a.module.ActivationFlag.get()==true&&b.yellowView.setDown();b.listModel.getChangeSort();b.listView.resetIndex();b.listView.resetPositionType()},onDifferntKeyword:function(a){b.request(a.keyword)}});this.listView.addListener({onHideHighlight:function(){b.keywordInputView.initDefaultKeyword();b.hidden()},onSelectItem:function(a){b.boxView.renderType();
b.option.type=="thumb"&&b.imageView&&b.imageView.render(a.index);if(a.action!="over")(a=b.listModel.getSelectedItem(a.index))&&b.keywordInputView.setValue(a.string)},onSelectedItemClick:function(a){rudolphUtil.Browser.mac&&rudolphUtil.Browser.ff&&b.keywordInputView.blur();b.keywordInputView.setValue(a.string);c(b,a);b.hidden()}});this.footerView.addListener({onTailMore:function(){b.keywordInputView.initDefaultKeyword();var a=b.listModel.getChangeSort("tail");b.listView.changePositionType(a);b.footerView.render("head")},
onHeadMore:function(){b.keywordInputView.initDefaultKeyword();var a=b.listModel.getChangeSort("head");b.listView.changePositionType(a);b.footerView.render("tail")},onIsSuggest:function(b){B.open(a.template.IntroduceSuggestURL,"_blank");rudolphUtil.preventDefault(b.event)},onOffSuggest:function(){a.module.ActivationFlag.set("off");b.yellowView.setOff();b.hidden()},onCloseSuggest:function(){b.hidden()},onDeleteRecent:function(){b.dataModelRecent.deleteData()},onToggleRecent:function(c){if((rudolphUtil.getCookie(a.define.RecentCookieName)||
a.define.RecentCookieType.ON)==a.define.RecentCookieType.OFF){rudolphUtil.setCookie(a.define.RecentCookieName,a.define.RecentCookieType.ON,365);b.dataModelRecent.request()}else{rudolphUtil.setCookie(a.define.RecentCookieName,a.define.RecentCookieType.OFF,365);b.dataModelRecent.request();rudolphUtil.stopEvent(c)}}});this.dataModel.addListener({onLoadComplete:function(c){c=a.model.Raw.set(c.data,c.route);b.listModel.set(c);b.visible()},onReloadCache:function(a){b.listModel.set(a.data);b.visible()},
onSendData:function(){},onEmptyKeyword:function(a){if(b.option.enableRecentKeyword&&b.getKeyword()=="")if(b.option.hideRecent)b.option.hideRecent=false;else{b._requestRecent();rudolphUtil.stopEvent(a)}else{b.listModel.set(null);b.hidden()}},onOverKeyword:function(){b.listModel.set(null);b.hidden()}});this.option.type=="thumb"&&this.imageView.addListener({onMousedownImage:function(a){var c=b.listView.getSelectedItem();b.option.thumbActionFunc?b.option.thumbActionFunc(c.item):b.listView.dispatchEvent("onSelectedItemClick",
{event:a,string:c.string})}})}},_instanceReady:function(){if(!!this.containerBox==false){this._containerRender();this._createModelView();this._bindEvents()}},getKeyword:function(){return this.keywordInputView.getValue()},getSelectedItem:function(){return this.listView!=null?this.listView.getSelectedItem():null},setDefaultBox:function(){},setOption:function(a,b){this.option[a]=b;return this},setUseThumbnail:function(a){this.option.type="thumb";this.option.thumbActionFunc=a;return this},setUseCustomGetString:function(a){this.option.customGetStringFunc=
a;return this},setUseCustomItemValue:function(a){this.option.customItemValueFunc=a;return this},setInputFocus:function(b){switch(b){case "load":this.option.focus=a.define.FocusPointType.LOAD;break;case "write":this.option.focus=a.define.FocusPointType.WRITE;break;default:this.option.focus=a.define.FocusPointType.DEFAULT}return this},setRequestString:function(a){this.dataModel?this.dataModel.setRequestString(a):this.option.requestString=a;return this},setRequestUrl:function(a){this.dataModel?this.dataModel.setRequestUrl(a):
this.requestUrl=a;return this},setBeforeSubmitFunc:function(a){this.option.beforeSubmit=a;return this},getBeforeSubmitFunc:function(){return this.option.beforeSubmit},setBeforeNativeTabFunc:function(a){this.option.beforeExcuteNativeTab=a;return this},setForm:function(a){this.option.form=a;return this},setKeywordMaxByte:function(b){a.define.KeywordMaxByte=b;return this},setLimit:function(a){this.option.limit=a;return this},setLimitMatch:function(a){this.option.isLimitMatch=a;return this},setEnableRecentKeyword:function(){this.option.enableRecentKeyword=
true;return this},setSubwayAreacode:function(a){this.option.subwayAreacode=a;return this},setYellowClip:function(a){this.yellowView.initialize(a);return this},setEncodeKeyword:function(a){this.dataModel?this.dataModel.setEncode(a):this.setOption("encode",a);return this},setCustomUsingGuideFunc:function(a){this.option.customUsingGuide=a;return this},request:function(a,b){this._instanceReady();this.dataModel.get(a,b)},reRequest:function(){this.request(this.getKeyword())},hidden:function(){this.containerBox&&
this.boxView.hidden()},visible:function(b,c){if(a.module.ActivationFlag.get()==true){this._instanceReady();this.boxView.visible(b,c)}},toggle:function(){this.option.enableRecentKeyword||(this.boxView.isVisible()?this.hidden():this.visible())},block:function(a,b){this._instanceReady();a==true?this.footerView.dispatchEvent("onOffSuggest"):this.yellowView.dispatchEvent("onActivateSuggest",{view:b})},setReverse:function(){this.option.reverse=true;this.dataModel&&this.dataModel.setReverse(true);return this},
setLogFunc:function(a){if((typeof a).toLowerCase()==="function")this.option.logFunc=a;return this}};var b=function(a,b){var c=document.createElement("div");c.className=b;a.appendChild(c);return c},c=function(b){a.module.ClickLog(b);var c=b.option.form,b=b.option.beforeSubmit;if(typeof b=="function")b(c);else(b=eval(b))&&b(c)}})(rudolph);(function(a){a.Service=function(){var b=[],c=null;rudolphUtil.getCookie("suggest");var d=null,e=false,f={init:function(){if(e==true)return this;rudolphUtil.addEvent(document,
"keydown",rudolphUtil.Function.bind(h.keydown,this));rudolphUtil.addEvent(document,"mousedown",rudolphUtil.Function.bind(h.mousedown,this));h.initFocus();e=true;return this},add:function(c,d,e,f,h,i){if(!!f===false){alert(a.message.ERROR_NO_REQUEST_URL);return false}c=new a.Instance(c,d,e,f,h,i);b.push(c);return c},remove:function(){},hiddenAll:function(){for(var a=b.length-1;a>=0;--a)b[a].hidden()},hiddenOther:function(a){for(var c=b.length-1;c>=0;--c)a!=b[c]&&b[c].hidden()},block:function(a,c){for(var d=
b.length-1;d>=0;--d)b[d].block(a,c)},setCurrentInstance:function(a){c=a},getCurrentInstance:function(){return c},isEqual:function(a){return c!=null&&c!=a?false:true},getInstanceList:function(){return b},getActivationFlag:function(){return a.module.ActivationFlag.get()}},h={initFocus:function(){a.DOMReady(function(){for(var c=b.length-1;c>=0;--c)if(b[c].option.focus==a.define.FocusPointType.LOAD){f.setCurrentInstance(b[c]);f.getCurrentInstance().keywordInputView.setSelect();f.getCurrentInstance().keywordInputView.setFocus();
break}})},keydown:function(c){for(var e=rudolphUtil.getElement(c),f=e.nodeName,h=c.keyCode,i=a.define.Keyboard,p=["BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","SPACEBAR","HOME","END","PAGEDOWN","PAGEUP","CAPSLOOK","LEFT","RIGHT","UP","DOWN","MAC_COMMAND"],o=p.length-1;o>=0;--o)if(i[p[o]]==h)return true;if(c.ctrlKey||c.metaKey||e&&(f=="INPUT"||f=="SELECT"||f=="TEXTAREA"))return true;if(d==null)for(o=b.length-1;o>=0;--o)if(b[o].option.focus==a.define.FocusPointType.LOAD||b[o].option.focus==a.define.FocusPointType.WRITE){d=
b[o];break}if(d){d.keywordInputView.clearValue();d.keywordInputView.setFocus()}},mousedown:function(a){f.hiddenAll(a)},findInputBox:function(a){for(var c=b.length-1;c>=0;--c)if(b[c].inputBox==a)return true;return false}};return f}()})(rudolph);define("log/KoreanClick",["jquery"],function(a){var b=a('<iframe style="position:absolute;left:0;top:0;width:0;height:0;border:0"></iframe>').appendTo("body");return{log:function(){b.attr("src","mapclick.html?_="+Date.now())}}});jQuery(document).on("ontouchstart"in
B?"touchstart":"mousedown",function(){x.updateLocalLogSUID()});x.updateLocalLogSUID=function(){var a=jQuery.cookie("LOCAL_LOG_SUID"),b=new Date;a||(a=x.generateSUID());b.setTime(b.getTime()+18E5);jQuery.cookie("LOCAL_LOG_SUID",a,{expires:b})};x.pad=function(a,b){for(var c=""+a,b=b?b:2;c.length<b;)c="0"+c;return c};x.getTimeStamp=function(){var a=new Date,b=a.getFullYear(),c=x.pad(a.getMonth()+1),d=x.pad(a.getDate()),e=x.pad(a.getHours()),f=x.pad(a.getMinutes()),a=x.pad(a.getSeconds());return b+c+
d+e+f+a};x.getRandomOneWordFromString=function(a){return a.charAt(Math.floor(Math.random()*a.length))};x.getRandomString=function(a,b){for(var c="",d=0;d<b;d++)c=c+x.getRandomOneWordFromString(a);return c};x.generateSUID=function(){var a=x.getRandomString("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",12),b=x.getTimeStamp(),c=x.getRandomString("0123456789",3);return a+"_"+b+c};x.qidx=0;x.updateQIndex=function(){x.qidx++};x.sendLog=function(a,b){if(x.qidx)a.qidx=x.qidx;a.tregionid=
t_regionid||"";var c=jQuery.cookie("LOCAL_LOG_SUID");if(c)a.suid=c;c="//stlog1-local.kakao.com/logcollector/log/map?";b&&(c=b);(new Image).src=c+jQuery.param(a)};x.log=function(a,b,c){console.info("Localdss.log: "+a+": "+b,c);a=jQuery.extend({type:a},c);if(b!=null)a.q=Array.isArray(b)?b.join("^"):b;x.sendLog(a)};x.logStoreview=function(a,b,c,d){console.info("Localdss.logStoreview: %s: %s (%s, store: %s)",a,c,b,d);x.sendLog({type:a,confirmid:b,placename:c,store:d},"//stlog1-local.kakao.com/logcollector/log/map/storeview?")};
x.log_=function(a,b,c,d,e){console.info("Localdss: "+[a,b,c,d].join(" "));a={wx:b.getX().toFixed(0),wy:b.getY().toFixed(0),region:c,type:a};if(d)a.confirmid=d;e&&jQuery.extend(a,e);x.sendLog(a)};x.logRoadview=function(a,b,c,d,e){var f=c.getX().toFixed(0),c=c.getY().toFixed(0);console.info("Localdss.roadview: %s: %s, %s, %s, (%s, %s, %s)",a,b,f,c,d,e&&e.id,x._q);a={type:a,panoid:b,wx:f,wy:c,region:d};if(x._q)a.q=x._q;if(e){if(e.id)a.docid=e.id;if(e.route_type)a.route_type=e.route_type}x.sendLog(a)};
x.logMapRoadview=function(a,b){x.log_("start_roadview",a,b)};x.logNoRoadview=function(a,b){x.log_("not_on_line",a,b)};x.logMapLabel=function(a,b,c,d){x.log_("poiclick",a,b,c,d)};x.logAd=function(a,b){x.sendLog({type:a,confirmid:b})};x.pad36=function(a,b){if(!isFinite(a))return"";var c=(~~a).toString(36);return c.length>b?"-zzzzzz".substr(a>0?1:0,b):c.replace(/^-?/,"$&000000".slice(0,2+b-c.length))};x.watchMap=function(a){function b(){if(d[0]){var a={type:"use_tracking",data1:d.join("")};x.sendLog(a);
d.length=0}}var c=0,d=[];jQuery(B).on("beforeunload",b);setInterval(b,3E5);daum.maps.event.addListener(a,"idle",function(){var e=a.getCenter(),f=e.getX(),e=e.getY(),h=a.getLevel(),g=a.getMapTypeId(),k=x.typeForLog(g),i=require("map/MapTileManager");a.isRoadmap()&&i.get("terrain")&&(k=7);k==-1&&(k=g);g=Date.now();if(c&&g>=c+1E3){i=0.001*(g-c)|0;i=[x.pad36(f>>8,3),x.pad36(e>>8,3),x.pad36(h,1),x.pad36(k,1),x.pad36(Math.min(i,300),2)].join("");console.info("LocalTrack: (%d, %d, %d) %d %dms: %s",f,e,h,
k,g-c,i);if(i.length==10){d.push(i);d.length>=100&&b()}}c=g})};x.typeForLog=function(a){var b=daum.maps.MapTypeId||{},c=-1;switch(a){case b.ROADMAP:c=1;break;case b.SKYVIEW08:c=12;break;case b.HYBRID08:c=13;break;case b.SKYVIEW09:c=14;break;case b.HYBRID09:c=15;break;case b.SKYVIEW10:c=16;break;case b.HYBRID10:c=17;break;case b.SKYVIEW11:c=18;break;case b.HYBRID11:c=19;break;case b.SKYVIEW:c=2;break;case b.HYBRID:c=3}return c};x.logSearch=function(a,b){x._q=a;x.log("search_q",a,b)};x.logSearchIn=
function(a){x._type=a};x.logSearchKeyword=function(a,b){if(x._type&&a){x._q=a;x.log("search_type_"+x._type,x._q,b)}x._type=""};x.logSearchOut=function(a,b){x._q&&a&&x.log("search_q_click_"+a,x._q,b?{confirmid:b}:null)};x.logSearchOutWithArgs=function(a,b){x._q&&a&&x.log("search_q_click_"+a,x._q,b?b:{})};x.logPathSearchIn=function(a){x._path_type=a};x.logPathSearchWithType=function(a,b,c){if(b&&a){x._path_q=a;x.log("search_q_"+b,x._path_q,c)}x._path_type=""};x.logPathSearchKeyword=function(a,b){if(x._path_type&&
a){x._path_q=a;x.log("search_type_path_"+x._path_type,x._path_q,b)}x._path_type=""};x.logPathSearchOut=function(a,b){x._path_q&&a&&x.log("search_path_q_click_"+a,x._path_q,b?{confirmid:b}:null)};x.logPathSearchOutWithArgs=function(a,b){if(x._path_q&&a){a=="_"&&(a="");x.log("search_path_q_click"+a,x._path_q,b?b:{})}};define("log/LogHistory",[],function(){var a=[];return{set:function(b,c){a.length>6&&a.shift();if(c)var d=jQuery.map(c,function(a){return a}),b=b+("("+d.join(",")+")");a.push(b)},get:function(){return a}}});
define("log/Tiara",["log/KoreanClick"],function(a){function b(a){var b,h,g=c(location.href);if(typeof a==="object"){b=a.action;h=a.page;console.info("newTiara: "+b)}else{g=a;console.warn("oldTiara: "+g)}try{if(B.TiaraTracker){var k=TiaraTracker.getInstance();d?d=false:k.setReferrer(g);k.setUrl(g).setPage(h).trackPage(b).track()}}catch(i){}}function c(a){var b=a.match(/(http:\/\/|https:\/\/)(\S+?\/)/g);if(b){var b=b[0],a=a.slice(b.length).split(""),c=0;a.some(function(a){if(a==="/"){c++;return false}return true});
a=a.join("").slice(c);return b+a}return a}var d=true;return{log:function(c){a.log();b(c)},logOnly:b}});var n={click:function(a,b,c){try{if(B.TiaraTracker){var d={},e=Array.isArray(b);e?b.forEach(function(a,b){d["te"+(b+1)]=a}):d.te1=b;TiaraTracker.getInstance().trackEvent(a).customProps(d).track();console.info("newTiaraClick: "+a+" ",d);Application.logHistory.set(a+","+(e?b.join("_"):b),c)}}catch(f){}},ROUTE_METHOD:{toString:function(){return Application.carRouteSearchController.getActive()?"car":
Application.transitRouteSearchController.getActive()?"public":Application.flagSearchController.walkRouteSearchController.getActive()?"walk":Application.flagSearchController.bikeRouteSearchController.getActive()?"bike":""}},MODE:{toString:function(){var a=Application.carRouteSearchController.getActive()?"car":"traffic";return Application.keywordSearchController.getActive()?"search":Application.roadviewController.getActive()?"roadview":a}}};define("log/Tico",[],function(){return Tico});(function(){function a(a,
c,d){var e=B.event||{},c=a+"\nat "+c+":"+d+":1";e.errorUrl&&(c=e.errorMessage+"\nat "+e.errorUrl+":"+e.errorLine+":"+e.errorCharacter);console.log({message:e.errorMessage||a,stack:c})}if(["map.daum.net","stage.map.daum.net","local.daum.net"].indexOf(location.host)>-1)B.onerror=a})();define("manager/AoiManager",["map/Map","controller/RoadviewController","model/Aoi","map/MiniTooltipManager"],function(a,b,c,d){function e(a){j=a.coords}function f(b){h();b===i[k.SEARCH]&&daum.maps.event.addListener(a,
"mousemove",e)}function h(){daum.maps.event.removeListener(a,"mousemove",e)}function g(a){var b=Eb(arguments,1),c;for(c in i)i[c][a].apply(i[c],b)}var k={SEARCH:"SEARCH",FLAG:"FLAG"},i={},j=null;return{KEY:k,getModel:function(a){var b,c;for(c in i)if(b=i[c].getAoi(a))return b},hideAll:function(){g("hide")},clearAll:function(){g("clear")},onSearchTabChange:function(a){switch(a){case 0:i[k.SEARCH].setMapEvent();i[k.FLAG].removeMapEvent();f(i[k.SEARCH]);break;case 1:i[k.FLAG].setMapEvent();i[k.SEARCH].removeMapEvent();
h();break;case 2:case 3:i[k.FLAG].removeMapEvent();i[k.SEARCH].removeMapEvent();h()}},getController:function(e){if(!i[e]){i[e]=new Z(a,b,c,this,d);i[e].onClear.add(h);i[e].onFind.add(f)}return i[e]},getMouseCoords:function(){return j}}});Pc.VIEW_MAP=1;Pc.VIEW_ROADVIEW=2;Pc.VIEW_SUBWAY=3;Pc.VIEW_STOREVIEW=4;Pc.args=["view/FrameDecorator","map/Map","util/KakaoAgent"];"use strict";gd.MAX_LEVEL=13;qc.prototype.marker_=null;qc.prototype.createMarker=function(){return this.marker_};qc.prototype.getMarker=
function(){return this.marker_};qc.prototype.createInfoWindow=function(){return this.infowindow_};qc.prototype.clickMarker=function(){};qc.prototype.map_=null;qc.prototype.setMap=function(a){if(a){if(!this.marker_){var b=this.marker_=this.createMarker();console.assert(b instanceof daum.maps.AbstractOverlay);daum.maps.event.addListener(b,"click",this.clickMarker.bind(this))}this.marker_.setMap(a);this.map_=a}else if(this.map_){this.marker_.setMap(null);this.map_=null}};define("manager/MapSuggest",
["jquery","util/KakaoAgent"],function(a,b){function c(a){this.type=a.type;this.id=a.id;this.category=a.category||"";this.url=a.url;this.urlMaker=a.urlMaker||this.defUrlMaker;this.parser=a.parser||this.defParser;this.itemMaker=a.itemMaker||this.defItemMaker;this.itemParser=a.itemParser||this.defItemParser;this.onSubmit=a.onSubmit||d;this.onSubmitHistory=a.onSubmitHistory||d;this.onSubmitFavorite=a.onSubmitFavorite||d;this.useHistoryClick=a.useHistoryClick!="undefiend"?a.useHistoryClick:false;this.useFavoriteClick=
a.useFavoriteClick!="undefiend"?a.useFavoriteClick:false;this.listClassName=a.listClassName||"ms_item";this.maxCount=a.maxCount||e;this.logKey=a.logKey||null;this.logCallback=a.logCallback||d;this.originKeyword=this.lastKeyword="";this.init()}var d=function(){},e=10,f=b.isBrowserFireFox;c.prototype.init=function(){var b=this;this.inputEl=a("#"+this.id.replace(/\./g,"\\."));this.suggestTarget=a("#"+this.id.replace(/\./g,"\\.")+"Suggest");this.suggestWrap=a('<div class="suggestBox box_sub"><div class="baseBox bg"><div class="list"><ul class="suggest_list_target"></ul></div></div><div class="favorite_find HIDDEN"></div><div class="search_recent HIDDEN"></div></div>');
this.suggestTarget.append(this.suggestWrap);this.suggestListTarget=this.suggestWrap.find(".suggest_list_target");var c=null,d=function(){c&&clearInterval(c);c=null},e=false,h=false,i=function(a){var i=a.keyCode||a.which;if(i==16)e=true;else if(i==18)h=true;else if(i!=17)if(i==13){a.preventDefault();d();a=b.suggestWrap.find(".search_recent ."+b.listClassName+".on");i=b.suggestWrap.find(".favorite_find ."+b.listClassName+".on");a.length>0&&!a.hasClass("hover")?b.fireSubmit("history",a):i.length>0&&
!i.hasClass("hover")?b.fireSubmit("favorite",i):b.fireSubmit("suggest")}else if(i==27)b.hide();else if(!(h&&i==9))if(i==38||e&&i==9)b.HighlightMoveUp(a);else if(i==40||!e&&i==9)if(i==40&&!b.isShow()){a.preventDefault();b.show()}else b.HighlightMoveDown(a);else f&&!c&&(c=setInterval(function(){c&&b.lastKeyword!==b.inputEl.val()&&b.update()},1E3))};this.inputEl.on("click",function(){b.update()});this.inputEl.on("keypress",function(a){f&&i(a)});this.inputEl.on("blur",d);this.inputEl.on("keydown",i);
this.inputEl.on("keyup",function(a){a=a.keyCode||a.which;a==16?e=false:a==18&&(h=false);f||b.update()});this.suggestWrap.on("hover","."+this.listClassName,function(){b.clearSelected();a(this).addClass("on hover")});this.suggestWrap.on("click",".baseBox ."+this.listClassName,function(){b.setKeyword(a(this).text());b.fireSubmit("suggest")});this.suggestWrap.on("click",".search_recent ."+this.listClassName,function(){if(this.useHistoryClick){b.setKeyword("","origin");b.fireSubmit("history",a(this))}else b.hide()});
this.suggestWrap.on("click",".favorite_find ."+this.listClassName,function(){if(this.useFavoriteClick){b.setKeyword("","origin");b.fireSubmit("favorite",a(this))}else b.hide()});a(document).on("mousedown touchstart",function(a){b.inputEl&&(b.inputEl.is(a.target)||b.inputEl.has(a.target).length>0)?b.toggle():b.suggestWrap&&(!b.suggestWrap.is(a.target)&&b.suggestWrap.has(a.target).length==0)&&b.hide()})};c.prototype.update=function(){var b=this.inputEl.val();if(this.lastKeyword!=b){this.originKeyword=
this.lastKeyword=b;this.clearSelected();var c=null,d=this;this.show();if(b!==""){c=this.urlMaker(b);b="JSON";c.indexOf("http")===0&&(b="JSONP");a.ajax({url:c,dataType:b,cache:true,success:function(a){a.q==d.inputEl.val()&&d.parser(a)}})}else d.parser({items:[]})}};c.prototype.defUrlMaker=function(a){var b=this.url,b=b+(this.url.indexOf("?")>0?"&":"?"),b=b+("q="+encodeURIComponent(a));b.indexOf("http")===0&&(b=b+"&callback=?");return b};c.prototype.getResultItems=function(a){return(this.category&&
!Array.isArray(a)?a[this.category]:a).map(function(a){return a.item})||[]};c.prototype.defParser=function(b){var c=this,d="",e=[];if(b&&b.items){e=this.getResultItems(b.items).splice(0,this.maxCount);a(e).each(function(a,e){var f=""+e;if(c.subwayRegionId){var h=f.split("|"),j=h[0].replace(/\([\W\w]*\)/,"").trim(),i=h[1],f=h[3],h={id:f,x:h[5],y:h[6],simpleName:j,fullName:j+(i?" "+i:"")};f&&(d=d+c.itemMaker(h,a,b.q))}else d=d+c.itemMaker(f.split("|"),a,b.q)});this.suggestListTarget.html(d);d?this.suggestWrap.find(".baseBox").css("display",
"block"):this.suggestWrap.find(".baseBox").css("display","none")}};c.prototype.defItemMaker=function(a,b,c){b="";a=this.itemParser(a);b=b+('<li class="'+this.listClassName+'">');b=b+'<a href="#">'+h.highlight(a[0],c);return b+"</a></li>"};c.prototype.defItemParser=function(a){return[a[0],a[0]]};c.prototype.fireSubmit=function(b,c){if(b=="history")this.onSubmitHistory(c);else if(b=="favorite")this.onSubmitFavorite(c);else{var d=this.suggestWrap.find(".baseBox ."+this.listClassName),e=null,f=-1;a(d).each(function(b,
c){if(a(c).hasClass("on")){e=a(c);f=b+1}});if(e&&(this.logKey||this.logCallback)){d=[this.originKeyword,e.text(),f,d.length];if(this.logKey){n.click("suggest",this.logKey,{param1:d.join("|")});x.log("search_q_click_suggest",d[0],{sq:d[1],data1:JSON.stringify({idx:d[2],cnt:d[3]})})}else this.logCallback(d)}this.onSubmit()}this.hide()};c.prototype.HighlightMoveUp=function(b){if(this.isShow()){b.preventDefault();var c=this.suggestWrap.find("."+this.listClassName+".on"),b=this.suggestWrap.find("."+this.listClassName);
if(c.length>0){var d=-1;b.each(function(b,e){a(e).is(c)&&(d=b)});if(b=d-1>=0?b.get(d-1):null){this.clearSelected();b=a(b).addClass("on");b.closest(".baseBox").length>0?this.setKeyword(b.text(),"move"):this.setKeyword("","origin")}else{this.clearSelected();this.setKeyword("","origin");this.hide()}}else{this.clearSelected();this.setKeyword("","origin");this.hide()}}};c.prototype.HighlightMoveDown=function(b){if(this.isShow()){b.preventDefault();var c=this.suggestWrap.find("."+this.listClassName+".on"),
b=this.suggestWrap.find("."+this.listClassName);if(c.length>0){var d=-1;b.each(function(b,e){a(e).is(c)&&(d=b)});if(b=b.get(d+1)){this.clearSelected();b=a(b).addClass("on");b.closest(".baseBox").length>0?this.setKeyword(b.text(),"move"):this.setKeyword("","origin")}else{this.clearSelected();this.setKeyword("","origin");this.hide()}}else{this.clearSelected();if(b.length>0){b=b.first();b.first().addClass("on");b.closest(".baseBox").length>0&&this.setKeyword(b.text(),"move")}else this.hide()}}};c.prototype.clearSelected=
function(){this.suggestWrap.find("."+this.listClassName).removeClass("on hover")};c.prototype.setCategory=function(a){this.category=a};c.prototype.setUrl=function(a){this.url=a};c.prototype.setUrlMaker=function(a){this.urlMaker=a};c.prototype.setParser=function(a){this.parser=a};c.prototype.setItemMaker=function(a){this.itemMaker=a};c.prototype.setKeyword=function(a,b){a=a.replace(/\s\|\s(.*)/gi,"");if(b=="origin"){this.inputEl.val(this.originKeyword);this.lastKeyword=this.originKeyword}else{this.inputEl.val(a);
if(b=="move")this.lastKeyword=a}};c.prototype.setSubwayAreacode=function(a){this.subwayRegionId=a};c.prototype.getInputTarget=function(){return this.inputEl};c.prototype.getHistoryTarget=function(){return this.suggestWrap.find(".search_recent")};c.prototype.getFavoriteTarget=function(){return this.suggestWrap.find(".favorite_find")};c.prototype.show=function(){this.suggestWrap.css("display","block");this.type==="waypoint"&&this.inputEl.parents(".WaypointBoxView.dest").length===1&&this.inputEl.parent().addClass("ACTIVE-suggestBox")};
c.prototype.hide=function(){this.clearSelected();this.suggestWrap.css("display","none");this.type==="waypoint"&&this.inputEl.parents(".WaypointBoxView.dest").length===1&&this.inputEl.parent().removeClass("ACTIVE-suggestBox")};c.prototype.toggle=function(){this.isShow()?this.hide():this.show()};c.prototype.isShow=function(){return this.suggestWrap.css("display")=="block"};var h=function(){return{highlight:function(a,b){return a.replace(b,'<strong class="emph_keyword">'+b+"</strong>")}}}();return c});
B.santa={_seq:0,_init:function(){rudolph.Service.init();rudolph.view.KeywordInputView.prototype.dispatch=function(a){B.suggestThis=this;this.dispatchEvent("onChangeKeyword",{keyword:a})}},_Proxy:function(a){this.setSubwayAreacode=function(b){a&&a.setSubwayAreacode(b,",")};this.setQuery=function(b){if(a){var c=a.callbackName.replace(/&.*/,"");a.dataModel.setCallbackName(c+"&"+b)}};this.sendRequest=function(b){b&&a.request(b,false)};this.setKeyword=function(b){a.keywordInputView.setValue(b)}},create:function(a,
b,c){if(typeof daum=="undefined"||!rudolph)return new santa._Proxy(null);var c=c||{},d=++santa._seq;d==1&&santa._init();b=/^((?:[^\/]|\/\/)+)(\/[^?]*)(\?.*)?/.exec(b);a=santa["$"+d]=rudolph.Service.add(a,a+"Suggest",b[1],b[2],c.proxyUrl||"santa.$"+d+".dataModel.forceLoadComplete",!c.proxyUrl);b[3]&&a.setRequestString(b[3]+"&q=KEYWORD&mod=json&code=CHARSET");if(!("prefixCount"in c))c.prefixCount=10;if(!("suffixCount"in c))c.suffixCount=3;a.setLimit([c.prefixCount,c.suffixCount]);c.suffixCount||a.setLimitMatch(false);
c.buttonId&&a.setYellowClip(c.buttonId);c.onThumbnail&&a.setUseThumbnail(c.onThumbnail);c.onSubmit&&a.setBeforeSubmitFunc(c.onSubmit);if(c.onParseItem){a.setUseCustomItemValue(function(a){return c.onParseItem(a.item)[0]});a.setUseCustomGetString(function(a){return c.onParseItem(a)[1]})}(c.log||c.logCallback)&&a.setLogFunc(function(a){if(a.index){var b=[a.inputQuery,a.keyword,a.index,a.totalCount];if(c.logCallback)c.logCallback(b);else{n.click("suggest",c.log,{param1:b.join("|")});x.log("search_q_click_suggest",
a.inputQuery,{sq:a.keyword,data1:JSON.stringify({idx:a.index,cnt:a.totalCount})})}}});return new santa._Proxy(a)},hide:function(){typeof daum!="undefined"&&rudolph&&rudolph.Service.hiddenAll()}};var eb=Pc;define("manager/ViewLayout",eb.args,L(eb));sc.prototype=new daum.maps.AbstractOverlay;sc.POINTER_IMAGE=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/btn_goalchange.png",new daum.maps.Size(16,16),new daum.maps.Point(9,9));sc.TOOLTIP_IMAGE=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/plus_tip.png",
new daum.maps.Size(90,20),new daum.maps.Point(-10,10));La.prototype=new daum.maps.AbstractOverlay;La.prototype.onAdd=function(){var a=this.getMap();this.marker_.setMap(a);if(this.skyviewImage_){daum.maps.event.addListener(a,"maptypeid_changed",this.mapTypeIdHandler_);this.changeMarkerImage_()}Application.mainMapController.tool.onClickTool.add(this.toolActivate);Application.mainMapController.tool.onComplete.add(this.toolDeactivate);this.isToolActivate=Application.mainMapController.tool.isToolActivate()};
La.prototype.onRemove=function(){this.skyviewImage_&&daum.maps.event.removeListener(this.getMap(),"maptypeid_changed",this.mapTypeIdHandler_);this.marker_.setMap(null);Application.mainMapController.tool.onClickTool.remove(this.toolActivate);Application.mainMapController.tool.onComplete.remove(this.toolDeactivate)};La.prototype.draw=function(){};La.prototype.getPosition=function(){return this.marker_.getPosition()};La.prototype.setPosition=function(a){var b=this.marker_.getPosition();if(b.getX()!=
a.getX()||b.getY()!=a.getY()){this.marker_.setPosition(a);this.onPositionChanged.notify()}};La.prototype.getImage=function(){return this.marker_.getImage()};La.prototype.changeMarkerImage_=function(){this.getMap()&&(!this.hover_&&!this.highlight_)&&this.marker_.setImage(!this.getMap().isRoadmap()&&this.skyviewImage_||this.roadmapImage_)};La.prototype.setHover=function(a){this.hover_=!!a;this.changeMarker_()};La.prototype.setHoverYes=function(){this.onOver.notify();this.setHover(true)};La.prototype.setHoverNo=
function(){this.onOut.notify();this.setHover(false)};La.prototype.getMarker=function(){return this.marker_};La.prototype.setActive=function(a){this.highlight_=a;this.changeMarker_()};La.prototype.getActive=function(){return this.highlight_};La.prototype.changeMarker_=function(){if(this.hover_||this.highlight_){this.setZIndex(5);this.highlight_&&this.eventMarkerImage_?this.marker_.setImage(this.eventMarkerImage_):this.marker_.setImage(this.rolloverImage_)}else{this.setZIndex(this.zIndex_||2);this.changeMarkerImage_()}};
La.prototype.setTitle=function(a){this.marker_.setTitle(a)};La.prototype.setZIndex=function(a){this.marker_.setZIndex(a)};La.prototype.setEvent=function(){this.eventMarkerImage_=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2015/ndm/event_cherryblossom_marker.png",new daum.maps.Size(35,42),{offset:new daum.maps.Point(17,43),spriteSize:new daum.maps.Size(42,50),spriteOrigin:new daum.maps.Point(4,5)})};zb.children=[];zb.onShow=function(){i.$("info.footer").show()};zb.onHide=function(){for(var a=
zb.children.length,b=0;b<a;b++)if(!zb.children[b].hasClass("HIDDEN"))break;b===a&&i.$("info.footer").hide()};zb.addChild=function(a){i.$("info.footer").addChild(a);a.onShow.add(zb.onShow);a.onHide.add(zb.onHide);zb.children.push(a)};zb.removeChild=function(){};"use strict";define("map/InfoWindowManager","map/Map factory/MapOverlayFactory factory/InfoWindowToolbarFactory factory/ButtonFactory view/FlashSupportView log/Tiara controller/HistoryController const".split(" "),L(function(a,b,c,d,e,f,h,g){function k(){if(A){x&&
x.close&&x.close();A.setMap(null);z=x=A=null}}function i(a,c,d,e){if(typeof Application!="undefined"){if(Application.roadviewController.getDbClickActive()){Application.roadviewController.setDbClickActive(false);return}Application.roadviewController.setDbClickActive(false);Application.roadviewController.close()}A=b.create(c,15,a.getPane(),e);a.doLayout&&a.doLayout();e=false;d||(e=A.panIntoView());e?y.notify({infoWindow:a,delay:500}):y.notify({infoWindow:a,delay:0});a&&(x=a);c&&(z=c);(c instanceof Fe||
c instanceof La)&&c.onPositionChanged&&c.onPositionChanged.add(function(){if(A&&x&&z){A=b.create(z,10,x.getPane());x.doLayout&&x.doLayout()}});a.onClose.add(k)}function j(a,b,c,d){if(!a||!a.getPane||!a.onClose)throw Error();k();i(a,b,c,d);f.log(g.TIARA.infowindow)}function r(a,b,e,f){if(a.subway&&a.subway.id){a=u.extend(true,{name:a.name,coords:a.coords},a.subway);e=n(a,b,e,f)}else{e=new ye(a,f,c,d,e);h.addPoi(q.PLACE,a);a.id||(e=new nf(a,c));j(e,b||a.coords);v={id:a.id,data:a};e.onClose.add(function(){w.notify()})}e.onClose.add(G,
this);return e}function p(a,b,c,e){var f=!(!a.subway||!a.subway.id),g=new vf(a,c,d,e);g.onExpand.add(function(){r(a,b,e,function(){p(a,b,c,e)}).onClose.add(function(){Application.keywordSearchController.activeItem_=null})});j(g,b||a.coords);g.onClose.add(G,this);f?h.addPoi(q.SUBWAY_STATION,{id:a.subway.id,name:a.name,coords:a.coords}):h.addPoi(q.PLACE,a);return g}function o(a,b,e,f,g){b=new te(a,b,e,g,c,d,Application.busLineController,!!f);b.onClose.add(function(){w.notify()});j(b,f&&f.getPosition()||
a.coords);h.addPoi(q.BUS_STOP,a);b.onClose.add(G,this);return b}function n(b,e,f,g){f=new Ae(b,g,c,d,f);f.onSibling.add(function(b){b.fetchDetail(function(){a.setCenter(b.coords);n(b)})});j(f,e||b.coords);f.onClose.add(G,this);h.addPoi(q.SUBWAY_STATION,b);return f}function t(a){a.getBusStops(function(b){b=new Bf(b);b.onBusStop.add(function(b){R.find(b.id,function(b){o(b).onClose.add(function(){t(a)})})});j(b,a.coords)})}var u=jQuery,q=h.TYPE_LIST,w=this.onClose=new m,y=this.onShow=new m,v=null;this.getState=
function(){return v};var A=null,x=null,z=null,C=this.close=function(){k();w.notify();G()},G=function(){v=null};this.closeWithoutNotify=function(){k()};this.closeToType=function(a){var b;switch(a){case "traffic":b=Be;break;case "cctv":b=ve;break;case "accident":b=se}x&&(b&&x instanceof b)&&C()};this.createWeather=function(a,b){var c=new rf(a);j(c,b);return c};this.createAddress=function(a,b,e,f,g){e=new Md(a,c,d,e,g);j(e,b||a.coords,f);v={data:a};e.onClose.add(G,this);a.type!="point"&&h.addPoi(q.ADDRESS,
a);return e};this.createAddressWithNoPan=function(a,b,e){e=new Md(a,c,d,e);j(e,b||a.coords,true);v=null;return e};this.createPoint=function(a,b,e,f){e=new kf(a,e,c,d);j(e,b||a.coords);v=null;f&&e.setFavoriteIcon(false);return e};this.createReview=function(a,b){var e=new lf(a,c,d);j(e,b||a.coords);v={review:a.id,data:a};e.onClose.add(G,this);return e};this.createAccident=function(a,b){var c=new se(a);j(c,b||a.coords);v=null;return c};this.createTraffic=function(a,b){var c=new Be(a,d);j(c,b||a.coords);
v=null;return c};this.createPlace=function(a,b,c){return r(a,b,c)};this.createPlaceWithMedium=function(a,b,c,d){return p(a,b,c,d)};this.createBusStop=function(a,b,c,d,e){v={busstopid:a.id,data:a};return o(a,b,c,d,e)};this.createSubwayStation=function(a,b){v={subwayId:a.id,data:a};return n(a,b)};this.createBusStopGroup=function(a){v=null;t(a)};this.createCctv=function(a,b){if(B.isFlashEnv){e.showOnLayer();return null}var c=new ve(a,d);j(c,b||a.coords);v=null;return c};this.createIssuedPlace=function(a,
b){var c=new hf(a);j(c,b||address.coords);v=null;return c};this.createSubwayTooltip=function(a,b){var c=new of(a);j(c,a.coords,true,b);v=null;return c};this.createBusStopRoute=function(a,b){var c=new ef(a);j(c,a.coords,true,b);v=null;return c};this.createTransitMedium=function(a,b){var c=new Ge(a);j(c,a.coords,false,b);return c};this.createStartEndPointInfo=function(a,b){a.rvShow=false;var c=new mf(a);j(c,a.coords,true,b);v=null;return c};this.createCarInfoInfo=function(a,b){var c=new we(a);j(c,b,
true);v=null;return c};this.createWalkPointInfo=function(a,b){var c=new ze(a);j(c,a.coords,true,b);v=null;return c};this.createBikePointInfo=function(a,b){var c=new df(a);j(c,a.coords,true,b);v=null;return c};this.createWalkPointGroupInfo=function(a,b,c){a=new qf(a);j(a,b,false,c);v=null;return a};this.createIntercityInfo=function(a,b,c,d){a=new gf(a,d);j(a,b,false,c);v=null;return a};this.createFromElement=function(b,c,d,e,f){v=null;k();if(f){a.setLevel(3);a.setCenter(c)}if(typeof Application!="undefined"){Application.roadviewController.setDbClickActive(false);
Application.roadviewController.close()}A=new daum.maps.InfoWindow({position:c,offset:e,content:b,zIndex:10});A.open(a,d)};this.createW3w=function(a,b){var e=new pf(a,c,d,parent);j(e,b);v={data:a};e.onClose.add(G,this);h.addPoi(q.W3W,{id:a.address,name:"///"+a.address,coords:a.coords});return e};this.relayout=function(){if(A){A.setMap(null);A.setMap(a)}}}));Pd.TILESET_ID=0;define("map/LastRoadviewMarker",["map/Map"],L(function(a){function b(a){return'<div class="RoadViewCoachMakerLayer"><div class="left"></div><p class="mid">'+
a+'</p><div class="right"></div></div>'}function c(){g++||h.setMap(a);f.setZIndex(4)}function d(){g&&(--g||h.setMap(null));f.setZIndex(0)}if(!(this instanceof arguments.callee))return new arguments.callee(a);var e=new m,f=new daum.maps.Marker({image:new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/ico_map_point.png",new daum.maps.Size(36,50))}),h=new daum.maps.Billboard({yAnchor:1,zIndex:6});h.setContent(b("\uc774\uc804 \ub85c\ub4dc\ubdf0 \uc9c0\uc810"));var g=0;daum.maps.event.addListener(f,
"mouseover",c);daum.maps.event.addListener(f,"mouseout",d);daum.maps.event.addListener(f,"click",function(){e.notify()});this.set=function(b){if(b){h.setPosition(b);c();setTimeout(d,3E3);f.setPosition(b);f.setMap(a)}else{d();f.setMap(null)}};this.setTitle=function(a){h.setContent(b(a))};this.onClick=e}));Rc.prototype.parse=function(a){for(var b=this.map_;/^%/.test(a);)a=decodeURIComponent(a);this.data_=a=eval("("+a+")");var c=a.coordinate=="wcongnamul";b.setMapTypeId(a.map_type=="TYPE_MAP"?daum.maps.MapTypeId.ROADMAP:
a.map_hybrid=="true"?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW);b.setLevel(a.mapLevel||3);c=c?new daum.maps.Coords(a.mapCenterX,a.mapCenterY):(new daum.maps.Congnamul(a.mapCenterX,a.mapCenterY)).toCoords();b.setCenter(c);a.graphicInfo&&a.graphicInfo.forEach(this.buildGraphic_,this);a.markInfo&&a.markInfo.forEach(this.buildMarker_,this)};Rc.prototype.addOverlay_=function(a){a.setMap(this.map_)};Rc.prototype.buildGraphic_=function(a){var b=null,c=a.options;c.endArrow=c.endarrow=="classic"||
c.endarrow===true;if(a.type=="circle"){var d=Math.abs(a.sPoint.x-a.ePoint.x)*0.2,e=Math.abs(a.sPoint.y-a.ePoint.y)*0.2;if(d!=e)a.type="ellipse"}switch(a.type){case "line":b=new daum.maps.Polyline(c);if(a.sPoint&&a.ePoint)b.setPath([new daum.maps.Coords(a.sPoint.x,a.sPoint.y),new daum.maps.Coords(a.ePoint.x,a.ePoint.y)]);else if(a.points){a=this.getCoordsArr_(a.points);b.setPath(a)}break;case "arrow":b=new daum.maps.Polyline(c);if(a.sPoint&&a.ePoint)b.setPath([new daum.maps.Coords(a.sPoint.x,a.sPoint.y),
new daum.maps.Coords(a.ePoint.x,a.ePoint.y)]);else if(a.points){a=this.getCoordsArr_(a.points);b.setPath(a)}break;case "circle":b=new daum.maps.Circle(c);b.setPosition(new daum.maps.Coords(a.sPoint.x+a.ePoint.x>>1,a.sPoint.y+a.ePoint.y>>1));b.setRadius(Math.abs(a.sPoint.x-a.ePoint.x)*0.2);break;case "ellipse":b=new daum.maps.Ellipse(c);b.setPosition(new daum.maps.Coords(a.sPoint.x+a.ePoint.x>>1,a.sPoint.y+a.ePoint.y>>1));b.setRadius(Math.abs(a.sPoint.x-a.ePoint.x)*0.2,Math.abs(a.sPoint.y-a.ePoint.y)*
0.2);break;case "rect":b=new daum.maps.Rectangle(c);b.setBounds(new daum.maps.CoordsBounds(new daum.maps.Coords(a.sPoint.x,a.sPoint.y),new daum.maps.Coords(a.ePoint.x,a.ePoint.y)));break;case "rectangle":b=new daum.maps.Rectangle(c);b.setBounds(new daum.maps.CoordsBounds(new daum.maps.Coords(a.sPoint.x,a.sPoint.y),new daum.maps.Coords(a.ePoint.x,a.ePoint.y)));break;case "polyline":b=new daum.maps.Polyline(c);b.setPath(a.points.map(function(a){return new daum.maps.Coords(a.x,a.y)}));break;case "polygon":b=
new daum.maps.Polygon(c);b.setPath(a.points.map(function(a){return new daum.maps.Coords(a.x,a.y)}));break;case "text":b=new daum.maps.InfoWindow({position:new daum.maps.Coords(a.point.x,a.point.y),content:a.message})}b&&b.setMap(this.map_)};Rc.prototype.getCoordsArr_=function(a){var b=[];a.forEach(function(a){b.push(new daum.maps.Coords(a.x,a.y))});return b};Rc.prototype.buildMarker_=function(a,b){var c=a.coordinate=="wcongnamul"?new daum.maps.Coords(a.x,a.y):(new daum.maps.Congnamul(a.x,a.y)).toCoords(),
d=a.icon,e=null;if(d){e={offset:new daum.maps.Point(d.offsetX<0?-d.offsetX:d.offsetX,d.offsetX<0?-d.offsetY:d.offsetY)};if(d.spriteWidth&&d.spriteHeight){e.spriteSize=new daum.maps.Size(d.spriteWidth,d.spriteHeight);e.spriteOrigin=new daum.maps.Point(d.spriteOriginX,d.spriteOriginY)}e=new daum.maps.MarkerImage(d.src,new daum.maps.Size(d.width,d.height),e)}var f=new daum.maps.Marker({position:c,zIndex:1,image:e,title:a.label,clickable:true});f.setMap(this.map_);var h,g;if(a.infowindow)h=a.infowindow.contents;
else if(a.content){if(a.confirmid)d=jQuery("<a href=https://place.map.kakao.com/"+a.confirmid+' target="_blank" title="\uc0c1\uc138\uc815\ubcf4 \ubcf4\uae30">'+a.content+"</a>");else{d=jQuery('<em title="\uc0c1\uc138\uc815\ubcf4\uac00 \uc5c6\ub294 \uc7a5\uc18c\uc785\ub2c8\ub2e4."></em>');d.text(a.content)}d=jQuery('<span class="name"></span>').append(d);e="place_graphic";if(a.markerType=="standPlace"&&this.data_.roadviewInfo){var k=this.data_.roadviewInfo[0];b&&this.data_.roadviewInfo[b]&&(k=this.data_.roadviewInfo[b]);
e="place_marker";if(k&&k.panoId){var i=jQuery('<span class="miniroadview" title="\ub85c\ub4dc\ubdf0"></span>');i.click(function(){Application.roadviewController.show({coords:c,panoId:k.panoId,pan:k.pan,tilt:k.tilt,zoom:k.zoom})});d.append(i)}if(k&&k.storeId){i=jQuery('<span class="ministoreview" title="\uc2a4\ud1a0\uc5b4\ubdf0"></span>');i.click(function(){Application.roadviewController.showStoreView(k.storeId,k.storePanoId,{pan:k.storePan,tilt:k.storeTilt,zoom:k.storeZoom})});d.append(i)}}else d.addClass("normal");
i=jQuery('<span class="miniclose" title="\ub2eb\uae30"></span>');d.append(i);g=new Bc(this.map_);g.setData(e,c,d);this.data_.version&&g.setPlusmapVersion(this.data_.version);g.setZIndex(1);g.show();i.click(function(){g.hide()});daum.maps.event.addListener(f,"click",function(){g.getVisible()?g.hide():g.show()})}var j;if(h){j=new daum.maps.InfoWindow({disableAutoPan:true,content:h});j.open(this.map_,f)}var m=1;if(a.markerType){f&&f.setZIndex(2);j&&j.setZIndex(2);g&&g.setZIndex(2);m=2}daum.maps.event.addListener(f,
"mouseover",function(){f&&f.setZIndex(3);j&&j.setZIndex(3);g&&g.setZIndex(3)});daum.maps.event.addListener(f,"mouseout",function(){f&&f.setZIndex(m);j&&j.setZIndex(m);g&&g.setZIndex(m)})};define("map/Map",["jquery","params","log/Tiara","const"],function(a,b,c,d){typeof __overrideMapTypes=="function"&&__overrideMapTypes(b);a=lc.fetchMapOption_(b);if(!a.center)a.center=new daum.maps.Coords(494945,1128987);if(a.level===void 0)a.level=3;if(!a.mapTypeId)a.mapTypeId=jQuery.cookie("maptype")=="skyview"?
daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.ROADMAP;a.keyboardShortcuts=b.keyboardShortcuts!="off"?true:false;var e=null,e=B.isFlashEnv?new daum.maps.Map(jQuery("#view\\.map").get(0),a):new daum.maps.Map(jQuery("#view\\.mapContainer").get(0),a);e.setLevel(a.level);e.setCopyrightPosition(daum.maps.CopyrightPosition.BOTTOMRIGHT,true);x.watchMap(e);e.isRoadmap=function(a){a=a||e.getMapTypeId();return a==daum.maps.MapTypeId.ROADMAP||a==daum.maps.MapTypeId.INDOOR_SIDE};c.logOnly(e.isRoadmap()?d.TIARA.start_2d:
d.TIARA.start_skyview);return e});Aa.prototype=new daum.maps.AbstractOverlay;Aa.prototype.floating_=!0;Aa.prototype.setType=function(a){if(this.klass_){this.panel_.removeClass("Flag-"+this.klass_+"-drag");this.panel_.removeClass("Flag-"+this.klass_)}this.panel_.hasClass("Flag-drag")&&this.panel_.addClass("Flag-"+a+"-drag");this.panel_.addClass("Flag-"+a);var b="";switch(a){case "origin":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/blue_b.png";break;case "via1":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/green_b_1.png";
break;case "via2":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/green_b_2.png";break;case "via3":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/green_b_3.png";break;case "via4":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/green_b_4.png";break;case "via5":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/green_b_5.png";break;case "dest":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/red_b.png"}this.flagImg_.attr("src",b).attr("width",
37);this.klass_=a};Aa.prototype.isActivateFlag=function(){return B.Application&&Application.mainMapController.tool.isToolActivate()?false:true};Aa.prototype.onAdd=function(){this.panel_.appendTo(this.getMap().getNode());this.dragStart_();this.floating_=true};Aa.prototype.onRemove=function(){this.panel_.detach();this.floating_=false};Aa.prototype.draw=function(){if(!this.floating_){var a=this.getProjection();if(a){a=a.pointFromCoords(this.coords_);this.panel_.css({left:a.x,top:a.y})}}};Aa.prototype.dragStart_=
function(){if(this.isDragActivate=this.isActivateFlag()){this.panel_.addClass("Flag-drag");if(this.klass_){this.panel_.addClass("Flag-"+this.klass_+"-drag");this.panel_.removeClass("Flag-"+this.klass_)}var a=this.getMap().getNode();this.mapSize_={width:a.clientWidth,height:a.clientHeight}}};Aa.prototype.moveBy=function(a,b){var c=this.getProjection(),d=this.floating_?c.containerPointFromCoords(this.coords_):c.pointFromCoords(this.coords_);d.x=d.x+a;d.y=d.y+b;this.panel_.css({left:d.x,top:d.y});this.coords_=
this.floating_?c.coordsFromContainerPoint(d):c.coordsFromPoint(d);d=c.containerPointFromCoords(this.coords_);a=d.x<0?-8:d.x>=this.mapSize_.width?8:0;b=d.y<0?-8:d.y>=this.mapSize_.height?8:0;if(a||b){this.dx_=a;this.dy_=b;this.scrollSwitch_.start()}else this.scrollSwitch_.stop()};Aa.prototype.setorder=function(a){this.type=a};Aa.prototype.scroll_=function(){var a=this.getProjection(),b=a.containerPointFromCoords(this.getMap().getCenter());b.x=b.x+this.dx_;b.y=b.y+this.dy_;this.getMap().setCenter(a.coordsFromContainerPoint(b));
b=a.containerPointFromCoords(this.coords_);b.x=b.x+this.dx_;b.y=b.y+this.dy_;this.coords_=a.coordsFromContainerPoint(b);this.draw()};Aa.prototype.drag_=function(a){this.isDragActivate&&this.moveBy(a.dx,a.dy)};Aa.prototype.sink_=function(){if(this.floating_){this.panel_.appendTo(this.getPanels().overlayLayer);var a=this.getProjection().pointFromCoords(this.coords_);this.panel_.css({left:a.x,top:a.y});this.floating_=false}this.panel_.removeClass("Flag-drag");this.panel_.removeClass("Flag-"+this.klass_+
"-drag");this.panel_.addClass("Flag-"+this.klass_)};Aa.prototype.showGuide_=function(){this.isActivateFlag()&&this.panel_.addClass("Flag-HOVER")};Aa.prototype.hideGuide_=function(){this.panel_.removeClass("Flag-HOVER")};Aa.prototype.setPosition=function(a){this.coords_=a;this.sink_();this.draw()};Aa.prototype.setPoint=function(a){this.panel_.css({left:a.x,top:a.y});this.coords_=this.getProjection().coordsFromContainerPoint(a)};Aa.prototype.setVisible=function(a){this.panel_.toggle(!!a)};Aa.prototype.takeDown=
function(){if(this.isDragActivate){this.panel_.hasClass("Flag-HOVER")&&this.hideGuide_();this.scrollSwitch_.stop();this.sink_();this.onChange.notify(this)}};Aa.prototype.remove_=function(){this.panel_.hasClass("Flag-HOVER")&&this.hideGuide_();this.onRemoveFlag.notify(this)};Aa.prototype.getCoords=function(){return this.coords_};Aa.createOrigin=function(){return new Aa("origin")};Aa.createVia=function(){return new Aa("via")};Aa.createDest=function(){return new Aa("dest")};Aa.prototype.setCoords=function(a){this.coords_=
a;this.draw();name?this.onCoords.notify(new Lb(a,name)):this.queryName_()};"use strict";De.prototype=new daum.maps.AbstractOverlay;define("map/MapTileManager",["map/Map"],L(function(a){var b=this.onOverlay=new m;if(!(this instanceof arguments.callee))return new arguments.callee(a);var c={roadview:daum.maps.MapTypeId.ROADVIEW,traffic:daum.maps.MapTypeId.TRAFFIC,terrain:daum.maps.MapTypeId.TERRAIN,theme:void 0,themespring:void 0,overlay:daum.maps.MapTypeId.OVERLAY,bicycle:daum.maps.MapTypeId.BICYCLE,
bicyclehybrid:daum.maps.MapTypeId.BICYCLE_HYBRID,air:void 0,themefall:void 0,usedistrict:daum.maps.MapTypeId.USE_DISTRICT,bboundary:daum.maps.MapTypeId.B_BOUNDARY,hboundary:daum.maps.MapTypeId.H_BOUNDARY,indoor:daum.maps.MapTypeId.INDOOR_MAIN},d={terrain:1,overlay:1.5,air:2,usedistrict:3,bboundary:3.5,hboundary:3.5,roadview:4,traffic:5,bicycle:6,bicyclehybrid:6,themespring:7,themefall:7,theme:8,indoor:9},e=[];this.set=function(f,h){if(!!(e.indexOf(f)>-1)!=h&&c[f]){if(h){for(var g=d[f],i=e.length;i--;)if(g>=
d[e[i]])break;i++;e.splice(i,0,f);a.addOverlayMapTypeId(c[f]);for(var l in c){g=c[l];l=="overlay"?e.indexOf(l)>-1&&a.removeOverlayMapTypeId(g):a.removeOverlayMapTypeId(g)}l=e.length;for(g=0;g<l;g++)a.addOverlayMapTypeId(c[e[g]])}else{l=e.indexOf(f);g=c[f];if(l>-1&&g){e.splice(l,1);a.removeOverlayMapTypeId(g)}}b.notify(f)}};this.get=function(a){return!!(e.indexOf(a)>-1)};this.setId=function(a,b){c[a]=b};this.getOverlayIndex=function(a){return e.indexOf(a)}}));Qa.ROADVIEW=1;Qa.TRAFFIC=2;Qa.ACCIDENT=
4;Qa.CCTV=8;define("map/MapTypeControl","map/Map view/LayerLegendView controller/AccidentController controller/CctvController map/MapTileManager controller/AirMapTileController controller/LocalPlatformAdController const".split(" "),L(Qa));jd.prototype.map_=null;jd.prototype.setVisible=function(a){this.set("visible",a)};jd.prototype.handleOverlay_=function(){var a=this.map_.isRoadmap();this.roadmapOverlay_.setMap(a?this.map_:null);this.skyviewOverlay_.setMap(a?null:this.map_)};jd.prototype.handleVisible_=
function(){if(this.get("visible")){this.switchHandler_();daum.maps.event.addListener(this.map_,"maptypeid_changed",this.switchHandler_)}else{daum.maps.event.removeListener(this.map_,"maptypeid_changed",this.switchHandler_);this.roadmapOverlay_.setMap(null);this.skyviewOverlay_.setMap(null)}};jd.prototype.dispose=function(){this.setVisible(false);this.skyviewOverlay_=this.roadmapOverlay_=this.map_=null};1<B.devicePixelRatio?(D.LINE_ICON="//t1.daumcdn.net/localimg/localimages/07/2018/pc/route/new_line_icon2x_220511.png",
D.LINE_ICON_OVER="//t1.daumcdn.net/localimg/localimages/07/2018/pc/route/new_line_icon2x_220511.png"):(D.LINE_ICON="//t1.daumcdn.net/localimg/localimages/07/2018/pc/route/new_line_icon_220511.png",D.LINE_ICON_OVER="//t1.daumcdn.net/localimg/localimages/07/2018/pc/route/new_line_icon_over_220511.png");D.IMGBASE="//t1.daumcdn.net/localimg/localimages/07/2011/";D.SEARCH_IMG="//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/marker_normal.png";D.LINECOURSE_IMG="//t1.daumcdn.net/localimg/localimages/07/2012/line/marker_lline.png";
D.CCTV_IMG="//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/marker_cctv.png";D.EXACT_PLACE_IMG="//t1.daumcdn.net/localimg/localimages/07/2012/img/marker_direct.png";D.STATIC_HOME_IMG="//t1.daumcdn.net/localimg/localimages/07/2019/icon/ico-set-home-normal%402x.png";D.STATIC_COMPANY_IMG="//t1.daumcdn.net/localimg/localimages/07/2019/icon/ico-set-company-normal%402x.png";D.create_=function(a,b,c,d,e,f,h,g){e=e===void 0?void 0:new daum.maps.Point(e,f);return new daum.maps.Marker({zIndex:g||0,position:a,
image:new daum.maps.MarkerImage(b,new daum.maps.Size(c,d),e),clickable:h})};D.createPremiumPlace=function(a,b){return D.createSpecialPlace(a,b)};D.createSpecialPlace=function(a,b){var c=D.createPlaceSpriteImage(a,0),d=D.createPlaceHoverImage(a,122);return new La(b,c,null,d,4)};D.createExactPlace=function(a){return D.createPlace(1,a)};D.createPlace=function(a,b){var c=D.createPlaceSpriteImage(a,30),d=D.createPlaceSpriteImage(a,30),e=D.createPlaceHoverImage(a,162);return new La(b,c,d,e)};D.createLinecourse=
function(a,b){var c=D.createPlaceSpriteImage(a,60),d=D.createPlaceHoverImage(a,202);return new La(b,c,c,d)};D.createBusStop=function(a,b){var c=D.createPlaceSpriteImage(a,90),d=D.createPlaceSpriteImage(a,90),e=D.createPlaceHoverImage(a,242);return new La(b,c,d,e)};D.createPlaceSpriteImage=function(a,b){var c=(a-1)*50;return new daum.maps.MarkerImage(D.SEARCH_IMG,new daum.maps.Size(28,36),{offset:new daum.maps.Point(13,35),spriteSize:new daum.maps.Size(276,891),spriteOrigin:new daum.maps.Point(b,c)})};
D.createPlaceHoverImage=function(a,b){var c=(a-1)*60;return new daum.maps.MarkerImage(D.SEARCH_IMG,new daum.maps.Size(36,50),{offset:new daum.maps.Point(15,48),spriteSize:new daum.maps.Size(276,891),spriteOrigin:new daum.maps.Point(b,c)})};D.createSheepPlaceImage=function(){return new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2015/ndm/event_cherryblossom_marker_s.png",new daum.maps.Size(32,37),{offset:new daum.maps.Point(15,37),spriteSize:new daum.maps.Size(42,50),spriteOrigin:new daum.maps.Point(5,
10)})};D.makeHoverable=function(a){daum.maps.event.addListener(a,"mouseover",function(){this.setZIndex(3)});daum.maps.event.addListener(a,"mouseout",function(){this.setZIndex(2)});return a};D.createLandmark=function(a){return D.create_(a,"//t1.daumcdn.net/localimg/localimages/07/2013/img/marker_landmark2.png",17,20,8,20,false,2)};D.createHere=D.createW3w=D.createAddress=function(a){return D.create_(a,"//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/marker_spot.png",36,50,18,50,true,3)};D.THEMEIMGBASE=
"//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/marker_theme.png";D.THEMEMAKER_LIST="bus sub storeview hair food hotel bank mart hospital oil cafe cvs park culture ".split(" ");D.createThemeMarker=function(a,b){var c=null,d=null,e=D.THEMEMAKER_LIST.indexOf(a);if(e!==-1){d=e*40;c=D.createThemeSpriteImage(d,0);d=D.createThemeSpriteImage(d,0)}return c?new Ee(b,c,d):null};D.createThemeSpriteImage=function(a,b){return new daum.maps.MarkerImage(D.THEMEIMGBASE,new daum.maps.Size(30,30),{offset:new daum.maps.Point(15,
15),spriteSize:new daum.maps.Size(30,910),spriteOrigin:new daum.maps.Point(b,a)})};D.createDirectionStart=function(a){return D.create_(a,"//t1.daumcdn.net/localimg/localimages/07/2010/map/search/icon_red.png",41,45,7,38)};D.createDirectionEnd=function(a){return D.create_(a,"//t1.daumcdn.net/localimg/localimages/07/2010/map/search/icon_blue.png",41,45,7,38)};D.createDirectionRoute=function(a){return D.create_(a,"//t1.daumcdn.net/localimg/localimages/07/2010/map/search/icon_green.png",41,45,7,38)};
D.NULL_IMAGE=new daum.maps.MarkerImage("//t1.daumcdn.net/mapjsapi/images/transparent.gif",new daum.maps.Size(40,41));D.DIRECTION_IMAGE={};D.DIRECTION_HOVER_IMAGE={};D.getDirectionImage=function(a){return D.DIRECTION_IMAGE[a]=D.DIRECTION_IMAGE[a]||new daum.maps.MarkerImage(D.IMGBASE+"icon/ico_mapbx_gray"+a+".png",new daum.maps.Size(a>=100?29:28,22),new daum.maps.Point(8,18))};D.getDirectionHoverImage=function(a){return D.DIRECTION_HOVER_IMAGE[a]=D.DIRECTION_HOVER_IMAGE[a]||new daum.maps.MarkerImage(D.IMGBASE+
"icon/ico_mapbx_blue"+a+".png",new daum.maps.Size(a>=100?29:28,22),new daum.maps.Point(8,18))};D.createDirectionNumber=function(a,b){if(a>0){var c=(a<10?"0":"")+a;return new La(b,this.getDirectionImage(c),null,this.getDirectionHoverImage(c))}return new daum.maps.Marker({image:D.NULL_IMAGE,zIndex:-9,position:b,clickable:false})};D.createCctv=function(a){var b=D.getCctvImage_(),c=D.getCctvImage_();return new Ee(a,b,c)};D.getCctvImage_=function(){return new daum.maps.MarkerImage(D.CCTV_IMG,new daum.maps.Size(22,
26),new daum.maps.Point(11,26))};D.GAS_STATION=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/oil_m.png",new daum.maps.Size(22,26),new daum.maps.Point(13,32));D.createGasStation=function(a){return new daum.maps.Marker({zIndex:2,position:a,clickable:true,image:D.GAS_STATION})};D.REST_AREA=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/rest_m.png",new daum.maps.Size(22,26),new daum.maps.Point(13,32));D.createRestArea=function(a){return new daum.maps.Marker({zIndex:2,
position:a,clickable:true,image:D.REST_AREA})};D.COURSE_START_END=new daum.maps.MarkerImage(D.IMGBASE+"icon/point_road.png",new daum.maps.Size(15,15),new daum.maps.Point(8,8));D.createCourseStartEnd=function(a){return new daum.maps.Marker({zIndex:-1,position:a,clickable:false,image:D.COURSE_START_END})};D.issuePlace=function(){var a=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/exsearch-ico-blue8_hover.png",new daum.maps.Size(10,10),{offset:new daum.maps.Point(5,5),
spriteSize:new daum.maps.Size(8,8),spriteOrigin:new daum.maps.Point(-1,-1)});return new daum.maps.Marker({position:null,image:a,clickable:true})};D.fakeMarker=function(a){return new daum.maps.Marker({position:a,clickable:false})};D.getWalkGroupDirectionHoverImage=function(a){return new daum.maps.MarkerImage(D.IMGBASE+"icon/ico_mapbx_blue"+a+".png",new daum.maps.Size(a>=100?29:28,22),new daum.maps.Point(8,18))};D.walkpointGroupMarker=function(a,b){return new daum.maps.Billboard({position:a,clickable:true,
content:b})};D.getFavoriteMarkerImage=function(){return new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2016/map/ico_starmarker.png",new daum.maps.Size(20,20),new daum.maps.Point(9,11))};D.transitWalkMarker=function(a){return new daum.maps.Marker({position:a,clickable:true,zIndex:4,image:D.getTransitWalkMarkerImage()})};D.localPlatformMarker=function(a){return new daum.maps.Marker({zIndex:a=="GLOBAL"?3:2,clickable:true,image:new daum.maps.MarkerImage(a=="GLOBAL"?"//t1.daumcdn.net/localimg/localimages/07/2012/img/ad_marker2.png":
"//t1.daumcdn.net/localimg/localimages/07/2012/img/ad_marker1.png",new daum.maps.Size(35,41),new daum.maps.Point(14,41))})};var $e={subway_1:[0,0],subway_2:[0,30],subway_3:[0,60],subway_4:[0,90],subway_5:[0,120],subway_6:[0,150],subway_7:[0,180],subway_8:[0,210],subway_9:[0,240],subway_g:[0,300],subway_k:[0,330],subway_ever:[0,360],subway_kk:[0,390],subway_new:[0,450],subway_in1:[0,480],subway_in2:[0,510],subway_sh:[0,540],subway_i:[0,570],subway_ky:[0,600],subway_j:[0,600],subway_ui:[0,630],subway_ml:[0,
660],subway_jeo1:[0,30],subway_kwa1:[0,30],subway_dae1:[0,690],subway_dae2:[0,30],subway_dae3:[0,420],subway_bu1:[0,60],subway_bu2:[0,30],subway_bu3:[0,240],subway_bu4:[0,390],subway_bu10:[0,120],subway_dh:[0,0],subway_gg:[0,720],subway_sb:[0,750],subway_sl:[30,480],KTX:[30,30],ITX:[30,60],SRT:[30,0],"\uc0c8\ub9c8\uc744":[30,90],"\ubb34\uad81\ud654":[30,120],"\ub204\ub9ac\ub85c":[30,150],"\ud1b5\uadfc":[30,180],"ITX\uc0c8\ub9c8\uc744":[30,60],DMZtrain:[30,210],BUS:[30,240],BUSTERMINAL:[30,270],INTERCITY_BUS:[30,
270],EXPRESS_BUS:[30,300],AIRPLANE:[30,330],AIRPORT:[30,330],PORT:[30,360],TAXI:[30,390],WALK:[30,450]};D.getTransitMarker=function(a,b){var c=D.getTransitMarkerImage(a),d=D.getTransitHoverMarkerImage(a);return new La(b,c,c,d,4)};D.getTransitMarkerImage=function(a){(a=$e[a])||(a=[30,420]);return new daum.maps.MarkerImage(D.LINE_ICON,new daum.maps.Size(20,20),{offset:new daum.maps.Point(10,10),spriteSize:new daum.maps.Size(50,770),spriteOrigin:new daum.maps.Point(a[0],a[1])})};D.transitWalkMarker=
function(a){return new daum.maps.Marker({position:a,clickable:true,zIndex:4,image:D.getTransitMarkerImage("WALK")})};D.getTransitHoverMarkerImage=function(a){(a=$e[a])||(a=[30,420]);return new daum.maps.MarkerImage(D.LINE_ICON_OVER,new daum.maps.Size(20,20),{offset:new daum.maps.Point(10,10),spriteSize:new daum.maps.Size(50,770),spriteOrigin:new daum.maps.Point(a[0],a[1])})};D.createFavorite=function(a,b){var c=new daum.maps.Billboard({position:a,clickable:true,content:b,zIndex:4});c.getImage=function(){return{getOffset:function(){return{y:10}}}};
return c};D.createStatic=function(a,b){return D.create_(a,b==="HOME"?D.STATIC_HOME_IMG:D.STATIC_COMPANY_IMG,26,33,13,16,true,5)};va.prototype.markers_=[];va.prototype.add=function(a){console.assert(a.setMap);this.markers_.push(a);a.setMap(this.map_)};va.prototype.clear=function(){this.hide();this.markers_.length=0};va.prototype.clearAt=function(a){this.markers_[a].setMap(null);this.markers_[a]=null};va.prototype.at=function(a){return this.markers_[a]};va.prototype.hide=function(){this.markers_.forEach(function(a){a.setMap(null)})};
va.prototype.show=function(){this.markers_.forEach(function(a){a.setMap(this.map_);a.getActive&&a.getActive()&&a.setActive(true)},this)};va.prototype.setHover=function(a,b){var c=this.at(a);c&&c.setHover(b?true:false)};va.prototype.setMarkerActive=function(a){if(a<0)this.activeMarker_&&this.activeMarker_.setActive(false);else{a=this.at(a);this.activeMarker_&&this.activeMarker_!=a&&this.activeMarker_.setActive(false);a.setActive(true);this.activeMarker_=a}};va.prototype.isEmpty=function(){return!this.markers_||
!this.markers_.length};va.prototype.getMarkerBounds=function(){var a=new daum.maps.CoordsBounds;this.markers_.forEach(function(b){a.extend(b.getPosition())},this);return a};va.prototype.getMarkerActive=function(){return this.activeMarker_};Qd.prototype.x=NaN;Qd.prototype.y=NaN;Qd.prototype.hitTest=function(a,b,c){return Math.abs(a-this.x)<=c&&Math.abs(b-this.y)<=c};define("map/MiniMapTypeControl",["map/Map"],L(function(a){function b(){var b=a.isRoadmap();c.toggleClass("roadmap-ACTIVE",b);d.toggleClass("skyview-ACTIVE",
!b)}var c=jQuery("#miniMapTypeControl\\.roadmap");c.click(function(){a.setMapTypeId(daum.maps.MapTypeId.ROADMAP)});var d=jQuery("#miniMapTypeControl\\.skyview");d.click(function(){a.setMapTypeId(daum.maps.MapTypeId.HYBRID)});b();daum.maps.event.addListener(a,"maptypeid_changed",b)}));"use strict";"use strict";Ua.BUSSTOP="BUSSTOP";Ua.PLACE="PLACE";Ua.THEME="THEME";Ua.CCTV="CCTV";Ua.DOT="DOT";Ua.AOILINE="AOILINE";define("map/MiniTooltipManager",["map/Map"],L(Ua));define("map/MiniZoomControl",["map/Map"],
L(function(a){function b(){if(a.getLevel()===c){f.addClass("disabled");e.removeClass("disabled")}else if(a.getLevel()===d){f.removeClass("disabled");e.addClass("disabled")}else{e.removeClass("disabled");f.removeClass("disabled")}}var c=14,d=1,e=jQuery("#miniZoomControl\\.zoomin"),f=jQuery("#miniZoomControl\\.zoomout");daum.maps.event.addListener(a,"zoom_changed",function(){b()});e.click(function(){a.setLevel(a.getLevel()-1);if(a.getLevel()===d)e.addClass("disabled");else{n.click("roadview",["mini_map",
"control","zoom_in"]);e.removeClass("disabled");f.removeClass("disabled")}});f.click(function(){a.setLevel(a.getLevel()+1);if(a.getLevel()===c)f.addClass("disabled");else{n.click("roadview",["mini_map","control","zoom_out"]);f.removeClass("disabled");e.removeClass("disabled")}});jQuery("#miniZoomControl\\.reset").click(function(){a.setCenter(Application.roadviewController.walker_.getPosition());a.setLevel(3)});this.syncZoomBtnStatus=b}));sb.Polygon=function(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);
for(var b=Infinity,c=Infinity,d=-Infinity,e=-Infinity,f=a.length/2,h=Array(f),g=Array(f),i=0;i<f;i++){h[i]=a[2*i];g[i]=a[2*i+1];b=Math.min(b,a[2*i]);d=Math.max(d,a[2*i]);c=Math.min(c,a[2*i+1]);e=Math.max(e,a[2*i+1])}var l=[b,c,d,e];this.isContain=function(a,b){var c=0;if(l[0]<=a&&l[2]>=a&&l[1]<=b&&l[3]>=b)for(var d=h.length,e=d-1,f=0;f<d;f++){if((g[f]<b&&g[e]>=b||g[e]<b&&g[f]>=b)&&(h[f]<=a||h[e]<=a))c=c^h[f]+(b-g[f])/(g[e]-g[f])*(h[e]-h[f])<a;e=f}return c}};Sc.spriteInfos=[{spriteIdx:0,name:"pin",
x:160,y:0,width:35,height:50},{spriteIdx:0,name:"building",x:160,y:60,width:40,height:35},{spriteIdx:1,name:"storePin",x:160,y:0,width:50,height:50},{spriteIdx:1,name:"storeGreyPin",x:160,y:60,width:50,height:50},{spriteIdx:1,name:"stair",x:160,y:120,width:40,height:40},{spriteIdx:1,name:"greyStair",x:160,y:180,width:40,height:40}];for(var Ub=0;15>Ub;Ub++)Sc.spriteInfos.push({spriteIdx:0,name:String.fromCharCode(65+Ub),x:40*Math.floor(Ub/4),y:60*(Ub%4),width:35,height:50}),Sc.spriteInfos.push({spriteIdx:1,
name:Ub+"",x:40*Math.floor(Ub/4),y:60*(Ub%4),width:35,height:50});$b.showMarkerByZoom=function(a){var b=a.list,c=a.level,d=a.shapeChangeLevel,e=a.map,f=a.pickCountFunc,h=function(a){a instanceof $b?a.setMap(e):a.show()};b.forEach(function(a){if(a){a instanceof $b?a.setMap(null):a.hide();c>=d?a.setVisibleNumber(false):a.setVisibleNumber(true)}});var a=b.length-2,f=f(c,a),g=Math.floor(a/f),i=[],l=0;if(f!==0)if(a===f)for(a=0;a<b.length;a++)b[a]&&h(b[a]);else{var j=0,m=a;if(b[0]===null){j=1;m=a-1}for(a=
j;a<m;a++)if((a+1)%(g+1)==0){if(b[a]){h(b[a]);l++}}else i.push(a);var p=function(a,c){if(!(c<=0||a.length===0))if(c==1)h(b[a[Math.floor(a.length/2)]]);else{for(var d=a.length,e=Math.floor(d/c),f=[],g=0,j=0;j<d&&g<c;j++)if(j%e===0){if(b[a[j]]){h(b[a[j]]);g++}}else f.push(a[j]);p(f,c-g)}};p(i,f-l)}};Cc.trainColor={KTX:"#3448b3",ITX:"#7e349d",SRT:"#c80676","\uc0c8\ub9c8\uc744":"#3396ff","\ubb34\uad81\ud654":"#f75c4c","\ub204\ub9ac\ub85c":"#19b5fe","\ud1b5\uadfc":"#ae7c5b","ITX\uc0c8\ub9c8\uc744":"#7e349d",
DMZtrain:"#e5a900"};Cc.subwayColor={subway_1:"#3356b4",subway_2:"#3cb44a",subway_3:"#ff8939",subway_4:"#09b5ea",subway_5:"#924bdd",subway_6:"#b55e16",subway_7:"#727718",subway_8:"#ef4b96",subway_9:"#cea43a",subway_k:"#33b5c8",subway_j:"#6dcccb",subway_ky:"#6dcccb",subway_minute:"#f2bf35",subway_g:"#44a9e7",subway_s:"#f3c01c",subway_new:"#ce3245",subway_i:"#feb768",subway_ever:"#8cc966",subway_bu1:"#ff8939",subway_bu2:"#3cb44a",subway_bu3:"#cea43a",subway_bu4:"#187ce8",subway_bu10:"#924bdd",subway_dae1:"#ee1132",
subway_dae2:"#3cb44a",subway_dae3:"#f2bf35",subway_kwa1:"#3cb44a",subway_kwa2:"2\ud638\uc120",subway_jeo1:"#3cb44a",subway_ml:"#fa972e",subway_in1:"#83b5e1",subway_in2:"#ffa340",subway_kk:"#187ce8",subway_dh:"#3356b4",subway_ui:"#d2ca29",subway_sh:"#85bf37",subway_gg:"#9A7611",subway_sb:"#FFCE32",subway_sl:"#6789CA"};He.clickMarker=null;Kb.SUBTITLE_MAP={"0":"\uc548\ub0b4",5:"\uc0ac\uace0",a:"\uacf5\uc0ac",c:"\uc9d1\ud68c/\ud589\uc0ac"};Kb.ICON_MAP={"0":new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/trafficinfo/info.png",
new daum.maps.Size(24,21),new daum.maps.Point(12,10)),5:new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/trafficinfo/accident.png",new daum.maps.Size(24,21),new daum.maps.Point(12,10)),a:new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/trafficinfo/construction.png",new daum.maps.Size(24,21),new daum.maps.Point(12,10)),c:new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/trafficinfo/info.png",new daum.maps.Size(24,21),new daum.maps.Point(12,
10))};Kb.findAll=function(a,b){require("server").accident(null,function(c){a.call(b,Kb.loadAll_(c))})};Kb.loadAll_=function(a){var b=a.find("accidents").map(function(a){return new Kb(a)});b.timestamp=a.text("baseTime");return b};Ta.prototype.coords=new daum.maps.Coords(0,0);Ta.prototype.name="";Ta.prototype.oldname="";Ta.findWhatsHere=function(a,b,c){require("server").whatsHere({x:a.getX()|0,y:a.getY()|0},function(a){b.call(c,Ta.loadWhatsHere_(a))})};Ta.loadWhatsHere_=function(a){var b=a.text("new")?
a.text("new.name"):a.text("old.name");if(b){var c=new Ta;c.coords=new daum.maps.Coords(a.number("x"),a.number("y"));c.name=b;return c}return null};Ta.getAoiModel=function(a){var b=new Ta,c=a.id,d=a.lineData.split("|"),e=d[0].split(","),f=d[d.length-1].split(",");b.aoiPath=[d];b.startPoint=new daum.maps.Coords(e[0],e[1]);b.endPoint=new daum.maps.Coords(f[0],f[1]);b.centerPoint=a.coords;b.id=c;return b};define("model/Aoi",["map/Map"],function(a){function b(b,d,e){this.map_=a;this.searchResult=d;this.type=
e;this.overlay=new va(this.map_);this.id=b.id;this.aoiPath=b.aoiPath||[];this.startPoint=b.startPoint;this.endPoint=b.endPoint;this.markerPosition=this.centerPoint=b.centerPoint;this.parsedFullPath=this.coordsBounds=null;this.simplePathMap={};this.endMarker}b.prototype.getCoordsBounds=function(){var a=this.map_.getLevel();this.coordsBounds||this.calcBounds_(a);return this.coordsBounds};b.prototype.calcBounds_=function(){this.coordsBounds=new daum.maps.CoordsBounds;for(var a=this.parsedFullPath||this.parseAoiPath_(),
b,e=a.length;e--;){b=a[e];for(var f=b.length;f--;)this.coordsBounds.extend(new daum.maps.Coords(b[f].getX(),b[f].getY()))}};b.prototype.isLineOverlayEmpty=function(){return this.overlay.isEmpty()};b.prototype.hideLineOverlay=function(){this.overlay.hide()};b.prototype.clearLineOverlay=function(){this.overlay.clear()};b.prototype.resetMarkerPosition=function(){this.markerPosition=this.centerPoint};b.prototype.getVisibleMarkerPosition=function(){function a(b,d,e){var i=d+~~((e-d+1)/2),k=b[i],m=b[d],
n=b[e],u=h.getX(),q=h.getY();return f.contain(k)?k:i==d||i==e?null:g(m.getX(),m.getY(),u,q)<g(u,q,n.getX(),n.getY())?a(b,d,i):a(b,i,e)}var b,e,f=this.map_.getBounds(),h=this.map_.getCenter(),g=this.getDistance_;if(f.intersects(this.getCoordsBounds())&&!f.contain(this.markerPosition)){b=this.simplePathMap[this.map_.getLevel()].sort(function(a,b){return a.length-b.length});for(var i=b.length;i--;){e=b[i];if(e=a(e,0,e.length-1))return this.markerPosition=e}}return this.markerPosition};b.prototype.parseAoiPath_=
function(){var a,b;this.parsedFullPath=[];for(var e=0,f=this.aoiPath.length;e<f;e++){b=this.aoiPath[e];for(var h=0,g=b.length;h<g;h++){a=b[h].split(",");b[h]=new daum.maps.Coords(a[0],a[1])}this.parsedFullPath.push(b)}return this.aoiPath=this.parsedFullPath};b.prototype.getSimplePaths=function(a){var b=[];this.parsedFullPath||this.parseAoiPath_();if(!this.simplePathMap[a]){b=a<5?this.parsedFullPath:this.simplify_(a);this.simplePathMap[a]=b}return this.simplePathMap[a]};b.prototype.getDistance_=function(a,
b,e,f){return Math.sqrt(Math.pow(a-e,2)+Math.pow(b-f,2))};b.prototype.simplify_=function(a){var b=[],e=(1<<a>>1)*5,f=this.getDistance_;this.aoiPath.forEach(function(a){var c=[],i=a[0],l,j,m;c.push(i);for(var p=1,o=a.length-1;p<o;p++){l=a[p];j=l.getX();m=l.getY();j=f(j,m,i.getX(),i.getY());if(j>e){c.push(l);i=l}}c.push(a[a.length-1]);b.push(c)});return b};return b});Va.ADDRESS_TYPE={JIBUN:"JIBUN",ROAD:"ROAD"};Va.fetchByBCode=function(a,b){require("server").getBcodeShape({bcode:a,code:a},function(a){b(new Va(a))})};
Va.fetchByHCode=function(a,b){require("server").getHcodeShape({hcode:a,code:a},function(a){b(new Va(a))})};Va.fetchByJibunCoords=function(a,b,c){require("server").getAddressShape({x:a,y:b},function(a){c(new Va(a,Va.ADDRESS_TYPE.JIBUN))})};Va.fetchByRoadCoords=function(a,b,c){require("server").getAddressShape({x:a,y:b},function(a){c(new Va(a,Va.ADDRESS_TYPE.ROAD))})};Va.fetchByCid=function(a,b){require("server").getRealestateShape({id:a},function(a){b(new Va(a.object("polygons")))})};lb.ACTION_LIST=
{ENTER_CROSSWALK:[1,0],ENTER_DOUBLE_CROSSWALK:[1,0],ENTER_DOUBLE_BIKE_CROSSWALK:[1,0],ENTER_PEDESTRIAN_OVERPASS:[1,2],ENTER_STAIR:[1,1],ENTER_SUBWAY:[1,6],ENTER_UNDERGROUND:[1,3],ENTER_ELEVATOR:[1,4],ENTER_SUBWAY_ELEVATOR:[1,4],EXIT_SUBWAY_ELEVATOR:[1,4],ENTER_UNDERGROUND_BRIDGE:[1,5],ENTER_PEDESTRIAN_BRIDGE:[1,7],ENTER_STEPPING_STONE:[1,7],ENTER_ESCALATOR:[1,1],ENTER_BIKE_STAIR:[1,1],ENTER_BIKE_STAIR_ROAD_NORMAL:[1,1],ENTER_BIKE_STAIR_ROAD_WALK:[1,1],ENTER_BIKE_STAIR_ROAD_CAR:[1,1],ENTER_BIKE_ELEVATOR:[1,
4],ENTER_BIKE_ELEVATOR_ROAD_NORMAL:[1,4],ENTER_BIKE_ELEVATOR_ROAD_WALK:[1,4],ENTER_BIKE_ELEVATOR_ROAD_CAR:[1,4],ENTER_BIKE_UNDERGROUND_BRIDGE:[1,5],ENTER_BIKE_BRIDGE:[1,7],ENTER_BIKE_UPROAD:[0,9],ENTER_BIKE_TUNNEL:[2,5],ENTER_BIKE_ROAD_CROSS:[2,3],ENTER_BIKE_SLOPE:[2,4],ENTER_BIKE_SLOPE_ROAD_NORMAL:[2,4],ENTER_BIKE_SLOPE_ROAD_WALK:[2,4],ENTER_BIKE_SLOPE_ROAD_CAR:[2,4],ENTER_BIKE_UNDERGROUND:[0,10]};lb.STATE_LIST=["BIKE_CATEGORY_BIKE_NORMAL","BIKE_CATEGORY_BIKE_WALK","BIKE_CATEGORY_BIKE_CAR"];lb.ROTATIONCODE_LIST=
["STRAIGHT","TURN_LEFT","TURN_RIGHT"];lb.GRADIENT_TEXT={DOWNHILL:"\ub0b4\ub9ac\ub9c9\uae38",UPHILL:"\uc624\ub974\ub9c9\uae38",UPS_AND_DOWNS:"\uc624\ub974\ub9c9\uae38, \ub0b4\ub9ac\ub9c9\uae38",DOWNS_AND_UPS:"\ub0b4\ub9ac\ub9c9\uae38, \uc624\ub974\ub9c9\uae38"};lb.CAUTION_TEXT={ENTER_BIKE_TUNNEL:"\uc790\uc804\uac70\ub97c \ud0c0\uae30\uc5d0 \uc801\ud569\ud558\uc9c0 \uc54a\uc740 \uad6c\uac04\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc73c\ub2c8 \uc548\uc804\uc5d0 \uc8fc\uc758\ud558\uc138\uc694.",ENTER_BIKE_UNDERGROUND:"\uc790\uc804\uac70\ub97c \ud0c0\uae30\uc5d0 \uc801\ud569\ud558\uc9c0 \uc54a\uc740 \uad6c\uac04\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc73c\ub2c8 \uc548\uc804\uc5d0 \uc8fc\uc758\ud558\uc138\uc694.",
ENTER_BIKE_UPROAD:"\uc790\uc804\uac70\ub97c \ud0c0\uae30\uc5d0 \uc801\ud569\ud558\uc9c0 \uc54a\uc740 \uad6c\uac04\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc73c\ub2c8 \uc548\uc804\uc5d0 \uc8fc\uc758\ud558\uc138\uc694.",ENTER_OPS_TOURISM:"\uc790\uc804\uac70 \ud1b5\ud589\uc774 \uc81c\ud55c \ub41c \ub3c4\ub85c\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",ENTER_CROSSWALK:"\uc790\uc804\uac70 \uc804\uc6a9 \ud6a1\ub2e8\ubcf4\ub3c4\uac00 \uc5c6\uc744 \uc2dc, \uc790\uc804\uac70\uc5d0\uc11c \ub0b4\ub824 \ub04c\uace0 \ubcf4\ud589\ud558\uc138\uc694.",
ENTER_DOUBLE_CROSSWALK:"\uc790\uc804\uac70 \uc804\uc6a9 \ud6a1\ub2e8\ubcf4\ub3c4\uac00 \uc5c6\uc744 \uc2dc, \uc790\uc804\uac70\uc5d0\uc11c \ub0b4\ub824 \ub04c\uace0 \ubcf4\ud589\ud558\uc138\uc694."};Dc.RECOMMENDATION="RECOMMENDATION";Dc.SHORTEST="SHORTEST";Dc.NONE="NONE";Dc.AVOID_STAIR="AVOID_STAIR";Dc.load=function(a,b){a.error="";a.resultErrorCode="";a.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(b.number("bound.left"),b.number("bound.bottom")),new daum.maps.Coords(b.number("bound.right"),
b.number("bound.top")));a.time=b.number("time");a.distance=b.number("length");a.raw=b.obj_;var c=0;if(a.waypoints){var d=lb();d.seq="start";d.name=a.waypoints[0].name;d.summary=a.waypoints[0].name;d.coords=a.waypoints[0].coords;a.points.push(d)}var e=b.find("sections").length-1,f=a.sectionPoints=[],h=a.sectionPointTypes=[];if(b.text("resultCode")=="OK")a.error=false;else{a.error=true;a.resultErrorCode=b.text("resultCode")}a.routeMode=b.text("routeMode");var g=0,i=0,l=0,j=0;b.find("sections").forEach(function(b,
d){f[d]=[];h[d]=[];var m=[],r=b.find("guideList").length;b.find("guideList").forEach(function(b,e){var g=b.text("groupId");g=="-1"&&(g=null);if(g&&!m[g]){m[g]=Qc();a.points.push(m[g])}var j=lb();j.seq=++c;j.coords=new daum.maps.Coords(b.number("x"),b.number("y"));if(b.has("subwayStation")){j.subway=b.text("subwayStation.subwayStationName");if(b.has("subwayStation.exitNo"))j.subway=j.subway+(" "+b.text("subwayStation.exitNo")+"\ubc88\ucd9c\uad6c")}j.poi=b.text("poi.placeName");j.confirmid=b.text("poi.confirmId")||
null;j.cross=b.text("crossName")||null;j.desc=b.text("guideMent");j.action=b.text("guideCode");j.categoryCode=b.text("categoryCode");j.rotationCode=b.text("rotationCode");j.gradientCode=b.text("link.gradientCode");j.path=b.text("link.points").split("|").map(function(a){a=a.split(",");return new daum.maps.Coords(a[0],a[1])});if(b.has("roadView")){var i=new nb;i.panoId=b.text("roadView.panoid");i.pan=b.number("roadView.pan");i.coords=new daum.maps.Coords(b.number("roadView.x"),b.number("roadView.y"));
i.thumbnail="http://va.maps.daum-img.net/suggest"+b.text("roadView.filename");j.roadview=i;a.hasRoadviewInfo=true}if(g){m[g].start=m[g].start||j.getSummary();m[g].end=j.getSummary()||m[g].end;m[g].time=m[g].time+b.number("link.time");m[g].distance=m[g].distance+b.number("link.length");m[g].points.push(j)}else a.points.push(j);if(j.path.length-1){f[d]=f[d].concat(j.path);var k=/^BIKE_CATEGORY_BIKE_/.test(j.categoryCode)?"BIKE":"NONE",i=j.path.map(function(){return k});h[d]=h[d].concat(i)}if(e==r-1&&
a.waypoints){i=a.waypoints[d+1].name;if(!g)j.desc="["+i+"] \ub3c4\ucc29"}});g=g+(b.number("calories")||0);i=i+(b.number("facilities.bridge")||0);l=l+(b.number("facilities.underground")||0);j=j+(b.number("facilities.stair")||0);if(d<e&&a.waypoints){var n=a.waypoints[d+1],q=lb();q.name=n.name;q.summary=n.name;q.coords=n.coords;q.roadview=null;q.desc=q.action=q.rotationCode="";q.seq="through";a.points.push(q)}});a.graph={distance:b.number("gradientChart.distance"),offset:b.number("gradientChart.offset"),
points:b.text("gradientChart.points").split("|").map(function(a){var b=a.split(","),a=parseFloat(b[0]),b=parseFloat(b[1]);return{x:a,y:b}}),info:{min:String.formatNumber(Math.round(b.number("gradientChart.minHeight"))),max:String.formatNumber(Math.round(b.number("gradientChart.maxHeight"))),minKey:b.number("gradientChart.minHeightIndex"),maxKey:b.number("gradientChart.maxHeightIndex")}};a.graph.info.minValue=a.graph.points[a.graph.info.minKey].y;a.graph.info.maxValue=a.graph.points[a.graph.info.maxKey].y;
a.calories=String.formatNumber(g);a.bridge=i;a.underground=l;a.stair=j;if(a.waypoints){var d=a.waypoints.length-1,m=lb();m.seq="goal";m.name=a.waypoints[d].name;m.summary=a.waypoints[d].name;m.coords=a.waypoints[d].coords;a.points.push(m)}a.points.some(function(){});return a};Cb.getModeLineColor=function(a){var b="#7abbff";switch(a){case "SHORTEST":b="#7abbff";break;case "BIKE_ONLY":b="#7abbff";break;case "ACCESSIBLE":b="#7abbff"}return b};Cb.getModeOutLineColor=function(a){var b="#54a8ff";switch(a){case "SHORTEST":b=
"#54a8ff";break;case "BIKE_ONLY":b="#54a8ff";break;case "ACCESSIBLE":b="#54a8ff"}return b};Cb.getModeText=function(a){var b=null;switch(a){case "SHORTEST":b="\ucd5c\ub2e8\uac70\ub9ac";break;case "BIKE_ONLY":b="\uc790\uc804\uac70\uc804\uc6a9";break;case "ACCESSIBLE":b="\ud3b8\uc548\ud55c\uae38"}return b+" \uacbd\ub85c"};Cb.find=function(a,b,c){var d={u2X:[],u2Y:[]},e=a.length-1,f=a[0],h=a[e];if(a.length>=2&&f.coords&&h.coords){for(var h=f.coords,g=false,i=1;i<a.length;i++)if(h.getX()===a[i].coords.getX()&&
h.getY()===a[i].coords.getY()||f.id&&a[i].id&&f.id==a[i].id)g=true;else{g=false;break}if(g){f=Cb();f.waypoints=a;f.error=true;f.resultErrorCode="SAME_POINT";b(f);return}}var l="";a.forEach(function(a,b){var c=a.coords;if(b!=0&&b!=e&&b!=1){d.u2X.push(c.getX()|0);d.u2Y.push(c.getY()|0)}else{var f=b==0?"s":b==e?"e":"p";d[f+"Name"]=a.name;d[f+"X"]=c.getX()|0;d[f+"Y"]=c.getY()|0}l=l+((a.id?a.id:"")+(b!=e?",":""))});d.ids=l;require("server").bikeSetRoute(d,function(c){var d=Cb();d.waypoints=a;Cb.load(d,
c);b(d)},function(a){c(a)})};Cb.load=function(a,b){a.error="";a.resultErrorCode="";a.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(b.number("bound.left"),b.number("bound.bottom")),new daum.maps.Coords(b.number("bound.right"),b.number("bound.top")));a.raw=b.obj_;if(b.text("resultCode")=="OK"){a.error=false;var c=b.find("directions").map(function(b){var c=Dc();c.waypoints=a.waypoints;return Dc.load(c,b)});a.bikeRoutes=c.filter(function(a){return!a.error})}else{a.error=true;a.resultErrorCode=
b.text("resultCode")}};ld.find=function(a,b,c,d){require("server").busLineStop({busstopid:a,busline:b},function(a){c.call(d,ld.createFromData(a))})};ld.createFromData=function(a){var b=null,c=a.text("realtimeState"),d=a.object("arrival");if(d){var e=d.raw(),b=new ld;b.stateArray=[{status:d.text("collectStatus"),state:d.number("vehicleState"),time:d.number("arrivalTime"),message:""}];if(e.hasOwnProperty("vehicleState2")){b.stateArray.push({status:d.text("collectStatus2"),state:d.number("vehicleState2"),
time:d.number("arrivalTime2"),message:""});b.stateOnly=false}else b.stateOnly=true;for(e=0;e<b.stateArray.length;e++){var f=b.stateArray[e],h="";if(c=="CP_ERROR")h=a.text("hname").split(" ")[0]+" \ubc84\uc2a4 \uc7a5\uc560";else if(c=="ERROR")h="\uc810\uac80\uc911";else if(f.state==-3)h="\uc810\uac80\uc911";else if(f.state==1001)h="\uc815\ubcf4\uc5c6\uc74c";else if(f.state==-2)h="\uc6b4\ud589\uc885\ub8cc";else if(f.state==-1)h="\ucc28\ub7c9\ub300\uae30";else if(f.state==10)h="\ud68c\ucc28\ub300\uae30\uc9c0\uc5f0";
else if(f.state==1002)h="\uace7\ub3c4\ucc29";else if(f.state==1003)h="\uc6b0\ud68c\uc6b4\ud589\uc911";else{h="\uc815\uc0c1\uc6b4\ud589";f.time<60&&(h="\uc815\ubcf4\uc5c6\uc74c")}f.message=h}if(b.stateArray.length==2&&b.stateArray[0].message!="\uc815\uc0c1\uc6b4\ud589"&&(b.stateArray[0].message==b.stateArray[1].message||b.stateArray[1].message=="\uc815\ubcf4\uc5c6\uc74c"))b.stateOnly=true;b.direction=d.text("direction");b.direction2=d.text("direction2");b.busStopCount=d.number("busStopCount");b.busStopCount2=
d.number("busStopCount2")}return b};zd.dayTypes={1:"\ud3c9\uc77c",2:"\ud1a0\uc694\uc77c",3:"\ud734\uc77c",4:"\uc8fc\ub9d0"};ba.TYPE={"0101":"blue",BLUE:"blue","0102":"green",GREEN:"green","0103":"red",RED:"red","0104":"yellow",YELLOW:"yellow","0109":"ma",MAUL:"ma","0106":"general",GENERAL:"general","0107":"sit",SEAT:"sit","0110":"direct",DIRECT:"direct","0108":"express",EXPRESS:"express","0105":"air",AIRPORT:"air","0111":"external",OUTER:"external","0112":"intercity",INTERCITY:"intercity","0113":"rural",
RURAL:"rural"};ba.STRING={blue:"\uac04\uc120",green:"\uc9c0\uc120",red:"\uad11\uc5ed",yellow:"\uc21c\ud658",ma:"\ub9c8\uc744",general:"\uc77c\ubc18",sit:"\uc88c\uc11d",direct:"\uc9c1\ud589",express:"\uae09\ud589",air:"\uacf5\ud56d",external:"\uc678\uacfd",intercity:"\uc2dc\uc678",rural:"\ub18d\uc5b4\ucd0c"};ba.prototype.addPath=function(a){a=a.split(",");this.linePath_=[];for(var b=0;b<a.length;b++){var c=a[b].split(" ");c&&this.linePath_.push(new daum.maps.Coords(c[0],c[1]))}};ba.prototype.addBusStop=
function(a){a.forEach(function(a){this.busStops.push(new R(a))},this)};ba.findAll=function(a,b,c,d,e){a={q:a,spage:b};if(c.regionName)a.g_name=c.regionName;else{if(c.regionId)a.region_id1=c.regionId;if(c.typeId)a.bus_type_id=c.typeId;if(c.qaType)a.qa_type=c.qaType}require("server").searchBus(a,function(a){d.call(e,ba.loadAll_(a))})};ba.loadAll_=function(a){var b=a.find("List").map(function(a){return new ba(a)}),c=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});c.splice(0,
0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});var d=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});d.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});var e=a.text("current_guide.qa_type")||"",f=a.text("query"),h={keyword:a.text("current_guide.keyword_std")||"",qaType:a.text("current_guide.qa_type")||"",guideType:a.text("current_guide.guide_type")||"",area1:a.text("current_guide.area_std1")||"",area2:a.text("current_guide.area_std2")||"",samearea1:a.find("current_guide.samearea1").map(function(a){return a.text("value")})||
[],samearea2:a.find("current_guide.samearea2").map(function(a){return a.text("value")})||[]},g={keyword:a.text("next_guide.keyword_std")||"",qaType:a.text("next_guide.qa_type")||"",guideType:a.text("next_guide.guide_type")||"",area1:a.text("next_guide.area_std1")||"",area2:a.text("next_guide.area_std2")||"",samearea1:a.find("next_guide.samearea1").map(function(a){return a.text("value")})||[],samearea2:a.find("next_guide.samearea2").map(function(a){return a.text("value")})||[]};return{count:a.number("total_count"),
pageCount:a.number("page_count"),buses:b,regions:c,types:d,qaType:e,originalKeyword:f,currentGuide:h,nextGuide:g}};ba.findOne=function(a,b,c,d){a={q:a,bus_srcid:b};require("server").searchBus(a,function(a){c.call(d,ba.loadAll_(a))})};ba.findAllInRegion=function(a,b,c,d){require("server").busStopsInBounds({hcode:a,page:b},function(a){c.call(d,ba.loadAllInRegion_(a))})};ba.loadAllInRegion_=function(a){return ba.loadInBounds_(a)};ba.findInBounds=function(a,b,c,d){var e=a.getSouthWest(),a=a.getNorthEast();
require("server").busLinesInBounds({rect:(e.getX()|0)+","+(e.getY()|0)+","+(a.getX()|0)+","+(a.getY()|0),page:b},function(a){c.call(d,ba.loadInBounds_(a))})};ba.loadInBounds_=function(a){var b=a.find("buses").map(function(a){return new ba(a)});return{count:a.number("total"),buses:b}};ba.findBusLine=function(a,b,c){require("server").busInfo(a,function(d){if(d.text("value")!="error"&&d.text("id")){d=new ba(d);d.id=d.id||a;b.call(c,d)}else alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})};
ba.prototype.loadVehicles_=function(a){return a.map(function(a){var c=new Ec;c.status=a.text("collectStatus");c.number=a.text("vehicleNumber");c.position=a.number("sectionOrder")-2+Math.min(1,a.number("sectionOffsetDist")/Math.max(a.number("sectionDist"),1)||0);c.first=a.bool("firsttVehicle");c.last=a.bool("lastVehicle");c.type=a.number("vehicleType");return c})};ba.prototype.loadBusDetailInfo_=function(a){return new zd(a)};Ec.TYPE_LOW=1;Ec.TYPE_BENDY=2;Ec.TYPE_SECOND_FLOOR=3;R.prototype.id="";R.prototype.coords=
new daum.maps.Coords(0,0);R.prototype.name="";R.prototype.region="";R.prototype.hitTest=function(a,b){var c=3<<b;return Math.abs(a.getX()-this.coords.getX())<c&&Math.abs(a.getY()-this.coords.getY())<c};R.prototype.load_=function(a){this.rawData=a;this.id=a.text("masterId")||a.text("id")||a.text("code")||a.text("DOCID")||a.text("busStopId");this.coords=new daum.maps.Coords(a.number("wx")||a.number("x"),a.number("wy")||a.number("y"));this.name=String.stripTags(a.text("name")||a.text("BUSSTOP_NAME"))||
a.text("busStopName");this.hname=String.stripTags(a.text("hname1")+" "+a.text("hname2")+" "+a.text("hname3"))||a.text("address");this.codenames=[];a.find("readableItsIdList").length>0?this.codenames=a.find("readableItsIdList").map(function(a){return a.text("value").trim()},this):a.text("readableItsId")?this.codenames[0]=a.text("readableItsId"):a.text("STOP_ID")?this.codenames=a.text("STOP_ID").split(","):a.text("displayId")&&(this.codenames[0]=a.text("displayId"));this.codenames=this.codenames.reduce(function(a,
b){b=b.replace(/\([\W\w]*\)/,"").replace(/-/g,"").trim();a.indexOf(b)===-1&&a.push(b);return a},[]);this.turningPoint=Boolean(a.number("turningPoint"));this.virtual=Boolean(a.number("virtual"));this.region=a.text("RGN_D1_NAME");this.region1=a.text("RGN_D2_NAME");this.region2=a.text("RGN_D3_NAME");var b=this.lines=[];a.find("lines").map(function(a){if(a.has("busArrivals")){var d=this.codenames,e=a.raw();e.busArrivals.forEach(function(a){var c={};a.vehicleArrivals.forEach(function(b,d){var i=md("arrivalTime",
d),j=md("busStopCount",d),m=md("stateSimpleMessage",d),p=md("vehicleState",d),o=md("collectStatus",d);c.direction=a.direction;c.masterBusStopId=e.id;c.order=a.order;c[i]=b.arrivalTime;c[j]=b.busStopCount;c[m]=b.stateSimpleMessage;c[p]=b.vehicleState;c[o]=a.collectStatus});b.push(new ba(new Ga({arrival:c,id:e.id,idx:a.orderIndex,name:e.name,realTime:e.isRealTime,realtimeState:a.realtimeState,running:a.running,type:e.typeCode,parameterState:a.parameterState}),d))})}else b.push(new ba(a,this.codenames))},
this);this.roadview=nb.create(a)||nb.createWithText(a.text("roadview"));if(!this.roadview&&a.object("roadView"))this.roadview=nb.create(a.object("roadView"));this.types=a.text("STOP_BUS_TYPE").split("|").map(function(a){return ba.TYPE[a]}).filter(Boolean);this.direction=a.text("direction")||null;this.realTime=a.text("realTime")=="true"||R.isRealtimeBusGroup(this.lines)||false;this.nextLinkSpeed=a.number("nextLinkSpeed")||0;this.order=a.number("order")||0;this.idx=a.text("idx")||a.text("orderIdx")};
R.isRealtimeBusGroup=function(a){return a.every(function(a){return a.realTime})};R.find=function(a,b,c){require("server").busStop(a,function(a){b.call(c,R.load_(a))})};R.findTransitBusStop=function(a,b,c,d){require("server").transitBusStop({busstopid:a,buslines:b.map(function(a){return a.split(":")[0]}).join(",")},function(a){var f={};b.forEach(function(a){f[a.split(":")[0]]=false});a=a.raw();a.lines=a.lines.map(function(a){if(b.indexOf(a.id+":"+a.idx)>-1){a.isChangedIdx=false;f[a.id]=true}else{a.isChangedIdx=
true;a.wrongIdx="1/1"}return a}).filter(function(a){return!a.isChangedIdx||a.isChangedIdx&&!f[a.id]});c.call(d,R.load_(new Ga(a)))})};R.findTransitMultiBusStop=function(a,b,c){require("server").transitMutiBusStop(a,function(a){a=a.array("value");b.call(c,a)},function(){alert("\uc11c\ubc84 \uc751\ub2f5\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \uc7ac\uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")})};R.load_=function(a){return new R(a)};R.findAllByName=function(a,b,c,d,e){a={spage:b,
q:a};if(c.regionName)a.g_name=c.regionName;else{if(c.regionId)a.region_id1=c.regionId;if(c.typeId)a.bus_type_id=c.typeId;if(c.qaType)a.qa_type=c.qaType}require("server").searchBusStop(a,function(a){var b=a.find("List").map(function(a){var b=new R;b.load_(a);return b}),c=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});c.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});var i=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});
i.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});var l=a.text("current_guide.qa_type")||"",j=a.text("query"),m={keyword:a.text("current_guide.keyword_std")||"",qaType:a.text("current_guide.qa_type")||"",guideType:a.text("current_guide.guide_type")||"",area1:a.text("current_guide.area_std1")||"",area2:a.text("current_guide.area_std2")||"",samearea1:a.find("current_guide.samearea1").map(function(a){return a.text("value")})||[],samearea2:a.find("current_guide.samearea2").map(function(a){return a.text("value")})||
[]},p={keyword:a.text("next_guide.keyword_std")||"",qaType:a.text("next_guide.qa_type")||"",guideType:a.text("next_guide.guide_type")||"",area1:a.text("next_guide.area_std1")||"",area2:a.text("next_guide.area_std2")||"",samearea1:a.find("next_guide.samearea1").map(function(a){return a.text("value")})||[],samearea2:a.find("next_guide.samearea2").map(function(a){return a.text("value")})||[]};d.call(e,{count:a.number("total_count"),pageCount:a.number("page_count"),busStops:b,regions:c,types:i,qaType:l,
originalKeyword:j,currentGuide:m,nextGuide:p})})};Je.prototype.getBusStops=function(a){var b=["blue","green","red","yellow","air","general","sit","express","ma","direct","external","intercity","rural"];require("server").busStopGroup(this.id,function(c){a(c.find("value").map(function(a){var c=new R;c.id=a.text("id");c.name=a.text("name");c.coords=this.coords;c.codenames=a.find("readableItsIdList").map(function(a){return a.text("value")});c.codenames=c.codenames.reduce(function(a,b){b=b.replace(/\([\W\w]*\)/,
"").replace(/-/g,"").trim();a.indexOf(b)===-1&&a.push(b);return a},[]);c.types=[];for(var f=0;f<13;++f)a.number("type2")&1<<f&&c.types.push(b[f]);return c},this))}.bind(this))};Ka.prototype.load_=function(a){if(this.error=a.text("success")!="true"){this.resultCode=a.text("resultCode");return this}this.resultCode="";this.raw=a.obj_;this.source=a.text("source");var b=this.outlines.pop();this.outlines=a.find("outlines").map(function(a){return a.text("value")});this.outlines.push(b);this.distance=a.number("totalLength");
this.lenthOnRoad=a.number("lenthOnRoad");this.time=a.number("expectedTime");this.taxiFare=a.number("expectedTaxiCost");this.toll=a.number("tollCost");b=a.find("tollFares");this.tollFares=[];for(var c=0;c<6;c++){var d=b[c];d&&d.number("value")?this.tollFares.push(d.number("value")):this.tollFares.push(0)}this.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(a.number("bound.left"),a.number("bound.bottom")),new daum.maps.Coords(a.number("bound.right"),a.number("bound.top")));this.ferryNode=a.bool("ferryNode");
b=a.find("nodes").map(K.create);this.hasRoadviewInfo=b.some(function(a){return!!a.roadview});this.checkpoints=b;var e=Application.flagSearchController.getWaypoints(),f=0;this.checkpoints.forEach(function(a){if(a.seq==K.VIA||a.seq==K.START||a.seq==K.END){if(e[f].pointType!=="BUSSTOP")a.confirmid=e[f].id;f++}},this);var h=this.sectionPoints=[],g=[],i=0;sections=a.find("sections").forEach(function(a,b){++i;h[b]=[];var c=null;a.find("links").forEach(function(a){if(a.text("points")){var d=a.number("grade"),
e=a.text("roadnum");if(d==1)if(c&&c.number==e){c.time=c.time+a.number("time");c.distance=c.distance+a.number("length");++c.count}else{c={name:a.text("name"),number:e,time:a.number("time"),distance:a.number("length"),start:i,count:1};g.push(c)}e=this.checkpoints[i];e.traffic=K.getTraffic(d,a.number("speed"));this.raw.nodes[i].traffic=K.getTrafficText(e.traffic);d=a.text("points").split(",");e.points=d.map(function(a){a=a.split(" ");return new daum.maps.Coords(a[0],a[1])});if(a.has("hints"))for(var d=
e.hints=[],a=a.text("hints"),f=0,l=a.length;f<l;++f)d[f]=a.charCodeAt(f)-48;h[b]=h[b].concat(e.points);++i}},this)},this);this.pointGroups=[];g.forEach(function(a){var b=this.pointGroups[a.start]=new Uc;b.name=a.name;b.number=a.number;b.time=a.time;b.distance=a.distance;b.count=a.count;b.item=this.checkpoints.slice(a.start,a.start+a.count)},this);a.number("roadside.on")&&this.loadRoadside_(a);return this};Ka.prototype.loadRoadside_=function(a){this.accidents=a.array("roadside.accident").map(function(a){return new Kb(a)});
this.cctvs=a.array("roadside.cctv").map(function(a){return new Pa(a)});this.gasStations=a.array("roadside.gasStation").map(function(a){var c=new ca;c.id=a.number("confirmId");c.placename=a.text("placeName");c.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return c});this.restAreas=a.array("roadside.restArea").map(function(a){var c=new ca;c.id=a.number("confirmId");c.placename=a.text("placeName");c.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return c})};Ka.REALTIME="SHORTEST_REALTIME";
Ka.OPTIMAL="SHORTEST_TIME";Ka.SHORTEST="SHORTEST_DIST";Ka.prototype.method=Ka.REALTIME;Ka.OPTION_NONE="NONE";Ka.OPTION_FREEWAY="FREEWAY";Ka.OPTION_BIKE="BIKE";Ka.prototype.option=Ka.OPTION_NONE;Ka.prototype.viaIndex=0;Ka.find=function(a,b,c,d,e){var f=new Ka;f.method=b;f.option=c;var h={carMode:b.toString(),carOption:c.toString(),u2X:[],u2Y:[]},g=a.length-1,i="";a.forEach(function(a,b){var c=a.coords;if(b!=0&&b!=g&&b!=1){h.u2X.push(c.getX()|0);h.u2Y.push(c.getY()|0)}else{var d=b==0?"s":b==g?"e":"p";
h[d+"Name"]=a.name;h[d+"X"]=c.getX()|0;h[d+"Y"]=c.getY()|0}i=i+((a.id?a.id:"")+(b!=g?",":""))});h.ids=i;f.outlines=[a[0].name,a[g].name];f.origin=a[0];f.dest=a[g];if(a.length==2&&f.origin.coords&&f.dest.coords){a=f.origin.coords;b=f.dest.coords;if(a.getX()==b.getX()&&a.getY()==b.getY()){f.error=true;f.resultCode="SAME_POINT";d.call(e,f);return}}var l=fc();require("server").carRoute(h,function(a){l.dispose();d.call(e,f.load_(a))})};Ka.createRoadviewParam=function(a){var b={},c=a.length-1,d="",e=[];
a.forEach(function(a,h){var g=a.coords;if(h!=0&&h!=c){e.push(g.getX()|0);e.push(g.getY()|0)}else{var i=h==0?"s":"e";b[i+"Name"]=a.name;b[i+"X"]=g.getX()|0;b[i+"Y"]=g.getY()|0}d=d+((a.id?a.id:"")+(h!=c?",":""))});b.ids=d;if(e.length)b.mXY=e.join(",");return b};Ka.showRoadviewVideo=function(a,b,c,d){a=Ka.createRoadviewParam(a);jQuery.extend(a,b||{});require("server").roadviewVideoView(a,function(a){c.call(d,a)},function(){c.call(d,new Ga)})};W.prototype.load_=function(a){if(this.error=a.text("resultSummaryCode")!=
"ROUTE_RESULT_SUCCESS"){this.resultCode=a.text("resultSummaryCode");return this}this.resultCode="";var b=this.origin,c=this.dest;this.carRoutes=a.find("list").map(function(a){var e=new Ka;e.origin=b;e.dest=c;return e.load_(a)});return this};W.REALTIME="SHORTEST_REALTIME";W.OPTIMAL="SHORTEST_TIME";W.SHORTEST="SHORTEST_DIST";W.prototype.method=W.REALTIME;W.OPTION_NONE="NONE";W.OPTION_FREEWAY="FREEWAY";W.OPTION_BIKE="BIKE";W.getSourceLineColor=function(a){var b="#3396ff";switch(a){case "daum":b="#3396ff";
break;case "skp":b="#ff4122";break;case "mn":b="#00e005";break;case "kt":b="#ffd91d"}return b};W.getSourceOutLineColor=function(a){var b="#ffffff";switch(a){case "daum":b="#004997";break;case "skp":b="#7b1100";break;case "mn":b="#006b08";break;case "kt":b="#784900"}return b};W.getSourceText=function(a){var b=null;switch(a){case "daum":b="\uae40\uae30\uc0ac \uc9c0\ub3c4";break;case "skp":b="\ud2f0\ub9f5";break;case "mn":b="\ub9f5\ud53c";break;case "kt":b="\uc62c\ub808\ub0b4\ube44"}return b+" \uacbd\ub85c"};
W.prototype.option=W.OPTION_NONE;W.prototype.viaIndex=0;W.find=function(a,b,c,d,e,f){var h=new W;h.method=b;h.option=c;var b={carMode:b.toString(),carOption:c.toString()},g=a.length-1,i="";a.forEach(function(a,b){var c=a.coords,d="pt";b===0?d="sp":b===g&&(d="ep");c=[c.getX()|0,c.getY()|0,a.name?encodeURIComponent(a.name):"",a.pointType||"POINT",a.id||""];i=i+("&"+d+"="+c.join(","))});h.outlines=[a[0].name,a[g].name];h.origin=a[0];h.dest=a[g];if(a.length>=2&&h.origin.coords&&h.dest.coords){for(var c=
h.origin.coords,l=false,j=1;j<a.length;j++)if(c.getX()===a[j].coords.getX()&&c.getY()===a[j].coords.getY()||h.origin.id&&a[j].id&&h.origin.id==a[j].id)l=true;else{l=false;break}if(l){h.error=true;h.resultCode="SAME_POINT";d.call(f,h);return}}var m=fc();require("server").carSetRoute({params:b,addParamData:i},function(a){m.dispose();d.call(f,h.load_(a))},function(a){m.dispose();e.call(f,a)})};Pa.prototype.testZoom=function(a){return a<=this.flag?true:false};Pa.ICON=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2009/map/traffic/cctv.png",
new daum.maps.Size(24,20));Pa.findAll=function(a,b,c){require("server").cctv(c,function(c){a.call(b,Pa.loadAll_(c))})};Pa.loadAll_=function(a){return a.find("value").map(function(a){return new Pa(a)})};Pa.get=function(a,b,c){require("server").cctvById(c,function(c){a.call(b,Pa.loadOne_(c))})};Pa.loadOne_=function(a){return new Pa(a)};K.STRAIGHT="a";K.LEFT="b";K.RIGHT="c";K.UTURN="d";K.TOPRIGHT="f";K.BOTTOMRIGHT="g";K.BOTTOMLEFT="h";K.TOPLEFT="i";K.GOHIGHWAY="j";K.GOHIGHWAYSIDE="e";K.GOUNDERPASS="k";
K.GOUNDERPASSSIDE="l";K.HEAVY="heavy";K.MEDIUM="medium";K.MODERATE="moderate";K.LIGHT="light";K.NULL="null";K.START="start";K.END="goal";K.VIA="through";K.TG="tg";K.RESTAREA="restarea";K.TRAFFIC_TABLE=[[20,50,80],[20,40,60],[10,20,40]];K.getTable=function(a){return K.TRAFFIC_TABLE[a<=1?0:a<=4?1:2]};K.getTraffic=function(a,b){var c=K.getTable(a);return b<=0?K.NULL:b<=c[0]?K.HEAVY:b<=c[1]?K.MEDIUM:b<=c[2]?K.MODERATE:K.LIGHT};K.getTrafficText=function(a){switch(a){case K.HEAVY:return"\uc815\uccb4";case K.MEDIUM:return"\uc9c0\uccb4";
case K.MODERATE:return"\uc11c\ud589";case K.LIGHT:return"\uc6d0\ud65c"}return""};K.ROTATION=[null,K.STRAIGHT,K.LEFT,K.RIGHT,K.UTURN,K.BOTTOMLEFT,K.BOTTOMRIGHT,K.TOPRIGHT,K.TOPLEFT,K.GOHIGHWAY,K.GOHIGHWAYSIDE,K.GOUNDERPASS,K.GOUNDERPASSSIDE];K.TYPE={START:K.START,END:K.END,VIA:K.VIA};K.create=function(a){var b=new K;b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));b.seq=K.TYPE[a.text("type")]||a.number("seq");b.name=a.text("name");b.distance=a.text("distance");b.info=a.text("info");if(a.has("roadView"))b.roadview=
nb.create(a.object("roadView"));b.rotation=K.ROTATION[a.number("arrowCode")]||K.STRAIGHT;b.restArea=a.number("guideCode")==35;b.tollgate=a.number("guideCode")==36;b.ferry=a.number("guideCode")==40;b.accList=a.array("accList");return b};K.prototype.isWaypoint=function(){return[K.START,K.END,K.VIA].indexOf(this.seq)>=0};Uc.prototype.number=0;Uc.prototype.name="";Uc.prototype.time=0;Uc.prototype.distance=0;Uc.prototype.count=1;Rd.create=function(a){var a=a.split("^"),b=new Rd;b.confirmid=a[0];b.name=
a[1];return b};v.VIEW_ON_MAP_PRIFIX="view_on_map_";v.DEFAULT_COLOR_PRIFIX="favorite_color_";v.DEFAULT_ICON="01";v.DEFAULT_COLOR="02";v.DISPLAY1="DISPLAY1";v.CREATE_AT="CREATE_AT";v.MAX_VIEW_ON_MAP_COUNT=10;v.MAX_FAVORITE_COUNT_ON_FOLDER=500;v.FOLDER_TYPE={MY:"M",SUBSCRIBE:"S",THEME:"T"};v.ALLOW_UPDATE_FIELD_ARR=["display1","memo","color"];v.ALLOW_COLOR_TYPE="01 02 03 04 05 06 07 08".split(" ");v.COLOR_ICON_TYPE_LIST="point address place busstop busstopline subwaystation".split(" ");v.isSuccess=function(a){a=
a.text("status.code");if(["NOT_AUTHORIZED","NO_KAKAO_LOGIN"].indexOf(a)!==-1){alert("\ub85c\uadf8\uc544\uc6c3\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");location.href=location.origin}return[v.RESULT_CODE.SUCCESS,v.RESULT_CODE.REVIEW_VIEW_PRIVATE].indexOf(a)!==-1};v.deduplicationStatus=function(a){var a=a.has("statusList")?a.find("statusList"):a.object("status"),b=[];if(Array.isArray(a))a.forEach(function(a){b.indexOf(a.text("status"))===-1&&b.push(a.text("status"))});else{a=a.text("code");b.push(a)}return b};
v.getUserinfo=function(a,b){require("server").favoriteUser(null,function(c){a.call(b,c)})};v.setService=function(a,b){a&&require("server").favoriteSelect(a.toObject?a.toObject():a,b)};v.findFolder=function(a,b,c){if(!b.sort)b.sort=v.CREATE_AT;require("server").favoriteFolderList(b,function(b){a.call(c,v.loadFolder_(b))})};v.loadFolder_=function(a){if(v.isSuccess(a)){var b={},c=a.object("ids")?a.object("ids").raw():{},d=-1,a=a.find("result")?a.find("result").map(function(a,b){var c=a.raw();c.folderId===
0&&(d=b);if(c.title)c.title=c.title.replace(/\\n/g," ");return c}):[];Object.keys(c).forEach(function(a){b[a.toLowerCase()]=c[a]});c=void 0;if(d>-1){var e=a.splice(d,1)[0];a.unshift(e)}return{list:a,favIdMap:b}}return{status:a.text("status.code")}};v.findAll=function(a,b,c){if(!b.type)b.type=v.FOLDER_TYPE.MY;require("server").favoriteList(b,function(b){a.call(c,v.loadAll_(b))})};v.loadAll_=function(a){if(v.isSuccess(a)){var b=a.find("result").map(function(a){return new v(a)}),b=b.concat([]).filter(function(a){return v.allowType.indexOf(a.type)>
-1}),c=null;if(a.object("ids")){var c={},d=a.object("ids").raw();Object.keys(d).forEach(function(a){c[a.toLowerCase()]=d[a]});d=void 0}a=a.find("homeList").map(function(a){return new v(a)});return{list:b,favIdMap:c,homeList:a}}return{status:a.text("status.code")}};v.copy=function(a,b){if(a||a.seq){var c=a.seq;require("server").favoriteCopy(c,b)}};v.folderCUD=function(a,b,c){if(a||b){var d=null;switch(a){case "C":d=require("server").favoriteFolderAdd;break;case "U":d=require("server").favoriteFolderUpdate;
break;case "D":d=require("server").favoriteFolderDelete}d&&d(b.toObject?b.toObject():b,c)}};v.favCUD=function(a,b,c){if(b){var d=null;switch(a){case "C":d=require("server").favoriteAdd;break;case "U":d=require("server").favoriteUpdate;break;case "D":d=require("server").favoriteDelete}d&&d(b.toObject?b.toObject():b,c)}};v.addBusline=function(a,b){a&&require("server").favoriteSyncBusline(a.toObject?a.toObject():a,b,function(a){b(new Ga(JSON.parse(a.responseText)))})};v.removeBusline=function(a,b){a&&
require("server").favoriteSyncBusline(a.toObject?a.toObject():a,b,function(a){b(new Ga(JSON.parse(a.responseText)))})};v.findHome=function(a){require("server").favoriteHomeList({},function(b){var c=null;v.isSuccess(b)&&(c=b.find("homeList").map(function(a){return new v(a)}));a(c)})};v.findRouteKey=function(a,b){a&&require("server").favoriteRouteKey({display1:"text",route_form:a.route_form,type:a.type},b)};v.getFavDisplays=function(a,b){var c=["\uc74d","\uba74","\ub3d9","\ub85c","\uac00"],d,e,f=b.name||
"",h="";switch(a){case "point":f=b.name||b.oldname;break;case "address":if(b.infowindowSubAddress)h=b.infowindowSubAddress.address;else if(b.otherName){d=b.otherName.split(" ").reverse();d.some(function(a){e=a.substr(a.length-1,1);h=h?a+" "+h:a;if(c.indexOf(e)!==-1)return true})}break;case "place":if(b.newAddress)h=b.newAddress;if(b.address)if(h){d=b.address.split(" ");d.forEach(function(a){e=a.substr(a.length-1,1);c.indexOf(e)!==-1&&(h=h+(" ("+a+")"))})}else h=b.address;break;case "busstop":(d=b.hname.trim())||
(d=b.region+" "+b.region1+" "+b.region2);h=d||"";break;case "busline":h=b.region;break;case "route_pubtrans":case "route_subway":if(typeof b=="object"){d=jQuery.extend([],b);b.length>2&&(d=[b[0],b[b.length-1]])}case "route_car":case "route_walk":case "route_bicycle":if(typeof b=="object"){d||(d=b);f=d.map(function(a){return a.name}).join(" \u2192 ")}typeof b=="string"&&(f=b)}f={name:f};if(h)f.subtitle=h;return f};v.createFromFav=function(a){var b={require:["folderId","color","type","key","display1",
"display2","memo"],point:["x","y"],address:["x","y"],place:["x","y"],subwaystation:["x","y"],busstop:["its_id","buslines","x","y"],busline:["busline_type"],route_car:["route_form"],route_pubtrans:["route_form"],route_walk:["route_form"],route_bicycle:["route_form"],route_subway:["route_form"],roadview:["pan","tilt","zoom","x","y"],storeview:["pan","tilt","zoom","spot_id","x","y"]},c={};b.require.forEach(function(b){a[b]!==void 0&&a[b]!==null&&(c[b]=a[b])});b[a.type].forEach(function(b){a[b]!==void 0&&
(a[b]!==null&&a[b]!=="")&&(c[b]=b==="route_form"?JSON.stringify(a[b]):a[b])});return c};v.createFromPoint=function(a){var b=a.coords.getX()|0,c=a.coords.getY()|0,a=v.getFavDisplays("point",a);return{type:"point",key:b+"|"+c,display1:a.name,x:b,y:c}};v.createFromAddress=function(a){if(a.type=="point")return v.createFromPoint(a);var b=v.getFavDisplays("address",a);return{type:"address",key:a.docid,display1:b.name,display2:b.subtitle,x:a.coords.getX()|0,y:a.coords.getY()|0}};v.createFromPlace=function(a){var b=
v.getFavDisplays("place",a),b={type:"place",key:a.id,display1:b.name,display2:b.subtitle,x:a.coords.getX()|0,y:a.coords.getY()|0};if(a instanceof bb||a.subway&&a.subway.id){b.type="subwaystation";b.key=a.subway?a.subway.id:a.id;if(a.lineName){b.display1=b.display1.replace(/\((.*)\)/g,"");if(b.display1.substr(-1,1)!=="\uc5ed")b.display1=b.display1+"\uc5ed";b.display1=b.display1+(" "+a.lineName)}}return b};v.createFromBusStop=function(a){var b="";a.codenames[0]&&(b=a.codenames.join(","));var c=v.getFavDisplays("busstop",
a);return{type:"busstop",key:a.id,display1:c.name,display2:c.subtitle,x:a.coords.getX()|0,y:a.coords.getY()|0,its_id:b}};v.createFromBusLine=function(a){var b=null,c;for(c in ba.TYPE)if(ba.TYPE.hasOwnProperty(c)&&ba.TYPE[c]==a.type&&!jQuery.isNumeric(c)){b=c;break}c=v.getFavDisplays("busline",a);return{type:"busline",key:a.id,display1:c.name,display2:c.subtitle,busline_type:b}};v.createFromBusStopAndBusLine=function(a,b){var c="";a.codenames[0]&&(c=a.codenames.join(","));var d=v.getFavDisplays("busstop",
a),e=b.wrongIdx||b.idx||a.idx||"1/1";return{type:"busstopline",key:a.id,display1:d.name,display2:d.subtitle,x:a.coords.getX()|0,y:a.coords.getY()|0,its_id:c,buslines:b.id+":"+e}};v.createCarFromWaypoints=function(a){var b=a.map(function(a){return v.getRouteData(a)}),a=v.getFavDisplays("route_car",a);return{type:"route_car",display1:a.name,display2:a.subtitle,route_form:JSON.stringify(b)}};v.createTransitFromWaypoints=function(a){var b=a[a.length-1],c=[];c.push(v.getRouteData(a[0]));c.push(v.getRouteData(b));
a=v.getFavDisplays("route_pubtrans",a);return{type:"route_pubtrans",display1:a.name,display2:a.subtitle,route_form:JSON.stringify(c)}};v.createWalkFromWaypoints=function(a){var b=a.map(function(a){return v.getRouteData(a)}),a=v.getFavDisplays("route_walk",a);return{type:"route_walk",display1:a.name,display2:a.subtitle,route_form:JSON.stringify(b)}};v.createBikeFromWaypoints=function(a){var b=a.map(function(a){return v.getRouteData(a)}),a=v.getFavDisplays("route_bicycle",a);return{type:"route_bicycle",
display1:a.name,display2:a.subtitle,route_form:JSON.stringify(b)}};v.createSubway=function(a,b){var c=[];c.push({name:a.name,key:a.id,x:a.coords.getX()||0,y:a.coords.getY()||0,poi_type:"SUBWAYSTATION"});c.push({name:b.name,key:b.id,x:b.coords.getX()||0,y:b.coords.getY()||0,poi_type:"SUBWAYSTATION"});var d=v.getFavDisplays("route_subway",[a,b]);return{type:"route_subway",key:a.id+"|"+b.id,display1:d.name,display2:d.subtitle,route_form:JSON.stringify(c)}};v.getRouteData=function(a){return{name:a.name,
x:a.coords.getX().toFixed(0),y:a.coords.getY().toFixed(0),poi_type:a.pointType=="NORMAL"?"POINT":a.pointType,key:a.id}};v.updateViewDataFromFav=function(a){var b=function(a){var b=a.display1.replace(/\s-\s/g," \u2192 ");if(a.route_form&&a.route_form.length>1){var e="";a.route_form.forEach(function(b,d){e&&(e=e+" \u2192 ");e=e+b.name;if(d===0){b.iconClass="depart";b.iconName="\ucd9c\ubc1c"}else if(d===a.route_form.length-1){b.iconClass="arrive";b.iconName="\ub3c4\ucc29"}else{b.iconClass="stopby";b.iconName=
"\uacbd\uc720"}})}return b===e||b===a.originDisplay};jQuery.extend(a,v.VIEW_INFO[a.type]);a.isDisabled=["T","A"].indexOf(a.status)!==-1;a.isDesc=a.display2||a.memo;a.isColorIcon=v.COLOR_ICON_TYPE_LIST.indexOf(a.type)!==-1;a.isRouteInfo=false;a.isBusInfo=false;a.isBuslines=false;a.isRealtimetransport=false;switch(a.type){case "busstop":a.isBuslines=!!a.buslines;a.isRealtimetransport=true;break;case "busline":a.isBusInfo=true;if(b=ba.TYPE[a.busline_type]){a.isBusIcon=true;a.busIconClass=b;a.busIconName=
ba.STRING[b]}break;case "subwaystation":a.isSubwayStation=true;a.isRealtimetransport=true;a.isSubwayStation=true;break;case "route_car":case "route_pubtrans":case "route_walk":case "route_bicycle":case "route_subway":if(b(a))a.isRouteInfo=true}if(a.isDisabled){a.typeClass="path";a.isColorIcon=false;a.typeName="\uc2e0\uace0\ub41c \uc990\uaca8\ucc3e\uae30"}};v.typeText={address:"\uc8fc\uc18c",busstopline:"\ubc84\uc2a4",busstop:"\ubc84\uc2a4\uc815\ub958\uc7a5",busline:"\ubc84\uc2a4\ub178\uc120",place:"\uc7a5\uc18c",
speed:"\uc18d\ub3c4\uc815\ubcf4",point:"\uc704\uce58\uc815\ubcf4",cctv:"CCTV",roadview:"\ub85c\ub4dc\ubdf0",route_car:"\uc790\ub3d9\ucc28",route_pubtrans:"\ub300\uc911\uad50\ud1b5",route_walk:"\ub3c4\ubcf4",route_bicycle:"\uc790\uc804\uac70",route_subway:"\uc9c0\ud558\ucca0"};v.RESULT_CODE={SUCCESS:"SUCCESS",PART_ITEM_FAIL:"PART_ITEM_FAIL",KAPI_FAIL:"KAPI_FAIL",INVALID_PARAMETER:"INVALID_PARAMETER",DUPLICATE_ITEM:"DUPLICATE_ITEM",NOT_EXIST_ITEM:"NOT_EXIST_ITEM",OVER_MAX_COUNT:"OVER_MAX_COUNT",OVER_FAVORITE_MAX_COUNT:"OVER_FAVORITE_MAX_COUNT",
INTERNAL_PROBLEM:"INTERNAL_PROBLEM",REVIEW_VIEW_PRIVATE:"REVIEW_VIEW_PRIVATE",NO_DAUM_LOGIN:"NO_DAUM_LOGIN",REPORT_ITEM:"REPORT_ITEM"};v.ICON_MAP={"01":"star","02":"heart","03":"thunder","04":"check","05":"eye","06":"smile","07":"shine","08":"clover","09":"rect",10:"like",11:"fan",D:"trash",A:"caution",T:"caution",P:"private"};v.VIEW_MODE={FOLDER:"folder",DETAIL:"detail"};v.VIEW_INFO={place:{typeClass:"circle",typeName:"\uc7a5\uc18c"},address:{typeClass:"circle",typeName:"\uc8fc\uc18c"},point:{typeClass:"circle",
typeName:"\uc9c0\uc810"},subwaystation:{typeClass:"circle",typeName:"\uc9c0\ud558\ucca0\uc5ed"},roadview:{typeClass:"roadview",typeName:"\ub85c\ub4dc\ubdf0"},storeview:{typeClass:"storeview",typeName:"\uc2a4\ud1a0\uc5b4\ubdf0"},busstop:{typeClass:"circle",typeName:"\uc815\ub958\uc7a5"},busline:{typeClass:"bus",typeName:"\ubc84\uc2a4"},route_car:{typeClass:"car",typeName:"\uc790\ub3d9\ucc28 \uae38\ucc3e\uae30"},route_pubtrans:{typeClass:"public",typeName:"\ub300\uc911\uad50\ud1b5 \uae38\ucc3e\uae30"},
route_walk:{typeClass:"walk",typeName:"\ub3c4\ubcf4 \uae38\ucc3e\uae30"},route_bicycle:{typeClass:"bicycle",typeName:"\uc790\uc804\uac70 \uae38\ucc3e\uae30"},route_subway:{typeClass:"subway",typeName:"\uc9c0\ud558\ucca0 \uae38\ucc3e\uae30"}};v.MAX_FAVORITE_COUNT=500;v.allowType="point address place busstop busstopline busline subwaystation roadview storeview route_car route_pubtrans route_walk route_bicycle route_subway".split(" ");rb.create=function(){var a=new rb;a.waypoints.push(null);a.waypoints.push(null);
return a};rb.prototype.getValuableWaypoints=function(){return this.waypoints.filter(function(a){return a!=null},this)};rb.prototype.isOriginDest=function(){var a=this.waypoints.length-1;return this.waypoints[0]&&this.waypoints[a]?true:false};rb.prototype.setWaypoints=function(a){this.waypoints=a};rb.prototype.getViaCount=function(){return this.waypoints.slice(1,this.waypoints.length-1).filter(function(a){return a!=null},this).length};rb.prototype.addFirstEmptyViaWaypoint=function(a){for(var b=this.waypoints,
c=b.length-1,d=false,e=1;e<b.length-1;e++)if(b[e]==null){d=true;b[e]=a;break}d||this.waypoints.splice(c,0,a)};rb.prototype.isViaEmpty=function(){return!this.waypoints.every(function(a){return a!=null},this)};rb.prototype.addWaypoint=function(a,b){this.waypoints.splice(a,0,b)};rb.prototype.removeWaypoint=function(a){return this.waypoints.splice(a,1)[0]};rb.prototype.setWaypoint=function(a,b){this.waypoints[a]=b};rb.prototype.getLastIndex=function(){return this.waypoints.length-1};rb.prototype.getWaypoints=
function(){return this.waypoints.slice()};rb.prototype.isEmptyOriginDest=function(){return!this.waypoints[0]&&!this.waypoints.slice(-1)[0]};xd.prototype.get=function(a){return this.data_[a]};xd.prototype.set=function(a,b){var c=this;if(c.data_[a]!==b){c.data_[a]=b;c.listeners_.forEach(function(b){b[0]===a&&b[1].call(c)})}return c};xd.prototype.on=function(a,b){this.listeners_.push([a,b]);return this};Nb.prototype.id=0;Nb.SKE="SKE";Nb.SKG="SKG";Nb.GSC="GSC";Nb.SOL="SOL";Nb.HDO="HDO";Nb.E1G="E1G";Nb.NHO=
"NHO";Nb.prototype.fetchFacilities=function(){require("server").placeById(this.id,function(a){this.loadFacilities(a);this.onLoad.notify()}.bind(this))};Nb.prototype.loadFacilities=function(a){a=a.object("place.placetype.oilprice");this.facilities=[a.text("maint")=="Y"?"\uacbd\uc815\ube44":false,a.text("carwash")=="Y"?"\uc138\ucc28":false,a.text("cvs")=="Y"?"\ud3b8\uc758\uc810":false,a.text("lpg")=="Y"?"\uac00\uc2a4\ucda9\uc804\uc18c":false,a.text("selfyn")=="Y"?"\uc140\ud504\uc8fc\uc720":false]};
Fc.prototype.level=0;Fc.prototype.index=0;Td.prototype.index=0;Td.prototype.loadAt_=function(a){this.name=a.text("title")||"";this.desc=a.text("description")||"";this.imgUrl=a.text("imgUrl")||null;this.coords=new daum.maps.Coords(a.text("wx"),a.text("wy"));this.linkUrl=a.text("linkUrl")};z.THEMEID=" storeview food     oil  hospital hotel  ".split(" ");z.prototype.clearResult_=function(a){this.loaded=a;this.guideMessage=null;this.premiumKeyword=this.message="";this.snSelected=false;this.themeId=0;
this.themeCategories.length=0;this.categories.length=0;this.categoryPath.length=0;this.categoryChildren.length=0;this.locationMessage="";this.placeAdCount=this.placeCount=this.places.length=0;this.reviewCount=this.reviews.length=0;this.originalKeyword=void 0;this.spellCandidate.length=0;this.homonyms.length=0;this.addressCount=this.addresses.length=0;this.highlightedFirst=false;this.busesCount=this.buses.length=0;this.busStopCount=this.busStops.length=0;this.busRegions.length=0;this.busTypes.length=
0;this.busTypeId_=this.busRegionId_=null;this.landmarks=[];this.whatsHere=this.whatsHere_;this.coordinates=null;this.coordinatesText="";this.inferredKeyword=void 0;this.gasType=this.sortType=this.eucKrKeyword="";this.filterId_=null;this.pageCount=0;this.tileSearch=false;this.trans_map_type=0;this.target=null;this.relkey="";this.isBuilding=this.isHighway=this.addressRetry=false;this.nextGuide=this.currentGuide=this.exposure_level=null;this.qaType_="";this.repeated_=false;this.busRecommend="";this.busRecommendTop=
false;this.dssSrcId=this.analysis=""};z.prototype.clear=function(){this.keyword_="";this.cidx_=null;this.clearSort();this.clearResult_(false);this.setInitialMode_()};z.prototype.setSearchBusStop=function(a){this.willSearchBusStop_=a};z.prototype.noExactSearch=function(){this.exactSearch_=false};z.prototype.setThemeId=function(a,b,c){this.mode_=z.THEME;this.themeId_=a;this.themeCategory=this.themeCategory_=b||0;this.keyword_=c||"";this.setPage(this.defaultPage_)};z.prototype.setIssue=function(a){this.kmlData_=
a;this.findIssueMap_()};z.THEME="theme";z.THEMEBUSSTOP="themebusstop";z.ALL="all";z.PLACE="place";z.ADDRESS="address";z.BUSES="buses";z.BUSSTOPS="busstops";z.BUSSTOP="busstop";z.BUS="bus";z.ISSUEMAP="issuemap";z.prototype.setThemeBusStopMode=function(){this.mode_=z.THEMEBUSSTOP;this.setPage(this.defaultPage_)};z.prototype.setInitialMode_=function(){this.mode_=null};z.prototype.setAllMode=function(){this.mode_=z.ALL;this.setPage(this.defaultPage_)};z.prototype.setPlaceMode=function(a){this.mode_=z.PLACE;
!a&&this.setPage(this.defaultPage_)};z.prototype.setAddressMode=function(a){this.mode_=z.ADDRESS;!a&&this.setPage(this.defaultPage_)};z.prototype.setBusMode=function(a){this.mode_=z.BUSES;!a&&this.setPage(this.defaultPage_)};z.prototype.setBusStopMode=function(a){this.mode_=z.BUSSTOPS;!a&&this.setPage(this.defaultPage_)};z.prototype.setBusStopMode=function(a){this.mode_=z.BUSSTOPS;!a&&this.setPage(this.defaultPage_)};z.prototype.getKeyword=function(){return this.keyword_};z.prototype.setKeyword=function(a,
b,c){this.whatsHere_=!!b;this.mode_=c||z.ALL;if(this.keyword_=a){this.sort_=this.defaultSort_|0;this.sort=this.defaultSort_|0;this.categoryDepth_=this.category_=this.defaultSort_=0;this.correction_=true;this.cidx_=this.defaultCidx_?this.cidx_:null;this.defaultCidx_=false;this.params_=this.isParams_?this.params_:null;this.isParams_=false;this.placeCount=0;this.setPage(this.defaultPage_)}};z.prototype.setWhatsHereKeyword=function(a){this.bounds_=null;if(a.name)this.setKeyword(a.name,a.coords);else{this.clearResult_(true);
this.coordinatesText="\uc8fc\uc18c\ub97c \uc81c\uacf5\ud558\uc9c0 \uc54a\ub294 \uc9c0\uc5ed";this.coordinates=a.coords;this.whatsHere_=true;this.onChange.notify()}};z.prototype.setPage=function(a){this.page_=a||1;this.page=a||1;this.defaultPage_=1;this.doRequest_()};z.prototype.getPage=function(){return this.page_};z.prototype.setBusRegionId=function(a){this.busRegionId_=a};z.prototype.setBusTypeId=function(a){this.busTypeId_=a};z.prototype.getBusRegionId=function(){return this.busRegionId_};z.prototype.getBusTypeId=
function(){return this.busTypeId_};z.prototype.setRepeatFlag=function(a){this.repeated_=a};z.prototype.setLiteral=function(){this.cidx_=this.targetCidx_;this.getMode()==z.ALL?this.setAllMode():this.setPlaceMode()};z.prototype.setSnSelected=function(a,b){this.snSelected=true;this.keyword_=b;this.getMode()==z.ALL?this.setAllMode():this.setPlaceMode()};z.prototype.setSort=function(a){this.sort=this.sort_=a};z.prototype.clearSort=function(){this.sort=this.sort_=0};z.prototype.setBounds=function(a,b){console.assert(a===
null||a instanceof daum.maps.CoordsBounds);this.bounds_=a;if(!b){this.needCorrectSearch=false;this.saveIncorrectQuery=""}};z.prototype.hasBounds=function(){return this.bounds_!=null};z.prototype.doRequest_=function(){if(this.isW3wSearch())this.findW3w_();else{switch(this.mode_){case null:break;case z.THEME:this.findTheme_();break;case z.THEMEBUSSTOP:this.findThemeBusStop_();break;case z.ALL:this.findAll_();break;case z.ADDRESS:this.findAddresses_();break;case z.PLACE:this.findPlaces_();break;case z.BUSES:this.findBuses_();
break;case z.BUSSTOPS:this.findBusStops_();break;case z.BUSSTOP:this.findBusStop_();break;case z.ISSUEMAP:this.findIssueMap_();break;default:console.assert(false,"Invalid state: "+this.mode_)}this.mode_!=z.PLACE&&x.logSearchKeyword(this.keyword_)}};z.prototype.findIssueMap_=function(){require("server").issue({kml:this.kmlData_},this.loadIssueMap.bind(this))};z.prototype.loadIssueMap=function(a){this.clearResult_(true);var b=1;a.find("issueInfo.items").forEach(function(a){this.places.push(new Td(b,
a));b++},this);this.onIssue.notify()};z.prototype.findTheme_=function(){var a=this.bounds_;if(a){var b={},c=z.THEMEID[this.themeId_];if(!c)c=this.themeId_;b.theme_id=c;if(this.themeId_==1)b.theme_type="stheme";if(this.themeCategory_)b.cateId=this.themeCategory_;if(this.pageSize_)b.pageSize=this.pageSize_;b.cpage=this.page_;c=a.getSouthWest();a=a.getNorthEast();b.rect=(c.getX()|0)+","+(c.getY()|0)+","+(a.getX()|0)+","+(a.getY()|0);if(this.sort_)b.sort=this.sort_|0;require("server").searchTheme(b,this.loadTheme_.bind(this))}};
z.prototype.loadTheme_=function(a){this.clearResult_(true);this.themeId=this.themeId_;var b=new Wc;b.id=0;b.name="\uc804\uccb4";b.themeId=this.themeId_;a.find("cateGroupList").forEach(function(a){a=new Wc(a);a.themeId=this.themeId_;if(a.themeId!=4){this.themeCategories.push(a);b.count=b.count+a.count}},this);b.count>0&&this.themeCategories.unshift(b);this.places=a.find("place").map(function(a,b){return new Fc(0,b+1,a)});this.placeCount=a.number("place_totalcount");this.placeAdCount=0;this.pageCount=
a.number("page_count");this.onChange.notify(null)};z.prototype.findThemeBusStop_=function(){var a=this.bounds_;if(a){var b={type:"busStop",q:"xxx",theme_id:"busStop",spage:"1"},c=a.getSouthWest(),a=a.getNorthEast();b.rect=(c.getX()|0)+","+(c.getY()|0)+","+(a.getX()|0)+","+(a.getY()|0);if(this.sort_)b.sort=this.sort_|0;require("server").searchBusStopWithBounds(b,this.loadThemeBusStop_.bind(this))}};z.prototype.loadThemeBusStop_=function(a){this.clearResult_(true);this.busStops=a.find("List").map(function(a){return new R(a)});
this.busStopCount=a.number("total_count");this.onChange.notify(null)};z.setBoundsParams=function(a,b){if(b){a.mcheck="Y";a.rect=(b.getSouthWest().getX()|0)+","+(b.getSouthWest().getY()|0)+","+(b.getNorthEast().getX()|0)+","+(b.getNorthEast().getY()|0)}};z.prototype.findAll_=function(){var a={q:this.keyword_,msFlag:"A"};z.setBoundsParams(a,this.bounds_);a.sort=this.sort_;if(this.willSearchBusStop_)a.gb="R";if(this.category_){a.cate_id=this.category_;if(this.categoryDepth_)a.cate_depth=this.categoryDepth_}if(!this.correction_)a.translate=
"N";if(this.filterId_)a.srcid=this.filterId_;if(this.localCode_){a.local_code=this.localCode_;this.localCode_=void 0}if(this.cidx_)this.defaultSidx_?a.sidx=this.cidx_:a.cidx=this.cidx_;this.defaultSidx_=false;if(this.snSelected)a.sn_selected="y";if(location.host!="map.daum.net"&&B.isCurrentSearch==true){a.service="local";var b=Application.map.getCenter();a.center=b.getX()+","+b.getY();a.rcode=Application.localInfoController.getRegionId()}require("server").search(a,this.loadAll_.bind(this))};z.prototype.loadMessage_=
function(a){this.guideMessage=a.find("guide_message").map(function(a){return new Sd(a)});this.premiumKeyword=a.text("premium_keyword");this.sn_query=a.text("sn_query");if(a.text("oil_yn")=="y"){this.sortType="gas";if(a.text("lpg_yn")=="y")this.gasType="lpg"}this.targetCidx_=a.text("sidx")||"";if(a.find("place").length==0&&a.find("premium").length==0&&!this.bounds_){var b=new Sd;b.keyword=this.keyword_;this.guideMessage=[b];this.inferredKeyword=this.guideMessage[0]?this.guideMessage[0].keyword:""}else{if(a.find("guide_message").length==
0&&!this.bounds_){b=new Sd;b.keyword=this.keyword_;b.bunji=a.text("sn_query");this.guideMessage=[b]}if(this.guideMessage[0]){this.inferredKeyword=this.guideMessage[0].keyword;this.sn_query=this.guideMessage[0].bunji}else this.inferredKeyword="";if(this.guideMessage[1])this.targetCidx_=this.guideMessage[1].cidx}};z.prototype.loadBusMessage_=function(a){this.currentGuide={keyword:a.text("current_guide.keyword_std")||"",qaType:a.text("current_guide.qa_type")||"",guideType:a.text("current_guide.guide_type")||
"",area1:a.text("current_guide.area_std1")||"",area2:a.text("current_guide.area_std2")||"",samearea1:a.find("current_guide.samearea1").map(function(a){return a.text("value")})||[],samearea2:a.find("current_guide.samearea2").map(function(a){return a.text("value")})||[]};this.nextGuide={keyword:a.text("next_guide.keyword_std")||"",qaType:a.text("next_guide.qa_type")||"",guideType:a.text("next_guide.guide_type")||"",area1:a.text("next_guide.area_std1")||"",area2:a.text("next_guide.area_std2")||"",samearea1:a.find("next_guide.samearea1").map(function(a){return a.text("value")})||
[],samearea2:a.find("next_guide.samearea2").map(function(a){return a.text("value")})||[]}};z.prototype.getInferredKeyword=function(){return this.inferredKeyword};z.prototype.loadCategories_=function(a){if(this.category_&&!this.bounds_){var b=[];a.text("cateLink")&&(b=a.text("cateLink").split("|").map(function(a,b){var e=new Vc;e.id=a.split(":")[0];e.depth=b+1;e.name=a.split(":")[1];return e}));this.categoryPath=b;a.find("cateGroupList").forEach(function(a){var b=new Vc;b.id=a.number("id");b.name=
a.text("name");b.id>0&&this.categoryChildren.push(b)},this)}};z.prototype.loadEucKrKeyword_=function(a){this.eucKrKeyword=a.text("encodedQ")};z.prototype.loadAll_=function(a){var b=Application.whatsHereController.getCache(this.keyword_),c;this.clearResult_(true);this.loadEucKrKeyword_(a);this.loadMessage_(a);this.isBuilding=a.text("building_yn")=="y";this.isHighway=a.text("highway_yn")=="y";c=["RESULT_JUNGDAP_SUGGEST","RESULT_SPELLER","RESULT_TRANSLATE_DIC"];var d=a.number("addr_count")+a.number("busStop_cnt")+
a.number("bus_cnt")+a.number("place_totalcount");if(a.text("point.y")){var e=a.text("point.y"),f=a.text("point.x");this.coordinatesText="\uc704\ub3c4, \uacbd\ub3c4 : "+e+", "+f;this.coordinates=(new daum.maps.LatLng(e,f)).toCoords()}if(a.text("trans_map_type")){this.trans_map_type=a.text("trans_map_type");if(this.trans_map_type=="RESULT_JUNGDAP_REDIRECT"){this.keyword_=a.text("trans_map_str");this.originalKeyword=a.text("org_query")}else{if(!this.needCorrectSearch&&c.indexOf(this.trans_map_type)!==
-1&&d===0&&a.text("trans_map_str")){this.needCorrectSearch=true;this.keyword_=a.text("trans_map_str");this.saveIncorrectQuery=a.text("org_query");this.findAll_();return false}this.spellCandidate=[a.text("trans_map_str")]}}if(this.needCorrectSearch&&this.saveIncorrectQuery){this.trans_map_type="RESULT_EMPTY_REDIRECT";this.originalKeyword=this.saveIncorrectQuery}if(!this.hasBounds()){this.needCorrectSearch=false;this.saveIncorrectQuery=""}this.homonyms=a.find("samename").map(function(a){return a.text("value")});
this.category_=a.number("cate_id");this.loadCategories_(a);if(!(this.isBuilding&&this.placeCount>0)&&!this.isHighway){c=a.find("address").map(function(a){return new Ta(a)});if(b){if(c[0]){b.subList=c[0].subList;b.infowindowSubAddress=c[0].infowindowSubAddress;b.zipcode=c[0].zipcode;b.zonenum=c[0].zonenum;b.buildingName=c[0].buildingName}this.addresses=[Application.whatsHereController.toAddress(b)];this.addressRetry=false;this.addressCount=1}else{this.addresses=c;this.addressRetry=a.text("address_retry")==
"y";this.addressCount=a.number("addr_count")}}this.locationMessage=a.text("origin_loc");this.retry=a.text("retry")=="y";this.setPlaceModel_(a);this.reviewCount=a.number("review_count");this.highlightedFirst=a.text("mng_type")=="single";this.exposure_level=a.number("exposure_level");this.buses=a.find("bus").map(function(a){return new ba(a)});this.busesCount=a.number("bus_cnt");this.busStops=a.find("busStop").map(function(a){return new R(a)});this.busStopCount=a.number("bus_count")||a.number("busStop_cnt");
this.pageCount=a.number("page_count");if(a.text("v_landmark"))this.landmarks=a.text("v_landmark").split(";").map(function(a){a=a.split(",");return{name:a[0],coords:new daum.maps.Coords(a[1],a[2])}});switch(a.text("MSFLAG")){case "S":this.mode_=z.PLACE}this.tileSearch=a.text("tile_search")==="true";this.target=a.text("target");this.busRecommend=a.text("bus_recommend");this.busRecommendTop=a.text("bus_recommend_top")=="true";this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(true)};
z.prototype.findW3w_=function(){encodeURIComponent(this.keyword_.substr(3,this.keyword_.length));n.click("mapsearch","w3w");Application.w3wController.search(this.keyword_.substr(3,this.keyword_.length),this.loadW3w_.bind(this),this.loadW3wError_.bind(this))};z.prototype.loadW3wError_=function(){this.clearResult_(true);this.onChange.notify(null)};z.prototype.loadW3w_=function(a){a=a.coords;this.clearResult_(true);this.coordinates=a;this.onChange.notify(null)};z.prototype.findAddresses_=function(){require("server").searchAddress({q:this.keyword_,
cpage:this.page_},this.loadAddresses_.bind(this))};z.prototype.loadAddresses_=function(a){var b=Application.whatsHereController.getCache(this.keyword_),c;this.clearResult_(true);this.loadMessage_(a);this.loadEucKrKeyword_(a);c=a.find("List").map(function(a){return new Ta(a)});if(b){if(c[0]){b.subList=c[0].subList;b.infowindowSubAddress=c[0].infowindowSubAddress;b.zipcode=c[0].zipcode;b.buildingName=c[0].buildingName}this.addresses=[Application.whatsHereController.toAddress(b)];this.addressRetry=false;
this.addressCount=1}else{this.addresses=c;this.addressCount=a.number("total_count");if(a.text("retry")=="y")this.addressRetry=true}this.pageCount=a.number("page_count");this.tileSearch=a.text("tile_search")==="true";this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};z.prototype.findPlaces_=function(){var a={q:this.keyword_,msFlag:"S"};z.setBoundsParams(a,this.bounds_);a.page=this.page_;if(this.willSearchBusStop_)a.gb="R";a.sort=this.sort_;if(this.category_){a.cate_id=
this.category_;if(this.categoryDepth_)a.cate_depth=this.categoryDepth_}if(!this.correction_)a.translate="N";if(this.filterId_)a.srcid=this.filterId_;if(this.cidx_)this.defaultSidx_?a.sidx=this.cidx_:a.cidx=this.cidx_;this.defaultSidx_=false;if(this.snSelected)a.sn_selected="y";require("server").search(jQuery.extend(a,this.params_),this.loadPlaces_.bind(this))};z.prototype.setPlaceModel_=function(a){this.places=[];this.hasMapPlus=!!a.object("map_plus");var b=[a.find("place"),a.find("premium")],c=[],
d=0,e=0,f=null;if(this.hasMapPlus){f=new Fc(2,-1,a.object("map_plus"));this.places.push(f)}a.text("mrank_type");for(var h=1;h>=0;--h){var g=0;b[h].forEach(function(a,b){if(!this.hasMapPlus||!(h==1&&b==2)){var f=a.number("confirmid");if(jQuery.inArray(f,c)>=0)e++;else{c.push(f);if(!h){b=d;d++}if(!a.number("x")&&!a.number("y")){e++;g++}else this.places.push(new Fc(h,b+1-g,a))}}},this)}this.placeCount=(a.number("place_totalcount")<=15?a.number("place_totalcount")-e:a.number("place_totalcount"))||a.number("place_count");
this.placeAdCount=a.find("premium").length};z.prototype.loadPlaces_=function(a){this.clearResult_(true);this.loadEucKrKeyword_(a);this.exposure_level=a.number("exposure_level");this.loadMessage_(a);this.loadCategories_(a);this.homonyms=a.find("samename").map(function(a){return a.text("value")});this.locationMessage=a.text("origin_loc");this.setPlaceModel_(a);this.category_=a.number("cate_id");this.tileSearch=a.text("tile_search")==="true";this.pageCount=a.number("page_count");this.analysis=a.text("analysis")||
"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};z.prototype.findBuses_=function(){var a={q:this.keyword_,spage:this.page_};if(this.busRegionId_)a.region_id1=this.busRegionId_;if(this.busTypeId_)a.bus_type_id=this.busTypeId_;if(this.repeated_&&this.qaType_)a.qa_type=this.qaType_;z.setBoundsParams(a,this.bounds_);require("server").searchBus(jQuery.extend(a,this.params_),this.loadBuses_.bind(this))};z.prototype.loadBuses_=function(a){this.clearResult_(true);this.loadBusMessage_(a);this.loadEucKrKeyword_(a);
this.originalKeyword=a.text("query");this.busTypeId_=a.text("bus_type_id");this.busRegionId_=a.text("region_id1");this.buses=a.find("List").map(function(a){return new ba(a)});this.busRegions=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busRegions.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});this.busTypes=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busTypes.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",
id:null});this.busRecommend="busname";if(a.text("v_landmark"))this.landmarks=a.text("v_landmark").split(";").map(function(a){a=a.split(",");return{name:a[0],coords:new daum.maps.Coords(a[1],a[2])}});this.qaType_=a.text("current_guide.qa_type")||"";this.tileSearch=a.text("tile_search")==="true";this.busesCount=a.number("bus_cnt")||a.number("total_count");this.pageCount=a.number("page_count");this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};z.prototype.findBusStops_=
function(){var a={q:this.keyword_,spage:this.page_};if(this.busRegionId_)a.region_id1=this.busRegionId_;if(this.busTypeId_)a.bus_type_id=this.busTypeId_;if(this.repeated_&&this.qaType_)a.qa_type=this.qaType_;z.setBoundsParams(a,this.bounds_);require("server").searchBusStop(jQuery.extend(a,this.params_),this.loadBusstops_.bind(this))};z.prototype.loadBusstops_=function(a){this.clearResult_(true);this.loadBusMessage_(a);this.loadEucKrKeyword_(a);this.originalKeyword=a.text("query");this.busTypeId_=
a.text("bus_type_id");this.busRegionId_=a.text("region_id1");this.busStops=a.find("List").map(function(a){return new R(a)});this.busRegions=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busRegions.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});this.busTypes=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busTypes.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});this.busRecommend="busstop";if(a.text("v_landmark"))this.landmarks=
a.text("v_landmark").split(";").map(function(a){a=a.split(",");return{name:a[0],coords:new daum.maps.Coords(a[1],a[2])}});this.qaType_=a.text("current_guide.qa_type")||"";this.tileSearch=a.text("tile_search")==="true";this.busStopCount=a.number("total_count");this.pageCount=a.number("page_count");this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};z.prototype.loadReviews_=function(a){this.clearResult_(true);this.loadMessage_(a);this.themeId=this.themeId_;
this.loadEucKrKeyword_(a);this.reviews=a.find("review").map(function(a){return new xa(a)});this.reviewCount=a.number("total_count");this.tileSearch=a.text("tile_search")==="true";this.onChange.notify(null)};z.prototype.findBusStop_=function(){var a={q:this.keyword_,spage:this.page_};if(this.busRegionId_)a.region_id1=this.busRegionId_;if(this.busTypeId_)a.bus_type_id=this.busTypeId_;if(this.repeated_&&this.qaType_)a.qa_type=this.qaType_;require("server").searchBusStop(a,this.loadBusStop_.bind(this))};
z.prototype.loadBusStop_=function(a){this.clearResult_(true);this.loadBusMessage_(a);this.originalKeyword=a.text("query");this.busStops=a.find("List").map(function(a){return new R(a)});this.busRegions=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busRegions.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});this.busTypes=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busTypes.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",
id:null});this.qaType_=a.text("current_guide.qa_type")||"";this.busRecommend="busstop";this.busRecommendTop=a.text("bus_recommend_top")=="true";this.tileSearch=a.text("tile_search")==="true";this.busStopCount=a.number("total_count");this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};z.prototype.isAllMode=function(){return this.mode_==z.ALL};z.prototype.getMode=function(){return this.mode_};z.prototype.getCidx=function(){return this.cidx_};z.prototype.getThemeName=
function(){return z.THEME_NAME[this.themeId]};z.prototype.setCategory=function(a){this.category_=a.id;this.categoryDepth_=a.depth;this.bounds_=null;this.mode_==z.PLACE?this.setPlaceMode():this.setAllMode()};z.prototype.setKeywordParams=function(a){this.isParams_=true;this.params_=a};z.prototype.isThemeMode=function(){return this.mode_===z.THEME};z.prototype.isBusTabMODE=function(){return this.mode_===z.BUSES||this.mode_===z.BUSSTOPS};z.prototype.isBusesMODE=function(){return this.mode_===z.BUSES};
z.prototype.isBusstopsMODE=function(){return this.mode_===z.BUSSTOPS};z.prototype.isPlaceMode=function(){return this.mode_===z.PLACE};z.prototype.isAddressMode=function(){return this.mode_===z.ADDRESS};z.prototype.isReviewMode=function(){return this.mode_===z.REVIEW};z.prototype.isBusStopMode=function(){return this.mode_===z.BUSSTOP};z.prototype.setCorrection=function(){this.keyword_=this.originalKeyword;this.needCorrectSearch=this.correction_=false;this.saveIncorrectQuery="";this.setPage(this.defaultPage_)};
z.prototype.getBounds=function(){return this.bounds_};z.prototype.setFilterId=function(a){this.filterId_=a};z.prototype.setQaType=function(a){this.qaType_=a};z.prototype.getQaType=function(){return this.qaType_};z.prototype.setLocalCode=function(a){this.localCode_=a};z.prototype.setDefaultSort=function(a){this.defaultSort_=a|0};z.prototype.getCategory=function(){return this.category_};z.prototype.setDefaultLiterally=function(a,b){this.defaultCidx_=true;this.defaultSidx_=!b;this.cidx_=a};z.prototype.getLiterally=
function(){return this.cidx_};z.prototype.setDefaultPage=function(a){this.defaultPage_=parseInt(a)||1};z.prototype.setPageSize=function(a){this.pageSize_=a};z.prototype.isW3wSearch=function(){return z.isW3wKeyword(this.keyword_)};z.findPosition=function(a,b){var c=new z;c.setSearchBusStop(true);c.onChange.add(function(){var a=c.addresses[0]||c.places[0]||c.reviews[0];b(a?a.coords:null,c)},this);c.setKeyword(a)};z.isW3wKeyword=function(a){return/^\/{3,3}[^0-9`~!@#$%^&*()+\-_=[{\]}\\|'<,.>?/";:\u00a3\u00a7\u00ba\u00a9\u00ae\s]{1,}[\u30fb.][^0-9`~!@#$%^&*()+\-_=[{\]}\\|'<,.>?/";:\u00a3\u00a7\u00ba\u00a9\u00ae\s]{1,}[\u30fb.][^0-9`~!@#$%^&*()+\-_=[{\]}\\|'<,.>?/";:\u00a3\u00a7\u00ba\u00a9\u00ae\s]{1,}$/i.exec(a)?
true:false};Wb.find=function(a,b,c){Wb.find_(a,b,c)};Wb.find_=function(a,b,c){a={x:a.getX(),y:a.getY()};require("server").reverseGeocoding(a,function(a){b.call(c,Wb.load_(a))})};Wb.load_=function(a){return new Wb(a)};Wb.code_=function(a){return!a?{}:{code:a.text("code"),fullName:a.text("fullName"),regionId:a.text("regionId"),name0:a.text("name0"),code1:a.text("code1"),name1:a.text("name1"),code2:a.text("code2"),name2:a.text("name2"),code3:a.text("code3"),name3:a.text("name3")}};define("model/LocalPlatformAd",
[],function(){var a=B.localAdData;return{find:function(b){return a?a[b]:null}}});define("model/MyRouteInfo",["jquery","util/Storage"],function(a,b){function c(a){return{name:a.name,id:a.id,index:a.index,pointType:a.pointType,coords:{x:a.coords.getX(),y:a.coords.getY()}}}function d(a,b){f=b.filter(function(b){var c=true;if(a.id){if(a.id==b.id){a.use=b.use+1;c=false}}else if(a.coords.x==b.coords.x&&a.coords.y==b.coords.y){a.use=b.use+1;c=false}return c?b:false});return a}function e(a,b){return b.filter(function(b){return valid=
b.waypoints.every(function(b,c){return a.waypoints[c].coords.x==b.coords.x&&a.waypoints[c].coords.y==b.coords.y})}).length!=0}var f=[],h=[];return{addWaypoint:function(a){f=JSON.parse(b.getItem("waypoints"))||[];object=c(a);object.time=+new Date;object.use=1;var e=+new Date;f=f.filter(function(a){return e-a.time<5184E6?a:false});object=d(object,f);f.unshift(object);f.length>1E3&&f.pop();console.log(object,f);b.setItem("waypoints",JSON.stringify(f))},getWaypoints:function(){return JSON.parse(b.getItem("waypoints"))||
[]},removeWaypoint:function(a){f=JSON.parse(b.getItem("waypoints"))||[];f.splice(a,1);b.setItem("waypoints",JSON.stringify(f))},clearWaypoints:function(){b.removeItem("waypoints")},addRoute:function(a,d){h=JSON.parse(b.getItem("routes"))||[];var f={waypoints:a.map(c)};if(!e(f,h)){f.methodType=d||"";f.time=+new Date;h.unshift(f);h.length>10&&h.pop();b.setItem("routes",JSON.stringify(h))}},getRoutes:function(){return JSON.parse(b.getItem("routes"))||[]},removeRoute:function(a){h=JSON.parse(b.getItem("routes"))||
[];h.splice(a,1);b.setItem("routes",JSON.stringify(h))},clearRoutes:function(){b.removeItem("routes")},getStatus:function(){return JSON.parse(b.getItem("status"))||0},setStatus:function(a){b.setItem("status",a)}}});Gc.findAt=function(a,b,c){require("server").poi({X:a.getX()|0,Y:a.getY()|0,LEVEL:b},function(a){c(a.find("address")[0]?Gc.loadAddress_(a.find("address")[0]):ca.loadAt_(a))})};Gc.loadAddress_=function(a){var b=new Ta;b.name=a.text("newAddress");b.oldname=a.text("address");b.coords=new daum.maps.Coords(a.number("x"),
a.number("y"));return b};Gc.findAll=function(a,b,c){require("server").placesInBounds(a,function(a){b.call(c,Gc.loadAll_(a))})};Gc.loadAll_=function(a){var b=[],c=[],d=[],e=[];if(a.text("resultCode")=="SUCCESS"){a=a.raw();if(a.places)b=a.places;if(a.addresses)c=a.addresses;if(a.trafficData&&a.trafficData.busStops)d=a.trafficData.busStops;if(a.trafficData&&a.trafficData.subwayStations)e=a.trafficData.subwayStations}return{places:b,addresses:c,busStops:d,subwayStations:e}};ca.prototype.loadAt_=function(a){this.id=
a.number("confirmid")||a.number("new_id");this.placeid=a.number("id")||a.number("confirmid");this.imgsrc=a.text("img")||a.text("img1")?"//t1.daumcdn.net/thumb/C84x76/?fname="+(a.text("img")||a.text("img1")):"";this.name=String.stripTags(a.text("name"))||a.text("vname");this.roadview=a.text("roadview")?new nb(a.text("roadview")):null;this.phone=[a.text("tel")];this.category=a.text("last_cate_name")||a.text("cate_name_depth2")||"";this.isFiy=true;var b=a.text("full_category_ids").split("|");this.categoryType=
this.getCategoryType(b);if(this.category){var c=this.placeCategory=new Vc;c.id=a.number("last_cate_id");if(jQuery.inArray("22951",b)!=-1&&jQuery.inArray("22956",b)!=-1)this.isFiy=false;if(String.stripTags(a.text("cate_name_depth1"))=="\uc758\ub8cc,\uac74\uac15")this.noAdReview=true;var d=a.number("last_cate_depth");if(a.text("catetype")=="G"&&jQuery.inArray("2529",b)==-1){d=parseInt(d)-1;this.category=a.text("cate_name_depth"+d)||a.text("cate_name_depth2")||"";c.id=b[d-1]||b[1]}c.depth=d;c.name=this.category}this.categories=
[1,2,3,4,5].map(function(b){return String.stripTags(a.text("cate_name_depth"+b))}).filter(Boolean);if(b=a.text("new_address_disp")){b=b.split("|").filter(function(a){return!!a});this.newAddress=b.join(" ")}else this.newAddress="";if(b=a.text("address_disp"))if(this.newAddress){b=b.split("|");this.address=b[2]?(b[2]+" "+b[3]).trim():""}else{b=b.split("|").filter(function(a){return!!a});this.address=b.join(" ")}else this.address="";this.zipcode=a.text("new_zipcode");this.displayRestrictType=a.text("display_restrict_type")?
a.text("display_restrict_type"):"NONE";this.vote=a.number("rating_count");this.grade=a.number("rating_average");this.review=a.number("reviewCount");if(a.has("x"))this.coords=new daum.maps.Coords(a.number("x"),a.number("y"));this.cardBenefits=tc.parseString(a.text("card"));switch(a.text("source")){case "opinet":this.gas=new Nb(a);this.gas.id=this.id;break;case "estate":this.estate=a.number("outlinksrvc_id");break;case "subway":this.subway=new bb;this.subway.id=a.text("sourceId");break;case "traffic":if(/^BT/.test(a.text("sourceId"))){this.intercity=
"intercityBus";this.intercityId=a.text("sourceId");this.intercityName=a.text("name")}else if(/^(PO|FT)/.test(a.text("sourceId"))){this.intercity="ferry";this.intercityId=a.text("sourceId");this.intercityName=a.text("name")}else if(/^IS/.test(a.text("sourceId"))){this.intercity="island";this.intercityId=a.text("sourceId");this.intercityName=a.text("name")}else this.intercityId=this.intercity=null}this.website=a.text("homepage");this.office_hours=a.text("office_hours").split("|");this.phone=this.phone.concat(a.text("phoneSynonyms").split(" ").filter(Boolean));
this.desc=a.text("comment");this.storeview=a.number("storeview_id");this.ad=a.text("source")=="ad";this.sourceName=a.text("source");this.hub_data=a.text("hub_data").split("|")[0];if(a.text("shape_support_types")=="LINE")this.pointExtension=true;if(["REALESTATE_POLY"].indexOf(a.text("shape_support_types"))>-1)this.hasArea=true;if(a.text("related_place"))this.dup_data=a.text("related_place").split("|").map(function(a){return Rd.create(a)});this.dangol=a.text("outlinksrvc")=="dangol";b=a.object("zigbang_info");
this.realEstates="";if(b){this.outsrclinkId=b.text("id");this.outsrcId=b.text("category");this.realEstates=b.text("count_disp");this.realtyUrl=b.text("realty_url")}b=a.text("courseinfo").split("~");this.courseinfo={origin:b[0],dest:b[1],length:a.text("geoinfo"),time:a.text("requiringtime")};this.tipCnt=a.text("tipcnt");this.holiday_info=a.text("holiday_info");if(a.text("tvshow_name"))this.tvshow_info=true;if(a.text("event_1"))this.event1=a.text("event_1")||""};ca.loadAt_=function(a){if(a=a.find("place")[0]){var b=
new ca;b.loadAt_(a);return b}return null};ca.findPath=function(a,b,c){var a=Number(a),d=new ca;d.id=a;var e="";typeof AoiTest!="undefined"&&(e="&level="+AoiTest.lv);require("server").placeLineList("confirmid="+a+e,function(a){b.call(c,d.loadPath_(a))})};ca.prototype.getFakePointWithIndex_=function(a,b){var c=a[0][b].split(",");return new daum.maps.Coords(c[0],c[1])};ca.prototype.setFakeStartPoint_=function(a){this.startPoint=this.getFakePointWithIndex_(a,0)};ca.prototype.setFakeEndPoint_=function(a){this.endPoint=
this.getFakePointWithIndex_(a,a[0].length-1)};ca.prototype.setFakeCenterPoint_=function(a){this.centerPoint=this.getFakePointWithIndex_(a,~~(a[0].length/2))};ca.prototype.loadPath_=function(a){a=a.find("value")[0];if(!a)return null;this.aoiPath=a.find("lines");this.startPoint=a.object("spoint");this.endPoint=a.object("epoint");this.centerPoint=a.object("cpoint");for(a=this.aoiPath.length;a--;)this.aoiPath[a]=this.aoiPath[a].text("value").split("|");this.startPoint?this.startPoint=new daum.maps.Coords(this.startPoint.number("x"),
this.startPoint.number("y")):this.setFakeStartPoint_(this.aoiPath);this.endPoint?this.endPoint=new daum.maps.Coords(this.endPoint.number("x"),this.endPoint.number("y")):this.setFakeEndPoint_(this.aoiPath);this.centerPoint?this.centerPoint=new daum.maps.Coords(this.centerPoint.number("x"),this.centerPoint.number("y")):this.setFakeCenterPoint_(this.aoiPath);return this};ca.find=function(a,b,c){var a=Number(a),d=new ca;d.id=a;require("server").placeById(a,function(a){b.call(c,d.load_(a))})};ca.prototype.load_=
function(a){this.coords=new daum.maps.Coords(a.number("place.wpointx"),a.number("place.wpointy"));this.name=a.text("place.placenamefull");this.phone=[a.text("place.phonenum")].concat(a.text("place.reltel").split(",").slice(1));this.address=(this.newAddress=a.text("place.region.newaddrfullname")+" "+a.text("place.newaddr.newaddrfull"))?a.text("place.region.name3"):a.text("place.region.fullname");this.address=this.address+(" "+a.text("place.addrbunho"));this.zipcode=a.text("place.newaddr.bsizonno");
this.review=a.number("place.feedback.totalrvwcnt");this.website=a.text("place.homepage");var b=a.find("place.recomPhotoList")[0];this.imgsrc=b?"//t1.daumcdn.net/thumb/C84x76/?fname="+b.text("url"):"";this.category=a.text("place.category.name1")||a.text("place.category.name2")||a.text("place.category.name3")||a.text("place.category.name4")||a.text("place.category.name5");if(a.text("place.roadview")){b=this.roadview=new nb;b.panoId=a.text("place.roadview.panoid");b.pan=a.number("place.roadview.pan");
b.tilt=a.number("place.roadview.tilt");b.zoom=a.number("place.roadview.rvlevel");b.coords=new daum.maps.Coords(a.number("place.roadview.wphotox"),a.number("place.roadview.wphotoy"))}if(a.has("place.placetype.subwaystationid")){this.subway=new bb;this.subway.id=a.text("place.placetype.subwaystationid")}if(a.has("place.placetype.oilcompanyid")){b=this.gas=new Nb;b.providerId=a.text("place.placetype.oilprice.oilcompanyid");b.gasPrice=a.number("place.placetype.oilprice.b027value");b.premiumGasPrice=a.number("place.placetype.oilprice.b034value");
b.dieselPrice=a.number("place.placetype.oilprice.d047value");b.lpgPrice=a.number("place.placetype.oilprice.k015value");b.timestampText=a.text("place.placetype.oilprice.b027moddttm");b.loadFacilities(a)}this.sourceName=(this.ad=a.text("place.adstatus")=="Y")?"ad":"place";this.desc=decodeURIComponent(a.text("place.introduction")).replace(/\+/g," ");if(a.has("place.placetype.interparkTour"))this.hub_data="interparktour";else if(a.has("place.placetype.nice"))this.hub_data="nice";if(this.hub_data==="interparktour")this.institution=
new Ud(a);else if(this.hub_data==="nice")this.institution=new Ad(a);if(this.institution&&!this.institution.isValid())this.institution=null;if(a.has("place.placetype.linecourse")){this.pointExtension=true;this.distance=a.text("place.placetype.linecourse.geominfo");this.time=a.text("place.placetype.linecourse.requiringtime");this.difficulty=a.text("place.placetype.linecourse.difficulty");this.source=a.text("place.placetype.linecourse.datasource");this.sourceUrl=decodeURIComponent(a.text("place.placetype.linecourse.datasourceurl"));
this.courseinfo={origin:a.text("place.placetype.linecourse.startpointtext"),dest:a.text("place.placetype.linecourse.endpointtext")}}this.mainName=a.text("place.placename");return this};ca.prototype.getDaumPlaceUrl=function(a){return require("url").DAUM_PLACE+this.id+(a?a:"")};ca.prototype.getLandingUrl=function(){if(this.realtyUrl)return this.realtyUrl;switch(this.outsrcId){case "officetel":return"https://realty.daum.net/home/"+this.outsrcId+"/danjis/"+this.outsrclinkId+"/items";case "oneroom":return"https://realty.daum.net/home/"+
this.outsrcId+"/items/"+this.outsrclinkId;case "apt":return"https://realty.daum.net/home/"+this.outsrcId+"/danjis/"+this.outsrclinkId;case "villa":return"https://realty.daum.net/home/"+this.outsrcId+"/building/"+this.outsrclinkId;default:return this.getDaumPlaceUrl()}};ca.findPlace=function(a,b,c){require("server").searchPlaceById(a,function(a){var e=new ca;e.loadAt_(a);b.call(c,e.id?e:null)})};ca.prototype.hasCoords=function(){return!!this.coords};ca.CategoryType={DEFAULT:"DEFAULT",PUBLIC:"PUBLIC",
HOSPITAL:"HOSPITAL"};ca.publicCategories=[[6,35],[11,121,71],[3,125],[2,101],[5,56]];ca.HospitalCategories=[[13,80],[13,1032],[22951,23791],[5,449,776]];ca.WORKING_STATUS={DEFAULT:{OFFDAY:"\ud734\ubb34\uc77c",BREAKTIME:"\ube0c\ub808\uc774\ud06c\ud0c0\uc784",OPEN:"\uc601\uc5c5\uc911",CLOSED:"\uae08\uc77c\uc601\uc5c5\ub9c8\uac10",BEFOREOPEN:"\uc601\uc5c5\uc804",CLOSED_TODAY:"\uc870\uae30\uc601\uc5c5\ub9c8\uac10",TEMPORARY_HOLIDAYS:"\uc784\uc2dc\ud734\uc5c5"},PUBLIC:{OFFDAY:"\ud734\ubb34\uc77c",BREAKTIME:"\ube0c\ub808\uc774\ud06c\ud0c0\uc784",
OPEN:"\uc6b4\uc601\uc911",CLOSED:"\uc6b4\uc601\uc885\ub8cc",BEFOREOPEN:"\uc6b4\uc601\uc804",CLOSED_TODAY:"\ud734\ubb34\uc77c",TEMPORARY_HOLIDAYS:"\uc784\uc2dc\ud734\ubb34"},HOSPITAL:{OFFDAY:"\ud734\ubb34\uc77c",BREAKTIME:"\ube0c\ub808\uc774\ud06c\ud0c0\uc784",OPEN:"\uc9c4\ub8cc\uc911",CLOSED:"\uc9c4\ub8cc\ub9c8\uac10",BEFOREOPEN:"\uc9c4\ub8cc\uc804",CLOSED_TODAY:"\ud734\ubb34\uc77c",TEMPORARY_HOLIDAYS:"\uc784\uc2dc\ud734\ubb34"}};ca.getStatusTextByCategory=function(a){var b="";if(a===ca.CategoryType.PUBLIC)b=
ca.WORKING_STATUS.PUBLIC;else if(a===ca.CategoryType.HOSPITAL)b=ca.WORKING_STATUS.HOSPITAL;return b||ca.WORKING_STATUS.DEFAULT};ca.hasMatchOrderSpecificCategories=function(a,b){for(var c=false,d=0;d<b.length;d++)for(var e=b[d],f=e.length,h=0;h<f;h++)if(+a[h]!==e[h])break;else if(h===f-1){c=true;break}return c};ca.prototype.checkPublicCategory=function(a){return ca.hasMatchOrderSpecificCategories(a,ca.publicCategories)};ca.prototype.checkHospitalCategory=function(a){return ca.hasMatchOrderSpecificCategories(a,
ca.HospitalCategories)};ca.prototype.getCategoryType=function(a){return this.checkPublicCategory(a)?ca.CategoryType.PUBLIC:this.checkHospitalCategory(a)?ca.CategoryType.HOSPITAL:ca.CategoryType.DEFAULT};tc.parseString=function(a){return a.split("|").filter(Boolean).map(tc.parseItemString_)};tc.NAME_MAP={CT:"\uc528\ud2f0\uce74\ub4dc"};tc.prototype.setCard=function(a){this.card=tc.NAME_MAP[a]||a};tc.parseItemString_=function(a){var a=a.split("/"),b=new tc;if(/^BIZ\^/.test(a[0])){b.ad=true;a[0]=a[0].substring(4)}b.setCard(a[0]);
b.benefit=a[2];return b};Vc.prototype.id=0;Vc.prototype.depth=0;Vc.prototype.name="";Ad.prototype.titleName="\uae30\uc5c5 \uc815\ubcf4";Ad.prototype.setDataElement=function(a,b){this.dataList.push({title:a,desc:b})};Ad.prototype.isValid=function(){return this.biztypename=="-"&&this.companytype=="-"&&this.chief=="-"?false:true};Ud.prototype.setDataElement=function(a,b){this.dataList.push({title:a,desc:b})};Ud.prototype.isValid=function(){var a=false;if(this.totalroomcountStr!="-"||this.timeinfoStr!=
"-")a=true;this.titleName=="\ud39c\uc158\uc815\ubcf4"&&this.amendities!="-"&&(a=true);return a};nd.getInfo=function(a){require("server").profileInfo({},a)};nd.update=function(a,b){var c="?nickName="+a.nickName;a.profileImageUrl&&(c=c+("&&profileImageUrl="+a.profileImageUrl));require("server").profileUpdate({addParamData:c},b)};define("model/RelatedAddress",[],function(){return function(a,b,c,d){this.type=b;this.typeName=c;a=a.split("^");this.address=a[0];this.prefix=d;if(a[1]){a=a[1].split(",");this.x=
a[0];this.y=a[1];this.coords=new daum.maps.Coords(this.x,this.y)}}});xa.TYPE_NONE="None";xa.prototype.type=xa.TYPE_NONE;xa.prototype.image="";xa.prototype.title="";xa.prototype.content="";xa.prototype.author="";xa.prototype.website="";xa.prototype.webpage="";xa.prototype.date="";xa.prototype.placeId="";xa.prototype.coords=new daum.maps.Coords(0,0);xa.prototype.sourceType=null;xa.SOURCE_CAFE="cafe";xa.SOURCE_BLOG="blog";xa.fetchUrl=function(a,b,c){require("server").blogReview(a,function(a){if(!a)return null;
var e=a.find("cafe")[0],f=xa.SOURCE_CAFE;if(!e){e=a.find("blog")[0];f=xa.SOURCE_BLOG;if(!e)return null}var h=new xa;h.sourceType=f;h.image=a.text("entry.attachment.url");h.title=a.text("entry.title");h.website=e.text("url");h.webpage=a.text("entry.permalink");f=a.text("entry.location").split("^");h.coords=a.text("entry.attachmentmap.coords")=="wcongnamul"?new daum.maps.Coords(a.number("entry.attachmentmap.mapx")||parseInt(f[1],10),a.number("entry.attachmentmap.mapy")||parseInt(f[2],10)):(new daum.maps.Congnamul(a.number("entry.attachmentmap.mapx")||
parseInt(f[1],10),a.number("entry.attachmentmap.mapy")||parseInt(f[2],10))).toCoords();h.content=String.stripTags(a.text("entry.content")).substring(0,80);var g=a.text("entry.written").replace("KST","GMT+0900"),g=new Date(Date.parse(g));h.date=g.getFullYear()+"."+(""+(g.getMonth()+101)).substring(1)+"."+(""+(g.getDate()+100)).substring(1);h.placeId=a.number("entry.attachmentmap.confirmid")||parseInt(f[7],10);h.address=a.text("entry.attachmentmap.raddress")||f[3];h.author=e.text("title");b.call(c,
h)})};nb.prototype.panoId=0;nb.prototype.pan=0;nb.prototype.tilt=0;nb.prototype.zoom=0;nb.prototype.thumbnail="";nb.prototype.coords=null;nb.exists=function(a,b,c){if(a=Number(a)){a="/"+a+"?SERVICE=pc_map_web";require("server").roadviewData({addParamData:a},function(a){b.call(c,a.obj_.street_view.cnt>0)})}else b.call(c,false)};nb.create=function(a){var b=new nb;b.panoId=a.text("panoid")||a.text("id");if(!b.panoId)return null;b.pan=a.text("pan");b.tilt=a.text("tilt");b.zoom=a.text("zoom");var c=a.text("filename")||
a.text("fileName");if(!c)return null;b.thumbnail="http://va.maps.daum-img.net/suggest"+c;b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return b};nb.prototype.loadText_=function(a){if(a){a=a.split("|");if(a[0]){this.panoId=+a[0];this.pan=+a[1];this.tilt=+a[2];this.zoom=+a[7];this.coords=new daum.maps.Coords(+a[5],+a[6]);return this}}return null};nb.createWithText=function(a){return(new nb).loadText_(a)};Rb.find=function(a,b,c){var d=new z;d.setBounds(a);d.setPageSize(20);d.onChange.add(function(){b.call(c,
Rb.load_(d.places))});d.setThemeId(1)};Rb.load_=function(a){return a.map(function(a){var c=new Rb;c.name=a.name;c.category=a.category;c.id=a.storeview;c.placeid=a.id;c.thumbnailUrl=String.format("http://v.maps.daum-img.net/store_thumb/%s/%s.jpg",a.storeview,a.storeview);c.coords=a.coords;return c})};Rb.MARKERS=[];Rb.findMarkers=function(a,b){if(!Rb.MARKERS[a]){var c=B["storeview_L"+a];c&&c.map&&(Rb.MARKERS[a]=c.map(function(a){var a=a.split("|"),b=new Rb;b.coords=new daum.maps.Coords(a[1],a[2]);switch(a[0]){case "S":b.id=
Number(a[3]);break;case "B":b.level=Number(a[4])}return b}))}b(Rb.MARKERS[a]||[])};define("model/SubwayRoute",[],function(){var a,b,c,d,e,f,h,g,i;function l(o){var t=o.text("departure_time"),q=o.text("arrival_time"),w=u(t,q);this.route=o;this.isFastest=o.text("routeType")===g;this.isMinTransfer=o.text("routeType")===i;this.isOnlyRoute=o.bool("isOnlyRoute");this.totalTime=w.totalSeconds||0;this.totalTimeHours=w.hours;this.totalTimeMinutes=w.minutes;this.depTime=m(t);this.arrTime=m(q);this.cardFare=
o.number("fare")||0;this.transferCount=o.find("sections").length-1;this.stationCount=j(o);this.hasExpressTrain=false;this.sectionRoutes=[];o.find("sections").forEach(function(g,j){var i,k=g.text("transfer_type");if(k===e||k===f||k===h){var k=this.sectionRoutes,k=k[k.length-1],m=this.route.find("sections")[j-1];i=m.find("nodes");i=i[i.length-1];var o=g.find("nodes")[0];i={id:m.text("line_id"),type:a,time:n(i.text("arrival_time")),walkTime:g.number("transfer_seconds"),nodes:[s(i),s(o)]};if(m){a:switch(g.text("transfer_type")){case f:m=
c;break a;case h:m=d;break a;default:m=""}k.transferTypeText=m}this.sectionRoutes.push(i)}i=new l.SectionRoute(g);i.type=b;this.sectionRoutes.push(i)},this);this.sectionRoutings=this.sectionRoutes;this.firstNode=jQuery.extend(true,{},this.sectionRoutes[0].nodes[0]);if(o=this.sectionRoutes[this.sectionRoutes.length-1])this.lastNode=jQuery.extend(true,{},o.nodes[o.nodes.length-1])}g="shortest_time";i="min_transfer";e="NORMAL";f="CURRENT";h="OPPOSITE";c="\uc81c\uc790\ub9ac \ud658\uc2b9";d="\ub9de\uc740\ud3b8 \ud658\uc2b9";
b="NORMAL";a="TRANSFER";var j=function(a){return a.raw().sections.map(function(a){return a.nodes.length-1}).reduce(function(a,b){return a+b},0)},m=function(a){a=a.split(":");return{hour:a[0],minute:a[1],second:a[2]}},n=function(a){return a.split(":").slice(0,2).join(":")},o=function(a){var b="";a==="EXPRESS"&&(b="E");a==="LIMITED_EXPRESS"&&(b="L");return b},s=function(a){return{id:a.text("station_id"),name:a.text("station_name"),subType:2,time:"--",arrTime:"--",x:a.number("wcong_x")/2.5,y:a.number("wcong_y")/
2.5}},t=function(a){a=n(a).split(":");return Number(a[0])*3600+Number(a[1])*60},u=function(a,b){var c=t(b)-t(a);return{totalSeconds:c,hours:Math.floor(c/3600),minutes:Math.floor(c%3600/60)}},q=function(a){return a==="0-0"?"\ubaa8\ub4e0 \ubb38":a.split(",").join(", ")},w=function(a){return!a.text("arrival_time")&&!a.text("departure_time")},y=function(a){return a.find("nodes").every(function(a){return w(a)})},v=function(a){return!y(a)&&a.find("nodes").some(function(a){return w(a)})};l.SectionRoute=
function(a){var b=a.find("nodes")[0];this.id=a.text("line_id");this.name=b.text("station_name");this.transferType=a.text("transfer_type");this.subType="";this.time=n(b.text("departure_time"));this.walkTime=a.number("transferSeconds");this.fastTransferInfo=q(a.text("boarding.fast_transfer_doors"));this.transferTypeText="";this.trainType=a.text("train_type");if(this.hasExpressTrain=this.trainType==="EXPRESS"||this.trainType==="LIMITED_EXPRESS")this.expressTrainType=o(this.trainType);this.nodes=[];this.nodesLength=
a.find("nodes").length;this.noTimeText="";this.isWholeOperationEnd=y(a);this.isPartialOperationEnd=v(a);a.find("nodes").forEach(function(a,b){var c=new l.Node(a),d=!c.time&&!c.arrTime;c.subwayId=this.id;if(d){d=this.nodes[b-1];c.time="--";if(d&&d.arrTime)d.time=d.arrTime;if(!this.noTimeText&&this.isPartialOperationEnd)this.noTimeText=d.name+"\uae4c\uc9c0 \uc6b4\ud589";if(!this.noTimeText&&this.isWholeOperationEnd)this.noTimeText="\uc5f4\ucc28 \uc6b4\ud589 \uc885\ub8cc"}this.nodes.push(c)},this);this.direction=
a.text("line_id")==="SES2"?a.find("nodes")[1].text("station_name")+" \ubc29\ud5a5":a.text("boarding.dest_station_name")+"\ud589"};l.Node=function(a){this.subwayId="";this.id=a.text("station_id");this.name=a.text("station_name");this.subType=1;this.time=n(a.text("departure_time"));this.arrTime=n(a.text("arrival_time"));this.x=a.number("wcong_x")/2.5;this.y=a.number("wcong_y")/2.5;this.containStationIds=a.raw().pass_station_ids_on_express};return l});define("model/SubwaySearch",["util/Trim","url","model/SubwayRoute",
"constants/subway"],function(a,b,c,d){function e(a){this.raw=null;this.params=a||null;this.findingDayType=this.findingType=this.endStationId=this.startStationId="";this.hasNoResultButFirstWeekendTrain=this.hasNoResultButFirstTrain=false;this.routes=[];this.load=function(a){if(a.number("code")===j){this.findingType=a.text("body.finding_type");this.findingDayType=a.text("body.day_type");this.setBasicInfo(a.object("body.command"));this.setRouteTime(a.object("body.routes"));return this}return null}}var f=
d.ROUTING_TYPE,h=d.DAY_TYPE,g={METROPOLITAN:"metropolitan",BUSAN:"busan",DAEGU:"daegu",GWANGJU:"gwangju",DAEJEON:"daejeon"},i={"01":"METROPOLITAN",21:"BUSAN",22:"DAEGU",24:"GWANGJU",25:"DAEJEON"},l={SAME_POINT:"\ucd9c\ubc1c\uc5ed\uacfc \ub3c4\ucc29\uc5ed\uc774 \ub3d9\uc77c\ud569\ub2c8\ub2e4.",INVALID_PARAMETER:"\uae38\ucc3e\uae30\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",UNKNOWN_ERROR:"\uae38\ucc3e\uae30\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",
ROUTE_NOT_FOUND:"\uae38\ucc3e\uae30 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \ucd9c\ubc1c\uc5ed\uacfc \ub3c4\ucc29\uc5ed\uc744 \ub2e4\uc2dc \ud655\uc778\ud574\uc8fc\uc138\uc694."},j=200,m=function(b,c){Object.keys(c).forEach(function(a){b=b.replace(RegExp("{"+a+"}"),c[a])});return a.trimRightCharacters(b,"-")},n=function(a){var c=[],d=a.type||"current",e=g[i[a.regionId]]||g.METROPOLITAN,f=m("{startSubwayId}--{startDepartureTime}",a),a=m("{endSubwayId}-{endArrivalTime}",a);c.push(d,e,f,a);return b.SUBWAY_SEARCH+
"/"+c.filter(function(a){return!!a}).join("/")},o=function(a){return!!a&&a.split(":").filter(function(a){return!!a}).length===3},s=function(a){var b={pathVariables:{type:"",region:"",startSubwayId:"",startArrivalTime:"",startDepartureTime:"",viaSubwayId:"",viaArrivalTime:"",viaDepartureTime:"",endSubwayId:"",endArrivalTime:""},queryParameters:{resultTimeFormat:"TIME_STRING",findingType:"",dayType:""},url:""},c=o(a.time)?a.time:"";b.pathVariables.regionId=a.regionId;b.pathVariables.startSubwayId=a.startSubwayId;
b.pathVariables.endSubwayId=a.endSubwayId;a.routingType===f.ARR_TIME_BASE?b.pathVariables.endArrivalTime=c:b.pathVariables.startDepartureTime=c;var c=b.queryParameters,d;a:switch(a.routingType){case f.FIRST_TRAIN:d="FIRST";break a;case f.LAST_TRAIN:d="LAST";break a;default:d="NORMAL"}c.findingType=d;b.queryParameters.dayType=a.dayType;b.url=n(b.pathVariables);return b};e.prototype.setBasicInfo=function(a){var b=a.find("passing_stations"),c=b.length-1,d=a.text("finding_type"),a=a.text("day_type");
this.startStationId=b[0].text("station_id");this.endStationId=b[c].text("station_id");this.hasNoResultButFirstTrain=d!=="FIRST"&&this.findingType==="FIRST";this.hasNoResultButFirstWeekendTrain=a===h.WEEKDAY&&this.findingDayType!==h.WEEKDAY&&this.findingType==="FIRST"};e.prototype.setRouteTime=function(a){var b=a.raw(),a=Object.keys(b),d=a.length===1,e=[];a.forEach(function(a){var c=b[a];c.routeType=a;c.isOnlyRoute=d;e.push(new Ga(c))});e.forEach(function(a){a=new c(a,this.params);this.routes.push(a)}.bind(this))};
e.findRoute=function(a,b,c){var d=new e(a),a=s(a);require("server").subwayRoute(a,function(a){var e=a.number("code"),f=a.text("message");e===200&&f==="ROUTE_NOT_FOUND"?alert(l.ROUTE_NOT_FOUND):b.call(c,d.load(a))},function(a){var b=a.status,a=JSON.parse(a.responseText).message;switch(b){case 500:a==="UNKNOWN_ERROR"&&alert(l.UNKNOWN_ERROR);break;case 400:a==="SAME_POINT"?alert(l.SAME_POINT):a==="INVALID_PARAMETER"&&alert(l.INVALID_PARAMETER)}})};return e});bb.prototype.loaded_=!1;bb.prototype.exits=
null;bb.prototype.prev=null;bb.prototype.next=null;bb.prototype.hitTest=function(){return R.prototype.hitTest.apply(this,arguments)};bb.prototype.isLoaded=function(){return this.loaded_};bb.prototype.fetchDetail=function(a,b){require("server").stationInfo(this.id,function(c){a.call(b,this.loadDetail_(c))}.bind(this))};bb.fetchMultiDetail=function(a,b,c){require("server").transitMultiSubway(a,function(a){a.raw().value.forEach(function(a){b.call(c,a)})})};bb.prototype.loadDetail_=function(a){this.loaded_=
true;this.name=a.text("name");this.lineName=a.text("lineName");if(a.text("address"))this.address=a.text("address");else if(a.object("info"))this.address=a.object("info").text("address");this.coords=this.coords||new daum.maps.Coords(a.number("x"),a.number("y"));a.text("subwayId");this.subwayLineId=a.text("subwayId");this.telephone=a.text("info.telephone");this.lostCenterTelephone=a.text("info.subwayLostCenter.telephone");this.exits={};a.find("exitInfos").forEach(function(a){this.exits[a.text("no")]=
a.text("landmarks")},this);var b=a.find("previousStations")[0];if(b)this.prev=new bb(b);if(b=a.find("nextStations")[0])this.next=new bb(b);this.transfers=a.find("transfers").map(function(a){var b=new bb;b.id=a.text("id");b.subwayLineId=a.text("subwayId");b.name=a.text("subwayName");b.lineName=a.text("lineName");return b});this.facilities=a.find("facilities").map(function(a){return a.text("value")});this.buses=a.find("buses").map(function(a){return new ba(a)});return this};bb.prototype.openInfoPopup=
function(){open(require("url").DAUM_PLACE+this.id)};Wc.prototype.id=0;Wc.prototype.themeId=0;Wc.prototype.name="";Wc.prototype.count=0;define("model/ThemeMapItem",[],function(){return function(a){this.cpName=a.text("cp_name")||"";this.cpProgram=a.text("cp_program")||"";this.title=a.text("title")||"";this.place_cnt=a.number("place_cnt");this.good_cnt=a.number("good_cnt");this.img=a.text("image")||"";this.themeId=a.text("themeId");this.banner_pc=a.text("banner_pc");this.thumbnail_key=a.text("thumbnail_key")||
"";this.thumbnail_url=a.text("thumbnail_url")||"";this.region=a.text("region")||"\uc804\uad6d";if(this.thumbnail_url)this.src="//t1.daumcdn.net/thumb/C75x75/?fname="+this.thumbnail_url}});define("model/ThemeMapPlaceItem",[],function(){return function(a){this.name=a.text("name")||"";this.why=a.text("why")||"";var b="",c=a.text("photoUrl")||"";c&&(b="//t1.daumcdn.net/thumb/C75x75/?fname="+c);this.photoUrl=b;this.region=a.text("region")||"";this.tip_cnt=a.text("tip_cnt")||"0";this.placeId=a.text("placeId")||
"";this.good_cnt=a.number("good_cnt")||0;this.coords=new daum.maps.Coords(a.number("x")||0,a.number("y")||0);this.linecourseYN=a.text("linecourseYN")}});Vd.find=function(a,b,c,d){var e=new Vd;e.coords=a;e.level=b;require("server").traffic({x:a.getX()|0,y:a.getY()|0,level:b},function(a){c.call(d,e.load_(a))})};Vd.prototype.load_=function(a){if(this.length=a.number("length")){this.name=a.text("name");this.desc=a.text("fromNodeName")+" ~ "+a.text("toNodeName");this.status=a.text("traffic");this.speed=
a.number("speed");return this}return null};E.DEPARTURE="DEPARTURE";E.ARRIVAL="ARRIVAL";E.TRANSFER_PUBLICTRAFFIC="TRANSFER_PUBLICTRAFFIC";E.TRANSFER_CAR="TRANSFER_CAR";E.TRANSFER_WALK="TRANSFER_WALK";E.TRANSFER_CUSTOM="TRANSFER_CUSTOM";E.EXPRESS_BUS="EXPRESS_BUS";E.INTERCITY_BUS="INTERCITY_BUS";E.TRAIN="TRAIN";E.FERRY="FERRY";E.AIRPLANE="AIRPLANE";E.INTERCITY="INTERCITY";E.PUBLICTRAFFIC="PUBLICTRAFFIC";E.DEPARTURE_ARRIVAL="DEPARTURE_ARRIVAL";E.prototype.getIconClassName=function(){return this.subType===
"\ubb34\uad81\ud654"?"MUGUNGHWA":this.subType==="\uc0c8\ub9c8\uc744"?"SAEMAEUL":this.subType==="\ub204\ub9ac\ub85c"?"NURIRO":this.subType==="\ud1b5\uadfc"?"COMMUTER":this.subType==="DMZtrain"?"DMZ":this.subType==="ITX\uc0c8\ub9c8\uc744"?"ITX":this.type==="INTERCITY_BUS"?"INTERCITY":this.type===E.TRAIN?this.subType:this.type};E.prototype.getLabelClassName=function(){if(this.type===E.TRAIN){if(this.subType==="KTX"||this.subType==="ITX"||this.subType==="SRT")return this.subType.toLowerCase();if(this.subType===
"\ubb34\uad81\ud654")return"mugunghwa";if(this.subType==="\uc0c8\ub9c8\uc744")return"saemaeul";if(this.subType==="\ub204\ub9ac\ub85c")return"nuriro";if(this.subType==="DMZ")return"dmzt";if(this.subType==="\ud1b5\uadfc")return"tonggeun";if(this.subType==="DMZtrain")return"dmzt";if(this.subType==="ITX\uc0c8\ub9c8\uc744")return"itxsae"}else return this.type===E.EXPRESS_BUS||this.type===E.INTERCITY_BUS?this.type.toLowerCase():""};E.createFromData=function(a,b,c){var d=new E,e=a.data;d.routeType=a.routeType;
d.isInterPoint=true;if(a.routeType==E.DEPARTURE_ARRIVAL){if(a.pointType=="START"){d.type=E.DEPARTURE;d.action=E.DEPARTURE}else{d.type=E.ARRIVAL;d.action=E.ARRIVAL}d.name=e.text("name");d.roadview=false;d.coords=new daum.maps.Coords(e.number("x"),e.number("y"));d.confirmid=e.text("confirmid")}else{d.action=d.vehicleType=e.text("vehicle.type");d.coords=new daum.maps.Coords(e.number("departure.x"),e.number("departure.y"));d.arrivalCoords=new daum.maps.Coords(e.number("arrival.x"),e.number("arrival.y"));
if(d.vehicleType=="TRAIN")d.subType=e.text("vehicle.subType");d.start=e.object("departure");d.end=e.object("arrival");d.time=e.text("time.text");d.fare=e.text("fare.text");d.reservation=e.bool("reservation");d.longInterval=e.bool("longInterval");d.nodes=[];d.name=e.text("departure.name");d.nodeType=e.text("departure.type");d.actionName="\ud0d1\uc2b9";d.type=d.vehicleType;if(d.vehicleType==E.TRANSFER_PUBLICTRAFFIC){d.interTypeName="\uc2dc\ub0b4";d.fare=e.text("transferRoute.route.fare.text");d.publicSummaries=
[];e.find("transferRoute.route.summaries").map(function(a,b){var c=this.getSummaryNode(a.object("startLocation"));c.vehicles=a.find("vehicles").map(function(a){var b=a.text("type")=="BUS"?ba.TYPE[a.text("subType")]:U.subwayCode[a.text("id")][0];return{vehicleType:a.text("type").toLowerCase(),subType:a.text("subType"),name:a.text("name"),parentName:a.text("parentName"),lineType:b,id:a.text("id"),visible:a.text("visible")=="true"}});c.index=d.publicSummaries.length;d.publicSummaries.push(c);if(e.find("transferRoute.route.summaries").length-
1==b){c=this.getSummaryNode(a.object("endLocation"));c.index=d.publicSummaries.length;d.publicSummaries.push(c)}},d);d.publicSteps=[];e.find("transferRoute.route.steps").forEach(function(a,b){var e=a.text("action");if(!(e=="DEPARTURE"||e=="ARRIVAL")){e=U.createFromData(a,b,c);e.isInterPublic=true;if(e.type==U.OTHER&&d.publicSteps.length>0)d.publicSteps[d.publicSteps.length-1].nextOther=true;d.publicSteps.push(e)}})}else if(d.vehicleType==E.TRANSFER_CAR){d.interTypeName="\ud0dd\uc2dc";d.publicRoute=
e.text("polyline");d.taxiFare=e.text("transferRoute.taxiFare.text");d.distance=e.text("transferRoute.distance.text")}else if(d.vehicleType==E.TRANSFER_WALK){d.interTypeName="\ub3c4\ubcf4";d.publicRoute=e.text("polyline");d.distance=e.text("transferRoute.distance.text")}else if(d.vehicleType==E.TRANSFER_CUSTOM)d.interTypeName="\uc5c6\uc74c";else if(d.vehicleType==E.INTERCITY_BUS){d.interTypeName="\uc2dc\uc678";d.publicRoute=e.text("polyline")}else if(d.vehicleType==E.EXPRESS_BUS){d.interTypeName="\uace0\uc18d";
d.publicRoute=e.text("polyline")}else if(d.vehicleType==E.TRAIN){d.interTypeName=d.subType=="DMZtrain"?"DMZ train":d.subType;d.publicRoute=e.text("polyline")}else if(d.vehicleType==E.FERRY){d.interTypeName="\uc5ec\uac1d\uc120";d.publicRoute=e.text("polyline")}else if(d.vehicleType==E.AIRPLANE)d.interTypeName="\ud56d\uacf5"}return d};E.prototype.getSummaryNode=function(a){var b=a.text("type"),c=b=="BUSSTOP"?a.text("name")+" \uc815\ub958\uc7a5 ":a.text("name");return{type:a.text("type"),locationName:c,
coords:new daum.maps.Coords(a.number("x"),a.number("y")),typeCode:b=="BUSSTOP"?"":U.subwayCode[a.text("subwayId")][0],action:a.text("action")}};E.prototype.buildPaths=function(){var a=this.start?new daum.maps.Coords(this.start.number("x"),this.start.number("y")):null,b=this.end?new daum.maps.Coords(this.end.number("x"),this.end.number("y")):null;if(this.routeType==E.INTERCITY){this.targetPath=this.path=[];if(this.vehicleType==E.AIRPLANE)this.targetPath=this.path=this.getCurvePath_(a,b,30);else if(this.publicRoute)this.publicRoute.split("|").forEach(function(a){a=
a.split(",");this.path.push(new daum.maps.Coords(a[0],a[1]))},this);else{this.path.push(a);this.path.push(b)}}else if(this.vehicleType==E.TRANSFER_CUSTOM){this.targetPath=this.publicCustomPath=[];this.publicCustomPath.push(a);this.publicCustomPath.push(b)}else if(this.routeType==E.PUBLICTRAFFIC){var c=[];this.publicSteps?this.publicSteps.forEach(function(a){a.buildPaths();if(a.path||a.walkPath)c=c.concat(a.path||a.walkPath)}):this.publicRoute&&this.publicRoute.split("|").forEach(function(a){a=a.split(",");
c.push(new daum.maps.Coords(a[0],a[1]))},this);this.targetPath=this.vehicleType==E.TRANSFER_WALK?this.publicWalkPath=c:this.publicPath=c}};E.prototype.getCurvePath_=function(a,b,c){var d=b.getX()-a.getX()>0?true:false,e=B.ctr=B.ctr||{};e.control1=this.getControlPosition(a,b,d);e.control10=new daum.maps.Coords((a.getX()+b.getX())/2,(a.getY()+b.getY())/2);e.control11=new daum.maps.Coords((e.control10.getX()+e.control1.getX())/2,(e.control10.getY()+e.control1.getY())/2);e.control12=new daum.maps.Coords((e.control10.getX()+
e.control11.getX())/2,(e.control10.getY()+e.control11.getY())/2);for(var d=e.control12,e=[],c=1/c,f=0;f<0.95;f=f+c){var h=this.getQuadraticCurvePoint_(a.getX(),a.getY(),d.getX(),d.getY(),b.getX(),b.getY(),f);e.push(h)}e.push(b);return e};E.prototype.getMarkerImage=function(a,b){var c=10+(a-1)*46;return new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2012/img/marker_normal.png",new daum.maps.Size(33,36),{offset:new daum.maps.Point(12,36),spriteSize:new daum.maps.Size(644,946),spriteOrigin:new daum.maps.Point(b,
c)})};E.prototype.getControlPosition=function(a,b,c){var d=new daum.maps.Coords(b.getX()-a.getX(),b.getY()-a.getY()),e=Math.atan2(d.getY(),d.getX()),f=Math.sqrt(Math.pow(d.getX()/2,2)+Math.pow(d.getY()/2,2)),d=f*Math.cos(e)-f*Math.sin(e),e=f*Math.sin(e)+f*Math.cos(e);if(c){d=a.getX()+d;e=a.getY()+e}else{d=b.getX()-d;e=b.getY()-e}return new daum.maps.Coords(d,e)};E.prototype.getQuadraticCurvePoint_=function(a,b,c,d,e,f,h){return new daum.maps.Coords(this.getQBezierValue_(h,a,c,e),this.getQBezierValue_(h,
b,d,f))};E.prototype.getQBezierValue_=function(a,b,c,d){var e=1-a;return e*e*b+2*e*a*c+a*a*d};E.getLabelClassName=function(a){if(a.type===E.TRAIN){if(a.subType==="KTX"||a.subType==="ITX"||a.subType==="SRT")return a.subType.toLowerCase();if(a.subType==="\ubb34\uad81\ud654")return"mugunghwa";if(a.subType==="\uc0c8\ub9c8\uc744")return"saemaeul";if(a.subType==="\ub204\ub9ac\ub85c")return"nuriro";if(a.subType==="DMZ")return"dmzt";if(a.subType==="\ud1b5\uadfc")return"tonggeun";if(a.subType==="DMZtrain")return"dmzt";
if(a.subType==="ITX\uc0c8\ub9c8\uc744")return"itxsae"}else return a.type===E.EXPRESS_BUS||a.type===E.INTERCITY_BUS?a.type.toLowerCase():""};ac.getIconClassName=function(a){return a.subType==="\ubb34\uad81\ud654"?"MUGUNGHWA":a.subType==="\uc0c8\ub9c8\uc744"?"SAEMAEUL":a.subType==="\ub204\ub9ac\ub85c"?"NURIRO":a.subType==="\ud1b5\uadfc"?"COMMUTER":a.subType==="DMZtrain"?"DMZ":a.subType==="ITX\uc0c8\ub9c8\uc744"?"ITX":a.type==="INTERCITY_BUS"?"INTERCITY":a.type===E.TRAIN?a.subType:a.type};ac.prototype.buildPaths=
function(){this.totalPaths.length==0&&this.points.forEach(function(a){a.buildPaths();if(a.targetPath)this.totalPaths=this.totalPaths.concat(a.targetPath)},this)};ac.prototype.getSummaryNode=function(a,b){var c=a.text("name"),d=a.text("type");return{type:"INTERCITY",locationName:c,coords:new daum.maps.Coords(a.number("x"),a.number("y")),typeCode:d.toLowerCase(),vehicle:{type:b.text("type"),subType:b.text("subType")}}};ac.prototype.getSubTypeCode=function(a){var b="";a=="KTX"?b="KTX":a=="ITX"?b="ITX":
a=="SRT"?b="SRT":a=="\uc0c8\ub9c8\uc744"?b="SAEMAEUL":a=="\ubb34\uad81\ud654"?b="MUGUNGHWA":a=="\ub204\ub9ac\ub85c"?b="NURIRO":a=="\ud1b5\uadfc"?b="TONGGEUN":a=="ITX\uc0c8\ub9c8\uc744"?b="ITXSAEMAEUL":a=="DMZtrain"&&(b="DMZT");return b};ac.Lazy=function(a){this.get=function(){return new ac(a)}};U.DEPARTURE="DEPARTURE";U.MOVE="MOVE";U.GETON="GETON";U.GETOFF="GETOFF";U.TRANSFER="TRANSFER";U.ARRIVAL="ARRIVAL";U.OTHER="OTHER";U.GETOFF_TRANSFER="GETOFF_TRANSFER";U.ACTION={MOVE:"\uc774\ub3d9",TRANSFER:"\ud658\uc2b9",
GETON:"\uc2b9\ucc28",GETOFF:"\ud558\ucc28"};U.subwayCode={SES1:["subway_1","1\ud638\uc120"],SES2:["subway_2","2\ud638\uc120"],SES3:["subway_3","3\ud638\uc120"],SES4:["subway_4","4\ud638\uc120"],SES5:["subway_5","5\ud638\uc120"],SES6:["subway_6","6\ud638\uc120"],SES7:["subway_7","7\ud638\uc120"],SES8:["subway_8","8\ud638\uc120"],SES9:["subway_9","9\ud638\uc120"],SES33:["subway_k","\uacbd\ucd98\uc120"],SES26:["subway_j","\uacbd\uc758\uc911\uc559\uc120"],SES28:["subway_ky","\uacbd\uc758\uc911\uc559\uc120"],
SES23:["subway_minute","\ubd84\ub2f9\uc120"],SES27:["subway_g","\uacf5\ud56d\ucca0\ub3c4"],SES35:["subway_s","\uc218\uc778\uc120"],SES34:["subway_new","\uc2e0\ubd84\ub2f9\uc120"],SES36:["subway_i","\uacbd\uc804\ucca0"],SES37:["subway_ever","\uc5d0\ubc84\ub77c\uc778"],PSS1:["subway_bu1","1\ud638\uc120"],PSS2:["subway_bu2","2\ud638\uc120"],PSS3:["subway_bu3","3\ud638\uc120"],PSS4:["subway_bu4","4\ud638\uc120"],PSS10:["subway_bu10","\ubd80\uc0b0\uae40\ud574 \uacbd\uc804\ucca0"],DGS1:["subway_dae1","1\ud638\uc120"],
DGS2:["subway_dae2","2\ud638\uc120"],DGS3:["subway_dae3","3\ud638\uc120"],KJS1:["subway_kwa1","1\ud638\uc120"],KJS2:["subway_kwa2","2\ud638\uc120"],DJS1:["subway_jeo1","1\ud638\uc120"],SES38:["subway_ml","\uc790\uae30\ubd80\uc0c1"],SES22:["subway_in1","\uc778\ucc9c1\ud638\uc120"],SES39:["subway_in2","\uc778\ucc9c2\ud638\uc120"],SES40:["subway_kk","\uacbd\uac15\uc120"],PSS11:["subway_dh","\ub3d9\ud574\uc120"],SES41:["subway_ui","\uc6b0\uc774\uc2e0\uc124"],SES42:["subway_sh","\uc11c\ud574"],SES43:["subway_gg",
"\uae40\ud3ec\uace8\ub4dc"],SES44:["subway_sb","\uc218\uc778\ubd84\ub2f9"],SES45:["subway_sl","\uc2e0\ub9bc\uc120"]};U.createFromData=function(a){var b=new U;a.text("type");b.action=a.text("action");var c=b.action==U.ARRIVAL||b.action==U.GETOFF?a.object("endLocation"):a.object("startLocation");b.coords=new daum.maps.Coords(c.number("x"),c.number("y"));b.confirmid=+c.text("confirmId")?+c.text("confirmId"):null;b.actionName=a.text("actionName");b.walkingGuide=a.bool("walkingGuide");b.name=(c.text("type"),
c.text("name"));b.nodes=a.find("nodes").map(function(a){return{name:a.text("name"),type:a.text("type"),coords:new daum.maps.Coords(a.number("x"),a.number("y"))}});b.distance=a.number("distance.value")||0;b.time=a.text("time.text")||0;if(c.has("roadView"))b.roadview=nb.create(c.object("roadView"));b.type=a.text("type");b.vehicles=[];b.linePath=a.text("polyline");switch(b.type){case "BUS":b.bus=true;b.busLineId=[];b.vehicles=a.find("vehicles").map(function(a){b.busLineId.push(a.text("id"));return{vehicleType:a.text("type").toLowerCase(),
subType:a.text("subType"),name:a.text("name"),parentName:a.text("parentName"),lineType:ba.TYPE[a.text("subType")],id:a.text("id"),visible:a.text("visible")=="true",startOrder:a.number("startOrder"),idx:a.text("idx")}});b.busIconCode=b.vehicles.length!=0?b.vehicles[0].type:null;b.busStop=new R;b.busStop.id=c.text("id");b.path=[];break;case "SUBWAY":b.subway=true;b.subwayCode=U.subwayCode[c.text("subwayId")][0];b.subwayStation=new bb;b.subwayStation.id=c.text("id");b.vehicles=a.find("vehicles").map(function(a){return{vehicleType:a.text("type").toLowerCase(),
subType:a.text("subType"),name:a.text("name"),lineType:U.subwayCode[a.text("id")][0],id:a.text("id"),visible:a.text("visible")=="true"}});b.subwayLine=U.subwayCode[c.text("subwayId")][1];b.direction=a.text("direction");if(b.vehicles[0])b.desc=b.vehicles[0].name+" "+a.text("direction")+"\ubc29\uba74";b.moreRoute=b.nodes.length!=0?b.nodes.length+"\uac1c \uc5ed \uc774\ub3d9":"";b.path=[];if(a.text("vehicleId"))b.icon="//t1.daumcdn.net/localimg/localimages/07/subway/nicon/i_subway_"+a.text("vehicleId")+
"_t1.gif";if(a.text("fastTransfer"))b.tip="\ube60\ub978 "+b.actionName+" "+a.text("fastTransfer");if(a.text("walkingPolyline")){a=a.text("walkingPolyline").split("|");b.walkingPolyline=[];for(var c=0,d=a.length;c<d;c=c+2)b.walkingPolyline.push(new daum.maps.Coords(a[c],a[c+1]))}break;case "OTHER":case "WALKING":b.coords=new daum.maps.Coords(a.number("startLocation.x"),a.number("startLocation.y"));b.walk=true;b.walkGroup=Tc();b.walkGroup.roadview=b.roadview;c=a.object("endLocation");d=c.text("name");
c.text("type")=="BUSSTOP"?d=d+" \uc815\ub958\uc7a5":c.text("type")=="SUBWAYSTATION"&&a.text("subwayExit")&&(d=d+(" "+a.text("subwayExit")+"\ubc88 \ucd9c\uad6c"));d=d+"\uae4c\uc9c0 \ub3c4\ubcf4\ub85c \uc774\ub3d9";b.endLocation=a.object("endLocation");a.object("startLocation").text("type")=="SUBWAYSTATION"&&a.text("subwayExit")&&(d=a.text("subwayExit")+"\ubc88 \ucd9c\uad6c\ub85c \ub098\uc640\uc11c, "+d);b.walkGroup.desc=b.desc||d;b.walkGroup.summary="\ub3c4\ubcf4\ub85c \uc774\ub3d9";b.walkGroup.time=
a.number("time.value");b.walkGroup.distance=a.number("distance.value");b.walkGroup.walkGuide=a.text("walkingGuide")=="true";b.walkPath=[]}return b};U.prototype.buildPaths=function(){var a=this.linePath?this.linePath.split("|"):null,b=this.type=="WALKING"||this.type=="OTHER"?this.walkPath:this.path;if(a)for(var c=0,d=a.length;c<d;c=c+2)b.push(new daum.maps.Coords(a[c],a[c+1]));this.targetPath=b};jc.prototype.buildPaths=function(){this.totalPaths.length==0&&this.points.forEach(function(a){a.buildPaths();
if(a=a.path||a.walkPath)this.totalPaths=this.totalPaths.concat(a)},this)};jc.prototype.isLastGetOffItem=function(){var a=this.points.length-2;if(this.points[a].action=="MOVE")this.points[a-1].lastGetOFf=true;if(this.points[a].action=="GETOFF")this.points[a].lastGetOFf=true};jc.prototype.getSummaryNode=function(a){var b=a.text("type"),c=b=="BUSSTOP"?a.text("name")+" \uc815\ub958\uc7a5 ":a.text("name"),b={type:a.text("type"),locationName:c,coords:new daum.maps.Coords(a.number("x"),a.number("y")),typeCode:b==
"BUSSTOP"?"":U.subwayCode[a.text("subwayId")][0],action:a.text("action")};if(a.text("displayId"))b.displayId=a.text("displayId");return b};jc.find=function(a,b,c,d){var e=a.length-1,f=a[0],h=a[e];if(a.length==2&&f.coords&&h.coords){var g=f.coords,i=h.coords;if(f.id&&h.id&&f.id==h.id||g.getX()==i.getX()&&g.getY()==i.getY()){b.call(d,{transitRoutes:[],status:"EQUAL_POINTS",interRoutes:[],interStatus:"EQUAL_POINTS"});return}}var l={};a.forEach(function(a,b){if(b==0||b==e){var c=a.coords,d=b==0?"s":"e";
l[d+"X"]=c.getX()|0;l[d+"Y"]=c.getY()|0;l[d+"Name"]=a.name?a.name.trim():"";l[d+"id"]=a.id&&a.id.indexOf("PSS")===-1?a.id?a.id.replace("P",""):"":a.id||""}});var j=fc();require("server").transitRoute2(l,function(a){j.dispose();var c=[];a.find("in_local.routes").forEach(function(a){c.push(new jc.Lazy(a))});var e=a.object("inter_local.start"),f=a.object("inter_local.end"),e=e?e.raw():{},f=f?f.raw():{};e.type="DEPARTURE";f.type="ARRIVAL";var g=[];a.find("inter_local.routes").forEach(function(a){a.obj_.start=
e;a.obj_.end=f;g.push(new ac.Lazy(a))});b.call(d,{transitRoutes:c,status:a.text("in_local.status")||a.text("in_local_status"),interRoutes:g,interStatus:a.text("inter_local.status")||a.text("inter_local_status"),mkey:a.text("mkey")})},function(a){j.dispose();c.call(d,a)})};jc.Lazy=function(a){this.get=function(){return new jc(a)}};define("model/TransitRouteSummary",[""],function(){function a(){}return{create:function(b){return new a(b)}}});xb.getAddressByCoords=function(a,b,c){var d={addParamData:encodeURIComponent(c.getX()+
","+c.getY())+"?crs=wcongnamul"};require("server").w3wAddress(d,function(d){d={address:d.text("address"),coords:c};a.call(b,xb.loadOne_(d))})};xb.loadOne_=function(a){return new xb(a)};xb.search=function(a,b,c){var d={addParamData:encodeURIComponent(c)+"?crs=wcongnamul"};require("server").w3wSearch(d,function(d){if(d.text("error"))a.call(b);else{d={address:c,coords:new daum.maps.Coords(d.number("x"),d.number("y")),isValidBoundary:d.bool("isValidBoundary")};a.call(b,xb.loadOne_(d))}},function(){a.call(b)})};
gc.ACTION_LIST={ENTER_CROSSWALK:0,ENTER_DOUBLE_CROSSWALK:0,ENTER_STAIR:1,ENTER_PEDESTRIAN_OVERPASS:2,ENTER_UNDERGROUND:3,ENTER_ELEVATOR:4,ENTER_UNDERGROUND_BRIDGE:5,ENTER_SUBWAY:8,ENTER_SUBWAY_ELEVATOR:8,EXIT_SUBWAY_ELEVATOR:8,ENTER_PEDESTRIAN_BRIDGE:7,ENTER_STEPPING_STONE:7,ENTER_ESCALATOR:1};gc.ROTATIONCODE_LIST=["STRAIGHT","TURN_LEFT","TURN_RIGHT"];Wa.RECOMMENDATION="RECOMMENDATION";Wa.SHORTEST="SHORTEST";Wa.NONE="NONE";Wa.AVOID_STAIR="AVOID_STAIR";Wa.find=function(a,b,c,d){var e={walkMode:b,walkOption:c,
u2X:[],u2Y:[]},f=a.length-1,h=a[0],g=a[f];if(a.length==2&&h.coords&&g.coords){h=h.coords;g=g.coords;if(h.getX()==g.getX()&&h.getY()==g.getY()){g=Wa();g.mode=b;g.option=c;g.waypoints=a;g.error=true;g.resultErrorCode="SAME_POINT";d(g);return}}var i="";a.forEach(function(a,b){var c=a.coords;if(b!=0&&b!=f&&b!=1){e.u2X.push(c.getX()|0);e.u2Y.push(c.getY()|0)}else{var d=b==0?"s":b==f?"e":"p";e[d+"Name"]=a.name;e[d+"X"]=c.getX()|0;e[d+"Y"]=c.getY()|0}i=i+((a.id?a.id:"")+(b!=f?",":""))});e.ids=i;require("server").walkRoute(e,
function(e){var f=Wa();f.mode=b;f.option=c;f.waypoints=a;Wa.load(f,e);d(f)})};Wa.find2=function(a,b,c,d,e,f){require("server").walkRoute({xy:[a.coords.getX(),a.coords.getY(),c.coords.getX(),c.coords.getY()].join(),pointType:[b,d].join(),eName:e,walkMode:"SHORTEST",grouping:"no"},function(a){var b=Wa();b.method="SHORTEST";b.option="NONE";Wa.load(b,a);f(b)})};Wa.load=function(a,b){a.error="";a.resultErrorCode="";a.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(b.number("bound.left"),b.number("bound.bottom")),
new daum.maps.Coords(b.number("bound.right"),b.number("bound.top")));a.time=b.number("time");a.distance=b.number("length");a.raw=b.obj_;var c=0;if(a.waypoints){var d=gc();d.seq="start";d.name=a.waypoints[0].name;d.summary=a.waypoints[0].name;d.coords=a.waypoints[0].coords;a.points.push(d)}var e=b.find("sections").length-1,f=a.sectionPoints=[];if(b.text("resultCode")=="OK")a.error=false;else{a.error=true;a.resultErrorCode=b.text("resultCode")}a.routeMode=b.text("routeMode");var h=0,g=0,i=0,l=0;b.find("sections").forEach(function(b,
d){f[d]=[];var j=[],m=b.find("guideList").length;b.find("guideList").forEach(function(b,e){var g=b.text("groupId");g=="-1"&&(g=null);var g=null,h=gc();h.seq=++c;h.coords=new daum.maps.Coords(b.number("x"),b.number("y"));if(b.has("subwayStation")){h.subway=b.text("subwayStation.subwayStationName");if(b.has("subwayStation.exitNo"))h.subway=h.subway+(" "+b.text("subwayStation.exitNo")+"\ubc88\ucd9c\uad6c")}h.poi=b.text("poi.placeName");h.confirmid=b.text("poi.confirmId")||null;h.cross=b.text("crossName")||
null;h.desc=b.text("guideMent");h.action=b.text("guideCode");h.rotationCode=b.text("rotationCode");h.path=b.text("link.points").split("|").map(function(a){a=a.split(",");return new daum.maps.Coords(a[0],a[1])});if(b.has("roadView")){var i=new nb;i.panoId=b.text("roadView.panoid");i.pan=b.number("roadView.pan");i.coords=new daum.maps.Coords(b.number("roadView.x"),b.number("roadView.y"));i.thumbnail="http://va.maps.daum-img.net/suggest"+b.text("roadView.filename");h.roadview=i;a.hasRoadviewInfo=true}if(g){j[g].start=
j[g].start||h.getSummary();j[g].end=h.getSummary()||j[g].end;j[g].time=j[g].time+b.number("link.time");j[g].distance=j[g].distance+b.number("link.length");j[g].points.push(h)}else a.points.push(h);h.path.length-1&&(f[d]=f[d].concat(h.path));if(e==m-1&&a.waypoints){i=a.waypoints[d+1].name;if(!g)h.desc="["+i+"] \ub3c4\ucc29"}});h=h+(b.number("calories")||0);g=g+(b.number("facilities.bridge")||0);i=i+(b.number("facilities.underground")||0);l=l+(b.number("facilities.stair")||0);if(d<e&&a.waypoints){var n=
a.waypoints[d+1],u=gc();u.name=n.name;u.summary=n.name;u.coords=n.coords;u.roadview=null;u.desc=u.action=u.rotationCode="";u.seq="through";a.points.push(u)}});a.calories=String.formatNumber(h);a.bridge=g;a.underground=i;a.stair=l;if(a.waypoints){var d=a.waypoints.length-1,j=gc();j.seq="goal";j.name=a.waypoints[d].name;j.summary=a.waypoints[d].name;j.coords=a.waypoints[d].coords;a.points.push(j)}a.points.some(function(){});return a};Hb.getModeLineColor=function(a){var b="#7abbff";switch(a){case "SHORTEST":b=
"#7abbff";break;case "BROAD_FIRST":b="#7abbff";break;case "ACCESSIBLE":b="#7abbff"}return b};Hb.getModeOutLineColor=function(a){var b="#54a8ff";switch(a){case "SHORTEST":b="#54a8ff";break;case "BROAD_FIRST":b="#54a8ff";break;case "ACCESSIBLE":b="#54a8ff"}return b};Hb.getModeText=function(a){var b=null;switch(a){case "SHORTEST":b="\ucd5c\ub2e8\uac70\ub9ac";break;case "BROAD_FIRST":b="\ud070\uae38\uc6b0\uc120";break;case "ACCESSIBLE":b="\ud3b8\uc548\ud55c\uae38"}return b+" \uacbd\ub85c"};Hb.find=function(a,
b,c){var d={u2X:[],u2Y:[]},e=a.length-1,f=a[0],h=a[e];if(a.length>=2&&f.coords&&h.coords){for(var h=f.coords,g=false,i=1;i<a.length;i++)if(h.getX()===a[i].coords.getX()&&h.getY()===a[i].coords.getY()||f.id&&a[i].id&&f.id==a[i].id)g=true;else{g=false;break}if(g){f=Hb();f.waypoints=a;f.error=true;f.resultErrorCode="SAME_POINT";b(f);return}}var l="";a.forEach(function(a,b){var c=a.coords;if(b!=0&&b!=e&&b!=1){d.u2X.push(c.getX()|0);d.u2Y.push(c.getY()|0)}else{var f=b==0?"s":b==e?"e":"p";d[f+"Name"]=a.name;
d[f+"X"]=c.getX()|0;d[f+"Y"]=c.getY()|0}l=l+((a.id?a.id:"")+(b!=e?",":""))});d.ids=l;require("server").walkSetRoute(d,function(c){var d=Hb();d.waypoints=a;Hb.load(d,c);b(d)},function(a){c(a)})};Hb.load=function(a,b){a.error="";a.resultErrorCode="";a.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(b.number("bound.left"),b.number("bound.bottom")),new daum.maps.Coords(b.number("bound.right"),b.number("bound.top")));a.raw=b.obj_;if(b.text("resultCode")=="OK"){a.error=false;var c=b.find("directions").map(function(b){var c=
Wa();c.waypoints=a.waypoints;return Wa.load(c,b)});a.walkRoutes=c.filter(function(a){return!a.error})}else{a.error=true;a.resultErrorCode=b.text("resultCode")}};Lb.prototype.loadByCoords_=function(a){this.name=String.stripTags(a.text("old.name")||a.text("region"));return this};Lb.findByCoords=function(a,b,c){var d=new Lb(a,"");require("server").getAddressShape({x:a.getX()|0,y:a.getY()|0},function(a){b.call(c,d.loadByCoords_(a))})};define("model/Weather",["jquery"],function(){function a(a,h){if(h&&
h.find("weatherList").length!=0){var g=h.find("weatherList").slice(0,4),i,l=["fst","","","lst"];d=h;i=g[0].text("ampm")=="AM"?c:b;for(var j=0,m=g.length;j<m;j++){var n=g[j].number("temp").toFixed(0);g[j]=g[j].obj_;g[j].date=i[j];g[j]["class"]=l[j];g[j].temper=n}e={weatherList:g};a&&a(e)}}var b=["\uc624\ub298 \uc624\ud6c4","\ub0b4\uc77c \uc624\uc804","\ub0b4\uc77c \uc624\ud6c4","\ubaa8\ub808 \uc624\uc804"],c=["\ub0b4\uc77c \uc624\uc804","\ub0b4\uc77c \uc624\ud6c4","\ubaa8\ub808 \uc624\uc804","\ubaa8\ub808 \uc624\ud6c4"],
d={},e={};return{makeImgTemperTxt:function(a){for(var b=a,a=Number(a).toFixed(0),a=a.split(""),c=[],d=0,e=a.length;d<e;d++)switch(a[d]){case "-":c.push('<span class="minus"></span>');break;default:c.push('<span class="number'+a[d]+'"></span>')}c.push('<span class="unit"></span>');c.push('<span class="screen_out">'+b+"\ub3c4</span>");return c.join("")},fetch:function(b,c){require("server").weather(b,a.bind(this,c));n.click("control","weather_icon_temp")},getData:function(){return e},getRawData:function(){return d}}});
od.fetch=function(a,b,c){require("server").getAddressShape({x:a,y:b},od.load_.bind(this,c))};od.load_=function(a,b){a(new od(b),b)};"use strict";define("util/DateFormat",{zeroPad:function(a,b){var c=b-a.toString().length;return c<0?a:Array(c+1).join("0")+a.toString()},now:function(a){return this.get(new Date,a)},get:function(a,b){var c=["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"];return b.replace(/(yyyy|yy|MM|dd|E|hh|mm|ss|a\/p)/gi,
function(b){switch(b){case "yyyy":return a.getFullYear();case "yy":return this.zeroPad(a.getFullYear()%1E3,2);case "MM":return this.zeroPad(a.getMonth()+1,2);case "dd":return this.zeroPad(a.getDate(),2);case "E":return c[a.getDay()];case "HH":return this.zeroPad(a.getHours(),2);case "hh":b=a.getHours()%12;return this.zeroPad(b?b:12,2);case "mm":return this.zeroPad(a.getMinutes(),2);case "ss":return this.zeroPad(a.getSeconds(),2);case "a/p":return a.getHours()<12?"\uc624\uc804":"\uc624\ud6c4";default:return b}}.bind(this))}});
"use strict";define("util/KakaoAgent",function(){var a=KakaoAgent.isSupportClientHints()?KakaoAgent.getClientHintsSync():KakaoAgent.getAgent();return{isBrowserIE:a.browser===KakaoAgent.Browser.InternetExplorer,isBrowserFireFox:a.browser===KakaoAgent.Browser.FireFox,isDevicePC:a.isDesktop}});define("util/Storage",["jquery"],function(a){var b=false,c=null,d=false;try{B.localStorage.setItem("test","1");B.localStorage.removeItem("test");d=!!B.localStorage&&!!B.JSON}catch(e){d=false}if(d)c=B.localStorage;
else{a=a('<a class="userdata"></a>');a.appendTo("body");c=a.get(0);c.addBehavior("#default#userData");c.load(B.location.href);b=true}return{setItem:function(a,d){if(b){c.setAttribute(a,d);c.save(B.location.href)}else c.setItem(a,d)},getItem:function(a){var d=null;return d=b?c.getAttribute(a):c.getItem(a)},removeItem:function(a){if(b){c.setAttribute(a,"null");c.save(B.location.href)}else c.removeItem(a)}}});"use strict";define("util/Trim",function(){return{trimLeftCharacters:function(a,b){return b===
void 0?a:a.replace(RegExp("^["+b+"]+"),"")},trimRightCharacters:function(a,b){return b===void 0?a:a.replace(RegExp("["+b+"]+$"),"")}}});"use strict";define("util/lib",{parseArray:function(a){return a?Array.isArray(a)?a:a.split(","):[]},alert:function(a){B.alert(a)},numberWithComma:function(a){var b=parseInt(a,10);return!isNaN(b)?(b+"").replace(/\d(?=(\d{3})+$)/g,"$&,"):a},deepCopy:function(a,b){return jQuery.extend(true,b||{},a)},asyncWork:function(a){setTimeout(function(){a()},0)}});"use strict";
define("util/nohash",{load:function(a){a.on("click",function(a){for(var c=a.target;c&&c.tagName!="DIV";c=c.parentNode)if(c.href&&/#(none)*$/.test(c.href)){a.preventDefault();break}})}});define("util/searchSuggest",function(){return{getSuggestItem:function(a){var b={value:a[0],type:a[a.length-1]};if(b.type==="busstop"){b.name=a[1];b.id=a[2];b.x=a[3];b.y=a[4];b.region=a[5];b.regionDetail=a[6]}return b}}});wc.prototype.clickHandler_=function(){var a={cpg:this.dssAddressObj.cpg+","+(this.seq+1),tab:this.dssAddressObj.tab,
in_map:this.dssAddressObj.in_map,sorttype:this.dssAddressObj.sorttype,mkey:this.dssAddressObj.mkey};a.analysis=this.dssAddressObj.analysis;if(this.addressModel.docid)a.docid=this.addressModel.docid;if(this.dssAddressObj.srcid)a.srcid=this.dssAddressObj.srcid;if(this.dssAddressObj.cidx!=void 0)a.cidx=this.dssAddressObj.cidx;x.logPathSearchOutWithArgs("_address_name",a);this.click_()};wc.prototype.setActive=function(a){this.panel_.toggleClass("AddressFlagItemView-ACTIVE",!!a);this.flagInfoLayer_.setVisible(false);
this.active_=!!a};wc.prototype.setPointIcon=function(){};wc.prototype.setDssAddressObj=function(a){this.dssAddressObj=a};wc.prototype.setSeq=function(a){this.seq=a};db.prototype.detail_=!1;db.prototype.setDetail=function(){};db.prototype.setSecondNameBy_=function(a){this.secondName_.setText(String.cut(this.secondNameText_,a))};db.prototype.clickSelf_=function(){this.detail_||this.setDetail(true)};db.prototype.clickDetailBtn=function(a){if(this.getActive()){a.preventDefault();a.stopPropagation();n.click("businfo",
this.detail_?"bus_number_up_arrow":"bus_number_down_arrow");this.setDetail(!this.detail_)}};db.prototype.clickFiyBtn=function(){this.rawData_.fromChannel="BUSSTOP_REALTRAFFIC";Application.fiyFrameController.open({type:"bus",rawInfo:this.rawData_,channel:"DETAIL_BUS"});n.click("businfo","bus_tooltip_fiy")};db.prototype.setData=function(a){Application.busLineController.setDataWithLoad(a)};db.prototype.updateVehicles_=function(a){if(a.vehicles){this.positions_.setVehicles(a.vehicles);this.loadingBar_.start()}else this.loadingBar_.stop();
var b=a.busStops;b&&b.length==this.busStopsView_.length&&b.forEach(function(a,b){this.busStopsView_[b].setSpeed(a.nextLinkSpeed)},this);this.loadingBar_.setType(!(!a.vehicles||!a.vehicles.length),a.realtimeState,a.realtimeMessage)};db.prototype.update_=function(){this.getVisible()&&ba.findBusLine(this.busLineCode_,this.updateVehicles_,this)};db.prototype.openBusStop_=function(a,b){Application.infoWindowManager.close();R.find(a,function(a){Application.map.setLevel(3);Application.map.panTo(a.coords);
setTimeout(function(){Application.infoWindowManager.createBusStop(a,b)}.bind(this),250)}.bind(this))};db.prototype.setFavorite=function(a){this.favorite_.setClass("fav-ON",a)};Sb.prototype.setSpot=function(a,b,c){this.stopId_=a||null;this.busStopAction_=b||null;this.idx=c};Sb.prototype.initScrollView=function(){this.scrollView_=null;this.initSpot()};Sb.prototype.initSpot=function(){this.stopId_=this.busStopAction_=null};Sb.prototype.clickFiyBtn=function(){this.rawData_.fromChannel="BUSSTOP_INFO";
Application.fiyFrameController.open({type:"bus",rawInfo:this.rawData_,channel:"DETAIL_BUS"});n.click("businfo","bus_tooltip_fiy")};Sb.prototype.setData=function(a){this.rawData_=a.rawData.raw();this.summary_.removeClass("detail");this.detail_.hide();this.summary_.removeAllChildren();this.detail_.removeAllChildren();this.progressbar_.removeAllChildren();var b=this.name_=new i("strong","tit_summary"),c=new i("span","busType "+a.type);this.position_.setType(a.type);b.addChild(c);b.addChild(new i("span",
"busname",a.name));b.setTitle(a.name);var c=this.destination_=new i("p","totalPath"),d=new i("span"),e=new i("span"),f=a.start,h=a.end;d.setTitle(f);e.setTitle(h);f.length+h.length>21&&(f.length>h.length?f=String.cut(f,21-h.length):h=String.cut(h,21-f.length));c.addChild(d.addText(f));c.addChild(new i("span","arrow"));c.addChild(e.addText(h));this.summary_.addChild(b);this.summary_.addChild(c);b=null;b=new i("p","info first_line");b.addText("\uccab\ucc28 ");a.startTime!=="-"?b.addText(a.startTime):
b.addChild(new i("span","empty","\uc815\ubcf4\uc5c6\uc74c"));b.addChild(new i("span","bar"));b.addText("\ub9c9\ucc28 ");a.endTime!=="-"?b.addText(a.endTime):b.addChild(new i("span","empty","\uc815\ubcf4\uc5c6\uc74c"));this.summary_.addChild(b);b=new i("p","info");b.addText("\ubc30\ucc28\uac04\uaca9 ");a.interval!=="-"?b.addText(a.interval):b.addChild(new i("span","empty","\uc815\ubcf4\uc5c6\uc74c"));if(["NOSUPPORT","NOVEHICLE","ERROR"].indexOf(a.realtimeState)===-1&&a.realtimeMessage){b.addChild(new i("span",
"bar"));b.addText(a.realtimeMessage)}this.summary_.addChild(b);c=new i("p","info_nobus");c.setVisible(false);this.addChild(c);this.summary_.addChild(c);c=new i("p","contact");c.setHTML('<a href="#none" class="report">\uc815\ubcf4 \uc218\uc815 \uc81c\uc548</a>');c._pane.on("click",".report",this.clickFiyBtn.bind(this));this.summary_.addChild(c);c=new i("div","infoEtc");d=jQuery('<a href="#" class="ICON-fav"></a>');d.append('<span class="img_BusLineView">\uc990\uaca8\ucc3e\uae30</span><span class="num">0</span>');
d.click(function(){n.click("favorite",["busline","tooltip"])});this.buttonFactory_.createFavorite(d,v.createFromBusLine(a));c.addChild(d);d=new i("a","fit");d.setHTML('<span class="txt_fit">\uc804\uccb4\ub178\uc120</span>');d.onClick.add(function(){this.onViewport.notify(null)},this);c.addChild(d);d=this.noRealBusBar_=new i("div","noRealBusBar");d.addChild(new i("p","noReadlBusText",""));c.addChild(d);this.summary_.addChild(c);var g=a.busDetailInfo;if(g&&g.variable){var k=this.detailInfoBtn_=new i("a",
"detailInfoBtn");k.setHTML('\ub354\ubcf4\uae30<span class="img_BusLineView"></span>');b.addChild(k);k.onClick.add(function(a){a.preventDefault();if(this.detail_.hasClass("HIDDEN")){this.summary_.addClass("detail");this.detail_.show();k.setHTML('\uc811\uae30<span class="img_BusLineView"></span>')}else{this.summary_.removeClass("detail");this.detail_.hide();k.setHTML('\ub354\ubcf4\uae30<span class="img_BusLineView"></span>')}},this);var l=H("BusDetailInfo");if(g.firstLastTime.length>0){b=[];c=[];d=
[];f=null;for(e=e=0;e<g.firstLastTime.length;e++){f=g.firstLastTime[e];b.push(f.day);c.push(f.startPointTime);d.push(f.turningPointTime)}f="";if(c.join("").replace(/~/g,"")!==""){f=f+'<tr><th scope="row"><span class="img_BusLineView badge_start">\uae30\uc810</span></th>';for(e=0;e<c.length;e++)f=f+("<td>"+b[e]+" <em>"+c[e]+"</em></td>");f=f+"</tr>"}if(d.join("").replace(/~/g,"")!==""){f=f+'<tr><th scope="row"><span class="img_BusLineView badge_episode">\ud68c\ucc28</span></th>';for(e=0;e<d.length;e++)f=
f+("<td>"+b[e]+" <em>"+d[e]+"</em></td>");f=f+"</tr>"}b=jQuery(f);if(g.startPointId)b.on("click",".badge_start",function(){this.openBusStop_(g.startPointId,a.id)}.bind(this));if(g.turningPointId)b.on("click",".badge_episode",function(){this.openBusStop_(g.turningPointId,a.id)}.bind(this));l.$("firstLastList").append(b)}else l.$("firstLast").hide();if(g.interval.length>0){var j="";g.interval.forEach(function(a,b){j=j+(a.day+" <em>"+a.peek+(b<g.interval.length-1?", ":"")+"</em>");l.$("intervalList").html(j)})}else l.$("interval").remove();
g.telDisable?l.$("telDisable").text(g.telDisable):l.$("reservation").remove();this.detail_.addChild(l.html())}this.busProviderInfo_.removeAllClass();this.busProviderInfo_.addClass("busProviderInfo");this.progressbar_.addChild(this.progress_=new Za("BusLineView"));if(b=a.cpCodeServiceName){this.progressbar_.addChild('<p class="providerName">'+b+" \uc81c\uacf5</p>").show();this.progress_.onComplete.add(function(){this.refreshBtnClick.notify(null)},this)}else this.progressbar_.hide();var b=!(!a.vehicles||
!a.vehicles.length),m=a.realTime;m?this.noRealBusBar_.removeClass("noRealBusBar-ACTIVE"):this.noRealBusBar_.addClass("noRealBusBar-ACTIVE");this.list_.removeAllChildren();this.busStopsView_.length=0;var p=-1,o=this.idx?this.idx.split("/")[0]*1:1;a.busStops.forEach(function(b,c){var d=new Af(b,a,this.buttonFactory_);if(b.virtual)d.setNonstop();else{d.onClick.add(function(){this.onBusLineItemClick.notify(b)},this);d.onFavClick.add(function(){n.click("favorite",["busstopline","tooltip_busline"])})}a.busStops.length-
1===c&&d.setLastView();d.setLine(m);if(this.stopId_&&this.stopId_==b.id){o--;if(o===0){d.setBoardLabel(this.busStopAction_);p=c}}this.busStopsView_.push(d);this.list_.addChild(d.getPane())},this);if(p>-1&&this.busStopsView_[p]){this.highlightView_=this.busStopsView_[p].getPane();if(this.busStopsView_[p-2])this.scrollView_=this.busStopsView_[p-2].getPane()}this.busStopsView_.length&&this.busStopsView_[this.busStopsView_.length-1].setSpeed(0);this.setClass("BusLineView-Vehicles",b);this.progress_.setActive(m);
this.position_.setVisible(b);this.busProviderInfo_.setVisible(m);m&&this.setVehicles(a.vehicles,null,a.realtimeState,a.realtimeMessage);this.initSpot()};Sb.prototype.scrollToBusStop=function(){this.scroll_.getElement().scrollTop=0;this.scroll_.getElement().scrollTop=this.scrollView_.position().top;this.initScrollView()};Sb.prototype.highlightToBusStop=function(){this.highlightView_.find(".busNumberWrap").css("backgroundColor","rgba(51,150,255,.05)");this.highlightView_=null};Sb.prototype.setVehicles=
function(a,b,c,d){if(a){this.position_.setVehicles(a);this.progress_.start()}else this.progress_.stop();b&&b.length==this.busStopsView_.length&&b.forEach(function(a,b){this.busStopsView_[b].setSpeed(a.nextLinkSpeed)},this);this.progress_.setType(!(!a||!a.length),c,d)};Sb.prototype.setTiaraFlag=function(a){this.busToolTipFlag_=a};Sb.prototype.setFavorite_=function(a){this.favorite_.setClass("fav-ON",a)};Sb.prototype.openBusStop_=function(a,b){Application.infoWindowManager.close();R.find(a,function(a){Application.map.setLevel(3);
Application.map.panTo(a.coords);setTimeout(function(){Application.infoWindowManager.createBusStop(a,b)}.bind(this),250)}.bind(this))};define("view/BusLineView",["factory/ButtonFactory"],L(Sb));Za.prototype.start=function(){var a=new Date;this.due_=+a+6E4;var b=""+(1E6+((a.getHours()+11)%12+1)*1E4+a.getMinutes()*100+a.getSeconds());this.timestamp_.setText(a.getMonth()+1+"/"+a.getDate()+" "+a.getHours()+":"+b.substring(3,5));this.countDown_();this.timer_.start()};Za.prototype.countDown_=function(){var a=
this.due_-Date.now();if(a>0)Math.max(0,a*44/6E4);else if(++this.count_<=3){this.update_();this.onComplete.notify()}};Za.prototype.stop=function(){this.timer_&&this.timer_.stop()};Za.prototype.update_=function(){this.timer_.stop();this.setClass("BusLoadProgressBar-UPDATED",true);(new yc(2500,this.hideUpdated_.bind(this))).start()};Za.prototype.force_=function(){this.update_();this.onComplete.notify();this.itemName_&&n.click("businfo",this.itemName_)};Za.prototype.hideUpdated_=function(){this.setClass("BusLoadProgressBar-UPDATED",
false)};Za.prototype.setItemName_=function(a){return a=="BusStopInfoWindow"?"busstop_tooltip_realtime_update":a=="BusLineItemView"?"realtime_update":""};Za.prototype.setType=function(a,b,c){this.reload_.setVisible(true);var d=jQuery(this.getElement()).closest(".busLineWrap").find(".summary .info_nobus"),e='<span class="img_BusLineView"></span>';d.html(c?e+c:b=="ERROR"?e+"\uc2e4\uc2dc\uac04 \uc2dc\uc2a4\ud15c \uc810\uac80\uc911":e+"\ud604\uc7ac \uc6b4\ud589\uc911\uc778 \ubc84\uc2a4 \uc5c6\uc74c").toggleClass("HIDDEN",
a)};Cd.prototype.setVehicles=function(a){console.assert(Array.isArray(a));this.removeAllChildren();a.map(function(a){var c=this.type_?this.type_:"",d=new i("span","icon"),e=new i("div","name"),f=new i("span","fst"),h=new i("span","lst");a.first?c="first":a.last?c="last":a.type===Ec.TYPE_SECOND_FLOOR&&(c=c+" second");if(a.number){var g=new i("span","contents"),k=a.number.substring(a.number.length,a.number.length-4);g.addChild(new i("span","number",k));if(a.type)(k=a.type===Ec.TYPE_LOW?"\uc800\uc0c1":
a.type===Ec.TYPE_BENDY?"\uad74\uc808":"")&&g.addChild(new i("em","blue",k));if(a.status=="DELAY"){e.addClass("twoLines");g.addChild(new i("span","delay","(\uc815\ubcf4\uc9c0\uc5f0)"))}e.addChild(f);e.addChild(g);e.addChild(h)}d.addClass(c);c=new i("div","position",[d,e]);c.setPosition(void 0,a.position*45+23|0);this.addChild(c)},this)};Cd.prototype.setType=function(a){this.type_=a};mc.prototype.clickHandler_=function(){var a={cpg:this.dssBusStopObj.cpg+","+(this.seq+1),tab:this.dssBusStopObj.tab,
in_map:this.dssBusStopObj.in_map,sorttype:this.dssBusStopObj.sorttype,mkey:this.dssBusStopObj.mkey};a.analysis=this.dssBusStopObj.analysis;if(this.busstopModel.id)a.docid=this.busstopModel.id;if(this.dssBusStopObj.srcid)a.srcid=this.dssBusStopObj.srcid;if(this.dssBusStopObj.cidx!=void 0)a.cidx=this.dssBusStopObj.cidx;x.logPathSearchOutWithArgs("_busstation",a);this.click_()};mc.prototype.setSeq=function(a){this.seq=a};mc.prototype.setRegion=function(a){this.region_.setText(a.slice(0,2))};mc.prototype.setActive=
function(a){this.selected_=!!a;this.panel_.setClass("BusStopFlagItem-ACTIVE",this.selected_);this.flagInfoLayer_.setVisible(false)};mc.prototype.setPointIcon=function(){};mc.prototype.setDssBusStopObj=function(a){this.dssBusStopObj=a};P.prototype.onMouseEnter=function(){this.setFramePosition(this.getActiveStyle())};P.prototype.onMouseLeave=function(){this.setFramePosition(this.getInactiveStyle())};P.prototype.onHoverEvent=function(){if(!this.mapView.hasClass("HOVER_EVT")){this.mapView.addClass("HOVER_EVT");
this.mapView.on("mouseenter",this.onMouseEnter);this.mapView.on("mouseleave",this.onMouseLeave)}};P.prototype.offHoverEvent=function(){this.mapView.removeClass("HOVER_EVT");this.mapView.off("mouseenter",this.onMouseEnter);this.mapView.off("mouseleave",this.onMouseLeave)};P.prototype.getRestoreFromBeforeStyle=function(){if(this.lastMode===P.VERTICAL_FULL)return this.getVerticalFullStyle(this.lastSize.width);if(this.lastMode===P.CUSTOM)return this.getCustomStyle(this.lastSize.width,this.lastSize.height);
if(this.lastMode===P.FULL)return this.getFullStyle();if(this.lastMode===P.MINIMIZE)return this.getMinimizeStyle();if(this.lastMode===P.ACTIVE){this.onHoverEvent();return this.getActiveStyle()}if(this.lastMode===P.INACTIVE)return this.getInactiveStyle()};P.prototype.getDiffViewStyle=function(){this.mapView.addClass("HIDDEN");return{mode:P.HIDE_IN_ROADVIEW}};P.prototype.getCustomEdgeStyle=function(a,b){this.lastMode=this.mode;this.mode=P.CUSTOM_EDGE;this.offHoverEvent();this.width=a;this.height=b;this.expandBtn.removeClass("openToggle");
return{width:this.width,height:this.height,bottom:0,left:0,top:"auto",borderRadius:"0 2px 0 0",mode:this.mode}};P.prototype.getCustomStyle=function(a,b){this.lastMode=this.mode;this.mode=P.CUSTOM;this.offHoverEvent();this.resizeBtn.removeClass("HIDDEN");this.mapView.removeClass("HIDDEN");this.zoom_.removeClass("HIDDEN");this.width=a;this.height=b;this.expandBtn.removeClass("openToggle");return{width:this.width,height:this.height,bottom:0,left:0,top:"auto",borderRadius:"0 2px 0 0",mode:this.mode}};
P.prototype.getFullStyle=function(){this.lastMode=this.mode;this.mode=P.FULL;this.resizeBtn.addClass("HIDDEN");this.offHoverEvent();this.height=this.width="100%";this.mapView.removeClass("HIDDEN");this.expandBtn.removeClass("openToggle");return{width:this.width,height:this.height,bottom:0,left:0,top:0,borderRadius:0,mode:this.mode}};P.prototype.getMinimizeStyle=function(){this.lastMode=this.mode;this.mode=P.MINIMIZE;this.resizeBtn.addClass("HIDDEN");this.offHoverEvent();this.zoom_.addClass("HIDDEN");
this.lastSize={width:this.width,height:this.height};this.width=1;this.height=0;this.mapView.removeClass("HIDDEN");return{width:this.width,height:this.height,bottom:23,left:23,top:"auto",mode:this.mode}};P.prototype.getVerticalFullEdgeStyle=function(a){this.lastMode=this.mode;this.mode=P.VERTICAL_FULL_EDGE;this.width=a;this.height="100%";this.expandBtn.removeClass("openToggle");return{width:this.width,height:this.height,bottom:0,left:0,top:"auto",borderRadius:0,mode:this.mode}};P.prototype.getVerticalFullStyle=
function(a){this.lastMode=this.mode;this.mode=P.VERTICAL_FULL;this.panel_.removeClass("HIDDEN");this.zoom_.removeClass("HIDDEN");this.resizeBtn.removeClass("HIDDEN");this.mapView.removeClass("HIDDEN");this.width=a;this.height="100%";return{width:this.width,height:this.height,bottom:0,left:0,top:"auto",borderRadius:0,mode:this.mode}};P.prototype.getActiveStyle=function(){this.lastMode=this.mode;this.mode=P.ACTIVE;this.panel_.removeClass("HIDDEN");this.zoom_.removeClass("HIDDEN");this.resizeBtn.removeClass("HIDDEN");
this.mapView.removeClass("HIDDEN");this.width=P.ACTIVE_WIDTH;this.height=P.ACTIVE_HEIGHT;this.expandBtn.removeClass("openToggle");return{width:this.width,height:this.height,bottom:0,left:0,top:"auto",borderRadius:"0 2px 0 0",mode:this.mode}};P.prototype.getInactiveStyle=function(){this.lastMode=this.mode;this.mode=P.INACTIVE;this.resizeBtn.addClass("HIDDEN");this.panel_.addClass("HIDDEN");this.zoom_.addClass("HIDDEN");this.mapView.removeClass("HIDDEN");this.onHoverEvent();this.width=P.INACTIVE_WIDTH;
this.height=P.INACTIVE_HEIGHT;return{width:this.width,height:this.height,bottom:15,left:15,top:"auto",borderRadius:"2px",mode:this.mode}};P.INACTIVE_WIDTH=310;P.INACTIVE_HEIGHT=190;P.ACTIVE_WIDTH=340;P.ACTIVE_HEIGHT=220;P.MAGNETIC_HEIGHT_FROM_TOP=66;P.MIN_WIDTH=170;P.MIN_HEIGHT=130;P.prototype.expanded_=!0;P.ACTIVE="ACTIVE";P.INACTIVE="INACTIVE";P.CUSTOM="CUSTOM";P.CUSTOM_EDGE="CUSTOM_EDGE";P.HIDE_IN_ROADVIEW="HIDE_IN_ROADVIEW";P.FULL="FULL";P.MINIMIZE="MINIMIZE";P.VERTICAL_FULL="VERTICAL_FULL";P.VERTICAL_FULL_EDGE=
"VERTICAL_FULL_EDGE";P.prototype.toggleMinimize=function(){var a=null;if(this.mode===P.MINIMIZE){n.click("roadview",["mini_map","open"]);a=this.getRestoreFromBeforeStyle();this.expandBtn.removeClass("openToggle")}else{n.click("roadview",["mini_map","hide"]);a=this.getMinimizeStyle();this.expandBtn.addClass("openToggle")}this.setFramePosition(a)};P.prototype.onFrameDrag_=function(a){if(typeof this.width==="string"){this.width=this.maxWidth*(this.width.substr(0,this.width.length-1)*1/100);this.width===
this.maxWidth&&this.width--}if(typeof this.height==="string"){this.height=this.maxHeight*(this.height.substr(0,this.height.length-1)*1/100);this.height===this.maxHeight&&this.height--}var b=this.getViewSize().height;this.width=Math.max(P.MIN_WIDTH,Math.min(this.maxWidth,this.width=this.width+a.dx));this.height=Math.max(P.MIN_HEIGHT,Math.min(this.maxHeight,b-a.clientY));var c=null,c=b-a.clientY>=b-P.MAGNETIC_HEIGHT_FROM_TOP?this.isIE?this.getVerticalFullEdgeStyle(this.width):this.getVerticalFullStyle(this.width):
this.isIE?this.getCustomEdgeStyle(this.width,this.height):this.getCustomStyle(this.width,this.height);this.setFramePosition(c)};P.prototype.setFramePosition=function(a){this.onResize.notify(a)};P.prototype.setMaxSize=function(a,b){this.maxWidth=a;this.maxHeight=b};P.prototype.getViewSize=function(){return i.$("view").getSize()};P.prototype.relayout=function(){this.width=this.getViewSize().width};P.prototype.getMode=function(){return this.mode};P.prototype.getVisible=function(){return this.mode==null?
false:true};P.prototype.isExpanded=function(){return this.expanded_};P.args=["util/KakaoAgent"];pd.prototype.updateFav=function(a){if(a)this.fav_=a;if(this.fav_){if(a=Application.favoriteController.findFavorite(this.fav_)){var b=a.count<10?a.count:"10";this.favorite_._pane.find(".num").attr("class","num num"+b).text(a.count)}this.favorite_.setClass("favorite-active",!!a)}};pd.prototype.clickFavorite_=function(){this.onClick.notify({id:"favorite",fav:this.fav_})};pd.prototype.clickPrint_=function(){this.onClick.notify({id:"print"})};
pd.prototype.clickAlook_=function(){this.onClick.notify({id:"alook"})};define("view/CarRoutePaySettingView",["options"],L(function(a){function b(a){o=a;t[a-1].attr("checked",true)}function c(a){s=a;v.text(B[a-1].text());w.removeClass("opt_open");a=f[a-1];u.html(a.date.replace(/-/g,"."));q.html(String.formatNumber(a.price)+"\uc6d0/L")}function d(){A.val(l);b(g);c(i);w.removeClass("opt_open")}function e(){jQuery("#dimmedLayer").addClass("HIDDEN").off("click",e);r.hide()}var a=a.gasPrice,f=[{price:a.avgGasPrice||
0,date:a.gasDate||""},{price:a.avgDieselPrice||0,date:a.dieselDate||""},{price:a.avgLpgPrice||0,date:a.lpgDate||""}],h=this.onChange=new m,g=1,i=1,l=10.8;if(a=jQuery.cookie("map_oil_set")){a=a.split("_");if(a.length==3){g=a[0];i=a[1];l=a[2]}}var j=f[i-1].price.toFixed(0),r=H("CarRoutePaySettingView");r.hide();var a=r.$("paySettingForm"),p=r.$("closeBtn"),o=g,s=i;jQuery("body").append(r.getElement());p.on("click",function(){this.hide()}.bind(this));a.on("submit",function(){var a=+A.val();if(typeof a!=
"number"||!(a<=100)||!(a>0)||a.toFixed(2)!=a){A.focusAndSelect();alert("\uc62c\ubc14\ub978 \uc5f0\ube44\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.\n(100km/L \uc774\ud558 \uc18c\uc218\uc810 \ub458\uc9f8 \uc790\ub9ac\uae4c\uc9c0\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4)")}else{g=o;i=s;l=A.val();j=f[i-1].price.toFixed(0);jQuery.cookie("map_oil_set",g+"_"+i+"_"+l,{expires:365});h.notify();n.click("route","go_car_payset_submit");x.log("search_path_click_configure",null,{data1:g+","+(i==3?"lpg":i==2?"diesel":
"gasoline")});this.hide()}}.bind(this));var t=[r.$("radioCarType1"),r.$("radioCarType2"),r.$("radioCarType3"),r.$("radioCarType4"),r.$("radioCarType5"),r.$("radioCarType6")];r.$("radioCarSpan1");r.$("radioCarSpan2");r.$("radioCarSpan3");r.$("radioCarSpan4");r.$("radioCarSpan5");r.$("radioCarSpan6");var u=r.$("refuelDate"),q=r.$("refuelPrice");t.forEach(function(a,c){a.on("click",function(){b(c+1)})});var w=r.$("setRefuel"),v=r.$("setRefuelText"),a=r.$("gasoline"),p=r.$("light"),z=r.$("lpg"),A=r.$("setMileage"),
B=[a,p,z];v.on("click",function(){w.hasClass("opt_open")?w.removeClass("opt_open"):w.addClass("opt_open")});B.forEach(function(a,b){a.on("click",function(){c(b+1)})});d();this.getCarType=function(){return g};this.getOilValue=function(){return j};this.getMileage=function(){return l};this.init=function(){d()};this.show=function(){jQuery("#dimmedLayer").removeClass("HIDDEN").on("click",e);r.show()};this.hide=e;this.getPane=function(){return r}}));define("view/CarRouteResultView",["view/StartEndPointItemView",
"view/CarRoutePaySettingView"],L(function(a,b){function c(a){z&&(!z.is(a.target)&&z.has(a.target).length==0)&&d()}function d(){z.removeClass("opt_open");jQuery(document).off("mousedown touchstart",c)}function e(a){g();l=a;f(a.method,a.option);a.carRoutes.forEach(function(a,b){var c=new Le(a);c.setCarInfo(aa,ca,ba);a.toll=c.getTollValue();c.onHover.add(function(a){if(ka){c.setHover(a);t.notify({index:b,hover:a})}else if(a){if(N&&N!=c){N.setHover(false);t.notify({index:R,hover:false})}c.setHover(true);
t.notify({index:b,hover:true})}if(a){N=c;R=b}});c.onDetail.add(function(a){Z=c.checkpoints_;if(N&&N!=c){N.setHover(false);t.notify({index:R,hover:false})}$.forEach(function(c,d){b!=d?c.setDetail(false):c.setDetail(a)});u.notify({index:b,detail:a})});c.onCheckpoint.add(function(a){q.notify(a)});c.onRoadview.add(function(a){w.notify(a)});c.onAccClick.add(function(a){v.notify(a)});c.onRoadviewVideo.add(function(){x.notify()});P.addChild(c.getPanel());$.push(c);if(b==0){c.onDetail.notify(true);n.click("route",
"go_car")}})}function f(a,b){var c=0;a==W.REALTIME?b==W.OPTION_FREEWAY?c=1:b==W.OPTION_BIKE?c=3:X.addClass("ico_choiced"):a==W.OPTIMAL?X.removeClass("ico_choiced"):a==W.SHORTEST&&(c=2);(a!=j||b!=r)&&h(c)}function h(a){j=p[a];r=o[a];if(a==0&&X.hasClass("ico_choiced"))j=W.REALTIME;I.toggle(a==0);a===0?V.removeClass("HIDDEN"):V.addClass("HIDDEN");C.text(K[a].text())}function g(){P.removeAllChildren();$.length=0;l=ka=null}ga(this,i,"div","CarRouteResultView");var k=this,l=null,j=W.REALTIME,r=W.OPTION_NONE,
p=[W.OPTIMAL,W.REALTIME,W.SHORTEST,W.REALTIME],o=[W.OPTION_NONE,W.OPTION_FREEWAY,W.OPTION_NONE,W.OPTION_BIKE],s=this.onChange=new m,t=this.onItemHover=new m,u=this.onItemDetail=new m,q=this.onCheckpoint=new m,w=this.onRoadview=new m,v=this.onAccClick=new m;this.onSearchBtnClick=new m;var x=this.onRoadviewVideo=new m;this.onDestination=new m;var A=H("CarRouteResultView");k.addChild(A);var z=A.$("option"),B=A.$("menu"),C=A.$("optionText"),G=A.$("recomm"),D=A.$("freeway"),F=A.$("shortest"),E=A.$("bike"),
I=A.$("realtime"),V=A.$("realtimeBar"),L=A.$("realCheckBox"),X=A.$("realCheck"),A=A.$("payset");C.on("click",function(){if(z.hasClass("opt_open"))d();else{z.addClass("opt_open");jQuery(document).one("mousedown touchstart",c)}});A.on("click",function(){b.init();b.show();n.click("route","go_car_payset")});var K=[G,D,F,E];K.forEach(function(a,b){a.on("click",function(){d();if(!Application.isLoadingViewShow){h(b);s.notify()}})});L.on("click",function(){X.hasClass("ico_choiced")?X.removeClass("ico_choiced"):
X.addClass("ico_choiced");if(!Application.isLoadingViewShow){h(0);s.notify()}});b.getPane();var N=null,R=0,$=[],ka=null,P=new i("ul","list");k.addChild(P);var T=new i("p","daumNotice HIDDEN");T.addChild(new i("span","notice_icon","\uc544\uc774\ucf58"));var U=new i("span","notice_text");T.addChild(U);this.addChild(T);var Y=this.goToTopPanel=new i("div","info_top"),G=this.goToTopBtn=new i("a","link_top","\uc704\ub85c \uac00\uae30");G.hide();Y.addChild(G);this.addChild(Y);this.goToTopBtn.onClick.add(function(){i.$("info.body").scrollTo(0)},
this);G=new i("div","info_fixroute");this.addChild(G);G.addChild(new i("strong","tit_carsource","\uacbd\ub85c \uc815\ubcf4 \uc81c\uacf5 : \uce74\uce74\uc624\ub0b4\ube44"));D=new i("a","link_fixroute");F=new i("span");F.setHTML("\uae38\ucc3e\uae30 \uc815\ubcf4\uac00 \uc798\ubabb\ub418\uc5c8\ub098\uc694?<br/>\uc815\ubcf4 \uc218\uc815 \uc81c\uc548\uc740 \uc9c0\ub3c4 \ud488\uc9c8 \ud5a5\uc0c1\uc5d0 \ud070 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.");G.addChild(F);G.addChild(D);D.onClick.add(function(){if(l&&
l.carRoutes){var a={routeType:"car",searchInfo:{mode:"car",searchMode:j,option:r},carRoutes:[],isSelectRoute:false};jQuery(l.carRoutes).each(function(b,c){var d=jQuery.extend({},c.raw);d.isDetailOpen=$[b].isDetailOpen();if(d.isDetailOpen)a.isSelectRoute=true;a.carRoutes.push(d)});Application.fiyFrameController.open({type:"route",rawInfo:a,channel:"ROUTE_LIST_BOT"});n.click("route","go_car_fiy")}},this);var Z=[],aa=b.getCarType(),ca=b.getOilValue(),ba=b.getMileage();b.onChange.add(function(){aa=b.getCarType();
ca=b.getOilValue();ba=b.getMileage();k.removeClass("paysetting_on");$.forEach(function(a,b){a.setCarInfo(aa,ca,ba);l.carRoutes[b].toll=a.getTollValue()})});this.setOptionPanel=function(a,b){f(a,b)};this.setData=function(a){e(a)};this.getMode=function(){return j};this.getOption=function(){return r};this.setOption=function(a){r=a};this.setIndex=function(a){ka&&ka.setIndex(a)};this.clickableRoadviewVideo=function(){$[0]&&$[0].clickableRoadviewVideo()};this.initDetailedItem=function(){ka&&ka.inActiveSeqView();
ka=null};this.setDetailedItem=function(a){ka&&ka.inActiveSeqView();ka=null;ka=$[a]};this.clear=function(){g()};this.getCheckpoints=function(){return Z};this.initHover=function(){if($[0]){$[0].setHover(true);N=$[0];R=0}};this.setDaumNotice=function(a){a&&U.setHTML("\uacbd\uc6b0\uc5d0 \ub530\ub77c \ud55c\uac00\uc9c0 \uacbd\ub85c\ub9cc<br/>\uc81c\uacf5\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");T.setVisible(a)};this.setPartialResultNotice=function(a){a&&U.setHTML("\uacbd\uc6b0\uc5d0 \ub530\ub77c \ud55c\uac00\uc9c0 \uacbd\ub85c\ub9cc<br/>\uc81c\uacf5\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");
T.setVisible(a)};this.setNoResult=function(a){B.show();if(a){k.addClass("CarRouteResultView-NORESULT");Y.hide();k.removeClass("HIDDEN")}else{Y.show();k.removeClass("CarRouteResultView-NORESULT")}}}));Ca.TYPE_LAYER=0;Ca.TYPE_FIND_WAY=1;Ca.TYPE_BOOKMARK=2;Ca.TYPE_LIST=[Ca.TYPE_LAYER,Ca.TYPE_FIND_WAY,Ca.TYPE_BOOKMARK];"use strict";define("view/FavoriteListView",["util/lib","constants/tiaraFavoriteLabels"],L(function(a,b){var c,d;function e(){db=eb.find("[data-id=header]").empty();ob=eb.$("tab");var a=
{isFolder:kb,isOtherPage:ta,filterData:pa.filterData};if(kb)ob.show();else{ob.hide();var c=pa.folderInfo;a.isViewCount=parseInt(c.viewCount)===c.viewCount;a.isSubscribeCount=parseInt(c.subscribeCount)===c.subscribeCount;a.isPrivate=c.status==="P";a.folderInfo=c}if(ta){var d=a.selectInfo=jQuery.extend({},pa.selectInfo),e=d.profileStatus!=="S",f=d.profileImage&&d.profileImage!=="null"?d.profileImage:"",g="C28x28";if(kb&&!f){f="https://t1.daumcdn.net/localimg/localimages/07/2018/pc/title/empty_user2x.png";
g="C88x88"}if(e){f="https://t1.daumcdn.net/localimg/localimages/07/2018/pc/favorite/img_accused.png";a.selectInfo.isTempProfile=d.profileStatus==="T"}a.selectInfo.isSubscribe=pa.folderInfo?pa.folderInfo.isSubscribe:false;a.selectInfo.isReportProfile=e;a.selectInfo.isProfileImage=!!f;a.selectInfo.nickName=d.nickName||"";a.selectInfo.profileThumbnail=require("url").TENTH_THUMB+g+"/?fname="+encodeURIComponent(f)}e=H("FavoriteHeaderView",a);e.appendTo(db);e.$("detailBackBtn").click(K);if(ta){var h=e.$("setting");
e.$("more").click(function(){h.show()});e.$("report").click(function(){n.click("other",["profile","profile_report"]);d.profileStatus!=="S"?alert("\uc2e0\uace0 \ucc98\ub9ac\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4."):Ra.notify({type:"profile",querystring:"?mapUserId="+d.mapUserId});h.hide()});e.$("close").click(V);e.$("detailCloseBtn").click(V);e.$("historyBack").click(L);e.$("tab").find("li").click(C);e.$("profileLink").click(function(){n.click(b.ACTION.FOLDER_DETAIL,"\uad6c\ub3c5 \ud3f4\ub354 \ud504\ub85c\ud544");
Z(c)});e.$("subscribe").click(function(){pa.folderInfo.isSubscribe=!pa.folderInfo.isSubscribe;n.click(b.ACTION.FOLDER_DETAIL,pa.folderInfo.isSubscribe?"\uad6c\ub3c5":"\uad6c\ub3c5\ucde8\uc18c");aa({onOff:pa.folderInfo.isSubscribe,folderInfo:pa.folderInfo})})}e.$("share").click(function(){n.click(b.ACTION.FOLDER_DETAIL,"\uacf5\uc720");qa.notify(pa.folderInfo)});e.$("edit").click(function(){var c=a.folderInfo;n.click(b.ACTION.FOLDER_DETAIL,"\uc218\uc815");La.notify(c)});if(pa.filterData.opts.length===
0)kb?db.$("folderFilters").hide():db.$("favoriteFilters").hide();else{f=kb?db.$("folderFilters"):db.$("favoriteFilters");e=new Yd(f,pa.filterData);f=new Yd(f,{selected:{name:pa.filterData.sortName},opts:[{name:"\ub4f1\ub85d\uc21c",type:v.CREATE_AT},{name:"\uc774\ub984\uc21c",type:v.DISPLAY1}]});e.onClickOption.add(X);f.onClickOption.add(N)}}function f(){if(ta){toolbar=Sa.find("[data-id=toolbar]");toolbar.toggleClass("HIDDEN",kb).off();if(!kb){var a=pa.folderInfo.isSubscribe?'<span class="ico_function ico_cancel"></span>\uad6c\ub3c5\ucde8\uc18c':
'<span class="ico_function ico_edit"></span>\uad6c\ub3c5\ud558\uae30';toolbar.$("subscribe").html(a);toolbar.on("click","[data-id=share]",function(){n.click(b.ACTION.FAVORITE_TAB,"\ud558\ub2e8_\uacf5\uc720\ud558\uae30");qa.notify(pa.folderInfo)}).on("click","[data-id=info]",function(){n.click(b.ACTION.FAVORITE_TAB,"\ud558\ub2e8_\ud3f4\ub354\uc815\ubcf4");Aa.notify(pa.folderInfo)}).on("click","[data-id=subscribe]",function(){pa.folderInfo.isSubscribe=!pa.folderInfo.isSubscribe;n.click(b.ACTION.FAVORITE_TAB,
"\ud558\ub2e8_\uad6c\ub3c5"+(pa.folderInfo.isSubscribe?"\ud558\uae30":"\ucde8\uc18c"));aa({onOff:pa.folderInfo.isSubscribe,folderInfo:pa.folderInfo})})}}else{Ca=jQuery("#info\\.my\\.footer").empty();a=H("FavoriteFooterView",{isFolder:kb,isEmpty:Za.length===0,isShareable:!(pa.folderInfo&&(pa.folderInfo.folderId===0||pa.folderInfo.status==="P"))});Ca.append(a);a.$("disabledEdit").click(function(){alert("\ud3b8\uc9d1\ud560 \uc990\uaca8\ucc3e\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")});a.$("edit").click(o);
a.$("select").click(t);a.$("remove").click(w);if(kb)a.$("add").click(x);else{a.$("share").click(function(){n.click(b.ACTION.FAVORITE_TAB,"\ud558\ub2e8_\uacf5\uc720\ud558\uae30");qa.notify(pa.folderInfo)});a.$("info").click(function(){n.click(b.ACTION.FAVORITE_TAB,"\ud558\ub2e8_\ud3f4\ub354\uc815\ubcf4");Aa.notify(pa.folderInfo)});a.$("copy").click(q)}}}function h(a){if(!xa||a){xa=new vb(ta?"info.other.favorite.page":"info.my.favorite.page");xa.setTotal(Na);xa.onPage.add(function(a){Ka=a;Va=Oa[Ka-
1];xa.setPage(Ka);ia(Qa,Za,pa);n.click("my",["favorite_page","page_number"+Ka])});xa.afterNext=function(){n.click("my",["favorite_page","next"])};xa.afterPrev=function(){n.click("my",["favorite_page","pre"])}}xa.setPage(Ka);xa.panel_.setVisible(true)}function g(a){return(a.buslines||"").split(",").map(function(a){return a.split("#")[0]})}function i(a){a=a.split(/:(.+)/);return{id:a[0],idx:a[1]}}function l(a,b){var c=[],d=[],e=ib.filter(function(a){return a.type==="busstop"});a.length>0&&R.findTransitMultiBusStop(a,
function(a){a.length&&a.forEach(function(a){var d=R.load_(a);c.push(d.id);e.forEach(function(a){if(a.type=="busstop"&&a.buslines&&a.key===d.id){if(d.lines.length>ma){var c=Ma.find("[data-id=busDirectory][data-key="+d.id+"]"),e=c.find("[data-id=more]");c.addClass("bus_more");e.on("click",function(){c.removeClass("bus_more")})}var f=Ma.find("[data-id=busstopline][data-key="+a.key+"]");f.empty();if(g(a).length!==d.lines.length){var e=g(a),h=d.lines.map(function(a){return a.id});e.filter(function(a){return!h.find(function(b){return a.match(b)})}).forEach(function(a){a=
i(a);d.lines.push(a)})}d.lines.forEach(function(c){c=new Xd(f,a,d,c,b);c.onClick.add(P);c.onSelectItem.add(s)})}})});d=e.filter(function(a){return!c.includes(a.key)});d.forEach(function(a){var c=Ma.find("[data-id=busstopline][data-key="+a.key+"]"),d=g(a),e=new R(new Ga({busStopId:a.key,busStopName:a.display1,displayId:"",address:a.display2,lines:[]}));c.empty();d.forEach(function(d){d=i(d);d=new Xd(c,a,e,d,b);d.onClick.add(P);d.onSelectItem.add(s)})})})}function j(b){var e=[],f=[];ib=Wa?Va:Za;ib.forEach(function(b){switch(b.type){case "busstop":if(b.buslines&&
b.status!==c&&b.status!==d){var g=a.parseArray(b.buslines);e.push({busStopId:b.key,busIds:g.map(function(a){return a.split("#")[0]})})}break;case "subwaystation":b.status!==c&&b.status!==d&&f.push(b.key)}});l(e,b);r(f)}function r(a){a.length>0&&bb.fetchMultiDetail(a,function(a){var b=Ma.find("[data-id=subwaystation][data-key="+a.stationId+"]"),a=(new uc(a)).getPane();b.empty();b.append(a).show()})}function p(a){if(a.type!="busstopline"){var c=null,c=ta?Ma:Ma.find(">ul");if(kb){c=new Lf(c,a,ta,cb,
b);c.onShare.add(Y);c.onSubscribe.add(aa);c.onViewOnMap.add(ca);c.onFolderInfo.add(T);c.onOtherPage.add(Z)}else{c=new Mf(c,pa.folderInfo,a,ta,na,b);c.onRegister.add(W);c.onClickInvalid.add(A)}c.onClick.add(P);c.onModify.add(U);c.onRemove.add($);c.onReport.add(ka);c.onSelectItem.add(s)}}function o(){if(Za.length>0){Ha=!Ma.hasClass("editMode");n.click(I(),"\ud558\ub2e8_\ud3b8\uc9d1"+(Ha?"\ud558\uae30":"\ub2eb\uae30"));Ma.find("li").toggleClass("FavoriteDirectoryItem-MODIFY",Ha);Ca.$("options").toggle(Ha);
Ca.$("share").toggle(!Ha);Ca.$("info").toggle(!Ha);Ca.$("add").toggle(!Ha);xa&&Wa&&xa.panel_.setVisible(!Ha);Ca.$("edit").text(Ha?"\ud3b8\uc9d1\ub2eb\uae30":"\ud3b8\uc9d1\ud558\uae30");Ma.toggleClass("editMode",Ha);Ma.find("[data-id=subwaystation]").toggle(!Ha);Ma.find("[data-id=refresh]").toggle(!Ha);Ma.find("li:not(.READONLY) .inp_directory").prop("checked",false);Ma.scrollTop(0);if(Ha){jb=Ma.find(".bus_more[data-id=busDirectory]");jb.removeClass("bus_more")}else{jb.addClass("bus_more");jb=null}s()}}
function s(a){if(a){var b=jQuery(a.target),c=b.data("type"),a=b.prop("checked");switch(c){case "item":b=b.parents(".FavoriteDetailItem");b.find(".inp_directory").prop("checked",a);break;case "line":b=b.parent();a=b.data("seq");a=jQuery("#fav_"+a);c=a.parents(".FavoriteDetailItem");b=c.find("li .inp_directory[data-type=line]").length;c=c.find("li .inp_directory:checked[data-type=line]").length;a.prop("checked")&&a.prop("checked",b===c)}}a=Ma.find("li:not(.READONLY)").find(".inp_directory:checked").length>
0;b=Ma.find("li .inp_directory:checked").length;Ca.$("select").text(a?"\uc120\ud0dd \ud574\uc81c":"\uc804\uccb4 \uc120\ud0dd");if(b>0){Ca.$("copySpan").hide();Ca.$("removeSpan").hide();Ca.$("remove").text("\uc0ad\uc81c "+b).show();Ca.$("copy").text("\ubcf5\uc0ac "+b).show()}else{Ca.$("copySpan").show();Ca.$("removeSpan").show();Ca.$("remove").hide();Ca.$("copy").hide()}}function t(){var a=Ma.find("li:not(.READONLY)"),b=a.find(".inp_directory:checked").length>0;a.find(".inp_directory").prop("checked",
!b);s()}function u(){var a=Ma.find("li input.inp_directory:checked"),b=kb?"folderId":"seq",c=null,d=[],e={},f={};a.each(function(){if(jQuery(this).data("type")==="line"){var a=jQuery(this).parent().data("seq");f[a]=true}else e[this.value]=true});c=Object.keys(e).map(function(a){return parseInt(a)});selectIdsLine=Object.keys(f).map(function(a){return parseInt(a)});Za.forEach(function(a){if(c.indexOf(a[b])!==-1){if(a.type==="busstop")a.removeTarget="busstop";d.push(a)}else if(selectIdsLine.indexOf(a[b])!==
-1){if(a.type==="busstop")a.removeTarget="busline";d.push(a)}});return d}function q(){var a=u(),a=a.map(function(a){return a.type==="busstop"?y(a,"c"):a}),b=[];a.forEach(function(a){(a.status==="A"||a.status==="T")&&b.push(a.seq)});if(b.length>0){alert("\uc2e0\uace0\ub41c \uc990\uaca8\ucc3e\uae30\ub294 \ubcf5\uc0ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");b.forEach(function(a){Ma.find("#fav_"+a).prop("checked",false)});s()}else a.length>0&&va.notify(a)}function w(){var a=u().map(function(a){if(a.type===
"busstop"){var b=y(a,"r");if(b.buslines){b.isEditedBusline=true;b.isPartialUpdated=true;return b}}return a});a.length>0&&ra.notify(a)}function y(b,c){var d=jQuery("#fav_"+b.seq).parent().parent().find("li .inp_directory:checked[data-type=line]"),e=[],f=null,g=null,h=null;switch(c){case "c":d.each(function(a,b){f=jQuery(b).parent();g=f.data("lineid")+":"+f.data("idx");e.push(g)});break;case "r":e=a.parseArray(b.buslines);d.each(function(a,b){f=jQuery(b).parent();g=f.data("lineid")+":"+f.data("idx");
h=e.indexOf(g);h>-1&&e.splice(h,1)})}b.isEditedBusline=true;b.buslines=e.join(",");return b}function x(){if(!ta){n.click(b.ACTION.FAVORITE_TAB,"\ud558\ub2e8_\uc0c8 \ud3f4\ub354 \ucd94\uac00");La.notify()}}function A(a){var b=a.position;sb.offset({top:b.top-81,left:b.left+168});sb.show();sb.find(".closeNDelete").off().on("click",function(){fb.notify({id:a.id});sb.offset({top:0,left:0});sb.hide()})}function z(){var a={};Za.some(function(b){if(b.mapUserId===pa.selectInfo.mapUserId){a=b;if(b.cp)return true}});
return a}function D(){var a=jQuery("[data-id=tab]");a.find("li").off("click");setTimeout(function(){a.find("li").on("click",C)},300)}function C(a){D();a=jQuery(a.currentTarget).data("type");E(a);n.click("other",a==="favorite"?"folder":"review")}function G(a){var b=Sa.find("[data-id=tab] li");b.removeClass("ACTIVE");b.filter("[data-type="+a+"]").addClass("ACTIVE");jQuery("#other\\.favorite, #other\\.review").addClass("HIDDEN");jQuery("#other\\."+a).removeClass("HIDDEN");jQuery("[data-id=folderFilters]").toggleClass("HIDDEN",
a==="review");jQuery("[data-id=reviewFilters]").toggleClass("HIDDEN",a!=="review")}function E(a){G(a);hb=a;if(a==="favorite")ha.notify();else if(a==="review"){a=pa.selectInfo.cp;if(!a){var b=z();!pa.selectInfo.cp&&!b.cp?Ta.notify(pa.selectInfo.mapUserId):a=true}if(a){V();alert("\uc811\uadfc\ud560 \uc218 \uc5c6\ub294 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4.");B.location.href=require("url").MAP_DAUM_NET;return}}F()}function F(){if(ta){var a=jQuery(B).height();Sa.find(">div:not(.HIDDEN, [data-id=body])").each(function(b,
c){var d=jQuery(c);a=a-d.outerHeight(true)});Sa.find("[data-id=body]").height(a)}else{var b=0,b=kb?47+ob.outerHeight(true):137;Ma.height(jQuery("#info\\.body").outerHeight(true)-b)}}function I(){var a=b.ACTION;return kb?a.FAVORITE_TAB:a.FOLDER_DETAIL}function L(){ic.notify({item:pa.selectInfo})}function V(){Sa.hide();ic.notify({isClose:true})}function K(){ta?L():la.notify()}function X(a){var c=a.match(/^ROUTE/g)?"ROUTE":a.toUpperCase();n.click(I(),[b.CLICK.SORT_TEXT,b.CLICK.FILTER[c]]);oa.notify(a)}
function N(a){n.click(I(),[b.CLICK.SORT_TEXT,b.CLICK.SORT[a]]);sa.notify(a)}function P(a){Ma.hasClass("editMode")||yb.notify(a)}function U(a){Kc.notify(a)}function $(a){fb.notify(a)}function ka(a){Ra.notify(a)}function W(a){Ua.notify(a)}function T(a){Aa.notify(a)}function Z(a){Pa.notify(a)}function Y(a){qa.notify(a)}function aa(a){ya.notify(a)}function ca(a){za.notify(a)}function ba(a){Ya.notify(a)}function ea(a){$a.notify(a)}function ga(a){ab.notify(a)}function fa(a,b){if(!(Oa.length>0)||b){Na=Ka=
1;Oa=[];Va=null;Na=parseInt(a.length/da)+(a.length%da>0?1:0);for(var c=0;c<Na;c++)c===Na-1?Oa.push(a.slice(c*da,c*da+(a.length%da||da))):Oa.push(a.slice(c*da,(c+1)*da));xa&&xa.setTotal(Na);Va=Oa[Ka-1]}}function ia(a,b,c){Qa=a;pa=c;ta=!!pa.isOtherPage;kb=Qa===v.VIEW_MODE.FOLDER;isDetailMode=Qa===v.VIEW_MODE.DETAIL;isMyFolder=pa.folderInfo&&pa.folderInfo.isMyFolder;cb=ta?pa.selectInfo.mapUserId:pa.mapUserId;Wa=isDetailMode&&b.length>da;Za=b;var a=lb!==c.type,d=mb!==c.filterData.sortName,g=nb!==Za.length;
lb=c.type;mb=c.filterData.sortName;nb=Za.length;ta&&G("favorite");Sa.toggleClass("HIDDEN",!ta);eb=ta?Sa:rb;Ma=eb.$("list");Ma.removeClass("editMode");e();f();if(Wa)fa(Za,a||d||g);else if(xa){Na=Ka=1;Oa=[];Va=null;xa.setTotal(0)}if(ta){c=eb.$("listNone");Ma.empty()}else{c=db.$("listNone");Ma.find(">ul").empty()}F();c.toggleClass("FavoriteEmptyDetail",!kb);if(b.length){c.hide();Ma.show();if(Wa){Va.map(p);h(a)}else b.map(p);b=ta?Sa.find("[data-id=body]"):Ma;if(kb)b.scrollTop(pa.prevScrollPos||0);else{j(isMyFolder);
b.scrollTop(0)}Ma.on("click",".link_busline",function(a){a.preventDefault();a=jQuery(a.currentTarget).data();yb.notify({type:"busstopline",key:a.stopid+"@"+a.lineid})})}else{if(ta){b=kb?"\uacf5\uac1c\ub41c \uadf8\ub8f9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc800\uc7a5\ud55c \uc990\uaca8\ucc3e\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.";c.find(".desc_empty").text(b)}c.show();Ma.hide()}}var da=100,ma=3;c="T";d="A";var na=this,ha=this.onClickTab=new m,la=this.onClickBack=new m,oa=this.onClickFilter=new m,sa=
this.onClickSort=new m,yb=this.onClickItem=new m,ic=this.onHistoryBack=new m,fb=this.onRemoveItem=new m,Ra=this.onReportItem=new m,Kc=this.onEditItem=new m,ra=this.onRemoveSelectedItem=new m,va=this.onCopySelectedItem=new m,qa=this.onShare=new m,ya=this.onSubscribe=new m,za=this.onViewOnMap=new m,Aa=this.onFolderInfo=new m,Pa=this.onOtherPage=new m,La=this.onAddFolder=new m,Ta=this.onReviewTabClick=new m,Ua=this.onRegisterItem=new m,Ya=this.onStaticRegistClick=new m,$a=this.onStaticRemoveClick=new m,
ab=this.onStaticItemClick=new m;this.onRegistStaticFromFavorite=new m;this.onRemoveFavoriteItem=new m;var Qa=v.VIEW_MODE.FOLDER,pa=null,ta=false,kb=true,Wa=false,cb=null,hb="favorite",Ka=1,Na=1,Oa=[],Va=null,xa=null,ib=null,lb="all",mb="",nb=0,jb=null,Ha=false,rb=jQuery("#info\\.my"),Sa=jQuery("#info\\.other"),eb=rb,db,Ca,ob,Ma,wb=rb.$("staticList"),xb=new Oe(wb,{staticMode:"home",onRegistClick:ba,onRemoveClick:ea,onItemClick:ga}),zb=new Oe(wb,{staticMode:"company",onRegistClick:ba,onRemoveClick:ea,
onItemClick:ga}),Za=[],sb=jQuery("#validPlaceInfo");jQuery(document).on("mousedown touchstart",function(a){(a=jQuery(a.target))&&a.closest("[data-id=setting]").length===0&&eb.find("[data-id=setting]").hide()});jQuery(".FavoriteBookmarkLink .link_bookmark").on("click",function(){n.click("import_daummaps_favorites",["menu_my","banner"]);B.location.href="/user/signup"});this.setStaticData=function(a,b){a=="home"?xb.setData(b):a=="company"&&zb.setData(b)};this.hasStaticData=function(a){if(a=="home")return xb.hasData();
if(a=="company")return zb.hasData()};this.getSelectedTab=function(){return hb};this.isVisible=function(){return Sa.is(":visible")};this.setList=ia;this.setOtherPageTab=E;this.setViewOpt=function(a){pa=a||{}};this.otherPageClose=V;this.getShareInfo=function(){return{mapuserid:cb,viewMode:Qa,canShare:pa.folderInfo&&pa.folderInfo.status==="O",folderid:pa.folderInfo?pa.folderInfo.folderId:null,nickname:pa.selectInfo&&pa.selectInfo.nickName,profileImage:pa.selectInfo?pa.selectInfo.profileImage:"",profileStatus:pa.selectInfo?
pa.selectInfo.profileStatus:"S"}};this.click=P;this.edit=U;this.remove=$;this.report=ka;this.updateCheckCount=s}));define("view/FavoriteManageView",["jquery","util/Storage","const","util/KakaoAgent"],function(a,b,c,d){function e(a,b,c){var d=true,a=jQuery("#"+a);if(a.length)if(b&&a.val().length===0){c&&alert(c);d=false}else{b=parseInt(a.attr("maxlength")||"0");c=a.val();(c=b>0&&b<c.length)&&alert("\ucd5c\ub300 "+b+"\uc790\uae4c\uc9c0 \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4.");c&&(d=false)}else return false;
d||a.focus();return d}function f(a,b){var c=v.getFavDisplays(a,b);aa.attr("placeholder",c.name||"")}function h(a){var b=null;if(a.type==="busstop"){b=a.key;R.find(b,function(b){b.id&&f(a.type,b)})}else if(a.type==="place"){b=a.key;ca.findPlace(b,function(b){b&&f(a.type,b)})}else if(a.type==="subwaystation"){b=a.key;require("server").stationInfo(b,function(b){if(b.text("subwayId")){b=new bb(b);f(a.type,b)}})}else if(a.type==="busline"){b=a.key;ba.findBusLine(b,function(b){b.id&&f(a.type,b)})}else if(a.type===
"address"||a.type==="point")require("server").getAddressShape({x:a.x,y:a.y},function(b){var c=new Ta(b);c.oldname=b.text("old.name");c.otherName=b.text("old.name");c.key=b.text("docid");f(a.type,c)});else if(a.type==="roadview"){b="/"+a.key+"?PX="+a.x+"&PY="+a.y+"&RAD=70&SERVICE=pc_map_web";require("server").roadviewSmart({addParamData:b},function(b){f(a.type,{name:b.obj_.street_view.street.addr})})}else a.route_form&&f(a.type,a.originDisplay||a.route_form)}function g(a){G.toggleClass("HIDDEN",a!==
da);E.toggleClass("HIDDEN",a!==ea);F.toggleClass("HIDDEN",a!==ga);I.toggleClass("HIDDEN",a!==fa);L.toggleClass("HIDDEN",a!==ia);V.toggleClass("HIDDEN",a!==ma);K.toggleClass("HIDDEN",a!==na);la=a;var a="50%",b="-225px",c="-161px";if(la===fa){b="-179px";c="-232px"}else if(la===da){c="150px";b="-165px";a=0}else if(la===ga){b="-215px";c="-183px"}else if(la===ea)b="-168px";else if(la===ia)c="-195px";else if(la===ma)c="-87px";else if(la===na){b="-152px";c="-116px"}C.css({marginLeft:b,marginTop:c,top:a})}
function i(){var a=C.height();a>0&&C.css({marginTop:"-"+parseInt((a+1)/2)+"px"})}function l(a,b){j(a,b);var c=G.find(".layer_body"),d=c.scrollTop(),e=d-25,f=d+25;c.off("scroll.addFav").on("scroll.addFav",function(){var a=c.scrollTop();if(a<e||a>f){T.find("li").removeClass("ACTIVE");E.hide();c.off("scroll.addFav")}})}function j(a,d){ha||(ha={});ha.fav=a;ha.folderInfo=d;var e=!!a.seq,f=E.find("form"),i=a.type&&v.COLOR_ICON_TYPE_LIST.indexOf(a.type)!==-1,j=a.type&&a.type.indexOf("route_")!==-1,k="\uc990\uaca8\ucc3e\uae30 \uc800\uc7a5 \ud3fc",
l="\uc990\uaca8\ucc3e\uae30 \uc800\uc7a5",m=b.getItem(v.DEFAULT_COLOR_PRIFIX+d.mapUserId)||v.DEFAULT_COLOR;if(e){k="\uc990\uaca8\ucc3e\uae30 \uc218\uc815 \ud3fc";l="\uc990\uaca8\ucc3e\uae30 \uc218\uc815";m=a.color}E.find(".layer_body > *").filter("strong, ul.list_inp").toggleClass("HIDDEN",!i);E.find("legend").text(k).end().find(".tit_interlock").text(l).end().find(".list_inp li input:checked").prop("checked",false);i&&E.find("[data-color="+m+"] input").prop("checked",true);i=f.find("#display1");
f=f.find("#favMemo");if(qa){i.val("");f.val("")}i.attr("maxlength",j?200:50);if(e){i.attr("placeholder","");h(a,"display1")}else i.attr("placeholder",a.display1||"");i.val(a.display1||"");f.val(a.memo||"");j={position:"relative",top:"unset",left:"unset"};if(e){g(ea);o();require("log/Tiara").log(c.TIARA.favorite_edit)}else{f=G.find("[data-folderid="+d.folderId+"]").position().top-5;i=C.width()-20;j.position="absolute";j.top=f;j.left=i;E.show();E.one("click",".btn_close",function(){n.click("favorite",
["step2_favorite_info","close_favorite_info"]);T.find("li").removeClass("ACTIVE");E.hide()});require("log/Tiara").log(c.TIARA.add_favorite2)}E.css(j).toggleClass("inner_favorite_notail",e).find(".btn_close").toggleClass("part_close",!e);U.focus()}function r(b,d){ha={};var e=b&&parseInt(b.folderId)===b.folderId,f=I.find("form"),h="\uc0c8 \uadf8\ub8f9 \ucd94\uac00 \ud3fc",i="\uc0c8 \uadf8\ub8f9 \ucd94\uac00",j=v.DEFAULT_ICON,k=!!b&&b.status||"P",l=(d&&d.viewOnMapCount!==void 0?d.viewOnMapCount:0)<v.MAX_VIEW_ON_MAP_COUNT,
m=l,p="",r="",q="";if(e){h="\uadf8\ub8f9 \uc218\uc815 \ud3fc";i="\uadf8\ub8f9 \uc218\uc815";j=b.icon;l=b.isFixed||l;m=b.isFixed;p=b.folderId;r=b.title;q=b.memo;ha.status=k}Y.find(">li").removeClass("on");qa&&f.find("#folderName").val("").end().find("#memo").val("");var t=v.ICON_MAP[j];f.find("legend").text(h).end().find(".tit_interlock").text(i).end().find("[data-icon="+j+"]").addClass("on").end().find(".ico_seleced").removeAttr("class").addClass("ico_seleced "+t).end().find("input[value="+k+"]").prop("checked",
true).end().find("#showMap").prop("checked",m).data("isAddable",l).end().find("#editFolderId").val(p).end().find("#folderName").val(r).end().find("#memo").val(q);if(d&&d.fav)ha.referer=d;g(fa);o();f.find("#folderName").trigger("focus");e?require("log/Tiara").log(c.TIARA.folder_edit):require("log/Tiara").log(c.TIARA.add_folder);var s=e?"\ud3f4\ub354\uc218\uc815\ud31d\uc5c5_\ud074\ub9ad":"\ud3f4\ub354\uc0dd\uc131\ud31d\uc5c5_\ud074\ub9ad";I.off("click").on("click",".btn_option",function(){n.click(s,
"\uc544\uc774\ucf58 \ubcc0\uacbd")}).on("click","#open",function(){n.click(s,"\uacf5\uac1c \ud5c8\uc6a9 on")}).on("click","#private",function(){n.click(s,"\uacf5\uac1c \ud5c8\uc6a9 off")}).on("click","#showMap",function(b){b=a(b.currentTarget).prop("checked")?"\uc9c0\ub3c4 \ubcf4\uae30 on":"\uc9c0\ub3c4 \ubcf4\uae30 off";n.click(s,b)}).on("click",".btn_submit",function(){n.click(s,"\uc644\ub8cc")}).on("click",".btn_close",function(){n.click(s,"\ub2eb\uae30")})}function p(a){a.stopPropagation()}function o(){C.show();
C.attr("tabindex",-1).focus().removeAttr("tabindex");N.show();N.on("click",s);D.on("keydown",p)}function s(){C.hide();N.hide();N.off("click",s);D.off("keydown",p)}var t=new m,u=new m,q=new m,w=new m,y=new m,x=new m,A=new m,z=new m,D=a("body"),C=H("FavoriteManageView").appendTo(D),G=C.$("folderSelectLayer"),E=C.$("addFavoriteLayer"),F=C.$("folderInfoLayer"),I=C.$("addFolderLayer"),L=C.$("addHomeLayer"),V=C.$("removeHomeLayer"),K=C.$("resultLayer"),X=C.$("registerList"),N=a("#dimmedLayer"),P=C.$("addFolderOK"),
U=C.$("addOK"),$=C.$("removeOK"),ka=C.$("resultOK"),W=C.$("addHomeOK"),T=C.find(".list_folder"),Z=C.find(".btn_option"),Y=C.find(".list_option"),aa=C.find("#display1"),da="folderSelect",ea="favoriteAdd",ga="folderInfo",fa="folderAdd",ia="addHome",ma="removeHome",na="result",la=fa,ra=100,ha=null;C.on("mousedown",function(a){a.stopPropagation()});var qa=d.isBrowserIE;qa&&C.find("input[type=text]").prop("readonly",false);C.on("focus blur","input[type=text]",function(a){if(!qa){var b=a.type==="focus"||
a.type==="focusin";jQuery(a.currentTarget).prop("readonly",!b)}});C.on("click",".btn_close",function(a){if(!jQuery(a.currentTarget).hasClass("part_close")){la===da?n.click("favorite",["step1_select_folder","close_select_folder"]):la===ea&&n.click("favorite",["step2_favorite_info","close_favorite_info"]);s();ha=null}});C.on("click",".btn_cancel",s);E.on("click","#display1",function(){n.click("favorite",["step2_select_folder","edit_favorite_name"])}).on("click","#favMemo",function(){n.click("favorite",
["step2_select_folder","edit_memo"])}).on("click","[name=favoriteColor]",function(){n.click("favorite",["step2_select_folder","edit_color"])});P.click(function(a){a.preventDefault();var a=I.find("form"),b=Y.find("li.on").data("icon"),c=a.find("input[name=privacy]:checked").val(),d=!!a.find("#showMap").is(":checked"),f=a.find("#showMap").data("isAddable");a.find("input[type=text]").each(function(a,b){b.value=b.value.trim()});if(e("folderName",true,"\uadf8\ub8f9\uba85\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.")&&
e("memo"))if(d&&!f)alert("\uc9c0\ub3c4 \uc704\uc5d0 \ud45c\uc2dc\ud560 \uadf8\ub8f9\uc740 \ucd5c\ub300 "+v.MAX_VIEW_ON_MAP_COUNT+"\uac1c\uae4c\uc9c0 \uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");else{var f=a.find("#editFolderId").val(),g=a.find("#folderName");if(f)ha.folderId=parseInt(f);ha.title=g.val();ha.memo=a.find("#memo").val();ha.icon=b;ha.isStatusChanged=ha.status!==c;ha.status=c;ha.viewOnMap=d;t.notify(ha);g.focus()}});Z.click(function(b){b.preventDefault();var c=Y.hasClass("HIDDEN");
Y.toggleClass("HIDDEN",!c);D.off("click.folderAddOptionsHide");if(c)D.on("click.folderAddOptionsHide",function(c){if(b.currentTarget!==c.target&&Y.get(0)!==c.target&&!a.contains(Y.get(0),c.target)){Y.addClass("HIDDEN");D.off("click.folderAddOptionsHide")}})});Y.find(">li").click(function(b){b.preventDefault();var b=a(b.currentTarget),c=v.ICON_MAP[b.data("icon")];Y.find(">li").removeClass("on");b.addClass("on");C.find(".ico_seleced").removeAttr("class").addClass("ico_seleced "+c);Y.addClass("HIDDEN")});
ka.click(s);X.on("click","li",function(a){X.find("li").removeClass("choiced_result");jQuery(a.currentTarget).addClass("choiced_result")});T.on("click","li",function(b){T.find("li").removeClass("ACTIVE");E.hide();var b=a(b.currentTarget),c=b.data("folderid"),d={},e=0;ha.folderList&&ha.folderList.forEach(function(a){a.folderId===c&&(d=a);a.isFixed&&e++});if(b.hasClass("ADD")){n.click("favorite",["step1_select_folder","add_new_folder"]);ha.folderList.length<ra?r({},{type:"folderSelect",fav:ha.fav,viewOnMapCount:e}):
alert("\ucd5c\ub300 "+ra+"\uae4c\uc9c0 \uc0dd\uc131 \uac00\ub2a5\ud569\ub2c8\ub2e4.")}else if(b.hasClass("THEME"))b.hasClass("CP")?alert("\ud14c\ub9c8\ub294 \ud3b8\uc9d1\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):alert("\ud14c\ub9c8\ub294 \ud3b8\uc9d1\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uad6c\ub3c5 \ucde8\uc18c\ub294 \ub9c8\uc774\ud398\uc774\uc9c0\uc5d0\uc11c \uac00\ub2a5\ud569\ub2c8\ub2e4.");else if(b.hasClass("OTHER"))alert("\uad6c\ub3c5\ud55c \uadf8\ub8f9\uc740 \ud3b8\uc9d1\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uad6c\ub3c5 \ucde8\uc18c\ub294 \ub9c8\uc774\ud398\uc774\uc9c0\uc5d0\uc11c \uac00\ub2a5\ud569\ub2c8\ub2e4.");
else if(b.hasClass("SAVED")){n.click("favorite",["step1_select_folder","deselect_folder"]);ha.fav.folderId=c;ha.folderInfo=d;y.notify(ha.fav);s()}else if(!b.hasClass("FULL"))if(ha.fav instanceof Array){u.notify({favItems:ha.fav,folderInfo:d});s()}else if(ha.fav.type==="busstopline"){n.click("favorite",["step1_select_folder","select_folder"]);ha.folderInfo=d;var f=jQuery.extend({},ha.fav);f.folderId=d.folderId;f.color=v.DEFAULT_COLOR;delete f.folderIdMap;delete f.count;delete f.createdAt;f.display2.trim()===
""?R.find(f.key,function(a){if(a.id){f.display2=a.hname;q.notify(f)}}):q.notify(f)}else{n.click("favorite",["step1_select_folder","select_folder"]);delete ha.fav.seq;b.addClass("ACTIVE");l(ha.fav,d)}});U.click(function(a){a.preventDefault();n.click("favorite",["step2_favorite_info","complete"]);var c=E.find("form"),a=c.find("#display1");c.find("input[type=text]").each(function(a,b){b.value=b.value.trim()});a.val()||a.val(a.attr("placeholder")||"");if(e("display1",true,"\uc990\uaca8\ucc3e\uae30\uba85\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.")&&
e("favMemo")){var d=c.find("#favMemo").val(),c=c.find("[name=favoriteColor]:checked").closest("li").data("color")||"";ha.fav.color=c;var f=jQuery.extend({},ha.fav);f.folderId=ha.folderInfo.folderId;f.display1=a.val();f.memo=d;delete f.folderIdMap;delete f.count;delete f.createdAt;c&&b.setItem(v.DEFAULT_COLOR_PRIFIX+ha.folderInfo.mapUserId,c);f.seq?w.notify(f):q.notify(f);s()}});$.click(function(){y.notify(ha);s()});W.click(function(){var b=X.find(".choiced_result"),c=X.find("li"),d=null;if(b.length>
0){c.each(function(b,c){a(c).hasClass("choiced_result")&&(d=ha.selectedList[b])});x.notify({removeItem:{seq:d.seq,onOff:false,folderId:d.folderId},addItem:ha.addData});s()}else B.alert("\uc81c\uac70\ud560 \ud56d\ubaa9\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.");return false});g(fa);return{show:o,hide:s,setLayerMode:g,showFolderSelectView:function(a,b,d){var e=a instanceof Array;ha={isAddAfter:!(!ha||!ha.referer),fav:a,folderList:b};var f="",h=jQuery('<div><li>                    <a href="#none" class="link_folder">                        <span class="ico_folder"></span>                        <span class="tit_folder">                            <span class="utile_folder">                                <span class="ico_favorite ico_fix HIDDEN">\uace0\uc815</span>                                <span class="ico_favorite ico_theme HIDDEN">\ud14c\ub9c8</span>                            </span>                            <strong class="txt_folder">\uae30\ubcf8 \uadf8\ub8f9</strong>                        </span>                        <span class="info_refer">                            <span class="txt_refer">\uac1c\uc218 <span class="num" data-id="favCount"></span></span>                            <span class="txt_bar"></span>                            <span class="txt_refer">\uad6c\ub3c5 <span class="num" data-id="subscribeCount">0</span></span>                            <span class="txt_bar"></span>                            <span class="txt_refer txt_lock"><span class="ico_favorite ico_lock"></span><text data-id="privateText">\ube44\uacf5\uac1c</text></span><\!-- \uacf5\uac1c\uc544\uc774\ucf58\uc77c \ub54c txt_lock\uc5d0 unlock \ud074\ub798\uc2a4 \ucd94\uac00 --\>                            </span>                    </a>                </li></div>');
b.forEach(function(a){var b=a.folderType==="M",c=a.folderType==="T";if(!a.isSelected&&!(a.status==="A"||a.status==="D"||!b&&a.status==="P")&&(a.status!=="T"||a.status==="T"&&b&&a.isSaved)){var d=b&&!c&&(a.status==="P"||a.status==="O"),e=a.status==="P"?"\ube44\uacf5\uac1c":a.status==="O"?"\uacf5\uac1c":"";h.find(">li").toggleClass("CP",a.cp).toggleClass("THEME",c).toggleClass("OTHER",!b).toggleClass("TEMP",a.status==="T").toggleClass("TEMP FULL",a.favoriteCount===v.MAX_FAVORITE_COUNT).toggleClass("SAVED",
a.isSaved).attr("data-folderid",a.folderId).find(".ico_folder").removeAttr("class").addClass("ico_folder "+v.ICON_MAP[a.icon||v.DEFAULT_ICON]).end().find(".txt_folder").text(a.title).end().find(".ico_fix").toggle(a.isFixed).end().find(".ico_theme").toggle(c).end().find(".txt_lock").toggle(d).toggleClass("unlock",a.status==="O").find('text[data-id="privateText"]').text(e);b&&h.find(">li").find('.num[data-id="favCount"]').text(a.favoriteCount+"/"+v.MAX_FAVORITE_COUNT).end().find('.num[data-id="subscribeCount"]').text(a.subscribeCount).end();
if(!b){b=a.nickName||"";c=a.profileImage&&a.profileImage!=="null"?a.profileImage:"";if(a.profileStatus!=="S"){c="https://t1.daumcdn.net/localimg/localimages/07/2018/pc/favorite/img_accused.png";b=a.profileStatus==="T"?"\uc784\uc2dc\uc870\uce58\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.":"\uc0ad\uc81c\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4."}a=require("url").TENTH_THUMB+"C28x28/?fname="+encodeURIComponent(c);h.find(".info_refer").html('<span class="txt_user"><span class="wrap_thumb">'+(c?'<img src="'+
a+'" width="14" height="14" alt="">':"")+"</span>"+b+"</span>")}f=f+h.html()}});T.find("li:not(.ADD)").remove().end().append(f);G.find(".layer_head .tit_interlock").text(e?"\ubcf5\uc0ac\ud560 \uadf8\ub8f9 \uc120\ud0dd":"\uadf8\ub8f9 \uc120\ud0dd");g(da);d||o();require("log/Tiara").log(c.TIARA.add_favorite1);if(ha.isAddAfter){a=G.find("li[data-folderid="+b[1].folderId+"]");a.length>0&&a.trigger("click")}G.find(".list_folder").scrollTop(0)},showAddFavoriteView:j,showAddFolderView:r,showFolderInfoView:function(a){var b=
a.folderId===0,d=a.profileStatus!=="S",e=a.profileImage&&a.profileImage!=="null"?a.profileImage:"";d&&(e="https://t1.daumcdn.net/localimg/localimages/07/2018/pc/favorite/img_accused.png");e=jQuery.extend({},a,{isDefaultFolder:b,isPrivate:a.status==="P",isMemo:!!a.memo,isProfileImage:!!e,isMyFolder:a.isMyFolder,profileThumbnail:require("url").TENTH_THUMB+"C17x17/?fname="+encodeURIComponent(e),favoriteCount:String.formatNumber(parseInt(a.favoriteCount))+"/"+v.MAX_FAVORITE_COUNT,nickName:a.nickName||
""});if(d)e.nickName=a.profileStatus==="T"?"\uc784\uc2dc\uc870\uce58\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.":"\uc0ad\uc81c\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.";if(!b){e.subscribeCount=String.formatNumber(parseInt(a.subscribeCount));e.viewCount=String.formatNumber(parseInt(a.viewCount));e.createdAt=a.createdAt?a.createdAt.split(" ")[0].replace(/-/g,"."):""}b=H("FavoriteFolderInfoView",e);b.$("profileLink").click(function(){s();A.notify(a)});F.find(".layer_body").empty().append(b);g(ga);
o();require("log/Tiara").log(c.TIARA.folderinfo)},showAddHomeView:function(b){if(b){ha=b;X.empty();a(b.selectedList).each(function(a,b){H("FavoriteStaticSearchItemView",{inputName:"addHome",idx:a,nameDisp:b.display1,secondDisp:b.display2,isText:true}).appendTo(X)});X.find("li:first").addClass("choiced_result").find("input[type=radio]").prop("checked",true);g(ia);o();require("log/Tiara").log(c.TIARA.add_homelist);L.find(".btn_cancel").focus()}},showResultView:function(a,b){var c,d;if(a==="remove"){d=
"release";c=""}else{var e;if(b){d=b.fav;e=b.folderInfo}else if(ha){d=ha.fav;e=ha.folderInfo}d=d||{};e=e||{};c=v.ICON_MAP[e.icon||v.DEFAULT_ICON];d=d&&d.color?"type"+d.color:"release"}var f="";if(a==="add")var f=ha.folderInfo.status==="O"?"\uacf5\uac1c \uadf8\ub8f9 ":ha.folderInfo.status==="P"?"\ube44\uacf5\uac1c \uadf8\ub8f9 ":"",h=e&&e.folderId===0?"\uae30\ubcf8 \uadf8\ub8f9":String.format("%h",e.title),f='<span class="txt_toast">'+f+'<span class="name_folder">&lt;<span class="txt_ellipsis">'+h+
"</span>&gt;</span>\uc5d0</span>\uc990\uaca8\ucc3e\uae30\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";else f="\uc990\uaca8\ucc3e\uae30\uac00 "+(a==="remove"?"\uc0ad\uc81c":"\uc218\uc815")+"\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";K.find(".ico_toast:first").removeAttr("class").addClass("ico_toast "+d).end().find(".ico_toast:last").removeAttr("class").addClass("ico_toast "+c).end().find(".desc_toast").html(f).off("click").on("click",".txt_toast a",function(a){a.preventDefault();Application.roadviewController.close();
z.notify(e);s()});g(na);o();setTimeout(function(){la===na&&s()},2E3);i();ka.focus()},setMaxFolderCount:function(a){ra=a},onAddFolderClick:t,onCopySelectFolder:u,onAddClick:q,onEditClick:w,onRemoveClick:y,onRegisterSelected:x,onClickProfile:A,onClickFolderName:z,FOLDER_SELECT_LAYER:da,ADD_FAVORITE_LAYER:ea,ADD_FOLDER_LAYER:fa,FOLDER_INFO_LAYER:ga,ADD_HOME_LAYER:ia,REMOVE_HOME_LAYER:ma,RESULT_LAYER:na}});"use strict";define("view/FavoriteStaticManageView",["jquery","const"],function(a,b){function c(a,
b){V=a;if(V=="home"){o.find(".type_name").text("\uc9d1");o.find(".type_name2").text("\uc9d1\uc73c");o.find(".type_name3").text("\uc9d1\uc744")}else{o.find(".type_name").text("\ud68c\uc0ac");o.find(".type_name2").text("\ud68c\uc0ac");o.find(".type_name3").text("\ud68c\uc0ac\ub97c")}o.find(".layer_head .tit_interlock").contents().filter(function(){return this.nodeType===3}).replaceWith(b?" \uc218\uc815":" \ub4f1\ub85d")}function d(a){s.toggleClass("HIDDEN",a!=E);t.toggleClass("HIDDEN",a!=F);w.val("");
i(false);I=a;g()}function e(b){b.preventDefault;b={q:a.trim(w.val()),msFlag:"A",sort:0,gb:"R"};z.text("");require("server").search(b,f);return false}function f(b){w.blur();var c=b.raw();L=[];var d=1;i(true);a(c.address).each(function(a,b){var e={type:"address"};e.id=b.docid;e.nameOrigin=b.addr;e.nameDisp=b.addr.replace(c.org_query,'<em class="emph_accord">'+c.org_query+"</em>");e.inputName="searchAddress";e.idx=d;e.x=b.x;e.y=b.y;e.origin=b;d++;L.push(e)});a(c.place).each(function(a,b){var e={type:"place"};
e.id=b.confirmid;e.nameOrigin=b.name;e.nameDisp=b.name.replace(c.org_query,'<em class="emph_accord">'+c.org_query+"</em>");e.inputName="searchAddress";e.idx=d;e.x=b.x;e.y=b.y;e.origin=b;if(b.new_address_disp)e.secondDisp=b.new_address_disp.split("|").join(" ");else if(b.address_disp)e.secondDisp=b.address_disp.split("|").join(" ");d++;L.push(e)});a(c.busStop).each(function(a,b){var e={type:"busstop"};e.id=b.DOCID;e.nameOrigin=b.BUSSTOP_NAME;e.nameDisp=b.BUSSTOP_NAME.replace(c.org_query,'<em class="emph_accord">'+
c.org_query+"</em>")+" \uc815\ub958\uc7a5";e.idx=d;e.x=b.x||b.wx;e.y=b.y||b.wy;e.origin=b;e.secondDisp=b.STOP_ID;d++;L.push(e)});L.length>0?a(L).each(function(a,b){H("FavoriteStaticSearchItemView",b).appendTo(z)}):a('<li class="search_no_result"><span>\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.</span></li>').appendTo(z);z.scrollTop(0)}function h(){var b=z.find(".choiced_result"),c=z.find("li"),d=null;if(b.length>0){c.each(function(b,c){a(c).hasClass("choiced_result")&&(d=L[b])});n.notify({staticMode:V,
data:d});j()}else alert("\uc6d0\ud558\uc2dc\ub294 \uc7a5\uc18c\ub098 \uc8fc\uc18c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")}function g(){var a="-80px";I==F&&(a="-310px");I==E&&q.hasClass("result_location")&&(a="-310px");o.css({marginLeft:"-225px",marginTop:a})}function i(a){q.toggleClass("result_location",a===true);g()}function l(a){a&&d(a);o.show();u.show();u.on("click",j)}function j(){o.hide();u.hide();u.off("click",j)}var n=new m,p=new m,o=H("FavoriteStaticManageView").appendTo(a("body")),
s=o.$("searchLayer"),t=o.$("resultLayer"),u=a("#dimmedLayer"),q=o.$("searchBody"),w=o.$("favoriteSearchQuery"),v=o.$("findBtn"),x=w.parent(),A=x.find(".lab_region"),z=o.$("resultList"),B=o.$("connectOK"),C=o.$("searchOK"),D=o.$("resultOK"),E="search",F="result",I=E,L=[],V="home",K=null;o.find(".btn_close").click(j);o.find(".btn_cancel").click(j);D.click(j);w.on("focus",function(){x.addClass("on_favorite");A.hide()});w.on("blur",function(){x.removeClass("on_favorite");a.trim(w.val()).length==0&&A.show()});
v.on("click",e);q.on("submit",e);z.on("click","li",function(b){var c=a(b.currentTarget);b.preventDefault();if(!c.hasClass("search_no_result")){z.find("li").removeClass("choiced_result");c.addClass("choiced_result");h()}});B.on("click",function(){j();p.notify()});C.on("click",h);c("home");d(E);return{show:l,hide:j,showAddView:function(a,c){(K=c||null)?n.notify({staticMode:V,data:K}):d(E);l();var e=(a?"edit":"add")+"_"+V;require("log/Tiara").log(b.TIARA[e]);I==E&&w.focus()},showResultView:function(){d(F);
l();D.focus()},setIdentity:c,onUpdate:n,onConnect:p,SEARCH_LAYER:E,RESULT_LAYER:F}});"use strict";cb.SMALL="FlagItemInfoLayer-small";cb.Origin="FlagItemInfoLayer-Origin";cb.Dest="FlagItemInfoLayer-Dest";cb.Via="FlagItemInfoLayer-Via";Ha.ORIGIN="//t1.daumcdn.net/localimg/localimages/07/2011/map/road/ico_road_point1.png";Ha.VIA="//t1.daumcdn.net/localimg/localimages/07/2011/map/road/ico_road_point3.png";Ha.DEST="//t1.daumcdn.net/localimg/localimages/07/2011/map/road/ico_road_point2.png";Ha.prototype.coords_=
new daum.maps.Coords(0,0);Ha.prototype.setCoords=function(a){this.coords_=a};Ha.prototype.getCoords=function(){return this.coords_};Ha.active=null;Ha.prototype.setLabel=function(){if(Ha.active){Ha.active.setPointIcon(false);Ha.active.name_.setActive(false)}Ha.active=this;this.setPointIcon(true);this.name_.setActive(true)};Ha.prototype.click_=function(){this.doAction_()};define("view/FlashSupportView",["jquery","url"],function(a,b){function c(a){a.stopPropagation()}function d(){if(j){e.hide();e.detach();
j=false;if(l){g.hide();f.off("keydown",c)}}}var e=H("FlashSupportView",{moreViewUrl:b.FLASH_SUPPORT}),f=a("body"),h=a("#view"),g=a("#dimmedLayer"),i=e.find(".btn_close"),l=false,j=false;i.on("click",d);return{show:function(){if(!j){e.appendTo(h);e.show();e.addClass("type_view");i.hide();l=false;j=true}},showOnLayer:function(){if(!j){e.appendTo(f);e.show();e.removeClass("type_view");i.show();g.show();f.on("keydown",c);j=l=true}},hide:d}});var la=P;define("view/FrameDecorator",la.args,L(la));"use strict";
"use strict";xc.prototype.show=function(){this.panel_.show()};xc.prototype.show=function(){this.panel_.show();this.options_.show()};xc.prototype.hide=function(){this.panel_.hide()};xc.prototype.showOptions=function(a){var b=0;for(this.text_=a;b<a.length;++b){var c=a[b],d=this.buttons_[b];if(!d){d=new i("li","",new i("a"));d.addClass("option"+b);this.optionRadioGroup_.add(d);this.options_.addChild(d);this.buttons_[b]=d}d.show();d.toPane().find("a").text(c);d.setClass("option"+b+"-ACTIVE",b==0)}for(;b<
this.buttons_.length;++b)this.buttons_[b].hide();this.panel_.show()};xc.prototype.showTextview=function(){};xc.prototype.setOption=function(a){this.buttons_.forEach(function(b,c){b.setClass("option"+c+"-ACTIVE",c==a)});jQuery("#info\\.main\\.header\\.activeOption").text(this.text_[a])};Nc.prototype.setSeq=function(a){this.seq_=a;this.panel_.addClass("IssuePlaceItem-icon_a")};Nc.prototype.setCoords=function(a){this.coords_=a};Nc.prototype.setName=function(a){this.name_.setText(a)};Nc.prototype.setImage=
function(a){if(a)this.img_.getElement().src=a};Nc.prototype.setDesc=function(a){this.desc_.setText(a)};qd.prototype.doAction_=function(){this.deactivateRoadview();this.onAction.notify(this)};qd.prototype.setName=function(a,b,c){b="";c=c||2147483647;this.name_.setTitle(a);if(a.length>c){--c;b=".."}this.name_.setText(a.substring(0,c)+b)};qd.prototype.deactivateRoadview=function(){Application.roadviewController.getActive()&&Application.roadviewController.close()};Dd.air={cate1:{name:"\ud1b5\ud569\ub300\uae30\uc9c0\uc218",
unit:"",list:["0~50","51~100","101~250","251~"]},cate2:{name:"\ubbf8\uc138\uba3c\uc9c0",unit:"\u338d/\u33a5",list:["0~30","31~80","81~150","151~"]},cate3:{name:"\ucd08\ubbf8\uc138\uba3c\uc9c0",unit:"\u338d/\u33a5",list:["0~15","16~35","36~75","76~"]},cate4:{name:"\ud669\uc0ac",unit:"\u338d/\u33a5",list:["0~199","200~399","400~799","800~"]},cate5:{name:"\uc624\uc874",unit:"ppm",list:["0~0.03","0.031~0.09","0.091~0.15","0.151~"]},cate6:{name:"\uc774\uc0b0\ud654\uc9c8\uc18c",unit:"ppm",list:["0~0.03",
"0.031~0.06","0.061~0.2","0.201~"]},cate7:{name:"\uc77c\uc0b0\ud654\ud0c4\uc18c",unit:"ppm",list:["0~2","2.01~9","9.01~15","15.01~"]},cate8:{name:"\uc544\ud669\uc0b0\uac00\uc2a4",unit:"ppm",list:["0~0.02","0.021~0.05","0.051~0.15","0.151~"]}};define("view/LayerLegendView",["map/Map","jquery"],L(Dd));vc.DEFAULT_PROFILE_IMG="//t1.daumcdn.net/localimg/localimages/07/2018/pc/title/empty_edit.png";vc.REPORT_PROFILE_IMG="//t1.daumcdn.net/localimg/localimages/07/2018/pc/title/report_profile.png";define("view/LayerProfileEditView",
["controller/ProfileController"],L(vc));Pe.prototype.updateCount=function(a){this.reviewCount.text(this.utilLib.numberWithComma(a))};define("view/LayerProfileView",["controller/ProfileController","controller/LayerProfileEditController","util/lib"],L(Pe));fc.disposeAll=function(){jQuery("body").find(">.LoadingView").remove();Application.isLoadingViewShow=false};ya.DISTANCE=0;ya.AREA=1;ya.CLEAR=2;ya.MAX_LEVEL=14;ya.DEFAULT_TOP=3;ya.RADIUS=4;ya.NEWPLACE=5;ya.NEWPLACE_INFO_CLOSE=6;define("view/MapControlView",
["map/Map","jquery"],L(ya));"use strict";define("view/MapShareToolBoxView",["dom/forefront","controller/RoughMapFrameController","controller/MapToolController","controller/ShareController"],L(function(a,b,c,d){function e(){h&&h.remove();h=null}function f(a){var c={urlX:a.x,urlY:a.y};a.confirmid?c.itemId=a.confirmid:c.q=a.name;location.href.replace(/[?#].*/,"");jQuery.param(c);c=H("MapShareToolBox");c.$("copyUrl").click(function(){e();d.show({from:"tooltip"});n.click("sharetool","url")});c.$("roughMap").click(function(){e();
b.open(a);n.click("sharetool","map")});return c}var h=null;this.open=function(b,c){e();h=f(c);a.create(h,{position:b});if(h&&Application){var d=jQuery(B).height(),i=h.offset().top+250;i>d&&Application.map.panBy(0,i-d)}}}));Lc.createBus=function(){return(new Lc("BUSNUMBER")).getPane()};Lc.createBusName=function(){return(new Lc("BUSSTOP")).getPane()};ma.CAR="CAR";ma.TRANSIT="TRANSIT";ma.TRANSIT_METHOD="TRANSIT_METHOD";ma.WALK="WALK";ma.BIKE="BIKE";ma.showError=function(){var a=new ma;a.fiyBtnBox.hide();
a.setTitle("\uae38\ucc3e\uae30\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");a.setDesc("\ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694");return a};ma.createCar=function(a,b){var c=new ma(ma.CAR),d="\uae38\ucc3e\uae30 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.",e="";switch(a){case "SAME_POINT":d="\ucd9c\ubc1c\uc9c0\uc640 \ub3c4\ucc29\uc9c0\uac00 \uac19\uc544\uc694.";break;case "START_LINK_NOT_FOUND":e="\ucd9c\ubc1c\uc9c0 \uc8fc\ubcc0\uc5d0 \ub3c4\ub85c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.";
break;case "END_LINK_NOT_FOUND":e="\ub3c4\ucc29\uc9c0 \uc8fc\ubcc0\uc5d0 \ub3c4\ub85c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.";break;case "VIA_LINK_NOT_FOUND":e="\uacbd\uc720\uc9c0 \uc8fc\ubcc0\uc5d0 \ub3c4\ub85c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694."}b.routeType="car";b.noResult=true;b.searchInfo={mode:"car",searchMode:b.method,option:b.option};b.noResultData={start:{name:b.origin.name,x:b.origin.coords.getX(),
y:b.origin.coords.getY()},end:{name:b.dest.name,x:b.dest.coords.getX(),y:b.dest.coords.getY()}};b.waypoints=Application.flagSearchController.getWaypoints();jQuery(b.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});c.setTitle(d);e&&c.setDesc(e);c.setFiyData({type:"route",rawInfo:b});return c};ma.createTransit=function(a,b){var c=new ma(ma.TRANSIT),d="\uae38\ucc3e\uae30 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.",e="";switch(a){case "EQUAL_POINTS":d="\ucd9c\ubc1c\uc9c0\uc640 \ub3c4\ucc29\uc9c0\uac00 \uac19\uc544\uc694.";
break;case "STARTNODES_NULL":case "NODES_NULL":e="\ucd9c\ubc1c\uc9c0 \uc8fc\ubcc0\uc5d0 \uc774\uc6a9 \uac00\ub2a5\ud55c \uc218\ub2e8\uc774 \uc5c6\uc5b4\uc694.";break;case "ENDNODES_NULL":e="\ub3c4\ucc29\uc9c0 \uc8fc\ubcc0\uc5d0 \uc774\uc6a9 \uac00\ub2a5\ud55c \uc218\ub2e8\uc774 \uc5c6\uc5b4\uc694.";break;case "TOO_NEAR_POINTS":e="\ud574\ub2f9 \uad6c\uac04\uc740 \ub3c4\ubcf4\ub97c \uc774\uc6a9\ud558\ub294 \uac83\uc774 </br> \ub300\uc911\uad50\ud1b5\uc744 \uc774\uc6a9\ud558\ub294 \uac83 \ubcf4\ub2e4 \ube60\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4."}var f=
{routeType:"public",noResult:true};f.noResultData={start:{name:b[0].name,x:b[0].coords.getX(),y:b[0].coords.getY()},end:{name:b[b.length-1].name,x:b[b.length-1].coords.getX(),y:b[b.length-1].coords.getY()}};f.waypoints=b;jQuery(f.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});c.setTitle(d);e&&c.setDesc(e);c.setFiyData({type:"route",rawInfo:f});return c};ma.getTransitMethodTitle=function(a){return a+"\ub85c \uac00\ub294 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694."};ma.createTransitMethod=
function(a){var b=new ma(ma.TRANSIT_METHOD),a=ma.getTransitMethodTitle(a);b.setTitle(a);return b};ma.createWalk=function(){var a=new ma(ma.WALK);a.setTitle("\uae38\ucc3e\uae30 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.");return a};ma.getNoWalkResultByType=function(a){var b={text:"\uae38\ucc3e\uae30 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.",desc:"",link:""};switch(a){case "SAME_POINT":b.text="\ucd9c\ubc1c\uc9c0\uc640 \ub3c4\ucc29\uc9c0\uac00 \uac19\uc544\uc694.";break;case "START_LINK_NOT_FOUND":case "END_LINK_NOT_FOUND":case "ROUTE_RESULT_NOT_FOUND":b.desc=
"\ucd9c\ubc1c\uc9c0 \ub610\ub294 \ub3c4\ucc29\uc9c0\uc758 \uc704\uce58\ub97c \ubcc0\uacbd\ud574\uc8fc\uc138\uc694.";break;case "TOO_FAR_AWAY":b.desc="\uc9c1\uc120\uac70\ub9ac\uac00 30km \uc774\ub0b4\uc778 \uacbd\uc6b0\uc5d0 \ud55c\ud558\uc5ec<br/>\ub3c4\ubcf4\uae38\ucc3e\uae30 \uacb0\uacfc\ub97c \uc81c\uacf5\ud558\uace0 \uc788\uc5b4\uc694."}return b};ma.createBike=function(){var a=new ma(ma.BIKE);a.setTitle("\uae38\ucc3e\uae30 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.");return a};ma.getNoBikeResultByType=
function(a){var b={text:"\uae38\ucc3e\uae30 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.",desc:""};switch(a){case "SAME_POINT":b.text="\ucd9c\ubc1c\uc9c0\uc640 \ub3c4\ucc29\uc9c0\uac00 \uac19\uc544\uc694.";break;case "START_LINK_NOT_FOUND":case "END_LINK_NOT_FOUND":case "ROUTE_RESULT_NOT_FOUND":case "TOO_FAR_AWAY":b.desc="\uc790\uc804\uac70 \uae38\ucc3e\uae30\uac00 \uc81c\uacf5\ub418\uc9c0 \uc54a\ub294 \uc9c0\uc5ed\uc774\uc5d0\uc694."}return b};vb.prototype.base_=0;vb.prototype.pages_=1;vb.prototype.updateRange_=
function(){var a=this.base_,b=this.pages_;this.prev_.setClass("disabled",a<=1);this.next_.setClass("disabled",a+5>=b);[this.btn1_,this.btn2_,this.btn3_,this.btn4_,this.btn5_].forEach(function(c,d){c.setVisible(a+d<b);var e=a+d+1;c.setText(e);e>99?c.addClass("WIDE"):c.removeClass("WIDE")})};vb.prototype.updateButton_=function(a){[this.btn1_,this.btn2_,this.btn3_,this.btn4_,this.btn5_].forEach(function(b,c){var d=this.base_+c+1;if(a==d&&b.hasClass("WIDE"))b.addClass("WIDE-ACTIVE");else{b.removeClass("WIDE-ACTIVE");
b.setActive(a==d)}},this)};vb.prototype.update_=function(a){this.updateButton_(a);this.onPage.notify(a)};vb.prototype.setTotal=function(a){if(a>1){this.panel_.show();this.pages_=Math.max(1,Math.ceil(a));this.updateRange_()}else this.panel_.hide()};vb.prototype.setPage=function(a){a=Math.max(1,Math.min(this.pages_,a));this.base_=((a-1)/5|0)*5;this.updateRange_();this.updateButton_(a)};vb.prototype.showPrev5_=function(){if(!this.prev_.hasClass("disabled")){this.base_=Math.max(0,this.base_-5);this.updateRange_();
this.update_(this.base_+1);this.afterPrev()}};vb.prototype.showNext5_=function(){if(!this.next_.hasClass("disabled")){this.base_=Math.min(((this.pages_-1)/5|0)*5,this.base_+5);this.updateRange_();this.update_(this.base_+1);this.afterNext()}};vb.prototype.showPage1_=function(){this.update_(this.base_+1)};vb.prototype.showPage2_=function(){this.update_(this.base_+2)};vb.prototype.showPage3_=function(){this.update_(this.base_+3)};vb.prototype.showPage4_=function(){this.update_(this.base_+4)};vb.prototype.showPage5_=
function(){this.update_(this.base_+5)};ta.prototype.clickHandler_=function(a){var b="";if(this.placeModel)b=this.placeModel.name;b={name:b,confirmid:this.confirmId_,cpg:this.dssPlaceObj.cpg+","+this.index_,tab:this.dssPlaceObj.tab,in_map:this.dssPlaceObj.in_map,sorttype:this.dssPlaceObj.sorttype,mkey:this.dssPlaceObj.mkey};b.analysis=this.dssPlaceObj.analysis;if(this.dssPlaceObj.srcid)b.srcid=this.dssPlaceObj.srcid;if(this.dssPlaceObj.cidx!=void 0)b.cidx=this.dssPlaceObj.cidx;a?x.logPathSearchOutWithArgs(a,
b):x.logPathSearchOutWithArgs("_",b);this.click_()};ta.prototype.sendDssLog=function(a){this.clickHandler_(a)};ta.prototype.setConfirmId=function(a){this.confirmId_=a};ta.prototype.setIndex=function(a){this.index_=a;this.seq_=String.fromCharCode(this.index_+64);this.markerIndex_.setText(this.seq_)};ta.prototype.setRoadview=function(a){if(a){this.roadviewData_=a;this.roadview_.show()}else this.roadview_.hide()};ta.prototype.setCategory=function(a){this.category_.setText(String.stripTags(a))};ta.prototype.setPhone=
function(a){if(a){this.phone_.show();this.dot_.show();this.phone_.setText(a)}else{this.phone_.hide();this.dot_.hide()}};ta.prototype.setAddress=function(a){this.address_.setText(a)};ta.prototype.setSubAddress=function(a){this.subAddress_.setText("(\uc9c0\ubc88) "+a)};ta.prototype.clickRoadview_=function(){Application.roadviewController.show(this.roadviewData_);n.click("roadview","by_start_end");try{var a=this.placeModel.coords.getX().toFixed(0),b=this.placeModel.coords.getY().toFixed(0),c=Application.localInfoController.getHCodeForLog(),
d="";if(this.placeModel)d=this.placeModel.name;x.logPathSearchOutWithArgs("_roadview",{name:d,confirmid:this.confirmId_,cpg:this.dssPlaceObj.cpg+","+this.index_,tab:this.dssPlaceObj.tab,cidx:this.dssPlaceObj.cidx,in_map:this.dssPlaceObj.in_map,sorttype:this.dssPlaceObj.sorttype,mkey:this.dssPlaceObj.mkey,region:c,panoid:this.roadviewData_.panoId,wx:a,wy:b})}catch(e){console.log(e)}};ta.prototype.panelEnter_=function(){this.panel_.addClass("PlaceFlagItem-HOVER");this.hover_=true;this.onOver.notify();
this.active_||this.flagInfoLayer_.setVisible(true)};ta.prototype.panelLeave_=function(){this.panel_.removeClass("PlaceFlagItem-HOVER");this.hover_=false;this.onOut.notify();this.active_||this.flagInfoLayer_.setVisible(false)};ta.prototype.setHover=function(a){a?this.panelEnter_():this.panelLeave_()};ta.prototype.applyHightlight_=function(){this.panel_.setClass("PlaceFlagItem-ACTIVE",this.active_);this.flagInfoLayer_.setVisible(false);this.dupItems&&this.dupItems.forEach(function(a){a.setActive(false)},
this)};ta.prototype.setActive=function(a){this.active_=!!a;this.applyHightlight_()};ta.prototype.setPointIcon=function(){};ta.prototype.setDupData=function(a){if(a){this.panel_.addClass("PlaceFlagItem-DUP");var b=H("DupListView"),c=b.$("duplist"),d=b.$("dup_cnt");c.mouseenter(this.panelLeave_.bind(this));c.mouseleave(this.panelEnter_.bind(this));b.show();d.text(a.length);b.$("dupToggle").click(function(a){var f=jQuery(a.currentTarget),a=!f.hasClass("on");c.toggle(a);f.toggleClass("on",a);if(a){jQuery(document).one("mousedown touchstart",
function(a){a=a.target;if(!c.is(a)&&!d.is(a)&&c.has(a).length===0&&b.$("dupToggle").get(0)!==a){c.hide();f.removeClass("on")}});n.click("route",["related_place","open"])}});b.mouseenter(function(){this.flagInfoLayer_.setVisible(false)}.bind(this));b.mouseleave(function(){this.active_||this.flagInfoLayer_.setVisible(true)}.bind(this));activeDupItem=null;this.dupItems=a.map(function(a,d){var h=new Ne(a,d%2==1);h.getPane().appendTo(c);h.setFlagInfoLayer(this.flagType_);h.onClick.add(function(a){this.onDupDataClick.notify(a);
this.setActiveDupItem(d);c.hide();b.$("dupToggle").removeClass("on");n.click("route",["related_place","item_click"])},this);return h},this);this.panel_.addChild(b)}};ta.prototype.setActiveDupItem=function(a){this.dupItems[a].setActive(true)};ta.prototype.setIntercity=function(){};ta.prototype.setDssPlaceObj=function(a){this.dssPlaceObj=a};define("view/RelatedAddressView",["jquery"],function(a){function b(b,d){var e=H("AddressItemViewSubList",d);this.onItemClick=new m;this.onFolderClick=new m;this.wrapSubList=
b.$("subList");this.parentId=d.id;if(d.subList.length==1){e.$("moreIcon").hide();e.$("btnFolder").on("click",this.onItemClick_.bind(this,d,0))}else e.$("btnFolder").on("click",this.onFolderClick_.bind(this));var f=e.find(".subList .txt"),f=a.makeArray(f);this.openClass="opened";f.forEach(function(b,c){a(b).on("click",this.onItemClick_.bind(this,d,c))},this);e.appendTo(this.wrapSubList.show())}b.prototype.onItemClick_=function(a,b){var e=a.subList[b];e.coords&&this.onItemClick.notify({address:a,index:b,
coords:e.coords,model:e})};b.prototype.onFolderClick_=function(a){this.wrapSubList.scrollTop(0);this.wrapSubList.toggleClass(this.openClass);this.onFolderClick.notify({view:this,event:a})};return b});define("view/ReviewListView",["util/lib"],L(function(a){function b(b){var c=jQuery('<span class="link_total">\uc804\uccb4 <em class="num"></em></span>');c.find(".num").text(a.numberWithComma(E.filterData.count));c.click(function(){s.notify(1)});b.append(c)}function c(a){var b=[];Object.keys(E.filterData.sortNameList).forEach(function(a){b.push({name:E.filterData.sortNameList[a],
type:a})});(new Yd(a,{selected:{name:E.filterData.sortNameList[E.filterData.selectedSortType]},opts:b})).onClickOption.add(g)}function d(a){var b=E.filterData.onlyRevisitY,c=jQuery('<button type="button" class="'+(b?"btn_check checked":"btn_check")+'">   <span class="ico_mypage ico_check2"></span>    <span class="txt_check">\uc7ac\ubc29\ubb38\ub2f5\ubcc0</span></button>');c.click(function(){c.toggleClass("checked");t.notify(!b);n.click(I,["review","revisit",b?"off":"on"])});a.append(c)}function e(){var a=
E.isOtherPage?H:F;if(E.isPrivate)a.onPage.clear();else{a.setTotal(E.pages.total);a.setPage(E.pages.index);a.onPage.clear();a.onPage.add(function(a){s.notify(a)})}}function f(a){if(a){var b=G?z:z.find(">ul"),a=new Pf(b,a,G);a.onClick.add(i);a.onRemove.add(l);a.onLike.add(j);a.onReport.add(r)}}function h(){if(G){var a=jQuery(B).height();v.find(">div:not(.HIDDEN, [data-id=body])").each(function(b,c){var d=jQuery(c);a=a-d.outerHeight(true)});v.find("[data-id=body]").height(a)}else{var b=x.$("reviewHeader").outerHeight(true)+
jQuery("#info\\.my [data-id=tab]").outerHeight(true),c=jQuery("#my\\.review\\.page");c.hasClass("HIDDEN")||(b=b+c.outerHeight(true));z.height(jQuery("#info\\.body").height()-b)}}function g(a){o.notify(a)}function i(a){u.notify(a)}function l(a){p.notify(a)}function j(a){q.notify(a)}function r(a){w.notify(a)}var p=this.onRemoveItem=new m,o=this.onClickSort=new m,s=this.onClickPage=new m,t=this.onClickRevisited=new m,u=this.onClickItem=new m,q=this.onLikeItem=new m,w=this.onReportItem=new m,v,x,A,z,
D,C,G=false,E=null,F=new vb("my.review.page"),H=new vb("other.review.page"),I=G?"other":"my";jQuery(document).on("mousedown touchstart",function(a){a=jQuery(a.target);x&&(a&&a.closest("[data-id=setting]").length===0)&&x.find("[data-id=setting]").hide()});this.setList=function(a,g){E=g;G=!!E.isOtherPage;v=jQuery("#info\\.my");x=jQuery("#my\\.review");if(E&&G){v=jQuery("#info\\.other");x=jQuery("#other\\.review")}A=v.$("reviewFilters");z=x.$("reviewList");D=x.$("reviewEmptyPage");filteredListNone=x.$("filteredReviewEmptyPage");
C=x.$("reviewPrivatePage");G&&v.find("[data-id=body]");G?z.empty():z.find(">ul").empty();A.empty().show();b(A);var i=parseFloat(E.averageScore).toFixed(1),i=jQuery('<span class="txt_info">\ud3c9\uade0 <em class="num_type2">'+i+"</em></span>");A.append(i);if(!E.isPrivate){c(A);d(A)}e();if(E.isPrivate){h();C.show();D.hide();filteredListNone.hide();z.hide()}else if(a.length){h();D.hide();filteredListNone.hide();C.hide();z.show();a.map(f)}else{if(g.filterData.onlyRevisitY){D.hide();filteredListNone.show()}else{G||
A.hide();filteredListNone.hide();D.show()}z.hide();C.hide()}}}));$a.prototype.cctv=!1;$a.prototype.accident=!1;$a.prototype.gas=!1;$a.prototype.service=!1;$a.prototype.traffic=!1;$a.prototype.getCctv=function(){return this.cctv};$a.prototype.getAccident=function(){return this.accident};$a.prototype.getGas=function(){return this.gas};$a.prototype.getService=function(){return this.service};$a.prototype.getTraffic=function(){return this.traffic};$a.prototype.setCctv=function(a){this.cctv=a;this.cctvContainer_.setClass("cctvon",
a);this.onChange.notify()};$a.prototype.setAccident=function(a){this.accident=a;this.accidentContainer_.setClass("accidenton",a);this.onChange.notify()};$a.prototype.setGas=function(a){this.gas=a;this.gasContainer_.setClass("gason",a);this.onChange.notify()};$a.prototype.setService=function(a){this.service=a;this.serviceContainer_.setClass("serviceon",a);this.onChange.notify()};$a.prototype.setTraffic=function(a){if(this.traffic!==a){this.traffic=a;this.trafficContainer_.setClass("trafficon",a);this.onChange.notify()}};
$a.prototype.clickCctv_=function(a){a.stopPropagation();this.setCctv(!this.cctv);n.click("route","go_car_CCTV")};$a.prototype.clickAccident_=function(a){a.stopPropagation();this.setAccident(!this.accident);n.click("route","go_car_accident")};$a.prototype.clickGas_=function(a){a.stopPropagation();this.setGas(!this.gas);n.click("route","go_car_gas_station")};$a.prototype.clickService_=function(a){a.stopPropagation();this.setService(!this.service);n.click("route","go_car_service_station")};$a.prototype.clickTraffic_=
function(a){a.stopPropagation();this.setTraffic(!this.traffic);n.click("route","go_car_realtraffic")};$a.prototype.accidentClickable=function(a){this.accidentBtn_.onClick.remove(this.clickAccident_,this);if(a){this.accidentBtn_.onClick.add(this.clickAccident_,this);this.accidentBtn_.element_.disabled=false}else this.accidentBtn_.element_.disabled=true};$a.prototype.gasClickable=function(a){this.gasBtn_.onClick.remove(this.clickGas_,this);if(a){this.gasBtn_.onClick.add(this.clickGas_,this);this.gasBtn_.element_.disabled=
false}else this.gasBtn_.element_.disabled=true};$a.prototype.cctvClickable=function(a){this.cctvBtn_.onClick.remove(this.clickCctv_,this);if(a){this.cctvBtn_.onClick.add(this.clickCctv_,this);this.cctvBtn_.element_.disabled=false}else this.cctvBtn_.element_.disabled=true};$a.prototype.serviceClickable=function(a){this.serviceBtn_.onClick.remove(this.clickService_,this);if(a){this.serviceBtn_.onClick.add(this.clickService_,this);this.serviceBtn_.element_.disabled=false}else this.serviceBtn_.element_.disabled=
true};$a.prototype.trafficClickable=function(a){this.trafficBtn_.onClick.remove(this.clickTraffic_,this);if(a){this.trafficBtn_.onClick.add(this.clickTraffic_,this);this.trafficBtn_.element_.disabled=false}else this.trafficBtn_.element_.disabled=true};define("view/RoutePoiControlView",[],L($a));wb.prototype.clear=function(){this.list_.empty();this.itemView_.length=0};wb.prototype.addItem=function(a){a=a||new this.factory_(this.buttonFactory_);a.onAction.add(this.doItem_,this);(a.getPanel?a.getPanel():
a.getPane()).appendTo(this.list_);this.itemView_.push(a);return a};wb.prototype.setCount=function(a,b){var c=this.itemView_.length;if(c){this.panel_.show();b>c?this.more_.show():this.more_.hide()}else this.panel_.hide()};wb.prototype.clickMore_=function(){Application.roadviewController.close();this.onMore.notify({})};wb.prototype.doItem_=function(a){a=this.itemView_.indexOf(a);console.assert(a>=0);this.onAction.notify(a)};wb.prototype.setIndex=function(a){a=this.itemView_[a];this.setInActive();a&&
a.setActive(true)};wb.prototype.setInActive=function(){this.itemView_.forEach(function(a){a.setActive(false)},this)};wb.prototype.getItemViews=function(){return this.itemView_};wb.prototype.setVisible=function(a,b){this.panel_.toggle(a);this.more_.toggle(b)};cd.prototype.setOptions=function(a){var b=this.panel_;b.removeAllChildren();this.optionsObject=a;this.options_=a.map(function(a,d){var e=new i("li");d==0&&e.addClass("first");b.addChild(e);var f=jQuery('<a href="#none"></a>');f.addClass("label").toggleClass("ACTIVE",
a.value==this.option_);f.text(a.name);e.addChild(f);if(a.list){e.addClass("FilterSelectBoxView");e.addChild((new i("strong","screen_out")).setText("\uc120\ud0dd\uc0c1\uc790")).addChild((new i("em","screen_out")).setText("\uc120\ud0dd\ub0b4\uc6a9 :")).addChild(f).addChild((new i("em","screen_out")).setText("\uc120\ud0dd\uc635\uc158"));var h=new i("ul","list_opt");h.hide();a.list.forEach(function(a){var b=new i("li"),c=new i("a");c.setText(a.name);c.onClick.add(function(){this.setOption(a.value);this.onOption.notify()},
this);b.addChild(c);h.addChild(b)},this);f.on("click",function(){var a=!f.hasClass("expand");f.toggleClass("expand",a);h.setVisible(a);if(a)jQuery(document).one("mousedown touchstart",function(a){if(!this.panel_.contain(a.target)&&f[0]!=a.target){f.toggleClass("expand",false);h.setVisible(false)}}.bind(this))}.bind(this));e.addChild(h)}else f.on("click",function(){this.setOption(a.value);this.onOption.notify()}.bind(this));return f},this)};cd.prototype.option_=0;cd.prototype.getOption=function(){return this.option_};
cd.prototype.setOption=function(a){var b=false;this.option_=a;this.optionsObject.forEach(function(c,d){var e=this.options_[d];if(a==c.value){e.addClass("ACTIVE");b=true}else if(c.list)if(c.list.some(function(b){if(a==b.value){e.text(b.name+" "+c.name);return true}return false})){e.addClass("ACTIVE");b=true}else{e.text(c.name);e.removeClass("ACTIVE")}else e.removeClass("ACTIVE")},this);if(!b){this.options_[0].setActive(true);this.option_=this.optionsObject[0].value}};Ed.prototype.clickCloser_=function(){this.onClose.notify()};
Ed.prototype.clickSwitch_=function(){this.onSwitch.notify()};Ed.prototype.handleMapFrame=function(a){a=a.innerWidth==0&&a.innerHeight==0;if(a!=this.visible_){this.panel_.setVisible(a);this.visible_=a}};Se.prototype.setKeywords=function(a){if(a&&a[0]){var b=this.list_;b.removeAllChildren();a.map(this.buildButton_,this).forEach(function(a,d){d>0&&b.addText(", ");b.addChild(a)});this.panel_.show()}else this.panel_.hide()};Se.prototype.buildButton_=function(a){var b=new i("a");b.setText(a);b.onClick.add(function(){this.onKeyword.notify(a)},
this);return b};bd.prototype.showCandidate=function(a){this.panel_.show();i.$(this.id_+".text").setText(a);this.text_=a};bd.prototype.hide=function(){this.panel_.hide()};bd.prototype.clickCandidate_=function(){this.onClick.notify(this.text_)};define("view/StartEndPointItemView",[],function(){return function(a){var b=this.onClick=new m;this.onOut=new m;var c=this.onRoadview=new m,d=Application.flagSearchController.getWaypoints(),e=true;if(a.confirmid)for(var f=0;f<d.length;f++){if(d[f].id===a.confirmid&&
d[f].pointType!=="PLACE"&&d[f].pointType!=="SUBWAYSTATION"){e=false;break}}else e=false;var h=H("StartEndPointItemView",{actionName:a.action,name:a.name,isShowDetail:e,placeUrl:require("url").DAUM_PLACE+a.confirmid,roadview:false}),d=h.$("roadview");h.$("name");var e=h.$("icon"),f=h.$("detail"),g=false;e.addClass(a.type||a.seq);f.click(function(){n.click("route","go_"+n.ROUTE_METHOD+"_place")});a.action==="DEPARTURE"||a.seq==="goal"?e.text("\ub3c4\ucc29"):(a.action==="ARRIVAL"||a.seq==="start")&&
e.text("\ucd9c\ubc1c");a.action&&h.addClass("StartEndPointItemView-"+a.action);h.click(function(){g?g=false:b.notify()});a.roadview&&d.click(function(){g=true;c.notify(null)});this.setItemActive=function(){};this.getPane=function(){return h}}});ad.prototype.updateFav=function(a){if(a)this.fav_=a;if(this.fav_){if(a=Application.favoriteController.findFavorite(this.fav_)){var b=a.count<10?a.count:"10";this.favorite_._pane.find(".num").attr("class","num num"+b).text(a.count)}this.favorite_.setClass("favorite-active",
!!a)}};ad.prototype.clickFavorite_=function(){this.onClick.notify({id:"favorite",fav:this.fav_})};ad.prototype.clickPrint_=function(){this.onClick.notify({id:"print"})};ad.prototype.clickshowMap_=function(){this.onClick.notify({id:"showFiy"})};define("view/SubwayRouteResultView",[],L(function(){function a(a){h.forEach(function(b,c){b.setActive(a==c);a!=c&&b.setDetail(false)});b.notify(a)}var b=this.onSelected=new m,c=jQuery("#info\\.subwayInfo"),d=jQuery("#info\\.subway\\.searchBox\\.resultBox"),
e=c.find(".firstTrainInfo"),f=c.find(".list"),h=[];this.setData=function(c){h.length=0;f.children().remove();f.removeClass("nonTimeBase");d.hide();if(c){if(c.hasNoResultButFirstWeekendTrain){e.show();e.html('<span class="icoNotice"></span>\ud3c9\uc77c\uc5d0\ub294 \uc6b4\ud589\ud558\ub294 \uc5f4\ucc28\uac00 \uc5c6\uc5b4, \uc8fc\ub9d0 \uccab\ucc28\ub85c \uc548\ub0b4\ud569\ub2c8\ub2e4.')}else if(c.hasNoResultButFirstTrain){e.html('<span class="icoNotice"></span>\ud574\ub2f9 \uc2dc\uac04\uc5d0 \uc6b4\ud589\ud558\ub294 \uc5f4\ucc28\uac00 \uc5c6\uc5b4, \uccab\ucc28\ub85c \uc548\ub0b4\ud569\ub2c8\ub2e4.');
e.show()}else e.hide();if(c&&c.routes&&c.routes.length){i.$("info.subwayInfo").show();c.params.routingType=="NonTimeBase"&&f.addClass("nonTimeBase");c.routes.forEach(function(b,c){var d=new Qf(b);d.onSelected.add(function(){a(c)});f.append(d.getPanel());h.push(d)});if(h.length>0){h[0].setActive(true);b.notify(0);h.length==1&&h[0].setDetail(true)}d.find(".tit_result").text("\ucd1d "+c.routes.length+"\uac74\uc758 \uac80\uc0c9\uacb0\uacfc");d.show()}}}}));ae.prototype.showStationInfo_=function(){require("server").subwayStationInfo(this.item.id)};
ae.prototype.getPanel=function(){return this.panel_};ae.prototype.getName=function(){return this.name_};uc.DIRECTION={up:"\uc0c1\ud589",down:"\ud558\ud589"};uc.STATUS={RUNNING:"\uc6b4\ud589\uc911",ENTER:"\uc9c4\uc785",ARRIVAL:"\ub3c4\ucc29",DEPARTURE:"\ucd9c\ubc1c",PREV_STN_DEPARTURE:"\uc804\uc5ed\ub3c4\ucc29",PREV_STN_ARRIVAL:"\uc804\uc5ed\ucd9c\ubc1c",PREV_STN_ENTER:"\uc804\uc5ed\uc9c4\uc785"};define("view/ThemeMapItemView",["controller/ShareController"],function(a){return function(b,c){var d=this.onClick=
new m,e=H("ThemeMapItemView"),f=e.$("img"),h=b.src,g="";b.cpName&&b.cpName!="DAUM"&&(g=g+("["+b.cpName+"] "));b.cpProgram&&(g=g+(b.cpProgram+" - "));var i=g=jQuery("<pre>").html(g+b.title).remove().text();if(h)f.attr("src",h);else{e.$("imgWrap").hide();e.$("para").addClass("noImage")}e.$("name").text(i).attr("title",g);e.$("region").text(b.region);e.$("count").text(b.place_cnt);var f=e.$("urlShare"),l=b.themeId;f.on("click",function(){a.show()});e.$("like").text(b.good_cnt);(l==106||l=="106")&&e.$("infowrap").addClass("hideLike");
e.hover(function(){e.addClass("ThemeMapItem-ACTIVE")},function(){e.removeClass("ThemeMapItem-ACTIVE")});e.on("click",function(a){jQuery(a.target).hasClass("urlBtn")||d.notify(l)});c.append(e);this.show=function(){e.show()};this.hide=function(){e.hide()}}});define("view/ThemeMapPlaceItemView",[],function(){return function(a,b,c){function d(a){a?l.addClass("ThemeMapPlaceItem-HOVER"):l.removeClass("ThemeMapPlaceItem-HOVER")}function e(a){a?l.addClass("ThemeMapPlaceItem-ACTIVE"):l.removeClass("ThemeMapPlaceItem-ACTIVE")}
var f=this.onOver=new m,h=this.onOut=new m,g=this.onClick=new m,i=this.onVote=new m,l=H("ThemeMapPlaceItemView"),j=l.$("icon");a>99?j.addClass("font3"):a>9?j.addClass("font2"):j.addClass("font1");j.text(a);var n=false,j=l.$("imgWrap"),p=l.$("image"),o=jQuery("<pre>").html(b.name).remove().text(),s="";if(b.photoUrl){j.show();p.attr("src",b.photoUrl);s=String.cut(o,11)}else{j.hide();l.$("para").addClass("noImage");n=true;s=String.cut(o,18)}l.$("name").text(s).attr("title",o);var t=l.$("why"),u=b.why;
t.html(String.cut(u,n?42:25));t.on("mousemove",function(a){jQuery("#titleSystemTooltip").html(u).css({top:a.pageY+22,left:a.pageX}).show()});t.on("mouseout",function(){jQuery("#titleSystemTooltip").hide()});l.$("region").text(b.region);l.$("tip").text(b.tip_cnt);var q=l.$("good");q.text(String.formatNumber(b.good_cnt));l.$("like").on("click",function(a){a.stopPropagation();a.preventDefault();i.notify(b.placeId)});l.hover(function(){d(true);f.notify()},function(){d(false);h.notify()});l.on("click",
function(){e(true);g.notify(a)});c.append(l);this.setActive=e;this.setHover=d;this.scroll=function(){jQuery("#info\\.body").scrollTop(l.position().top-1)};this.setVote=function(a){q.text(String.formatNumber(a))};this.setHideLike=function(){l.addClass("hideLike");t.html(String.cut(u,n?52:35))}}});"use strict";define("view/ThemeMapPlaceView","map/Map view/ThemeMapPlaceItemView model/ThemeMapPlaceItem log/Tiara map/MapTileManager manager/AoiManager map/MiniTooltipManager".split(" "),L(function(a,b,c,
d,e,f,h){function g(){z.css("background","none");B.children().remove();H.clear();F.length=0;I.length=0;L.length=0;s.clear();D.text("0");if(K){var d={id:K};if(K==107||K=="107")d.sort="RECENT";require("server").thememapInfo(d,function(d){var e=d.object("info");if(e){(e=e.text("banner_pc"))&&z.css("background",'url("'+e.replace(/^http:/,"")+'")');if(d=d.array("placelist")){var f=new daum.maps.CoordsBounds;D.text(d.length);d.forEach(function(a,d){var e=new c(a),g=new b(d+1,e,B);(K==106||K=="106")&&g.setHideLike();
var j=new Fe(d+1,e.coords,K,1);if(e.linecourseYN==="Y"){e.id=e.placeId;s.enablePolylineEvent();s.registerSearchResult({model:e,index:d,marker:j});s.find(e.placeId);s.callAfterLoad(function(){H.at(F.length-1-d).setPosition(F[d].getPosition())});s.setMapEvent()}g.onOver.add(function(){j.setHover(true);s.highlight(e.placeId)});g.onOut.add(function(){j.setHover(false);s.redrawLines()});j.onOver.add(function(){g.setHover(true);s.highlight(e.placeId);if(e.linecourseYN==="Y"){e.aoiCoords=s.getMarkerPosition(e.placeId)||
e.coords;h.createAoi(e)}else K>=55&&K<=57?h.createTheme(e):h.createPlace(e);h.open()});j.onOut.add(function(){g.setHover(false);s.redrawLines();h.close()});g.onClick.add(function(){Application&&Application.roadviewController&&Application.roadviewController.close();l(d)});g.onVote.add(function(a){e.placeId==a&&i(e.placeId,d)});j.onClick.add(function(){l(d);g.scroll()});F.push(j);I.push(e);L.push(g);f.extend(e.coords)});for(e=F.length-1;e>=0;e--)H.add(F[e]);if(d.length&&!N){Application&&Application.roadviewController&&
Application.roadviewController.close();a.setBounds(f)}z.find("img").on("click",function(){Application.infoWindowManager.close();H.setMarkerActive(-1);j();a.setBounds(f)});N=false;P&&I.forEach(function(a,b){if(P==a.placeId){l(b);L[b].scroll()}});P=null}}})}}function i(a,b){require("server").thememapPlaceVote({themeid:K,confirmid:a},function(a){if(a.text("result")=="success"){a=a.object("vote");L[b].setVote(a.number("good_cnt"))}else if(a.text("result")=="fail")(a=a.object("reason"))&&a.text("code")==
"FAIL_DUPLICATE"&&alert("\uc774\ubbf8 \ucd94\ucc9c\ud558\uc168\uc2b5\ub2c8\ub2e4.")})}function l(b){var c=I[b],d=L[b],e=F.length-1-b;if(c){E!=c&&j();H.setMarkerActive(e);d.setActive(true);E=c;C=d;ca.findPlace(c.placeId,function(d){var f=H.at(e);if(d){if(d.pointExtension)if(s.getAoi(d.id)){var g=s.getCoordsBounds(d.id);g&&a.setBounds(g);s.clickListItem(d.id);s.setMarker(d.id)}else s.callAfterLoad(function(){var e=s.getCoordsBounds(d.id);e&&a.setBounds(e);f.setPosition(F[b].getPosition());Application.infoWindowManager.createPlace(d,
f,+c.tip_cnt?"thememap":"");s.clickListItem.bind(s,d.id);s.setMarker(d.id)});else{a.setLevel(3);a.setCenter(d.coords)}Application.infoWindowManager.createPlace(d,f,+c.tip_cnt?"thememap":"")}})}}function j(){C&&C.setActive(false);E=C=null}function n(){y.hide();e.set("themespring",false);e.set("themefall",false);t=0;H.hide();I.length>0&&s.clear();Application.infoWindowManager.close();jQuery("#titleSystemTooltip").hide()}function p(a){U=a;a.forEach(function(a,b){var c=jQuery('<li class="recomTheme"><div class="imgWrap"><span class="imgStroke"></span><img src="//t1.daumcdn.net/thumb/C75x75/?fname='+
a.thumbnail+'" width="131" height="118"/></div><a href="#" class="recomTitle">'+a.title+'</a><span class="recomCount">'+(a.region||"\uc804\uad6d")+" <strong>"+a.placeCount+"</strong>\uacf3</span></li>");R.append(c);c.on("click",function(){if(a.id){n();v.notify(a.id)}});b||c.hide()})}function o(a){if(U){var b=0;U.forEach(function(c,d){c.id==a&&(b=d)});R.find(".recomTheme").show();R.find(".recomTheme:eq("+b+")").hide()}}var s=f.getController(f.KEY.SEARCH);s.onAoiMousedown.add(function(a){l(a.index)},
s);var t=0,u=false;e.setId("themespring",daum.maps.MapTypeId.THEMESPRING);daum.maps.event.addListener(a,"zoom_changed",function(){if(t&&F.length)if(!u&&a.getLevel()>12){F.forEach(function(a){a.setClass("customsmall",true)});u=true}else if(u&&a.getLevel()<13){F.forEach(function(a){a.setClass("customsmall",false)});u=false}});e.setId("themefall",daum.maps.MapTypeId.THEMEFALL);var q=this.onThemeMore=new m,v=this.onThemeClick=new m,y=jQuery("#info\\.thememap\\.placeview"),z=y.find(".title");y.find(".share");
var A=y.find(".title span"),B=jQuery("#info\\.thememap\\.place\\.list"),D=jQuery("#info\\.thememap\\.place\\.cnt");y.find(".themeMore").on("click",function(){q.notify()});var C=null,E=null,H=new va(a),F=[],I=[],L=[],K="",N=false,P=null,R=jQuery("#info\\.thememap\\.recommend\\.list"),U=null;this.setThemeId=function(a){K=a;g();A.children().remove();K==106||K=="106"||A.append(jQuery('<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fplace.map.kakao.com%2Ftheme%2Fmain%3Fid%3D'+K+'&amp;height=23&amp;colorscheme=light&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;send=false"  scrolling="no" frameborder="0" style="border:none; overflow:hidden; width: 120px; height:20px;" allowTransparency="true"></iframe>'));
o(K)};this.getThemeId=function(){return K};this.show=function(){y.show();if(K=="55"||K=="56"||K=="57"){t&&e.set("themespring",false);switch(K){case "57":t=1;break;case "56":t=2;break;case "55":t=3}e.set("themespring",true)}else e.set("themefall",K=="21");H.show();s.show();if(y.is(":visible")){d.logOnly("fake/theme/thememap_placelist_"+K);x.log("thememap_placelist_"+K)}};this.hide=function(){n()};this.setNoJump=function(){N=true};this.setSelectedId=function(a){P=a};this.setThememapPlaces=function(a){p(a)}}));
"use strict";define("view/ThemeMapView",["map/Map","view/ThemeMapItemView","model/ThemeMapItem","log/Tiara"],L(function(a,b,c,d){function e(){s.length=0;t.length=0;j.children().remove();n.text("0");require("server").thememapList({sort:o,page:0},function(a){var d=a.array("themeList"),a=a.text("total_cnt");n.text(a);jQuery("#info\\.thememap\\.placetheme\\.cnt").text(a);d.forEach(function(a){var a=new c(a),d=new b(a,j);d.onClick.add(function(a){i.notify(a)});s.push(a);t.push(d);v.indexOf(a.themeId)>
-1&&d.hide()})})}function f(a){v.length=0;q=a;a.forEach(function(a,b){var c=jQuery('<li class="recomTheme"><div class="imgWrap"><span class="imgStroke"></span><img src="//t1.daumcdn.net/thumb/C75x75/?fname='+a.thumbnail+'" width="131" height="118"/></div><a href="#" class="recomTitle">'+a.title+'</a><span class="recomCount">'+(a.region||"\uc804\uad6d")+" <strong>"+a.placeCount+"</strong>\uacf3</span></li>");u.append(c);c.on("click",function(){a.id&&i.notify(a.id)});b?v.push(a.id):c.hide()})}function h(a){if(q){var b=
v.length=0;q.forEach(function(c,d){c.id==a?b=d:v.push(c.id)});v.length==3&&(v=v.slice(1,3));u.find(".recomTheme").show();u.find(".recomTheme:eq("+b+")").hide()}}function g(){s.forEach(function(a,b){var c=t[b];v.indexOf(a.themeId)>-1?c.hide():c.show()});var a=0;u.find(".recomTheme").height(function(b,c){a=a<c?c:a});a>180?u.removeClass("short"):u.addClass("short")}var i=this.onThemeClick=new m,l=jQuery("#info\\.thememap\\.theme"),j=jQuery("#info\\.thememap\\.theme\\.list"),n=jQuery("#info\\.thememap\\.theme\\.cnt"),
p=jQuery("#info\\.thememap\\.theme\\.sort"),o="RECENT";p.find(".recent").on("click",function(){if(!jQuery(this).hasClass("ACTIVE")){p.find("a").removeClass("ACTIVE INACTIVE");jQuery(this).addClass("ACTIVE");o="RECENT";e()}});p.find(".rank").on("click",function(){if(!jQuery(this).hasClass("ACTIVE")){p.find("a").removeClass("ACTIVE INACTIVE");jQuery(this).addClass("ACTIVE");o="RANK";e()}});var s=[],t=[],u=jQuery("#info\\.thememap\\.theme\\.recommend"),q=[],v=[];this.update=function(){e()};this.setThemeId=
function(a){h(a)};this.setThememapPlaces=function(a){f(a)};this.show=function(){l.show();if(l.is(":visible")){d.logOnly("fake/theme/thememap_list");x.log("thememap_list")}g()};this.hide=function(){l.hide()}}));"use strict";Ib.THEME_SUB={"\uc74c\uc2dd\uc810":[{name:"\uc804\uccb4",id:"c9"},{name:"\uac04\uc2dd",id:"c46"},{name:"\ubd84\uc2dd",id:"c296"},{name:"\ubdd4\ud398",id:"c157"},{name:"\uc220\uc9d1",id:"c83"},{name:"\uc544\uc2dc\uc544\uc74c\uc2dd",id:"c18083"},{name:"\uc591\uc2dd",id:"c26"},{name:"\uc77c\uc2dd",
id:"c84"},{name:"\uc911\uc2dd",id:"c2810"},{name:"\ud328\uc2a4\ud2b8\ud478\ub4dc",id:"c41"},{name:"\ud328\ubc00\ub9ac\ub808\uc2a4\ud1a0\ub791",id:"c123"},{name:"\ud53c\uc790",id:"c60"},{name:"\uce58\ud0a8",id:"c158"},{name:"\ud55c\uc2dd",id:"c124"}],"\uc219\ubc15":[{name:"\uc804\uccb4",id:"c122"},{name:"\ud2b9\uae09\ud638\ud154",id:"c826"},{name:"\ub9ac\uc870\ud2b8",id:"c468"},{name:"\uc77c\ubc18\ud638\ud154",id:"c513"},{name:"\ubaa8\ud154",id:"c930"},{name:"\ud39c\uc158",id:"c1005"},{name:"\uac8c\uc2a4\ud2b8\ud558\uc6b0\uc2a4",
id:"c1006"},{name:"\ucea0\ud551\uc57c\uc601",id:"c664"},{name:"\uae30\ud0c0\uc219\ubc15",id:"accommodation_etc"}],"\uc740\ud589":[{name:"\uc804\uccb4",id:"theme_bankall"},{name:"ATM",id:"c17214"},{name:"BNK\ubd80\uc0b0\uc740\ud589",id:"c1741"},{name:"IBK\uae30\uc5c5\uc740\ud589",id:"c1404"},{name:"KB\uad6d\ubbfc\uc740\ud589",id:"c1402"},{name:"KDB\uc0b0\uc5c5\uc740\ud589",id:"c1746"},{name:"\ud558\ub098\uc740\ud589",id:"c1618"},{name:"NH\ub18d\ud611\uc740\ud589",id:"c18034"},{name:"SC\uc740\ud589",
id:"c1405"},{name:"\uacbd\ub0a8\uc740\ud589",id:"c1403"},{name:"\uad11\uc8fc\uc740\ud589",id:"c1511"},{name:"\ub18d\ud611",id:"c1516"},{name:"\ub300\uad6c\uc740\ud589",id:"c1616"},{name:"\uc0c8\ub9c8\uc744\uae08\uace0",id:"c1119"},{name:"\uc218\ud611",id:"c1103"},{name:"\uc218\ud611\uc740\ud589",id:"c18038"},{name:"\uc2e0\ud55c\uc740\ud589",id:"c1743"},{name:"\uc2e0\ud611",id:"c1414"},{name:"\uc6b0\ub9ac\uc740\ud589",id:"c1744"},{name:"\uc800\ucd95\uc740\ud589",id:"c1742"},{name:"\uc804\ubd81\uc740\ud589",
id:"c1617"},{name:"\uc81c\uc8fc\uc740\ud589",id:"c1745"},{name:"\ucd95\ud611",id:"c1415"},{name:"\ud55c\uad6d\uc528\ud2f0\uc740\ud589",id:"c1620"},{name:"\uae30\ud0c0\uc740\ud589",id:"theme_banketc"}],"\ubcd1\uc6d0\uc57d\uad6d":[{name:"\uc804\uccb4",id:"theme_hospitalall"},{name:"\uc57d\uad6d",id:"theme_pharmacy"},{name:"\ud55c\uc758\uc6d0",id:"c991"},{name:"\uc885\ud569\ubcd1\uc6d0",id:"theme_hospital"},{name:"\ubcf4\uac74\uc18c",id:"c1032"},{name:"\uc815\ud615\uc678\uacfc",id:"c1139"},{name:"\ud53c\ubd80\uacfc",
id:"c1140"},{name:"\uc548\uacfc",id:"c1228"},{name:"\uc774\ube44\uc778\ud6c4\uacfc",id:"c1229"},{name:"\uc0b0\ubd80\uc778\uacfc",id:"c1524"},{name:"\uc131\ud615\uc678\uacfc",id:"c1644"},{name:"\uc18c\uc544\uacfc",id:"c1645"},{name:"\uce58\uacfc",id:"c1646"},{name:"\ub0b4\uacfc",id:"c1312"},{name:"\uc678\uacfc",id:"c1313"},{name:"\ub3d9\ubb3c\ubcd1\uc6d0",id:"c776"},{name:"\uae30\ud0c0\ubcd1\uc6d0",id:"theme_hospitaletc"}],"\uc8fc\uc720\uc815\ubcf4":[{name:"\uc804\uccb4\t",id:"c1013"},{name:"\uc8fc\uc720\uc18c \uc804\uccb4",
id:"c2529"},{name:"LPG \ucda9\uc804\uc18c \uc804\uccb4",id:"c2909"},{name:"EX oil\uc8fc\uc720\uc18c",id:"c22421"},{name:"GS\uce7c\ud14d\uc2a4\uc8fc\uc720\uc18c",id:"c1348"},{name:"NC\uc624\uc77c \uc8fc\uc720\uc18c",id:"c2913"},{name:"S-oil\uc8fc\uc720\uc18c",id:"c1350"},{name:"SK\uc8fc\uc720\uc18c",id:"c1349"},{name:"\ub18d\ud611\uc8fc\uc720\uc18c",id:"c2915"},{name:"\uc54c\ub730\uc8fc\uc720\uc18c",id:"c17262"},{name:"\uc624\uc77c\ubc45\ud06c\uc8fc\uc720\uc18c",id:"c1173"},{name:"E1 LPG\ucda9\uc804\uc18c",
id:"c2912"},{name:"GS\uce7c\ud14d\uc2a4 LPG\ucda9\uc804\uc18c",id:"c2930"},{name:"S-oil LPG\ucda9\uc804\uc18c",id:"c2928"},{name:"SK LPG\ucda9\uc804\uc18c",id:"c2910"},{name:"\uc624\uc77c\ubc45\ud06c LPG\ucda9\uc804\uc18c",id:"c2929"},{name:"\uc804\uae30\ucc28 \ucda9\uc804\uc18c",id:"c18428"}],"\ubb38\ud654\uc2dc\uc124":[{name:"\uc804\uccb4",id:"theme_culture"},{name:"\uc601\ud654\uad00",id:"c589"},{name:"\ubbf8\uc220\uad00",id:"c842"},{name:"\ubc15\ubb3c\uad00",id:"c312"},{name:"\uacf5\uc5f0\uc7a5",
id:"c195"}],"\ud14c\ub9c8":[{name:"TV\ubc29\uc601\ub9db\uc9d1",id:"theme_tvfood"},{name:"100\ub300 \ucea0\ud551\uc7a5",id:"campsite_100"},{name:"100\ub300 \uacc4\uace1",id:"valley_100"},{name:"100\ub300 \ud734\uc591\ub9bc",id:"forest_100"},{name:"100\ub300 \uc12c",id:"island_100"},{name:"100\ub300 \uba85\uc0b0",id:"mountain_100"},{name:"100\ub300 \ud574\uc218\uc695\uc7a5",id:"beach_100"},{name:"\uc5ec\uac1d\uc608\ub9e4\uac00\ub2a5\uc12c",id:"reserve_island"}]};Ib.THEME_POIS=[{name:"\ubc84\uc2a4",
id:"busStop",type:"bus",dimg:"nb"},{name:"\uc9c0\ud558\ucca0",id:"theme_subway",type:"sub",dimg:"nb"},{name:"\uc74c\uc2dd\uc810",id:"",type:"food",dimg:"nr"},{name:"\uc219\ubc15",id:"",type:"hotel",dimg:"nr"},{name:"\uce74\ud398",id:"c86",type:"cafe",dimg:"nr"},{name:"\uc740\ud589",id:"",type:"bank",dimg:"nr"},{name:"\ud3b8\uc758\uc810",id:"c604",type:"cvs",dimg:"nr"},{name:"\ub300\ud615\ub9c8\ud2b8",id:"theme_bigmart",type:"mart",dimg:"nr"},{name:"\ubcd1\uc6d0\uc57d\uad6d",id:"",type:"hospital",
dimg:"nr"},{name:"\uc8fc\uc720\uc815\ubcf4",id:"",type:"oil",dimg:"nb"},{name:"\uc8fc\ucc28\uc7a5",id:"c573",type:"park",dimg:"nb"},{name:"\ubb38\ud654\uc2dc\uc124",id:"",type:"culture",dimg:"nr"}];Ib.HOME_THEME_POIS=[{name:"\uc74c\uc2dd\uc810",id:"",type:"food",dimg:"nr"},{name:"\uce74\ud398",id:"",type:"cafe",dimg:"nr"},{name:"\ubc84\uc2a4",id:"",type:"bus",dimg:"nb"},{name:"\uc9c0\ud558\ucca0",id:"",type:"sub",dimg:"nb"},{name:"\uc219\ubc15",id:"",type:"hotel",dimg:"nr"},{name:"\uc740\ud589",id:"",
type:"bank",dimg:"nr"},{name:"\ud3b8\uc758\uc810",id:"",type:"cvs",dimg:"nr"}];define("view/ThemePoiControlView",["view/RoutePoiControlView","view/ThemePoiSubListView","controller/RoadviewController","log/Tiara","const"],L(Ib));"use strict";define("view/ThemePoiSubListView",[],L(function(){var a=jQuery("<div>").addClass("ThemePoiSubListView"),b=this.onClick=new m,c=this.onClear=new m,d=null,e=null,f=true;this.setData=function(d,f){a.empty();h();e=d;var i=jQuery("<ul>");a.append('<strong class="screen_out">\uc138\ubd80 \uce74\ud14c\uace0\ub9ac</strong>');
d.forEach(function(a,d){var e=jQuery("<li>").addClass("subPoi").appendTo(i);jQuery('<button type="button" class="btn_subPoi">').text(a.name).appendTo(e);e.click(function(g){g.stopPropagation();e.toggleClass("subPoi_active").hasClass("subPoi_active")?b.notify({id:a.id,index:d,dimg:f}):c.notify()});e.hover(function(){jQuery(this).addClass("subPoi_hover")},function(){jQuery(this).removeClass("subPoi_hover")})});a.append(i)};this.setPosition=function(b){a.css({top:b.top,left:b.left+38})};this.setActive=
function(b){a.scrollTop(0);e&&e.map(function(c,e){if(c.id==b){d=a.find(".subPoi:eq("+e+")").addClass("subPoi_active");d.position()&&a.scrollTop(d.position().top-30);return true}})};var h=this.show=function(){a.show();f=true};this.hide=function(){a.scrollTop(0);a.hide();f=false};this.getVisible=function(){return f};this.getElement=function(){return a}}));rd.prototype.updateFav=function(a){if(a)this.fav_=a;if(this.fav_){if(a=Application.favoriteController.findFavorite(this.fav_)){var b=a.count<10?a.count:
"10";this.favorite_._pane.find(".num").attr("class","num num"+b).text(a.count)}this.favorite_.setClass("favorite-active",!!a)}};rd.prototype.clickFavorite_=function(){this.onClick.notify({id:"favorite",fav:this.fav_})};rd.prototype.clickPrint_=function(){this.onClick.notify({id:"print"})};rd.prototype.clickAlook_=function(){this.onClick.notify({id:"alook"});n.click("route","go_public_once_view")};Tb.prototype.setItems=function(){if(this.pointItemViews_.length==0){for(var a=[],b=[],c=this.route_.points.length,
d=0;d<c;d++)if(d===0)a.push(this.route_.points[d]);else{if(!(b.length===0||b[0].routeType===this.route_.points[d].routeType)){b.length===1?a.push(b[0]):a.push(b);b=[]}b.push(this.route_.points[d])}b.length===1?a.push(b[0]):a.push(b);for(d=this.itemIndexCount=b=0;d<a.length;d++){c=null;c=this.createPointItem_(a[d],b);this.transitlist_.addChild(c.getPane());d==a.length-2&&c.setLast();this.pointItemViews_.push(c);a[d].length?b=b+a[d].length:b++}}};Tb.prototype.detail_=!1;Tb.prototype.setTransitWalkItemView=
function(a,b){this.pointItemViews_[a].isGroupPoints()||this.pointItemViews_[a].setItem(b)};Tb.prototype.setActiveItemView=function(){this.pointItemViews_.length==0&&this.setItems()};Tb.prototype.setHighlightItemView=function(a,b){if(a.index!==void 0){this.pointItemViews_.length==0&&this.setItems();var c=null,c=typeof a.index=="object"?this.pointItemViews_[a.index.index]:this.pointItemViews_[a.index];c instanceof Yc?c.setHighlight(a.sub,b):c.setItemHighlight&&c.setItemHighlight(b)}};Tb.prototype.setDeActiveViews=
function(){this.pointItemViews_.forEach(function(a,b){var c=this.pointItemViews_[b];if(c instanceof Yc){c.deactivateAll();c.setDetailActive(false)}else{c.setItemActive&&c.setItemActive(false);c.deActiveDetailRoute&&c.deActiveDetailRoute()}},this)};Tb.prototype.clickSelf_=function(a){if(this.hasClass("TransitRouteItem-DETAIL")){if(jQuery(a.target).hasClass("clickArea")){this.setDetail(false);n.click("route","go_public_innerdetail_close")}}else{this.setDetail(true);n.click("route","go_public_innerdetail")}a.stopPropagation()};
Tb.prototype.clickDetail_=function(a){if(this.getActive()){a.preventDefault();a.stopPropagation();this.setDetail(!this.detail_);this.detail_?n.click("route","go_public_innerdetail"):n.click("route","go_public_innerdetail_close")}};Tb.prototype.createPointItem_=function(a,b){var c=null;if(a.action==E.DEPARTURE||a.action==E.ARRIVAL){c=new (require("view/StartEndPointItemView"))(a);c.onClick.add(function(){this.onPointClick.notify({index:b,sub:null})},this)}else{c=new Tf(a);console.log(c.pointItemViews_);
c.onClick.add(function(a){a=a||{};this.onPointClick.notify({index:b+(a.interCitySubIdx?a.interCitySubIdx:0),sub:a.sub||null})},this);c.pointItemViews_.length==0?function(){var a=this.itemIndexCount+1;c.onOver.add(function(){this.onOver.notify({index:{interRealIdx:a,index:b},sub:null})},this);this.itemIndexCount++;c.onOut.add(function(){this.onOut.notify({index:{interRealIdx:a,index:b},sub:null})},this)}.call(this):c.pointItemViews_.forEach(function(a){var c=a.onOut||a.onMouseout,f=this.itemIndexCount+
1;(a.onOver||a.onMouseover).add(function(){this.onOver.notify({index:{interRealIdx:f,index:b},sub:null})},this);c.add(function(){this.onOut.notify({index:{interRealIdx:f,index:b},sub:null})},this);this.itemIndexCount++},this);c.onChildPointClick.add(function(a){typeof a==="object"?this.onChildPointClick.notify({index:b,childIdx:a.idx,isLast:a.isLast}):this.onChildPointClick.notify({index:b,childIdx:a})},this);c.onDetailBtnForLog.add(function(){this.onDetailBtnForLog.notify()},this)}return c};Tb.prototype.setDetail=
function(a){this.detail_=!!a;this.setClass("TransitRouteItem-DETAIL",this.detail_);this.removeClass("TransitRouteItem-OVER");this.detail_&&this.onDetail.notify()};Tb.prototype.setActive=function(a){a=i.prototype.setActive.call(this,a);this.getActive()||this.setDetail(false);return a};ob.prototype.setItems=function(){if(this.pointItemViews_.length==0){var a=Application.flagSearchController.getWaypoints();this.route_.points[0].confirmid=a[0].id;this.route_.points[this.route_.points.length-1].confirmid=
a[a.length-1].id;this.route_.points.forEach(function(a,c){var d=null;if(a.walk&&a.type!=U.OTHER){d=new Yc(a.walkGroup);d.onDetail.add(function(a){this.onWalkDetail.notify({index:c,sub:null,isDetail:a});Application.windowController.onHeightChange.notify()},this);d.onClick.add(function(a){this.onPointClick.notify({index:c,sub:a})},this);d.onRoadview.add(function(a){a.index=c;this.onRoadview.notify(a);n.click("route","go_public_roadview")},this);d.onMouseover.add(function(a){this.onOver.notify({index:c,
sub:a})},this);d.onMouseout.add(function(a){this.onOut.notify({index:c,sub:a})},this)}else d=this.createPointItem_(a,c);this.transitlist_.addChild(d.getPane());c==this.route_.points.length-2&&d.setLast();this.pointItemViews_.push(d)},this)}};ob.prototype.detail_=!1;ob.prototype.setTransitWalkItemView=function(a,b){this.pointItemViews_[a].isGroupPoints()||this.pointItemViews_[a].setItem(b)};ob.prototype.setActiveItemView=function(a,b){this.pointItemViews_.length==0&&this.setItems();var c=this.pointItemViews_[a.index];
c.setItemActive?c.setItemActive(b):c.setActive&&c.setActive(a,b)};ob.prototype.setHighlightItemView=function(a,b){this.pointItemViews_.length==0&&this.setItems();var c=this.pointItemViews_[a.index];c instanceof Yc?c.setHighlight(a.sub,b):c.setItemHighlight(b)};ob.prototype.setDeActiveViews=function(){this.pointItemViews_.forEach(function(a,b){var c=this.pointItemViews_[b];if(c instanceof Yc){c.deactivateAll();c.setDetailActive(false)}else{c.setItemActive&&c.setItemActive(false);c.deActiveDetailRoute&&
c.deActiveDetailRoute()}},this)};ob.prototype.clickSelf_=function(a){if(this.hasClass("TransitRouteItem-DETAIL")){if(jQuery(a.target).hasClass("clickArea")){this.setDetail(false);n.click("route","go_public_innerdetail_close")}}else{this.setDetail(true);n.click("route","go_public_innerdetail")}a.stopPropagation()};ob.prototype.clickDetail_=function(a){if(this.getActive()){a.preventDefault();a.stopPropagation();this.setDetail(!this.detail_);this.detail_?n.click("route","go_public_innerdetail"):n.click("route",
"go_public_innerdetail_close")}};ob.prototype.createPointItem_=function(a,b){var c=null;if(a.action==U.DEPARTURE||a.action==U.ARRIVAL){c=new (require("view/StartEndPointItemView"))(a);c.onClick.add(function(){this.onPointClick.notify({index:b,sub:null})},this);c.onRoadview.add(function(){var b=a.roadview;Application.roadviewController.show(b);n.click("route","go_public_roadview");var c=Application.transitRouteSearchController.panel_.dssObject_;c&&b&&x.log("path_transit_click_roadview",c.q,{tab:c.tab,
mkey:c.mkey,cpg:c.cpg,qidx:c.qidx,panoid:b.panoId,wx:a.coords.getX().toFixed(0),wy:a.coords.getY().toFixed(0),region:Application.localInfoController.getHCodeForLog()})},this)}else{c=new Ve(a);c.onClick.add(function(){this.onPointClick.notify({index:b,sub:null})},this);c.onRoadview.add(function(){this.onRoadview.notify({index:b});n.click("route","go_public_roadview")},this);c.onOver.add(function(){this.onOver.notify({index:b,sub:null})},this);c.onOut.add(function(){this.onOut.notify({index:b,sub:null})},
this)}return c};ob.prototype.animationScroll=function(){var a=jQuery("#info\\.body").scrollTop(),b=a+(this.getPosition().y-98),a=Math.abs(b-a)*0.5;jQuery("#info\\.body").animate({scrollTop:b},a,function(){})};ob.prototype.setDetail=function(a){this.detail_=!!a;this.setClass("TransitRouteItem-DETAIL",this.detail_);this.removeClass("TransitRouteItem-OVER");this.detail_&&this.onDetail.notify();Application.windowController.onHeightChange.notify()};ob.prototype.setActive=function(a){a=i.prototype.setActive.call(this,
a);this.getActive()||this.setDetail(false);return a};ob.prototype.createWalkTimeTooltip_=function(a){return Array.prototype.map.call(a.children,function(a){return a.className==="bar"?" | ":a.innerText}).join("")};za.NO_WAY_TRANSIT_METHOD_NAME=["\ubc84\uc2a4","\uc9c0\ud558\ucca0"," \ubc84\uc2a4 + \uc9c0\ud558\ucca0","\uc804\uccb4"];za.NO_WAY_INTER_TRANSIT_METHOD_NAME=["\uace0\uc18d.\uc2dc\uc678","\uae30\ucc28"," \ud56d\uacf5\uc73c","\uc5ec\uac1d\uc120\uc73c","\ucd94\ucc9c"];za.prototype.setData=function(a,
b){this.removeAllChildren();this.getCounts_(a,b);this.setTransitCountView_();this.setTransitRouteItem_(a,b)};za.prototype.setItems=function(){this.views_.forEach(function(a){a.setItems()})};za.prototype.getCounts_=function(a,b){var c={subway:0,bus:0,busandsubway:0,total:0},d={interbus:0,train:0,airplane:0,ferry:0,recommend:0,total:0};a.forEach(function(a){a.transType=="SUBWAY"?c.subway++:a.transType=="BUS"?c.bus++:c.busandsubway++;c.total++});b.forEach(function(a){var b=false;a.type.split(",").forEach(function(a){if(a==
"EXPRESS_BUS"||a=="INTERCITY_BUS"){if(!b){d.interbus++;b=true}}else a=="TRAIN"?d.train++:a=="AIRPLANE"?d.airplane++:a=="FERRY"&&d.ferry++});a.recommend&&d.recommend++;d.total++});return this.counts_={inner:c,outer:d,innerArr:[c.bus,c.subway,c.busandsubway,c.total],outerArr:[d.interbus,d.train,d.airplane,d.ferry,d.recommend,d.total]}};za.prototype.setTransitCountView_=function(){var a=this.counts_;this.removeClass("inoutroute");this.addChild(new i("h3","screen_out","\ub300\uc911\uad50\ud1b5 \uacbd\ub85c"));
var b=new i("div","TransitRouteTab");this.addChild(b);var c=[],c=[new i("li","list",[new i("a","","\uc2dc\ub0b4")]),new i("li","list",[new i("a","","\uc2dc\uc678")])];c[0].addClass("inboundtab");c[1].addClass("outboundtab");this.boundtablist_=new i("div","boundtabs");this.selectedBound_=new i("a","link_checked","\uc2dc\ub0b4");this.boundListPopup_=new fa("ul","list_bound",c);this.boundListPopup_.hide();this.boundtablist_.addChild(this.selectedBound_);this.boundtablist_.addChild(this.boundListPopup_);
b.addChild(this.boundtablist_);this.boundListPopup_.onHide.add(function(){this.selectedBound_.removeClass("link_checked-ACTIVE")},this);this.boundListPopup_.noCloseUIPanel(this.selectedBound_);this.selectedBound_.onClick.add(function(){this.boundListPopup_.hasClass("HIDDEN")?this.boundListPopup_.show():this.boundListPopup_.hide()},this);var d=[],d=[new i("li","list",[new i("a","",["\ubc84\uc2a4 ",new i("em","cnt",""+a.inner.bus)])]),new i("li","list",[new i("a","",["\uc9c0\ud558\ucca0 ",new i("em",
"cnt",""+a.inner.subway)])]),new i("li","list",[new i("a","",["\ubc84\uc2a4+\uc9c0\ud558\ucca0 ",new i("em","cnt",""+a.inner.busandsubway)])]),new i("li","list",[new i("a","",["\uc804\uccb4 ",new i("em","cnt",""+a.inner.total)])])];d[0].addClass("bustab");d[1].addClass("subwaytab");d[2].addClass("hybridtab");d[3].addClass("recommandtab");this.transitnumberlist_=new i("ul","transitnumberlist",[d[3],d[0],d[1],d[2]]);b.addChild(this.transitnumberlist_);var e=[],e=[new i("li","list",[new i("a","",["\uace0\uc18d.\uc2dc\uc678 ",
new i("em","cnt",""+a.outer.interbus)])]),new i("li","list",[new i("a","",["\uae30\ucc28 ",new i("em","cnt",""+a.outer.train)])]),new i("li","list",[new i("a","",["\ud56d\uacf5 ",new i("em","cnt",""+a.outer.airplane)])]),new i("li","list",[new i("a","",["\uc5ec\uac1d\uc120 ",new i("em","cnt",""+a.outer.ferry)])]),new i("li","list",[new i("a","",["\ucd94\ucc9c ",new i("em","cnt",""+a.outer.recommend)])])];e[0].addClass("interbustab");e[1].addClass("traintab");e[2].addClass("airplanetab");e[3].addClass("ferrytab");
e[4].addClass("recommendtab");this.intertransitnumberlist_=new i("ul","intertransitnumberlist",[e[4],e[0],e[1],e[2],e[3]]);b.addChild(this.intertransitnumberlist_);var f=new Mb;f.onChange.add(this.boundHandleMode_,this);c.forEach(function(a){f.add(a)});this.boundtabs_=f;var h=new Mb;h.onChange.add(this.handleMode_,this);d.forEach(function(a){h.add(a)});this.tabs_=h;var g=new Mb;g.onChange.add(this.interHandleMode_,this);e.forEach(function(a){g.add(a)});this.intertabs_=g;if(a.inner.total>0&&a.outer.total>
0){this.addClass("inoutroute");if(this.currentBoundTab_==0){this.transitnumberlist_.show();this.intertransitnumberlist_.hide();this.selectedBound_.setText("\uc2dc\ub0b4")}else{this.transitnumberlist_.hide();this.intertransitnumberlist_.show();this.selectedBound_.setText("\uc2dc\uc678")}this.intertransitnumberlist_.addClass("withTabs");d[this.currentTab_].setActive(true);e[this.currentInterTab_].setActive(true)}else if(a.inner.total>0){this.currentBoundTab_=0;this.boundtablist_.hide();this.intertransitnumberlist_.hide();
d[this.currentTab_].setActive(true);this.selectedBound_.setText("\uc2dc\ub0b4")}else if(a.outer.total>0){this.currentBoundTab_=1;this.boundtablist_.hide();this.transitnumberlist_.hide();e[this.currentInterTab_].setActive(true);this.selectedBound_.setText("\uc2dc\uc678")}a=new i("a","tranitViaInfoCloser",["\ub2eb\uae30"]);a.onClick.add(function(){this.transitViaInfo_.hide()},this);this.transitViaInfo_=new i("div","transitInfo",[new i("p","",["\ub300\uc911\uad50\ud1b5 \uae38\ucc3e\uae30\uc5d0\uc11c\ub294 \uacbd\uc720\uc9c0\uac00 \ud3ec\ud568\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]),
a]);this.addChild(this.transitViaInfo_)};za.prototype.setViaInfoVisible=function(a){this.transitViaInfo_.setVisible(a)};za.prototype.setItemActive=function(a){this.routeItemListView_.forEach(function(a){a.setActive(false)});if(this.currentBoundTab_==0){this.routeItemListView_[this.defaultTabIndex_[a]].setActive(true);this.counts_.innerArr[a]==1&&this.routeItemListView_[this.defaultTabIndex_[a]].setDetail(true)}else{this.routeItemListView_[this.defaultInterTabIndex_[a]].setActive(true);this.counts_.outerArr[a]==
1&&this.routeItemListView_[this.defaultInterTabIndex_[a]].setDetail(true)}};za.prototype.boundHandleMode_=function(a,b){this.boundtablist_.setClass("inbound",a==0);this.boundtablist_.setClass("outbound",a==1);this.currentBoundTab_=a;if(a==0){this.notitime.hide();this.transitnumberlist_.show();this.intertransitnumberlist_.hide();this.handleMode_(this.currentTab_,true);this.tabs_.setActive(this.currentTab_);this.selectedBound_.setText("\uc2dc\ub0b4")}else{this.notitime.show();this.transitnumberlist_.hide();
this.intertransitnumberlist_.show();this.interHandleMode_(this.currentInterTab_,true);this.intertabs_.setActive(this.currentInterTab_);this.selectedBound_.setText("\uc2dc\uc678")}if(!b){var c="";switch(a){case 0:n.click("route","go_public_innercity");c="path_transit_tab_inlocal";this.dssObject_.tab=this.dssObject_.innerTab;break;case 1:n.click("route","go_public_intercity");c="path_transit_tab_interlocal";this.dssObject_.tab=this.dssObject_.outerTab}x.log(c,this.dssObject_.q,{tab:this.dssObject_.tab,
mkey:this.dssObject_.mkey,qidx:this.dssObject_.qidx})}this.boundListPopup_.hide();Application.windowController.onHeightChange.notify()};za.prototype.markLastItem=function(){var a=jQuery(this.transitTotalPanel_.element_);a.children("li.lst").removeClass("lst");a.children("li:visible:last").addClass("lst")};za.prototype.handleMode_=function(a,b){Application.infoWindowManager.close();this.transitnumberlist_.setClass("recommand",a==3);this.transitnumberlist_.setClass("bus",a==0);this.transitnumberlist_.setClass("subway",
a==1);this.transitnumberlist_.setClass("both",a==2);this.transitTotalPanel_.setClass("recommand",a==3);this.transitTotalPanel_.setClass("bus",a==0);this.transitTotalPanel_.setClass("subway",a==1);this.transitTotalPanel_.setClass("both",a==2);this.transitTotalPanel_.setClass("interRecommend",false);this.transitTotalPanel_.setClass("interBus",false);this.transitTotalPanel_.setClass("interTrain",false);this.transitTotalPanel_.setClass("interAirplane",false);this.transitTotalPanel_.setClass("interFerry",
false);setTimeout(this.markLastItem.bind(this),0);if(!b){switch(a){case 3:n.click("route","go_public_recommend");this.dssObject_.innerTab="all";break;case 0:n.click("route","go_public_bus");this.dssObject_.innerTab="bus";break;case 1:n.click("route","go_public_subway");this.dssObject_.innerTab="subway";break;case 2:n.click("route","go_public_bus_subway");this.dssObject_.innerTab="bs"}this.dssObject_.tab=this.dssObject_.innerTab;x.log("path_transit_tab",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,
qidx:this.dssObject_.qidx})}this.currentTab_=a;var c=this.defaultTabIndex_[a];if(c>=0){this.setItemActive(a);this.activeRouteItemIndex_=c}this.setFirstVisible_();this.onItem.notify(c);Application.windowController.onHeightChange.notify()};za.prototype.interHandleMode_=function(a,b){Application.infoWindowManager.close();this.intertransitnumberlist_.setClass("recommend",a==4);this.intertransitnumberlist_.setClass("interbus",a==0);this.intertransitnumberlist_.setClass("train",a==1);this.intertransitnumberlist_.setClass("airplane",
a==2);this.intertransitnumberlist_.setClass("ferry",a==3);this.transitTotalPanel_.setClass("recommand",false);this.transitTotalPanel_.setClass("bus",false);this.transitTotalPanel_.setClass("subway",false);this.transitTotalPanel_.setClass("both",false);this.transitTotalPanel_.setClass("interRecommend",a==4);this.transitTotalPanel_.setClass("interBus",a==0);this.transitTotalPanel_.setClass("interTrain",a==1);this.transitTotalPanel_.setClass("interAirplane",a==2);this.transitTotalPanel_.setClass("interFerry",
a==3);setTimeout(this.markLastItem.bind(this),0);if(!b){switch(a){case 0:n.click("route","go_public_expressbus");this.dssObject_.outerTab="express";break;case 1:n.click("route","go_public_train");this.dssObject_.outerTab="train";break;case 2:n.click("route","go_public_flight");this.dssObject_.outerTab="air";break;case 3:n.click("route","go_public_ship");this.dssObject_.outerTab="ship";break;case 4:n.click("route","go_public_recommend_inter");this.dssObject_.outerTab="recomm"}this.dssObject_.tab=this.dssObject_.outerTab;
x.log("path_transit_tab",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,qidx:this.dssObject_.qidx})}this.currentInterTab_=a;var c=this.defaultInterTabIndex_[a];c>=0&&this.setItemActive(a);this.activeRouteItemIndex_=c;this.notitime&&(this.counts_.outerArr[a]==0?this.notitime.hide():this.notitime.show());this.setInterFirstVisible_();this.onItem.notify(c);Application.windowController.onHeightChange.notify()};za.prototype.hideFooterBtns=function(){this.goToTopBtn&&this.goToTopBtn.hide();
this.fixRoutePanel&&this.fixRoutePanel.hide()};za.prototype.showFooterBtns=function(){this.goToTopBtn&&this.goToTopBtn.show();this.fixRoutePanel&&this.fixRoutePanel.show()};za.prototype.setFirstVisible_=function(){var a=["busOnly","subwayOnly","both","recommand"][this.currentTab_],b=this.transitTotalPanel_.toPane();b.find(".TransitRouteItem").removeClass("firstVisible");var c=null,c=this.currentTab_==3?b.find(".TransitRouteItem:eq(0)").addClass("firstVisible"):b.find("."+a+":eq(0)").addClass("firstVisible");
c[0]?this.transitTotalPanel_.show():this.transitTotalPanel_.hide()};za.prototype.setInterFirstVisible_=function(){var a=["hasInterBus","hasTrain","hasAirplane","hasFerry","isRecommend"][this.currentInterTab_],b=this.transitTotalPanel_.toPane();b.find(".TransitRouteItem").removeClass("firstVisible");var c=null,c=b.find("."+a+":eq(0)").addClass("firstVisible");c[0]?this.transitTotalPanel_.show():this.transitTotalPanel_.hide()};za.prototype.setTransitRouteItem_=function(a,b){var c=this.transitTotalPanel_=
new i("ul","TransitTotalPanel");this.defaultTabIndex_=[-1,-1,-1,0];this.defaultInterTabIndex_=[-1,-1,-1,-1,-1];var d=new Mb,e=a.map(this.createItemView_,this),f=e.length;this.views_=e=e.concat(b.map(function(a,b){return this.createInterItemView_(a,b+f)},this));var h=Application.flagSearchController.getWaypoints();e.forEach(function(a){d.add(a);c.addChild(a)});this.routeItemListView_=e;e="all";if(this.counts_.inner.total>0&&!this.currentBoundTab_)this.handleMode_(this.currentTab_,true);else if(this.counts_.outer.total>
0&&this.currentBoundTab_){this.interHandleMode_(this.currentInterTab_,true);e="recomm"}this.addChild(c);this.notitime=new i("div","notitime");this.notitime.setText("\uac01 \uc218\ub2e8\uc758 \uc6b4\ud589\uacbd\ub85c\uc640 \uc18c\uc694\uc2dc\uac04\uc740 \uc2e4\uc81c \uad50\ud1b5\uc0c1\ud669\uc5d0 \ub530\ub77c");this.notitime.addChild(new i("br"));this.notitime.addText("\ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc73c\ub2c8 \ucc38\uace0\uc6a9\uc73c\ub85c\ub9cc \uc0ac\uc6a9\ud574\uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");
this.addChild(this.notitime);this.currentBoundTab_!=1&&this.notitime.hide();var g=new i("div","info_top"),k=this.goToTopBtn=new i("a","link_top","\uc704\ub85c \uac00\uae30");k.hide();g.addChild(k);this.addChild(g);this.goToTopBtn.onClick.add(function(){i.$("info.body").scrollTo(0)},this);g=this.fixRoutePanel=new i("div","info_fixroute");this.addChild(g);var k=new i("a","link_fixroute"),l=new i("span");l.setHTML("\uae38\ucc3e\uae30 \uc815\ubcf4\uac00 \uc798\ubabb\ub418\uc5c8\ub098\uc694?<br/>\uc815\ubcf4 \uc218\uc815 \uc81c\uc548\uc740 \uc9c0\ub3c4 \ud488\uc9c8 \ud5a5\uc0c1\uc5d0 \ud070 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.");
g.addChild(l);g.addChild(k);k.onClick.add(function(){var a=this.activeRouteItemIndex_==-1,b=this.routeItemListView_[a?0:this.activeRouteItemIndex_].route_.raw_.obj_,c=this.currentBoundTab_==0?"public":"intercity";b.routeType=c;a&&(b={noResult:true,noResultData:{end:b.end,start:b.start,routeType:b.routeType},routeType:c,waypoint:h});Application.fiyFrameController.open({type:"route",rawInfo:b});n.click("route","go_public_fiy")},this);g=this.counts_.inner.total+","+this.counts_.inner.bus+","+this.counts_.inner.subway+
","+this.counts_.inner.busandsubway+","+this.counts_.outer.recommend+","+this.counts_.outer.interbus+","+this.counts_.outer.train+","+this.counts_.outer.airplane+","+this.counts_.outer.ferry;this.dssObject_={q:h.map(function(a){return a.name+"_"+Math.floor(a.coords.getX())+","+Math.floor(a.coords.getY())+"_"+(a.pointType=="PLACE"?a.id:"")}),cnt:g,innerTab:"all",outerTab:"recomm",mkey:this.mkey_,qidx:++this.dssQIndex_};this.dssObject_.tab=e;this.below_?x.log("search_path_transit",this.dssObject_.q,
{cnt:this.dssObject_.cnt,tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,qidx:this.dssObject_.qidx,btnid:this.below_}):x.log("search_path_transit",this.dssObject_.q,{cnt:this.dssObject_.cnt,tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,qidx:this.dssObject_.qidx});this.below_=""};za.prototype.setWalkItem=function(a,b){this.routeItemListView_[this.activeRouteItemIndex_].setTransitWalkItemView(a,b)};za.prototype.setActiveRouteItemView=function(a,b){this.routeItemListView_[this.activeRouteItemIndex_].setActiveItemView(a,
b)};za.prototype.setHighlightRouteItemView=function(a,b){this.routeItemListView_[this.activeRouteItemIndex_].setHighlightItemView(a,b)};za.prototype.setRouteDeActive=function(){this.activeRouteItemIndex_>-1&&this.routeItemListView_[this.activeRouteItemIndex_].setDeActiveViews()};za.prototype.toggleNoMethodRoute=function(a){if(a){a="";a=this.currentBoundTab_===0?za.NO_WAY_TRANSIT_METHOD_NAME[this.currentTab_]:za.NO_WAY_INTER_TRANSIT_METHOD_NAME[this.currentInterTab_];if(this.noMethodResultPanel_)this.noMethodResultPanel_.setTitle(ma.getTransitMethodTitle(a));
else{var b=Application.flagSearchController.getWaypoints();this.noMethodResultPanel_=ma.createTransitMethod(a,b);jQuery("#info\\.flagsearch").append(this.noMethodResultPanel_.getElement())}}else if(this.noMethodResultPanel_){jQuery(this.noMethodResultPanel_.getElement()).remove();this.noMethodResultPanel_=null}};za.prototype.getModeIndex=function(){return this.currentTab_};za.prototype.getInterModeIndex=function(){return this.currentInterTab_};za.prototype.getBoundModeIndex=function(){return this.currentBoundTab_};
za.prototype.setModeIndex=function(a){this.currentTab_=a==null?3:a};za.prototype.setInterModeIndex=function(a){this.currentInterTab_=a==null?4:a};za.prototype.setBoundModeIndex=function(a){this.currentBoundTab_=a==null?0:a};za.prototype.setActiveRouteItem=function(){this.routeItemListView_[this.activeRouteItemIndex_].setDetail(true)};za.prototype.createItemView_=function(a,b){var c=new ob(a);c.onWrapOver.add(function(){this.onWrapOver.notify({index:b,type:"inner"})},this);c.onWrapOut.add(function(){this.onWrapOut.notify(b)},
this);c.onOver.add(function(a){this.onOver.notify(a)},this);c.onOut.add(function(a){this.onOut.notify(a)},this);c.onDestination.add(function(a){this.onDestination.notify(a)},this);c.onClick.add(function(){if(this.activeRouteItemIndex_!=b){this.onItem.notify(b);this.activeRouteItemIndex_=b}},this);c.onWalkDetail.add(function(a){this.onWalkDetail.notify(a)},this);c.onPointClick.add(function(a){this.onPointClick.notify(a);if(this.dssObject_){a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg=
"1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1);x.log("path_transit_click_node",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);c.onRoadview.add(function(a){this.onRoadview.notify(a)},this);c.onDetail.add(function(){this.onItemDetail.notify();this.views_[b].setItems();if(this.dssObject_){var a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1);x.log("path_transit_click",
this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);var d="both",e=2;if(a.transType=="SUBWAY"){d="subwayOnly";e=1}else if(a.transType=="BUS"){d="busOnly";e=0}c.addClass(d);this.defaultTabIndex_[e]<0&&(this.defaultTabIndex_[e]=b);return c};za.prototype.createInterItemView_=function(a,b){var c=new Tb(a);c.onWrapOver.add(function(){this.onWrapOver.notify({index:b,type:"outer"})},this);c.onWrapOut.add(function(){this.onWrapOut.notify(b)},
this);c.onOver.add(function(a){this.onOver.notify(a)},this);c.onOut.add(function(a){this.onOut.notify(a)},this);c.onDestination.add(function(a){this.onDestination.notify(a)},this);c.onClick.add(function(){if(this.activeRouteItemIndex_!=b){this.onItem.notify(b);this.activeRouteItemIndex_=b}},this);c.onWalkDetail.add(function(a){this.onWalkDetail.notify(a)},this);c.onPointClick.add(function(a){this.onPointClick.notify(a);if(this.dssObject_){a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg=
"1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1-this.counts_.inner.total);x.log("path_transit_click_node",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);c.onDetail.add(function(){this.onItemDetail.notify();this.views_[b].setItems();if(this.dssObject_){var a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1-this.counts_.inner.total);x.log("path_transit_click",
this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);c.onDetailBtnForLog.add(function(){if(this.dssObject_){var a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1-this.counts_.inner.total);x.log("path_transit_click_node",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);c.onChildPointClick.add(function(a){this.onChildPointClick.notify(a);
if(this.dssObject_){a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1-this.counts_.inner.total);x.log("path_transit_click_node_node",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);a.type.split(",").forEach(function(a){var e="hasInterBus",f=0;if(a=="TRAIN"){e="hasTrain";f=1}else if(a=="AIRPLANE"){e="hasAirplane";f=2}else if(a=="FERRY"){e="hasFerry";
f=3}c.addClass(e);this.defaultInterTabIndex_[f]<0&&(this.defaultInterTabIndex_[f]=b)},this);if(a.recommend){c.addClass("isRecommend");this.defaultInterTabIndex_[4]<0&&(this.defaultInterTabIndex_[4]=b)}return c};za.prototype.setMkey=function(a){this.mkey_=a};define("view/TransitRouteResultView",[],L(za));Qb.prototype.getPanel=function(){console.assert(this.panel_.getElement);return this.panel_};define("view/WalkthroughView",["options"],L(function(a){var b=H("WalkthroughView",{signInUrl:require("url").SIGNIN,
signInUrl:require("url").SIGNUP}),c=jQuery("#dimmedLayer"),d=b.$("list_slide"),e=b.$("paging"),f=b.$("prevButton"),h=b.$("nextButton"),g=b.$("closeButton"),i=b.$("startButton"),l=b.$("signInButton"),j=b.$("signUpButton"),n=this.onClose=new m,p=-1,o=function(a){a&&a.preventDefault();this.hide()}.bind(this),s=function(){jQuery(e.getElement()).on("click","a",function(a){a.preventDefault();this.setPage(jQuery(a.currentTarget).index())}.bind(this));g.on("click",o);f.on("click",this.prev.bind(this));h.on("click",
this.next.bind(this));jQuery(b.getElement()).on("click",".btn_go, .btn_pass",function(a){a.preventDefault();this.next()}.bind(this));i.on("click",o);j.on("click",function(){B.location.href=require("url").SIGNUP});l.on("click",function(){B.location.href=a.loginUrl+require("url").MAP_DAUM_NET})};this.next=function(){this.setPage(Math.min(p+1,4))};this.prev=function(){this.setPage(Math.max(p-1,0))};this.show=function(a,e){var f=(a?1:0)+(e?1:0);s.call(this);for(var g=jQuery(d.getElement()).find("li"),
h=4;h<7;h++)h!==4+f?jQuery(g[h]).addClass("HIDDEN"):jQuery(g[h]).removeClass("HIDDEN");this.setPage(0);c.removeClass("HIDDEN");c.after(b.getElement());c.on("click",o);jQuery.cookie("walkthrough",true,{expires:3650})};this.hide=function(){jQuery(b.getElement()).remove();c.addClass("HIDDEN");c.off("click",o);n.notify()};this.setPage=function(a){a=Math.max(Math.min(a,4),0);if(a!==p){var b=e.children();p>-1&&jQuery(b[p]).replaceWith('<a href="#" class="img_slide link_paging">'+p+"</a>");p=a;jQuery(b[p]).replaceWith('<span class="img_slide link_paging">'+
p+"</span>");d.css("left",-(562*p)+"px");if(p===0){f.hide();h.show()}else if(p===4){f.show();h.hide()}else{f.show();h.show()}}};this.getCurrentPage=function(){return p}}));define("view/WaypointBoxView",["view/WaypointInputView"],function(a){function b(b,d){ga(this,i,"div","WaypointBoxView");this.setValue=function(a){this.valueBox_.setValue(a)};this.setSuggest=function(){this.inputView_&&this.inputView_.setSuggest()};this.idx_=b;this.onEnter.add(this.onEnter_,this);this.onLeave.add(this.onLeave_,this);
var e=new i("div","dragArea"),f=this.title_=new i("span","title");e.addChild(f);this.addChild(e);e=this.waypointWindow_=new i("div","waypointWindow");f=this.valueBox_=new i("input","valueBox");f.setReadonly(true);f.onClick.add(this.clickBox_,this);e.addChild(f);this.inputView_=a.create(b,e);this.inputView_.addFocus(function(){this.addClass("WaypointBoxView-ACTIVE")},this);this.inputView_.addBlur(function(){this.removeClass("WaypointBoxView-ACTIVE")},this);this.addChild(e);this.addBtn_=this.removeBtn_=
null;if(b===0){this.addClass("origin");this.title_.addClass("origin");this.valueBox_.setPlaceholder("\ucd9c\ubc1c\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694")}else if(d){this.addClass("dest");this.title_.addClass("dest");this.valueBox_.setPlaceholder("\ub3c4\ucc29\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694")}else{this.addClass("via");this.title_.addClass("via");f=this.removeBtn_=new i("button","btn_roadsearch remove","\uacbd\uc720\uc9c0 \uc0ad\uc81c");f.addClass("IR");e.addChild(f);f.onClick.add(function(){if(!Application.isLoadingViewShow){n.click("route",
"route_via_delete");this.onRemove.notify(this)}},this);this.valueBox_.setPlaceholder("\uacbd\uc720\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694")}this.onSearch=new m;this.onRemove=new m}b.prototype.onEnter_=function(){this.addClass("WaypointBoxView-HOVER")};b.prototype.onLeave_=function(){this.removeClass("WaypointBoxView-HOVER")};b.prototype.setDisabled=function(a){this.removeBtn_.getElement().disabled=a;this.valueBox_.getElement().disabled=a};b.prototype.setPlaceholderBox=function(a){this.valueBox_.setPlaceholder(a)};
b.prototype.focusInput=function(){this.getVisible()&&this.clickBox_()};b.prototype.clickBox_=function(){this.inputView_.activate(this.idx_,this.valueBox_.getValue(),this.waypointWindow_,function(a,b){if(a&&b=="submit"){this.onSearch.notify({view:this,keyword:a});this.valueBox_.setValue(a)}}.bind(this))};return b});define("view/WaypointInputView","jquery url manager/MapSuggest controller/HistoryController controller/FavoriteController util/searchSuggest".split(" "),function(a,b,c,d,e,f){function h(g,
h){function i(a){if(!p.is(a.target)&&!p.has(a.target).length){o.blur();p.hide().parent().css("position","relative");v(o.val())}}function j(){focus();p.hide().parent().css("position","relative");a("body").off("mousedown",i)}function r(){j();v&&v(o.val(),"submit")}var p=a('<form class="WaypointInput HIDDEN"><input id="info.route.waypointSuggest.input'+g+'" title="\uac80\uc0c9\uc5b4 \uc785\ub825" class="input" type="text" autocomplete="off"/><input class="submit" type="submit" value=""><blockquote id="info.route.waypointSuggest.input'+
g+'Suggest" class="inputSuggest"></blockquote></form>').appendTo(h),o=p.find("input.input"),s=new m,t=new m,u=null,q=null;o.on("focus",function(){s.notify()});o.on("blur",function(){t.notify();q.hide()});o.on("mousedown",function(a){(u.getView().is(":visible")||o.val()!=="")&&a.stopPropagation()});o.on("mouseup",function(a){a.stopPropagation()});p.submit(function(a){a.preventDefault();r()});var v=null;this.activate=function(b,c,d,e){waypointIdx=b;v=e;p.appendTo(d).show().parent().css("position","relative");
o.val(c).focus().select();a("body").mousedown(i)};this.addFocus=function(a,b){s.add(a,b||this)};this.addBlur=function(a,b){t.add(a,b||this)};this.hide=function(){j()};this.setSuggest=function(){q=new c({type:"waypoint",id:"info.route.waypointSuggest.input"+g,category:"all",url:b.SUGGEST_ROUTE+(/\?/.test(b.SUGGEST_ROUTE)?"&":"?")+"cate=all",onSubmit:r,onSubmitHistory:function(a){a.trigger("click")},itemParser:function(a){var a=f.getSuggestItem(a),b=a.value;if(a.type=="busstop"){b=b+"("+a.region+")";
html=String.format('%s <span style="color:#ddd">|</span> <span style="color:#aaa">%s</span>',b,a.name)}else html=String.format("%h",b);return[html,b]},logCallback:function(a){var b=jQuery(".WaypointBoxView").length;(b=waypointIdx==0?"routesuggest_start":waypointIdx==b-1?"routesuggest_end":null)&&n.click("suggest",b,{param1:a.join("|")})}});var a=function(a){var b=jQuery(".WaypointBoxView").length-1,c=new daum.maps.Coords(a.x,a.y),d=a.type?a.type.toUpperCase():"",e=a.itemid||a.key;waypointIdx==0?Application.flagSearchController.setOrigin(c,
a.name,e,d):waypointIdx==b?Application.flagSearchController.setDestination(c,a.name,e,d):Application.flagSearchController.setVia(c,a.name,e,waypointIdx,d)};u=new Mc(d,d.POI_TYPE,q);u.onItemClick.add(a);(new Nf(e,q.getFavoriteTarget())).onItemClick.add(a)}}return{create:function(a,b){return new h(a,b)}}});return main}(this);